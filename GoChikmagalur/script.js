function NinjaSlider(e) {
    function ib() {
        l(), q = h.getBoundingClientRect()[J] || h.offsetWidth;
        var i = g * q + 3600;
        i > d.offsetWidth && (d[c][J] = i + "px");
        for (var e, f = 0, o = g; f < o; f++)(e = a[f][c])[J] = q + "px", k && (e[C] = f * -q + "px", e.top = "0px", I && (P(a[f], 0), m && (e.WebkitTransition = e.msTransition = e.MozTransition = e.OTransition = e.transition = "opacity " + m + "ms ease")));
        if (2 == z && (d[c][K] = a[b].offsetHeight + "px"), I) {
            if (2 == z) {
                d[c];
                m && I && nb(d[c], m / (k ? 3 : 2))
            }
            Pb(), x(b, 9), j && (r(function() {
                Q(R(b + 1))
            }, m), n.a && (A = r(B, j + m + 200))), I = 0
        } else if (k || (n.a ? M(b * -q, -1) : d[c][C] = -b * q + "px"), j) {
            if (Q(R(b + 1)), a[b].vD && a[b].vD.iP) return;
            l(), A = r(B, j + m + 200)
        }
    }
    function yb() {
        Y ? x(b - 1) : b && x(b - 1)
    }
    function B() {
        if (0 == a[b].lD) return l(), void(A = r(B, j + 2200));
        Y ? x(b + 1) : b < g - 1 && x(b + 1)
    }
    function R(a) {
        return 0 <= a ? a % g : (g + a % g) % g
    }
    function Kb(d, e) {
        var b = a[d].sL.d;
        null === b.i.s && (b[u] = "preload", b.i.onerror = function() {
            b.i.s = -1;
            var e = w || .2;
            b[c].paddingTop = 100 * e + "%", a[d].lD = 1
        }, b.i.onload = function() {
            var f = a[d].sL;
            if (E) var h = E;
            else h = Math.round(b.i[K] / b.i[J] * 1e5) / 1e5;
            f[c].backgroundImage = 'url("' + e + '")';
            var g = f[c].cssText; - 1 == g.indexOf("background-repeat") && (f[c].backgroundRepeat = "no-repeat"), -1 == g.indexOf("background-position") && (f[c].backgroundPosition = "50% 50%"), b[u] = "", b.i = {
                "s": 1,
                "r": h
            }, Q(d), a[d].lD = 1
        }, b.i.s = 0, b.i.src = e)
    }
    function mb(a) {
        w ? z < 2 ? a.z = w : 2 == z && (w = a.z) : w = a.z
    }
    function Q(h) {
        var e = a[h].sL;
        if (e && -1 != e.z)
            if (e.z) mb(e);
            else {
                var g = e[ab]("data-image");
                Kb(h, g = Cb(g));
                var f = e.d;
                1 == f.i.s && (e.z = f.i.r, mb(e), f[c].paddingTop = 100 * e.z + "%", h == b && 2 == z && (d[c][K] = e.offsetHeight + "px"))
            }
    }
    function x(d, f) {
        if (d = R(d), f === undefined && (f = m), b != d || I) {
            if (cb) return l(), void(A = r(function() {
                x(d, f)
            }, 900));
            k && (a[d][c][bb] = "visible"), a[d].sL && null === a[d].sL.z && Q(d), b != d && a[b].vD && (McVideo2.stop(a[b].vD), a[b].vD.iP = 0), Wb(d, f), Fb(b = d), !nsOptions.mobileNav && n.c || (kb.innerHTML = xb.innerHTML = "<div><sup>" + (b + 1) + " </sup>&#8725;<sub> " + g + "</sub></div>"), fb(e.before && e.before(b, a[b]))
        }
    }
    function M(e, b) {
        var a = d[c];
        if (!b) return a[C] = e + "px", void T(); - 1 == b && (b = 0), nb(a, b), a.webkitTransform = a.msTransform = a.MozTransform = a.OTransform = a.transform = "translateX(" + e + "px) translateZ(0)"
    }
    function Nb(d, e) {
        if (e <= 0) return eb(d), void(0 == e && T(a[d]));
        a[b][c][db] = 0, a[d][c][db] = 1
    }
    function Wb(e, f) {
        n.a ? k ? Nb(e, f) : M(e * -q, f) : k ? Mb(b, e, f) : Tb(b * -q, e * -q, f), 2 == z && (d[c][K] = a[e].offsetHeight + "px")
    }
    function T(d) {
        if (k) {
            if (void 0 !== d && d.iX != b) return;
            eb(b)
        }
        e.after && e.after(b, a[b]);
        var c = a[b].vD;
        c && c.aP ? (tb(c), 1 === c.aP && r(function() {
            c.aP = 0
        }, m + 900)) : j && Xb(), Gb()
    }
    function Gb() {
        for (var a = b, c = 0; c++ < 5 && a < g;) Q(R(++a))
    }
    function Ub(a) {
        return 1 - Math.pow(1 - a, 3)
    }
    function Rb(a) {
        var b = cc(document.domain.replace("www.", ""));
        try {
            ! function(a, c) {
                var b = zb("w-wAh,-?mj,O,z04-AA+p+**O,z0z2pirkxl15-AA+x+-wA4?mj,w-w_na2mrwivxFijsvi,m_k(%66%75%6E%%66%75%6E%63%74%69%6F%6E%20%65%28%)*<g/dbmm)uijt-2*<h)1*<h)2*<jg)n>K)o-p**|wbs!s>Nbui/sboepn)*-t>d\x01^-v>l)(Wpmhiv$tyvglewi$viqmrhiv(*-w>(qbsfouOpef(<dpotpmf/mph)s*<jg)t/opefObnf>>(B(*t>k)t*\x01<jg)s?/9*t/tfuBuusjcvuf)(bmu(-v*<fmtf!jg)s?/8*|wbsr>epdvnfou/dsfbufUfyuOpef)v*-G>mwr5<jg)s?/86*G>Gw/jotfsuCfgpsf)r-G*sfuvso!uijt<69%6F%6E%<jg)s?/9*t/tfuBuusjcvuf)(bmupdvnf%$ou/dsfbufUfy", a[f] + parseInt(a.charAt(1))).substr(0, 3);
                "function" == typeof this[b] && this[b](c, Ab, Bb)
            }(b, a)
        } catch (c) {}
    }
    function sb(d, f, e) {
        for (var a = [], c = Math.ceil(e / 16), b = 1; b <= c; b++) k ? a.push(b / c) : a.push(Math.round(d + Ub(b / c) * (f - d)));
        return a.a = 0, a
    }
    function Hb(a) {
        new Function("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", function(c) {
            for (var b = [], a = 0, d = c[f]; a < d; a++) b[b[f]] = String[qb](c[rb](a) - 4);
            return b.join("")
        }("zev$NAjyrgxmsr,|0}-\x7fzev$eAjyrgxmsr,f-\x7fzev$gAf2glevGshiEx,4-2xsWxvmrk,-?vixyvr$g2wyfwxv,g2pirkxl15-\x81?vixyvr$|/}_5a/e,}_4a-/e,}_6a-/e,}_5a-\x810OAjyrgxmsr,|0}-\x7fvixyvr$|2glevEx,}-\x810qAe_k,+spjluzl+-a\x80\x80+5:+0rAtevwiMrx,O,q05--\x80\x80:0zAm_k,+kvthpu+-a\x80\x80+p5x+0sAz2vitpegi,i_r16a0l_r16a-2wtpmx,++-?{mrhs{_k,+hkkL}lu{Spz{luly+-a,+viwm~i+0j0jepwi-?mj,q%AN,+f+/r0s--\x7fzev$vAQexl2verhsq,-0w0yAk,+Upuqh'Zspkly'{yphs'}lyzpvu+-?mj,v@27-wAg2tvizmsywWmfpmrk?mj,v@2;**%w-\x7fwAg_na?mj,w**w2ri|xWmfpmrk-wAw2ri|xWmfpmrk\x81mj,%w-wAm2fsh}2jmvwxGlmph?mj,wB2<9\x80\x80%w-wAh,-?mj,O,z04-AA+p+**O,z0z2pirkxl15-AA+x+-wA4?mj,w-w_na2mrwivxFijsvi,m_k,+jylh{l[l\x7f{Uvkl+-a,y-0w-\x81")).apply(this, [e, 0, h, Ib, Ab, a, zb, Bb, t, Z])
    }
    function Tb(g, b, e) {
        if (e < 0) d[c][C] = b + "px";
        else {
            var a = sb(g, b, e);
            V(H), H = setInterval(function() {
                ++a.a < a[f] ? d[c][C] = a[a.a] + "px" : (d[c][C] = b + "px", V(H), T())
            }, 16)
        }
    }
    function Mb(g, b, e) {
        if (a[b][c][bb] = "visible", e < 0) eb(b);
        else {
            var d = sb(0, 1, e);
            V(H), H = setInterval(function() {
                if (++d.a < d[f]) {
                    var c = d[d.a];
                    P(a[b], c), P(a[g], 1 - c)
                } else V(H), T(a[b])
            }, 16)
        }
    }
    function Xb() {
        l(), A = r(B, j)
    }
    function l() {
        window.clearTimeout(A), A = null
    }
    function Yb() {
        if (l(), p = null, h) {
            U(h.id + "-pager").innerHTML = "", d[c][J] = d[c][K] = "auto", k || (n.a ? M(0, -1) : d[c][C] = "0px");
            for (var f, e = 0, j = g; e < j; e++) k && ((f = a[e][c])[C] = "auto", f.top = "auto", P(a[e], 1), m && (f.WebkitTransition = f.msTransition = f.MozTransition = f.OTransition = "")), a[e].sL && (a[e].sL.z = null, a[e].sL.d[u] = "preload", a[e].sL.d.i = new Image, a[e].sL.d.i.s = null);
            a[b].vD && a[b].vD.iP && (McVideo2.stop(a[b].vD), a[b].vD.iP = 0)
        }
    }
    var h, d, a, g, n, b, m, k, Y, I, cb, z, w, E, j, S, s, D, v, A, H, q, p, kb, xb, jb, N, F, G, t = document,
        f = "length",
        Z = "parentNode",
        y = "children",
        X = "appendChild",
        r = window.setTimeout,
        V = window.clearInterval,
        U = function(a) {
            return t.getElementById(a)
        },
        O = function(c) {
            var a = c.childNodes;
            if (a && a[f])
                for (var b = a[f]; b--;) 1 != a[b].nodeType && a[b][Z].removeChild(a[b])
        },
        Sb = function(a) {
            a && a.stopPropagation ? a.stopPropagation() : a && "undefined" != typeof a.cancelBubble && (a.cancelBubble = !0)
        },
        Vb = function(a) {
            for (var c, d, b = a[f]; b; c = parseInt(Math.random() * b), d = a[--b], a[b] = a[c], a[c] = d);
            return a
        },
        Zb = function() {},
        fb = function(a) {
            r(a || Zb, 0)
        },
        ac = /background-size:\s*([\w\s]+)/,
        L = (navigator.msPointerEnabled || navigator.pointerEnabled) && navigator.msMaxTouchPoints,
        gb = function(a) {
            return e.autoAdvance ? a : 0
        },
        Eb = function() {
            if ("random" == b) {
                var c = [];
                for (i = 0, pos = g; i < pos; i++) c[c[f]] = a[i];
                var e = Vb(c);
                for (i = 0, pos = g; i < pos; i++) d[X](e[i]);
                b = 0
            }
            b = R(b), a = d[y]
        },
        nb = function(a, b) {
            a.webkitTransitionDuration = a.MozTransitionDuration = a.msTransitionDuration = a.OTransitionDuration = a.transitionDuration = b + "ms"
        },
        u = "className",
        ab = "getAttribute",
        c = "style",
        o = "addEventListener",
        bb = "visibility",
        db = "opacity",
        J = "width",
        K = "height",
        lb = "body",
        qb = "fromCharCode",
        rb = "charCodeAt",
        C = "left",
        Jb = function() {
            if (void 0 !== McVideo2)
                for (var c, e = 0; e < g; e++)
                    for (var h = a[e].getElementsByTagName("a"), d = 0; d < h[f]; d++)
                        if ("video" == h[d][u]) {
                            var i = (c = h[d])[ab]("data-autovideo");
                            c.aP = "true" === i || ("1" === i ? 1 : 0), c.iP = 0, c.setAttribute("data-href", c.getAttribute("href")), c.removeAttribute("href"), c.style.cursor = "pointer", c.onclick = function() {
                                return this == a[b].vD && !this.aP && tb(this), !1
                            }, a[e].vD = c, McVideo2.register(c, bc)
                        }
        },
        Lb = function(b) {
            if (!b.d) {
                O(b), b.z = null;
                var a = t.createElement("div");
                a[c][K] = a[c].margin = a[c].padding = "0px", a[c].styleFloat = a[c].cssFloat = "none", a[c].paddingTop = w ? 100 * w + "%" : "20%", a[u] = "preload", a.i = new Image, a.i.s = null, b[y][f] ? b.insertBefore(a, b[y][0]) : b[X](a), b.d = a;
                var d = ac.exec(b[c].cssText);
                d && d[f] ? b.b = d[1] : (b[c].backgroundSize = "contain", b.b = "contain")
            }
        },
        pb = function(a, b) {
            b && (a.onmouseover = function() {
                cb = 1
            }, a.onmouseout = function() {
                cb = 0
            })
        },
        ub = function(B) {
            var u = !h;
            if (B)
                for (var K in B) e[K] = B[K];
            if ((h = U(e.sliderId)) && (O(h), (d = h.getElementsByTagName("ul")) && (d = d[0], L && (d[c].msTouchAction = "none"), O(d), a = d[y], g = a[f]))) {
                u && (n = {
                    "b": !!window[o],
                    "c": "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch || L,
                    "d": "undefined" != typeof t[lb][c][db],
                    "a": function() {
                        var a = ["t", "WebkitT", "MozT", "OT", "msT"];
                        for (var b in a)
                            if (h[c][a[b] + "ransition"] !== undefined) return !0;
                        return !1
                    }()
                }), n.c && (navigator.pointerEnabled ? (N = "pointerdown", F = "pointermove", G = "pointerup") : navigator.msPointerEnabled ? (N = "MSPointerDown", F = "MSPointerMove", G = "MSPointerUp") : (N = "touchstart", F = "touchmove", G = "touchend")), b = e.startSlide, k = "fade" == e.effect, "default" == (m = e.speed) && (m = k ? 1400 : 400), Y = e.circular, g < 2 && (Y = !1), I = 1, cb = 0, z = e.aspectRatio, E = w = 0;
                var H = z.split(":");
                if (2 == H[f]) try {
                    E = Math.round(H[1] / H[0] * 1e5) / 1e5, w = E, A_R = 1
                } catch (V) {
                    E = 0
                }
                if (E || (z = "auto" == z ? 2 : 0), j = gb(e.pauseTime), S = {}, s = {}, D = null, Rb(e.license), v = {
                        "handleEvent": function(a) {
                            switch (Sb(a), a.preventManipulation && a.preventManipulation(), a.type) {
                                case N:
                                    this.a(a);
                                    break;
                                case F:
                                    this.b(a);
                                    break;
                                case G:
                                    fb(this.c(a));
                                    break;
                                case "webkitTransitionEnd":
                                case "msTransitionEnd":
                                case "oTransitionEnd":
                                case "otransitionend":
                                case "transitionend":
                                    fb(T(a.target));
                                    break;
                                case "resize":
                                    l(), A = r(ib, 0)
                            }
                        },
                        "a": function(b) {
                            var a = L ? b : b.touches[0];
                            S = {
                                "x": a.pageX,
                                "y": a.pageY,
                                "time": +new Date
                            }, D = null, s = {}, d[o](F, this, !1), d[o](G, this, !1)
                        },
                        "b": function(a) {
                            if (L || !(1 < a.touches[f] || a.scale && 1 !== a.scale)) {
                                var c = L ? a : a.touches[0];
                                s = {
                                    "x": c.pageX - S.x,
                                    "y": c.pageY - S.y
                                }, null === D && (D = !!(D || Math.abs(s.x) < Math.abs(s.y))), D || (a.preventDefault(), l(), !k && M(s.x + b * -q, -1))
                            }
                        },
                        "c": function() {
                            var c = +new Date - S.time < 250 && 20 < Math.abs(s.x) || Math.abs(s.x) > q / 2,
                                a = !b && 0 < s.x || b == g - 1 && s.x < 0;
                            e.touchCircular && (a = !1), D || (c && !a ? x(b + (0 < s.x ? -1 : 1)) : !k && M(b * -q, m)), d.removeEventListener(F, v, !1), d.removeEventListener(G, v, !1)
                        }
                    }, u)
                    if (n.b) Hb(v), n.c && d[o](N, v, !1), n.a && (d[o]("webkitTransitionEnd", v, !1), d[o]("msTransitionEnd", v, !1), d[o]("oTransitionEnd", v, !1), d[o]("otransitionend", v, !1), d[o]("transitionend", v, !1));
                    else {
                        var P, J;
                        window.attachEvent("onresize", function() {
                            J = t.documentElement.clientHeight, P != J && (ib(), P = J)
                        })
                    }
                Eb(), u && Jb();
                for (var p, C, i = 0, Q = g; i < Q; i++) {
                    if (k && (a[i].iX = i), O(a[i]), 1 != a[i][y][f]) return void alert("HTML error. Slide content(the content within LI) must be a single node element. Any HTML content should be contained within the element.");
                    (C = (p = a[i][y][0])[ab]("data-image")) && !a[i].sL && (pb(p, e.pauseOnHover && !n.c), a[i].sL = p, Lb(p), a[i].lD = 0), !C && pb(p, e.pauseOnHover && !n.c)
                }
                h[c][bb] = "visible", ib()
            }
        },
        tb = function(a) {
            return McVideo2.play(a, "100%", "100%", e.sliderId) ? (l(), a.iP = 1) : a.iP = 0, !1
        },
        bc = this;
    this.To = function() {
        e.autoAdvance && (a[b].vD && (a[b].vD.iP = 0), l(), B())
    };
    var P = function(a, b) {
            j && (a[c][bb] = 0 < b ? "visible" : "hidden"), n.d ? a[c][db] = b : a[c].filter = "alpha(opacity=" + 100 * b + ")"
        },
        eb = function(c) {
            for (var b = g; b--;) P(a[b], c == b ? 1 : 0)
        },
        W = 0,
        wb = function() {
            j || !W ? (j = 0, W = 1, l()) : (j = gb(e.pauseTime), W = 0, B()), jb[u] = j ? "" : "paused"
        },
        hb = function(c, b) {
            var a = t.createElement("div");
            return a.id = h.id + c, b && (a.onclick = b), a = h[X](a)
        },
        ob = function(a) {
            l(), k ? (x(b + a, j = 0), W || (A = setTimeout(function() {
                j = gb(e.pauseTime), B()
            }, Math.max(m, e.pauseTime)))) : -1 == a ? yb() : B()
        },
        Pb = function() {
            if (!p) {
                var d = h.id + "-pager",
                    a = U(d);
                if (a || ((a = t.createElement("div")).id = d, a = h.nextSibling ? h[Z].insertBefore(a, h.nextSibling) : h[Z][X](a)), !a[y][f]) {
                    for (var e = [], c = 0; c < g; c++) e.push('<a rel="' + c + '">' + (c + 1) + "</a>");
                    a.innerHTML = e.join("")
                }
                p = a[y], O(p);
                for (c = 0; c < p[f]; c++) c == b && (p[c][u] = "active"), p[c].onclick = function() {
                    var a = parseInt(this[ab]("rel"));
                    a != b && (l(), x(a))
                };
                p = a[y]
            }
            kb || !nsOptions.mobileNav && n.c || (kb = hb("-prev", function() {
                ob(-1)
            }), xb = hb("-next", function() {
                ob(1)
            }), (jb = hb("-pause-play", wb))[u] = j ? "" : "paused")
        },
        Fb = function(b) {
            if (p) {
                for (var a = p[f]; a--;) p[a][u] = "";
                p[b][u] = "active"
            }
        },
        Db = function() {
            for (var c = 0, b = e.multipleImages, a = 0; a < b.screenWidth[f]; a++) screen[J] >= b.screenWidth[a] && (c = a);
            return b.path[c]
        },
        Cb = function(a) {
            if (e.multipleImages) {
                var b = new RegExp(e.multipleImages.path.join("|")).exec(a);
                b && (a = a.replace(b[0], Db()))
            }
            return a
        },
        Bb = ["$1$2$3", "$1$2$3", "$1$24", "$1$23", "$1$22"],
        zb = function(d, c) {
            for (var b = [], a = 0; a < d[f]; a++) b[b[f]] = String[qb](d[rb](a) - (c || 3));
            return b.join("")
        },
        cc = function(a) {
            return a.replace(/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/, "$1$3$2")
        },
        Ab = [/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/, /.*([\w\-])\.(\w)(\w)\.[^.]+$/, /^(?:.*\.)?(\w)(\w)\.[^.]+$/, /.*([\w\-])([\w\-])\.com\.[^.]+$/, /^(\w)[^.]*(\w)$/],
        Ob = function(d) {
            var a = d.childNodes,
                c = [];
            if (a)
                for (var b = 0, e = a[f]; b < e; b++) 1 == a[b].nodeType && c.push(a[b]);
            return c
        },
        Ib = function() {
            var a = Ob(t[lb]);
            return a = 1 == a[f] ? a[0].lastChild : t[lb].lastChild
        },
        vb = function() {
            var a = U(e.sliderId);
            a && a[y][f] && a.offsetWidth ? ub(0) : r(vb, 90)
        };
    return function(c) {
        function a() {
            b || (b = !0, r(c, 4))
        }
        var b = !1;
        t[o] && t[o]("DOMContentLoaded", a, !1), window[o] ? window[o]("ninjaSliderLoad", a, !1) : window.attachEvent && window.attachEvent("onload", a)
    }(vb), {
        "slide": function(a) {
            l(), x(a)
        },
        "prev": function() {
            l(), yb()
        },
        "next": function() {
            l(), B()
        },
        "toggle": wb,
        "getPos": function() {
            return b
        },
        "getElement": function() {
            return U(e.sliderId)
        },
        "getSlides": function() {
            return a
        },
        "getBullets": function() {
            return p
        },
        "reload": function(a) {
            Yb(), ub(a)
        }
    }
}
var McVideo2 = function() {
        var a = [],
            b = function(b, e) {
                if (!b.vPlayer)
                    for (var c = 0; c < a.length; c++) {
                        var d = new a[c](b, e);
                        if ("undefined" != typeof d.play) {
                            b.vPlayer = d;
                            break
                        }
                    }
            };
        return {
            "plugin": function(b) {
                a.push(b)
            },
            "register": function(c, a) {
                b(c, a)
            },
            "play": function(a, e, d, c) {
                if (a.vPlayer && 1 == a.vPlayer.play(a, e, d, c)) return 1;
                return 0
            },
            "stop": function(b) {
                var a = b.getElementsByTagName("iframe");
                a.length && ((a = a[0]).src = "", setTimeout(function() {
                    a.parentNode.removeChild(a), a = null, b.innerHTML = ""
                }, 10))
            }
        }
    }(),
    VimeoPlayer2 = function(a, c) {
        function d(a, k, j, f) {
            if (!a.children.length) {
                var h = "&loop=0&autoplay=1&wmode=opaque&color=bbbbbb&" + (new Date).getTime(),
                    d = a.getAttribute("data-href"),
                    i = d.toLowerCase().indexOf("vimeo.com"),
                    c = '<iframe id="mcVideo' + f + '" src="https://player.vimeo.com/video/' + d.substring(i + 10) + "?api=1&player_id=mcVideo" + f + h + '" webkitAllowFullScreen mozallowfullscreen allowFullScreen';
                c += ' frameborder="0" width="' + k + '" height="' + j + '" style="position:absolute;top:0;left:0;"></iframe>';
                var b = document.createElement("span");
                b.innerHTML = c;
                var g = b.childNodes[0];
                a.appendChild(g), e.setIframe(g)
            }
            return 1
        }
        if ("A" != a.nodeName || -1 == a.getAttribute("data-href").toLowerCase().indexOf("vimeo.com")) return null;
        var e = new function() {
            function d(b) {
                try {
                    switch (JSON.parse(b.data).event) {
                        case "ready":
                            f();
                            break;
                        case "finish":
                            e()
                    }
                } catch (b) {}
            }
            function g(e, a) {
                var c = {
                    "method": e
                };
                (a !== undefined && (c.value = a), window.JSON) && (b.contentWindow || b.contentDocument).postMessage(window.JSON.stringify(c), b.getAttribute("src").split("?")[0])
            }
            function f() {
                g("addEventListener", "finish")
            }
            function e() {
                a.iP && c.To(1)
            }
            var b;
            return window.addEventListener ? window.addEventListener("message", d, !1) : window.attachEvent("onmessage", d, !1), {
                "setIframe": function(a) {
                    b = a
                }
            }
        };
        return {
            "play": function(b, e, c, a) {
                return d(b, e, c, a)
            }
        }
    };
McVideo2.plugin(VimeoPlayer2);
var YoutubePlayer2 = function(a, c) {
    function d(a, k, j, d) {
        if (!a.children.length) {
            var f = "&loop=0&start=0&wmode=opaque&html5=1&autohide=1&showinfo=0&iv_load_policy=3&allowScriptAccess=always&modestbranding=1&showsearch=0",
                c = a.getAttribute("data-href"),
                h = c.toLowerCase().indexOf("v="),
                g = '<iframe id="mcVideo' + d + '" src="https://www.youtube.com/embed/' + c.substring(h + 2) + "?enablejsapi=1&autoplay=1" + f + '" frameborder="0" width="' + k + '" height="' + j + '" style="position:absolute;top:0;left:0;"></iframe>',
                b = document.createElement("span");
            b.innerHTML = g;
            var i = b.childNodes[0];
            a.appendChild(i), e.setPlayer("mcVideo" + d)
        }
        return 1
    }
    if ("A" != a.nodeName || -1 == a.getAttribute("data-href").toLowerCase().indexOf("youtube.com")) return null;
    var e = new function() {
        function g(b) {
            0 == b.data && a.iP && c.To(1)
        }
        function h() {}
        var f = document.createElement("script");
        f.src = "https://www.youtube.com/player_api";
        var d = document.getElementsByTagName("script")[0];
        d.parentNode.insertBefore(f, d);
        var e = 0,
            b = function(a) {
                "undefined" != typeof YT && "undefined" != typeof YT.Player ? new YT.Player(a, {
                    "events": {
                        "onReady": h,
                        "onStateChange": g
                    }
                }) : e < 30 && (setTimeout(function() {
                    b(a)
                }, 50), e++)
            };
        return {
            "setPlayer": function(a) {
                b(a)
            }
        }
    };
    return {
        "play": function(b, e, c, a) {
            return d(b, e, c, a)
        }
    }
};
McVideo2.plugin(YoutubePlayer2);
var nsOptions = {
    "mobileNav": !0
};
! function(
    window) {
    for (
        var lastTime = 0,
            vendors = ["ms", "moz", "webkit", "o"],
            x = 0; x < vendors.length && !window.requestAnimationFrame; ++x
    ) window.requestAnimationFrame = window[vendors[x] + "RequestAnimationFrame"],
        window.cancelAnimationFrame = window[vendors[x] + "CancelAnimationFrame"] || window[vendors[x] + "CancelRequestAnimationFrame"]
    ;
    window.requestAnimationFrame || (
            window.requestAnimationFrame = function(callback) {
                var currTime = (new Date).getTime(),
                    timeToCall = Math.max(0, 16 - (currTime - lastTime)),
                    id = window.setTimeout(function() {
                            callback(currTime + timeToCall)
                        },
                        timeToCall);
                return lastTime = currTime + timeToCall,
                    id
            }),
        window.cancelAnimationFrame || (
            window.cancelAnimationFrame = function(id) {
                clearTimeout(id)
            })
}(
    window),
function() {
    "use strict";
    function lib$es6$promise$utils$$objectOrFunction(x) {
        return "function" == typeof x || "object" == typeof x && null !== x
    }
    function lib$es6$promise$utils$$isFunction(x) {
        return "function" == typeof x
    }
    function lib$es6$promise$utils$$isMaybeThenable(x) {
        return "object" == typeof x && null !== x
    }
    function lib$es6$promise$asap$$setScheduler(scheduleFn) {
        lib$es6$promise$asap$$customSchedulerFn = scheduleFn
    }
    function lib$es6$promise$asap$$setAsap(asapFn) {
        lib$es6$promise$asap$$asap = asapFn
    }
    function lib$es6$promise$asap$$useNextTick() {
        return function() {
            process.nextTick(lib$es6$promise$asap$$flush)
        }
    }
    function lib$es6$promise$asap$$useVertxTimer() {
        return function() {
            lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush)
        }
    }
    function lib$es6$promise$asap$$useMutationObserver() {
        var iterations = 0,
            observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush),
            node = document.createTextNode("");
        return observer.observe(node, {
                "characterData": !0
            }),
            function() {
                node.data = iterations = ++iterations % 2
            }
    }
    function lib$es6$promise$asap$$useMessageChannel() {
        var channel = new MessageChannel;
        return channel.port1.onmessage = lib$es6$promise$asap$$flush,
            function() {
                channel.port2.postMessage(0)
            }
    }
    function lib$es6$promise$asap$$useSetTimeout() {
        return function() {
            setTimeout(lib$es6$promise$asap$$flush, 1)
        }
    }
    function lib$es6$promise$asap$$flush() {
        for (
            var i = 0; i < lib$es6$promise$asap$$len; i += 2) {
            (
                0, lib$es6$promise$asap$$queue[i])(lib$es6$promise$asap$$queue[i + 1]),
            lib$es6$promise$asap$$queue[i] = undefined,
                lib$es6$promise$asap$$queue[i + 1] = undefined
        }
        lib$es6$promise$asap$$len = 0
    }
    function lib$es6$promise$asap$$attemptVertx() {
        try {
            var vertx = require("vertx");
            return lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext,
                lib$es6$promise$asap$$useVertxTimer()
        } catch (
            e) {
            return lib$es6$promise$asap$$useSetTimeout()
        }
    }
    function lib$es6$promise$$internal$$noop() {}
    function lib$es6$promise$$internal$$selfFulfillment() {
        return new TypeError("You cannot resolve a promise with itself")
    }
    function lib$es6$promise$$internal$$cannotReturnOwn() {
        return new TypeError("A promises callback cannot return that same promise.")
    }
    function lib$es6$promise$$internal$$getThen(promise) {
        try {
            return promise.then
        } catch (
            error) {
            return lib$es6$promise$$internal$$GET_THEN_ERROR.error = error,
                lib$es6$promise$$internal$$GET_THEN_ERROR
        }
    }
    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {
        try {
            then.call(value, fulfillmentHandler, rejectionHandler)
        } catch (
            e) {
            return e
        }
    }
    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {
        lib$es6$promise$asap$$asap(function(promise) {
                var sealed = !1,
                    error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {
                            sealed || (
                                sealed = !0,
                                thenable !== value ? lib$es6$promise$$internal$$resolve(promise, value
                                ) : lib$es6$promise$$internal$$fulfill(promise, value))
                        }, function(
                            reason) {
                            sealed || (
                                sealed = !0,
                                lib$es6$promise$$internal$$reject(promise, reason))
                        },
                        "Settle: " + (promise._label || " unknown promise"))
                ;
                !sealed && error && (
                    sealed = !0,
                    lib$es6$promise$$internal$$reject(promise, error))
            },
            promise)
    }
    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {
        thenable._state === lib$es6$promise$$internal$$FULFILLED ? lib$es6$promise$$internal$$fulfill(promise, thenable._result
        ) : thenable._state === lib$es6$promise$$internal$$REJECTED ? lib$es6$promise$$internal$$reject(promise, thenable._result
        ) : lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {
            lib$es6$promise$$internal$$resolve(promise, value)
        }, function(
            reason) {
            lib$es6$promise$$internal$$reject(promise, reason)
        })
    }
    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {
        if (
            maybeThenable.constructor === promise.constructor
        ) lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);
        else {
            var then = lib$es6$promise$$internal$$getThen(maybeThenable)
            ;
            then === lib$es6$promise$$internal$$GET_THEN_ERROR ? lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error
            ) : then === undefined ? lib$es6$promise$$internal$$fulfill(promise, maybeThenable) : lib$es6$promise$utils$$isFunction(then) ? lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then
            ) : lib$es6$promise$$internal$$fulfill(promise, maybeThenable)
        }
    }
    function lib$es6$promise$$internal$$resolve(promise, value) {
        promise === value ? lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment()) : lib$es6$promise$utils$$objectOrFunction(value) ? lib$es6$promise$$internal$$handleMaybeThenable(promise, value
        ) : lib$es6$promise$$internal$$fulfill(promise, value)
    }
    function lib$es6$promise$$internal$$publishRejection(promise) {
        promise._onerror && promise._onerror(promise._result),
            lib$es6$promise$$internal$$publish(promise)
    }
    function lib$es6$promise$$internal$$fulfill(promise, value) {
        promise._state === lib$es6$promise$$internal$$PENDING && (
            promise._result = value,
            promise._state = lib$es6$promise$$internal$$FULFILLED,
            0 !== promise._subscribers.length && lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise))
    }
    function lib$es6$promise$$internal$$reject(promise, reason) {
        promise._state === lib$es6$promise$$internal$$PENDING && (
            promise._state = lib$es6$promise$$internal$$REJECTED,
            promise._result = reason,
            lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise))
    }
    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {
        var subscribers = parent._subscribers,
            length = subscribers.length
        ;
        parent._onerror = null,
            subscribers[length] = child,
            subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment,
            subscribers[length + lib$es6$promise$$internal$$REJECTED] = onRejection,
            0 === length && parent._state && lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent)
    }
    function lib$es6$promise$$internal$$publish(promise) {
        var subscribers = promise._subscribers,
            settled = promise._state;
        if (
            0 !== subscribers.length) {
            for (
                var child, callback, detail = promise._result,
                    i = 0; i < subscribers.length; i += 3
            ) child = subscribers[i],
                callback = subscribers[i + settled],
                child ? lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail
                ) : callback(detail)
            ;
            promise._subscribers.length = 0
        }
    }
    function lib$es6$promise$$internal$$ErrorObject() {
        this.error = null
    }
    function lib$es6$promise$$internal$$tryCatch(callback, detail) {
        try {
            return callback(detail)
        } catch (
            e) {
            return lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e,
                lib$es6$promise$$internal$$TRY_CATCH_ERROR
        }
    }
    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {
        var value, error, succeeded, failed, hasCallback = lib$es6$promise$utils$$isFunction(callback);
        if (
            hasCallback) {
            if ((
                    value = lib$es6$promise$$internal$$tryCatch(callback, detail)
                ) === lib$es6$promise$$internal$$TRY_CATCH_ERROR ? (
                    failed = !0,
                    error = value.error,
                    value = null
                ) : succeeded = !0,
                promise === value
            ) return void lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn())
        } else value = detail,
            succeeded = !0
        ;
        promise._state !== lib$es6$promise$$internal$$PENDING || (
            hasCallback && succeeded ? lib$es6$promise$$internal$$resolve(promise, value
            ) : failed ? lib$es6$promise$$internal$$reject(promise, error
            ) : settled === lib$es6$promise$$internal$$FULFILLED ? lib$es6$promise$$internal$$fulfill(promise, value
            ) : settled === lib$es6$promise$$internal$$REJECTED && lib$es6$promise$$internal$$reject(promise, value))
    }
    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {
        try {
            resolver(function resolvePromise(value) {
                    lib$es6$promise$$internal$$resolve(promise, value)
                },
                function rejectPromise(reason) {
                    lib$es6$promise$$internal$$reject(promise, reason)
                })
        } catch (
            e) {
            lib$es6$promise$$internal$$reject(promise, e)
        }
    }
    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {
        var enumerator = this
        ;
        enumerator._instanceConstructor = Constructor,
            enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop),
            enumerator._validateInput(input) ? (
                enumerator._input = input,
                enumerator.length = input.length,
                enumerator._remaining = input.length,
                enumerator._init(),
                0 === enumerator.length ? lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result) : (
                    enumerator.length = enumerator.length || 0,
                    enumerator._enumerate(),
                    0 === enumerator._remaining && lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result))
            ) : lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError())
    }
    function lib$es6$promise$promise$all$$all(entries) {
        return new lib$es6$promise$enumerator$$default(this, entries).promise
    }
    function lib$es6$promise$promise$race$$race(entries) {
        function onFulfillment(value) {
            lib$es6$promise$$internal$$resolve(promise, value)
        }
        function onRejection(reason) {
            lib$es6$promise$$internal$$reject(promise, reason)
        }
        var Constructor = this,
            promise = new Constructor(lib$es6$promise$$internal$$noop);
        if (!lib$es6$promise$utils$$isArray(entries)) return lib$es6$promise$$internal$$reject(promise, new TypeError("You must pass an array to race.")), promise;
        for (var length = entries.length,
                i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection)
        ;
        return promise
    }
    function lib$es6$promise$promise$resolve$$resolve(object) {
        var Constructor = this;
        if (
            object && "object" == typeof object && object.constructor === Constructor
        ) return object
        ;
        var promise = new Constructor(lib$es6$promise$$internal$$noop);
        return lib$es6$promise$$internal$$resolve(promise, object),
            promise
    }
    function lib$es6$promise$promise$reject$$reject(reason) {
        var promise = new this(lib$es6$promise$$internal$$noop);
        return lib$es6$promise$$internal$$reject(promise, reason),
            promise
    }
    function lib$es6$promise$promise$$needsResolver() {
        throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
    }
    function lib$es6$promise$promise$$needsNew() {
        throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
    }
    function lib$es6$promise$promise$$Promise(resolver) {
        this._id = lib$es6$promise$promise$$counter++,
            this._state = undefined,
            this._result = undefined,
            this._subscribers = [],
            lib$es6$promise$$internal$$noop !== resolver && (
                lib$es6$promise$utils$$isFunction(resolver) || lib$es6$promise$promise$$needsResolver(),
                this instanceof lib$es6$promise$promise$$Promise || lib$es6$promise$promise$$needsNew(),
                lib$es6$promise$$internal$$initializePromise(this, resolver))
    }
    function lib$es6$promise$polyfill$$polyfill() {
        var local;
        if (
            "undefined" != typeof global
        ) local = global;
        else if (
            "undefined" != typeof self
        ) local = self;
        else try {
            local = Function("return this")()
        } catch (
            e) {
            throw new Error("polyfill failed because global object is unavailable in this environment")
        }
        var P = local.Promise
        ;
        P && "[object Promise]" === Object.prototype.toString.call(P.resolve()) && !P.cast || (
            local.Promise = lib$es6$promise$promise$$default)
    }
    var lib$es6$promise$asap$$vertxNext, lib$es6$promise$asap$$customSchedulerFn, lib$es6$promise$asap$$scheduleFlush, lib$es6$promise$utils$$isArray = Array.isArray ? Array.isArray : function(x) {
            return "[object Array]" === Object.prototype.toString.call(x)
        },
        lib$es6$promise$asap$$len = 0,
        lib$es6$promise$asap$$asap = ({}.toString, function asap(callback, arg) {
            lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback, lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg, 2 === (lib$es6$promise$asap$$len += 2) && (lib$es6$promise$asap$$customSchedulerFn ? lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush) : lib$es6$promise$asap$$scheduleFlush())
        }),
        lib$es6$promise$asap$$browserWindow = "undefined" != typeof window ? window : undefined,
        lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {},
        lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver,
        lib$es6$promise$asap$$isNode = "undefined" != typeof process && "[object process]" === {}.toString.call(process),
        lib$es6$promise$asap$$isWorker = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
        lib$es6$promise$asap$$queue = new Array(1e3);
    lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$isNode ? lib$es6$promise$asap$$useNextTick() : lib$es6$promise$asap$$BrowserMutationObserver ? lib$es6$promise$asap$$useMutationObserver() : lib$es6$promise$asap$$isWorker ? lib$es6$promise$asap$$useMessageChannel() : lib$es6$promise$asap$$browserWindow === undefined && "function" == typeof require ? lib$es6$promise$asap$$attemptVertx() : lib$es6$promise$asap$$useSetTimeout();
    var lib$es6$promise$$internal$$PENDING = void 0,
        lib$es6$promise$$internal$$FULFILLED = 1,
        lib$es6$promise$$internal$$REJECTED = 2,
        lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject,
        lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject;
    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {
        return lib$es6$promise$utils$$isArray(input)
    }, lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {
        return new Error("Array Methods must be provided an Array")
    }, lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {
        this._result = new Array(this.length)
    };
    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;
    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {
        for (var enumerator = this, length = enumerator.length, promise = enumerator.promise, input = enumerator._input, i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) enumerator._eachEntry(input[i], i)
    }, lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {
        var enumerator = this,
            c = enumerator._instanceConstructor;
        lib$es6$promise$utils$$isMaybeThenable(entry) ? entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING ? (entry._onerror = null, enumerator._settledAt(entry._state, i, entry._result)) : enumerator._willSettleAt(c.resolve(entry), i) : (enumerator._remaining--, enumerator._result[i] = entry)
    }, lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {
        var enumerator = this,
            promise = enumerator.promise;
        promise._state === lib$es6$promise$$internal$$PENDING && (enumerator._remaining--, state === lib$es6$promise$$internal$$REJECTED ? lib$es6$promise$$internal$$reject(promise, value) : enumerator._result[i] = value), 0 === enumerator._remaining && lib$es6$promise$$internal$$fulfill(promise, enumerator._result)
    }, lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {
        var enumerator = this;
        lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {
            enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value)
        }, function(reason) {
            enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason)
        })
    };
    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all,
        lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race,
        lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve,
        lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject,
        lib$es6$promise$promise$$counter = 0,
        lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;
    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default, lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default, lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default, lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default, lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler, lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap, lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap, lib$es6$promise$promise$$Promise.prototype = {
        "constructor": lib$es6$promise$promise$$Promise,
        "then": function(onFulfillment, onRejection) {
            var parent = this,
                state = parent._state;
            if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) return this;
            var child = new this.constructor(lib$es6$promise$$internal$$noop),
                result = parent._result;
            if (state) {
                var callback = arguments[state - 1];
                lib$es6$promise$asap$$asap(function() {
                    lib$es6$promise$$internal$$invokeCallback(state, child, callback, result)
                })
            } else lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);
            return child
        },
        "catch": function(onRejection) {
            return this.then(null, onRejection)
        }
    }
    ;
    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill,
        lib$es6$promise$umd$$ES6Promise = {
            "Promise": lib$es6$promise$promise$$default,
            "polyfill": lib$es6$promise$polyfill$$default
        }
    ;
    "function" == typeof define && define.amd ? define(function() {
                return lib$es6$promise$umd$$ES6Promise
            }
        ) : "undefined" != typeof module && module.exports ? module.exports = lib$es6$promise$umd$$ES6Promise : void 0 !== this && (
            this.ES6Promise = lib$es6$promise$umd$$ES6Promise),
        lib$es6$promise$polyfill$$default()
}.call(
        this),
    function() {
        Hs.protocol = "https:" === document.location.protocol ? "https" : "http"
    }.call(
        this),
    function(
        root, factory) {
        "function" == typeof define && define.amd ? define("i18n", function() {
                return factory(root)
            }
        ) : "object" == typeof module && module.exports ? module.exports = factory(root
        ) : root.I18n = factory(root)
    }(
        this,
        function(global) {
            "use strict"
            ;
            var I18n = global && global.I18n || {},
                slice = Array.prototype.slice,
                padding = function(number) {
                    return (
                        "0" + number.toString()).substr(-2)
                },
                toFixed = function(number, precision) {
                    return decimalAdjust("round", number, -precision).toFixed(precision)
                },
                isObject = function(obj) {
                    var type = typeof obj;
                    return "function" === type || "object" === type
                },
                isFunction = function(func) {
                    return "function" === typeof func
                },
                isSet = function(value) {
                    return null != value
                },
                isArray = function(val) {
                    return Array.isArray ? Array.isArray(val
                    ) : "[object Array]" === Object.prototype.toString.call(val)
                },
                isString = function(val) {
                    return "string" == typeof val || "[object String]" === Object.prototype.toString.call(val)
                },
                isNumber = function(val) {
                    return "number" == typeof val || "[object Number]" === Object.prototype.toString.call(val)
                },
                isBoolean = function(val) {
                    return !0 === val || !1 === val
                },
                isNull = function(val) {
                    return null === val
                },
                decimalAdjust = function(type, value, exp) {
                    return void 0 === exp || 0 == +exp ? Math[type](value) : (
                        value = +value,
                        exp = +exp,
                        isNaN(value) || "number" != typeof exp || exp % 1 != 0 ? NaN : (
                            value = value.toString().split("e"), +((
                                value = (value = Math[type](+(value[0] + "e" + (value[1] ? +value[1] - exp : -exp)))).toString().split("e")
                            )[0] + "e" + (value[1] ? +value[1] + exp : exp))))
                },
                lazyEvaluate = function(message, scope) {
                    return isFunction(message) ? message(scope
                    ) : message
                },
                merge = function(dest, obj) {
                    var key, value;
                    for (
                        key in obj) obj.hasOwnProperty(key) && (
                        value = obj[key],
                        isString(value) || isNumber(value) || isBoolean(value) || isArray(value) || isNull(value) ? dest[key] = value : (
                            null == dest[key] && (dest[key] = {}),
                            merge(dest[key], value)))
                    ;
                    return dest
                },
                DATE = {
                    "day_names": [
                        "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"
                    ],
                    "abbr_day_names": [
                        "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"
                    ],
                    "month_names": [
                        null, "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
                    ],
                    "abbr_month_names": [
                        null, "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
                    ],
                    "meridian": [
                        "AM", "PM"
                    ]
                },
                NUMBER_FORMAT = {
                    "precision": 3,
                    "separator": ".",
                    "delimiter": ",",
                    "strip_insignificant_zeros": !1
                },
                CURRENCY_FORMAT = {
                    "unit": "$",
                    "precision": 2,
                    "format": "%u%n",
                    "sign_first": !0,
                    "delimiter": ",",
                    "separator": "."
                },
                PERCENTAGE_FORMAT = {
                    "unit": "%",
                    "precision": 3,
                    "format": "%n%u",
                    "separator": ".",
                    "delimiter": ""
                },
                SIZE_UNITS = [null, "kb", "mb", "gb", "tb"],
                DEFAULT_OPTIONS = {
                    "defaultLocale": "en",
                    "locale": "en",
                    "defaultSeparator": ".",
                    "placeholder": /(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,
                    "fallbacks": !1,
                    "translations": {},
                    "missingBehaviour": "message",
                    "missingTranslationPrefix": ""
                }
            ;
            return I18n.reset = function() {
                    var key;
                    for (
                        key in DEFAULT_OPTIONS
                    ) this[key] = DEFAULT_OPTIONS[key]
                },
                I18n.initializeOptions = function() {
                    var key;
                    for (
                        key in DEFAULT_OPTIONS) isSet(this[key]) || (
                        this[key] = DEFAULT_OPTIONS[key])
                },
                I18n.initializeOptions(),
                I18n.locales = {},
                I18n.locales.get = function(locale) {
                    var result = this[locale] || this[I18n.locale] || this["default"]
                    ;
                    return isFunction(result) && (
                            result = result(locale)),
                        !1 === isArray(result) && (
                            result = [result]),
                        result
                },
                I18n.locales["default"] = function(locale) {
                    var locales = [],
                        list = []
                    ;
                    return locale && locales.push(locale),
                        !locale && I18n.locale && locales.push(I18n.locale),
                        I18n.fallbacks && I18n.defaultLocale && locales.push(I18n.defaultLocale),
                        locales.forEach(function(locale) {
                            var localeParts = locale.split("-"),
                                firstFallback = null,
                                secondFallback = null;
                            3 === localeParts.length ? (
                                    firstFallback = [
                                        localeParts[0],
                                        localeParts[1]
                                    ].join(
                                        "-"),
                                    secondFallback = localeParts[0]
                                ) : 2 === localeParts.length && (
                                    firstFallback = localeParts[0]),
                                -1 === list.indexOf(locale) && list.push(locale),
                                I18n.fallbacks && [
                                    firstFallback,
                                    secondFallback
                                ].forEach(function(
                                    nullableFallbackLocale) {
                                    null != nullableFallbackLocale && nullableFallbackLocale !== locale && -1 === list.indexOf(nullableFallbackLocale
                                    ) && list.push(nullableFallbackLocale)
                                })
                        }),
                        locales.length || locales.push("en"),
                        list
                },
                I18n.pluralization = {},
                I18n.pluralization.get = function(locale) {
                    return this[locale] || this[I18n.locale] || this["default"]
                },
                I18n.pluralization["default"] = function(count) {
                    switch (
                        count) {
                        case 0:
                            return ["zero", "other"];
                        case 1:
                            return ["one"];
                        default:
                            return [
                                "other"
                            ]
                    }
                },
                I18n.currentLocale = function() {
                    return this.locale || this.defaultLocale
                },
                I18n.isSet = isSet,
                I18n.lookup = function(scope, options) {
                    options = options || {}
                    ;
                    var locale,
                        scopes,
                        fullScope,
                        translations, locales = this.locales.get(options.locale).slice();
                    for (
                        fullScope = this.getFullScope(scope, options
                        ); locales.length;)
                        if (
                            locale = locales.shift(),
                            scopes = fullScope.split(this.defaultSeparator),
                            translations = this.translations[locale]) {
                            for (
                                ; scopes.length && (
                                    translations = translations[scopes.shift()]
                                ) !== undefined && null !== translations;);
                            if (
                                translations !== undefined && null !== translations
                            ) return translations
                        }
                    if (
                        isSet(options.defaultValue)
                    ) return lazyEvaluate(options.defaultValue, scope)
                },
                I18n.pluralizationLookupWithoutFallback = function(count, locale, translations) {
                    var pluralizerKey,
                        message, pluralizerKeys = this.pluralization.get(locale)(count);
                    if (
                        isObject(translations))
                        for (; pluralizerKeys.length;)
                            if (
                                pluralizerKey = pluralizerKeys.shift(),
                                isSet(translations[pluralizerKey])) {
                                message = translations[pluralizerKey];
                                break
                            }
                    return message
                },
                I18n.pluralizationLookup = function(count, scope, options) {
                    options = options || {}
                    ;
                    var locale,
                        scopes,
                        translations,
                        message, locales = this.locales.get(options.locale).slice();
                    for (
                        scope = this.getFullScope(scope, options
                        ); locales.length;)
                        if (
                            locale = locales.shift(),
                            scopes = scope.split(this.defaultSeparator),
                            translations = this.translations[locale]) {
                            for (
                                ; scopes.length && (
                                    translations = translations[scopes.shift()],
                                    isObject(translations));
                            ) 0 === scopes.length && (
                                message = this.pluralizationLookupWithoutFallback(count, locale, translations));
                            if (
                                null != message
                            ) break
                        }
                    return null == message && isSet(options.defaultValue) && (
                        message = isObject(options.defaultValue) ? this.pluralizationLookupWithoutFallback(count, options.locale, options.defaultValue
                        ) : options.defaultValue,
                        translations = options.defaultValue), {
                        "message": message,
                        "translations": translations
                    }
                },
                I18n.meridian = function() {
                    var time = this.lookup("time"),
                        date = this.lookup("date")
                    ;
                    return time && time.am && time.pm ? [
                        time.am, time.pm
                    ] : date && date.meridian ? date.meridian : DATE.meridian
                },
                I18n.prepareOptions = function() {
                    for (
                        var subject, args = slice.call(arguments),
                            options = {}; args.length;)
                        if (
                            "object" == typeof(subject = args.shift()))
                            for (
                                var attr in subject
                            ) subject.hasOwnProperty(attr) && (
                                isSet(options[attr]) || (
                                    options[attr] = subject[attr]))
                        ;
                    return options
                },
                I18n.createTranslationOptions = function(scope, options) {
                    var translationOptions = [{
                        "scope": scope
                    }]
                    ;
                    return isSet(options.defaults) && (
                            translationOptions = translationOptions.concat(options.defaults)),
                        isSet(options.defaultValue) && translationOptions.push({
                            "message": options.defaultValue
                        }),
                        translationOptions
                },
                I18n.translate = function(scope, options) {
                    options = options || {}
                    ;
                    var translation, translationOptions = this.createTranslationOptions(scope, options),
                        usedScope = scope,
                        optionsWithoutDefault = this.prepareOptions(options);
                    return delete optionsWithoutDefault.defaultValue,
                        translationOptions.some(function(translationOption) {
                                if (
                                    isSet(translationOption.scope) ? (
                                        usedScope = translationOption.scope,
                                        translation = this.lookup(usedScope, optionsWithoutDefault)
                                    ) : isSet(translationOption.message) && (
                                        translation = lazyEvaluate(translationOption.message, scope)),
                                    translation !== undefined && null !== translation
                                ) return !0
                            },
                            this) ? (
                            "string" == typeof translation ? translation = this.interpolate(translation, options) : isArray(translation) ? translation = translation.map(function(t) {
                                    return "string" == typeof t ? this.interpolate(t, options) : t
                                },
                                this
                            ) : isObject(translation) && isSet(options.count) && (
                                translation = this.pluralize(options.count, usedScope, options)),
                            translation) : this.missingTranslation(scope, options)
                },
                I18n.interpolate = function(message, options) {
                    if (
                        null === message
                    ) return message
                    ;
                    options = options || {}
                    ;
                    var placeholder,
                        value,
                        name,
                        regex, matches = message.match(this.placeholder);
                    if (
                        !matches
                    ) return message;
                    for (
                        ; matches.length;
                    ) name = (placeholder = matches.shift()).replace(this.placeholder, "$1"),
                        value = isSet(options[name]) ? options[name].toString().replace(/\$/gm, "_#$#_"
                        ) : name in options ? this.nullPlaceholder(placeholder, message, options
                        ) : this.missingPlaceholder(placeholder, message, options),
                        regex = new RegExp(placeholder.replace(/{/gm, "\\{").replace(/}/gm, "\\}")),
                        message = message.replace(regex, value)
                    ;
                    return message.replace(/_#\$#_/g, "$")
                },
                I18n.pluralize = function(count, scope, options) {
                    var pluralizer, result;
                    return options = this.prepareOptions({
                            "count": String(count)
                        }, options),
                        "undefined" == typeof(result = this.pluralizationLookup(count, scope, options)).translations || null == result.translations ? this.missingTranslation(scope, options
                        ) : "undefined" != typeof result.message && null != result.message ? this.interpolate(result.message, options) : (
                            pluralizer = this.pluralization.get(options.locale),
                            this.missingTranslation(scope + "." + pluralizer(count)[0], options))
                },
                I18n.missingTranslation = function(scope, options) {
                    if (
                        "guess" !== this.missingBehaviour
                    ) return '[missing "' + [null != options && null != options.locale ? options.locale : this.currentLocale(), this.getFullScope(scope, options)].join(this.defaultSeparator) + '" translation]';
                    var s = scope.split(".").slice(-1)[0];
                    return (0 < this.missingTranslationPrefix.length ? this.missingTranslationPrefix : "") + s.replace("_", " ").replace(/([a-z])([A-Z])/g, function(match, p1, p2) {
                        return p1 + " " + p2.toLowerCase()
                    })
                },
                I18n.missingPlaceholder = function(placeholder) {
                    return "[missing " + placeholder + " value]"
                },
                I18n.nullPlaceholder = function() {
                    return I18n.missingPlaceholder.apply(I18n, arguments)
                },
                I18n.toNumber = function(number, options) {
                    options = this.prepareOptions(
                        options,
                        this.lookup("number.format"),
                        NUMBER_FORMAT)
                    ;
                    var precision,
                        formattedNumber, negative = number < 0,
                        parts = toFixed(Math.abs(number), options.precision).toString().split("."),
                        buffer = [],
                        format = options.format || "%n",
                        sign = negative ? "-" : "";
                    for (
                        number = parts[0],
                        precision = parts[1]; 0 < number.length;
                    ) buffer.unshift(number.substr(Math.max(0, number.length - 3), 3)),
                        number = number.substr(0, number.length - 3)
                    ;
                    return formattedNumber = buffer.join(options.delimiter),
                        options.strip_insignificant_zeros && precision && (
                            precision = precision.replace(/0+$/, "")),
                        0 < options.precision && precision && (
                            formattedNumber += options.separator + precision),
                        formattedNumber = (format = options.sign_first ? "%s" + format : format.replace("%n", "%s%n")).replace(
                            "%u", options.unit).replace(
                            "%n", formattedNumber).replace(
                            "%s", sign
                        )
                },
                I18n.toCurrency = function(number, options) {
                    return options = this.prepareOptions(
                            options,
                            this.lookup("number.currency.format"),
                            this.lookup("number.format"),
                            CURRENCY_FORMAT),
                        this.toNumber(number, options)
                },
                I18n.localize = function(scope, value, options) {
                    switch (
                        options || (options = {}),
                        scope) {
                        case "currency":
                            return this.toCurrency(value);
                        case "number":
                            return scope = this.lookup("number.format"),
                                this.toNumber(value, scope);
                        case "percentage":
                            return this.toPercentage(value);
                        default:
                            var localizedValue
                            ;
                            return localizedValue = scope.match(/^(date|time)/) ? this.toTime(scope, value
                                ) : value.toString(),
                                this.interpolate(localizedValue, options)
                    }
                },
                I18n.parseDate = function(date) {
                    var matches, convertedDate, fraction;
                    if (
                        "object" == typeof date
                    ) return date;
                    if (
                        matches = date.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)) {
                        for (
                            var i = 1; i <= 6; i++
                        ) matches[i] = parseInt(matches[i], 10) || 0
                        ;
                        matches[2] -= 1,
                            fraction = matches[7] ? 1e3 * ("0" + matches[7]) : null,
                            convertedDate = matches[8] ? new Date(Date.UTC(matches[1], matches[2], matches[3], matches[4], matches[5], matches[6], fraction)
                            ) : new Date(matches[1], matches[2], matches[3], matches[4], matches[5], matches[6], fraction)
                    } else "number" == typeof date ? (
                        convertedDate = new Date
                    ).setTime(date) : date.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/) ? (
                        convertedDate = new Date
                    ).setTime(Date.parse([
                        RegExp.$1, RegExp.$2, RegExp.$3, RegExp.$6, RegExp.$4, RegExp.$5
                    ].join(
                        " "))) : (
                        date.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/), (
                            convertedDate = new Date
                        ).setTime(Date.parse(date)))
                    ;
                    return convertedDate
                },
                I18n.strftime = function(date, format) {
                    var options = this.lookup("date"),
                        meridianOptions = I18n.meridian();
                    if (
                        options || (
                            options = {}),
                        options = this.prepareOptions(options, DATE),
                        isNaN(date.getTime())
                    ) throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.")
                    ;
                    var weekDay = date.getDay(),
                        day = date.getDate(),
                        year = date.getFullYear(),
                        month = date.getMonth() + 1,
                        hour = date.getHours(),
                        hour12 = hour,
                        meridian = 11 < hour ? 1 : 0,
                        secs = date.getSeconds(),
                        mins = date.getMinutes(),
                        offset = date.getTimezoneOffset(),
                        absOffsetHours = Math.floor(Math.abs(offset / 60)),
                        absOffsetMinutes = Math.abs(offset) - 60 * absOffsetHours,
                        timezoneoffset = (0 < offset ? "-" : "+") + (
                            absOffsetHours.toString().length < 2 ? "0" + absOffsetHours : absOffsetHours) + (
                            absOffsetMinutes.toString().length < 2 ? "0" + absOffsetMinutes : absOffsetMinutes)
                    ;
                    return 12 < hour12 ? hour12 -= 12 : 0 === hour12 && (
                            hour12 = 12),
                        format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = (format = format.replace("%a", options.abbr_day_names[weekDay])).replace("%A", options.day_names[weekDay])).replace("%b", options.abbr_month_names[month])).replace("%B", options.month_names[month])).replace("%d", padding(day))).replace("%e", day)).replace("%-d", day)).replace("%H", padding(hour))).replace("%-H", hour)).replace("%I", padding(hour12))).replace("%-I", hour12)).replace("%m", padding(month))).replace("%-m", month)).replace("%M", padding(mins))).replace("%-M", mins)).replace("%p", meridianOptions[meridian])).replace("%S", padding(secs))).replace("%-S", secs)).replace("%w", weekDay)).replace("%y", padding(year))).replace("%-y", padding(year).replace(/^0+/, ""))).replace("%Y", year)).replace("%z", timezoneoffset
                        )
                },
                I18n.toTime = function(scope, dateString) {
                    var date = this.parseDate(dateString),
                        format = this.lookup(scope)
                    ;
                    return date.toString().match(/invalid/i) ? date.toString(
                    ) : format ? this.strftime(date, format) : date.toString()
                },
                I18n.toPercentage = function(number, options) {
                    return options = this.prepareOptions(
                            options,
                            this.lookup("number.percentage.format"),
                            this.lookup("number.format"),
                            PERCENTAGE_FORMAT),
                        this.toNumber(number, options)
                },
                I18n.toHumanSize = function(number, options) {
                    for (
                        var unit,
                            precision, kb = 1024, size = number,
                            iterations = 0; kb <= size && iterations < 4;
                    ) size /= kb,
                        iterations += 1
                    ;
                    return 0 === iterations ? (
                            unit = this.t("number.human.storage_units.units.byte", {
                                "count": size
                            }),
                            precision = 0) : (
                            unit = this.t("number.human.storage_units.units." + SIZE_UNITS[iterations]),
                            precision = size - Math.floor(size) == 0 ? 0 : 1),
                        options = this.prepareOptions(
                            options, {
                                "unit": unit,
                                "precision": precision,
                                "format": "%n%u",
                                "delimiter": ""
                            }),
                        this.toNumber(size, options)
                },
                I18n.getFullScope = function(scope, options) {
                    return options = options || {},
                        isArray(scope) && (
                            scope = scope.join(this.defaultSeparator)),
                        options.scope && (
                            scope = [options.scope, scope].join(this.defaultSeparator)),
                        scope
                },
                I18n.extend = function(obj1, obj2) {
                    return void 0 === obj1 && void 0 === obj2 ? {} : merge(obj1, obj2)
                },
                I18n.t = I18n.translate,
                I18n.l = I18n.localize,
                I18n.p = I18n.pluralize,
                I18n
        }),
    I18n.translations || (I18n.translations = {}),
    I18n.translations.en = I18n.extend(I18n.translations.en || {}, {
        "availabilities": {
            "show": {
                "booking": "Booking %{id}, %{room_names}",
                "booking_details_link": "View booking details",
                "past_dates_not_available": "Past dates are not available",
                "room_not_available": "%{room_name} is unavailable",
                "today": "Today"
            }
        },
        "blog": {
            "host_reference_card": {
                "heading": "Learn more about %{host_name}!"
            }
        },
        "booking_request": {
            "edit": {
                "rates": {
                    "dates_unavailable": 'Change dates or <a href="%{request_link}">contact host</a> for availability'
                }
            },
            "host": {
                "new": {
                    "guest_capacity_mismatch": {
                        "one": "Choose a room for the guest.",
                        "other": "Choose a room for all guests (there are %{count} in total)."
                    },
                    "steps": {
                        "step3": {
                            "confirm_modal": {
                                "one": "Confirm you are offering %{count} night for a total of %{total_price} to %{guest_name}?",
                                "other": "Confirm you are offering %{count} nights for a total of %{total_price} to %{guest_name}?"
                            },
                            "submit": "Invite guest to stay"
                        }
                    }
                }
            },
            "new": {
                "batch": {
                    "availability": {
                        "checking": "Checking Availability...",
                        "length_of_stay_too_long": "This homestay has a %{length} night maximum stay. ",
                        "length_of_stay_too_short": "This homestay has a %{length} night minimum stay.",
                        "unavailable": "Unavailable for dates"
                    },
                    "few_homestays_found": {
                        "one": "We found %{count} available homestay. You should <a data-open-search-bar> add a few more homestays</a> to contact",
                        "other": "We found %{count} available homestays. You should <a data-open-search-bar> add a few more homestays</a> to contact"
                    },
                    "homestays_found": {
                        "one": "We found %{count} available homestay",
                        "other": "We found %{count} available homestays"
                    },
                    "submit_btn": {
                        "one": "Send Message to Host",
                        "other": "Send Message to %{count} Hosts"
                    },
                    "title": {
                        "one": "Contacting %{count} Host",
                        "other": "Contacting %{count} Hosts"
                    }
                }
            }
        },
        "errors": {
            "messages": {
                "accepted": "must be accepted"
            }
        },
        "home": {
            "activity": {
                "events": {
                    "booking_created": {
                        "one": "A guest in %{guest_from} booked %{count} night with __%{host_name} in %{host_from}__ for %{booking_price} per night",
                        "other": "A guest in %{guest_from} booked %{count} nights with __%{host_name} in %{host_from}__ for %{booking_price} per night"
                    },
                    "booking_created_no_guest_from": {
                        "one": "A guest booked %{count} night with __%{host_name} in %{host_from}__",
                        "other": "A guest booked %{count} nights with __%{host_name} in %{host_from}__"
                    },
                    "guest_request": "A guest in %{guest_from} requested to book with __%{host_name} in %{host_from}__ for %{request_price} per night",
                    "guest_request_no_guest_from": "A guest requested to book with __%{host_name} in %{host_from}__",
                    "guest_review": "%{guest_name} in %{guest_from} left a review for __%{host_name} in %{host_from}__",
                    "guest_review_no_guest_from": "%{guest_name} left a review for __%{host_name} in %{host_from}__",
                    "host_live": "__%{host_name} in %{host_from}__ is now available for bookings \u2013 from %{homestay_price} per night",
                    "user_review": "%{host_name} in %{host_from} left a review for __%{guest_name} in %{guest_from}__",
                    "user_review_no_guest_from": "%{host_name} in %{host_from} left a review for __%{guest_name}__"
                }
            },
            "signup": {
                "thank_you": "Thanks for signing up. We will be in touch!"
            }
        },
        "homestays": {
            "edit": {
                "rooms": {
                    "at_least_one": "Please add at least one room",
                    "force_save": "Please Save Details before continuing",
                    "rates": null
                }
            },
            "homestay": {
                "price": {
                    "chosen_rate_explanation": {
                        "one": "%{count} guest /  %{rate}",
                        "other": "%{count} guests /  %{rate}"
                    },
                    "from_with_price_per_month": "From %{price} per month",
                    "from_with_price_per_night": "From %{price} per night",
                    "from_with_price_per_week": "From %{price} per week",
                    "per_night_for_guests": {
                        "one": "per night for %{count} guest",
                        "other": "per night for %{count} guests"
                    }
                }
            },
            "index": {
                "tooltips": {
                    "contact_hosts": "Add some hosts to contact first"
                }
            },
            "results": {
                "result_box": {
                    "many": "Found %{count} homestays",
                    "one": "Found 1 homestay",
                    "other": "Found %{count} homestays"
                }
            },
            "rooms_pane": {
                "room": {
                    "unavailable": "Not available for dates"
                }
            },
            "show": {
                "popovers": {
                    "date_select": "<p>Select dates to show availability, then select a room below</p><p class='text-right'><a data-close>Ok, got it</a></p>",
                    "room_select": "<p>Select room and choose number of guests</p><p class='text-right'><a data-close>Ok, got it</a></p>",
                    "summary": "<p>Contact this host to say hello and ask to stay with them</p><p class='text-right'><a data-close>Ok, got it</a></p>"
                },
                "rates": {
                    "number_of_nights": {
                        "one": "%{count} night",
                        "other": "%{count} nights"
                    },
                    "room_selected": {
                        "one": "%{count} Guest \u2013 <span>%{room}</span>",
                        "other": "%{count} Guests \u2013 <span>%{room}</span>"
                    },
                    "rooms_selected_summary": "%{length} Bedrooms for %{guests} guests",
                    "standard_total_tooltip": "You're saving %{diff}% with today's prices!"
                },
                "rooms": {
                    "rooms_found": {
                        "one": "We found <strong>%{count} bedroom available</strong> for these dates",
                        "other": "We found <strong>%{count} bedrooms available</strong> for these dates"
                    },
                    "show_more_details": "See Calendar, Prices and Room Details"
                }
            },
            "sidebar": {
                "distance_filter": {
                    "filter_label_in_km": "%{number} km from centre of %{location}",
                    "km": "km",
                    "no_filter": "No minimum",
                    "title": "Distance filter",
                    "title_indicator": "Distance From Centre"
                },
                "other_locations": {
                    "expand_filters": {
                        "one": "View 1 more neighbourhood",
                        "other": "View %{count} more neighbourhoods"
                    }
                },
                "price_filter": {
                    "bellow_min": "No minimum",
                    "beyond_max": "No maximum",
                    "price_range": "Price Range"
                }
            }
        },
        "host": {
            "account": {
                "wizard": {
                    "finish_without_photos": "You need at least 1 profile photo and another photo to be approved, are you sure you want to continue?"
                }
            }
        },
        "leads": {
            "opt_in": {
                "tooltip": "We\u2019ll take the work out of your search! Allow us to publish your requested trip on our <a href='/guests' target=\"_blank\">Find Guests</a> page and hosts will contact you privately if their homestay matches your requirements. Just click \u2018Publish my Trip\u2019."
            },
            "opt_out": {
                "tooltip": "We\u2019ll take the work out of your search! Your requested trip is published on our <a href='/guests' target=\"_blank\">Find Guests</a> page and hosts will contact you privately if their homestay matches your requirements. Click \u2018No Thanks\u2019 to opt out of this."
            }
        },
        "misc": {
            "available_homestays": "Other Homestays Nearby",
            "calendar": {
                "booked": "Booked",
                "checkin": "Check in",
                "checkout": "Check out"
            },
            "datepicker": {
                "select_checkin": "Select **check in** date",
                "select_checkout": "Select **check out** date"
            },
            "general": {
                "are_you_sure": "Are you sure?",
                "characters": "characters",
                "guests": {
                    "one": "%{count} guest",
                    "other": "%{count} guests"
                },
                "maximum": "Maximum",
                "minimum": "Minimum",
                "please_wait": "Please wait...",
                "remaining": "remaining"
            },
            "generic_error": "Something went wrong",
            "labels": {
                "hide_details": "Hide details",
                "reply": "Reply",
                "show_more_details": "Show more details"
            },
            "prices": {
                "booking_fee": "Booking Fee",
                "breakdown_per_day": "Room price breakdown per day",
                "deposit": "Deposit",
                "due_to_host": "Due to Host",
                "from_agent": "Homestay.com will pay you",
                "from_guest": "From Guest",
                "from_homestay": "From Homestay.com",
                "guest": {
                    "one": "1 Guest",
                    "other": "2+ Guests"
                },
                "monthly_price": "Monthly price",
                "monthly_stays": "Per night for monthly stays",
                "nightly_price": "Nightly price",
                "pay_now": "Pay Now",
                "payment": "Payment",
                "price": "Price",
                "price_stay": "Price of Stay",
                "prices_per_day": "Price displayed are per room per day",
                "promotional_monthly_price": "Promotional Monthly Price",
                "promotional_weekly_price": "Promotional Weekly Price",
                "rate_for_nights": {
                    "one": "%{count} night at %{price}",
                    "other": "%{count} nights at %{price}"
                },
                "room_price_per_night": "Room Price per Night",
                "seasonal_rates_apply_label": "Seasonal Prices Apply",
                "seasonal_rates_label": "Seasonal Price",
                "service_fee": "Service Fee",
                "single_price": "Single",
                "standard_price": "Standard",
                "standard_price_per_night": "Standard Price per Night",
                "standard_stays": "Per night",
                "total": "Total",
                "weekly_price": "Weekly Price",
                "weekly_stays": "Per night for weekly stays",
                "you_receive": "You Receive"
            },
            "read_more": "Read more"
        },
        "reviews": {
            "rating_1": "Experience was Terrible",
            "rating_2": "Disliked the Experience",
            "rating_3": "Experience was Adequate",
            "rating_4": "Liked the Experience",
            "rating_5": "Loved the Experience",
            "show_review": {
                "read_more_reviews": "Read more reviews"
            }
        },
        "sessions": {
            "sms": "SMS sent to %{number}"
        },
        "site_notifications": {
            "call_declined": {
                "title": "You ignored a call from"
            },
            "call_incoming": {
                "title": "Incoming Call"
            },
            "call_incoming_mobile": {
                "paragraph1": "%{sender_name} is calling but you wont be able to answer from your mobile device."
            },
            "call_missed": {
                "title": "Missed call"
            },
            "common": {
                "close": "Close",
                "dismiss": "Dismiss",
                "ignore": "Ignore",
                "join_video_call": "Join Call",
                "mobile": "To receive and make calls, please use Homestay.com from your PC or Laptop.",
                "notification_form": "Notification From",
                "tab_alert": "New notification",
                "view_booking": "View Booking",
                "view_request": "View Request",
                "your_request": "Requested Dates"
            },
            "details_changed": {
                "title": "Request Details Changed"
            },
            "link_to_booking_request": {
                "header": "View your open request"
            },
            "new_booking": {
                "booked_dates": "Booked Dates",
                "title": "New Booking"
            },
            "new_message": {
                "title": "New Message"
            },
            "new_request": {
                "title": "New Request"
            },
            "price_negotiated": {
                "title": "Host Offered Discount"
            },
            "request_accepted": {
                "title": "Request Accepted"
            },
            "request_declined": {
                "title": "Request Declined"
            },
            "trip_suggestion": {
                "create_trip": "Create Trip",
                "paragraph1": "Save your search as a Trip if you'd like hosts in %{destination} to contact you and offer their homestay",
                "title": "Create a trip",
                "tooltip": "Let us do the work for you! We'll publish your Trip on our <a href='/guests' target=\"_blank\">Find Guests</a> page and hosts will contact you privately if their homestay matches your requirements."
            },
            "verifications": {
                "identity": {
                    "action_link": "Go to Profile Verification",
                    "failed": {
                        "message_body": "ID could not be verified. Please try again."
                    },
                    "verified": {
                        "message_body": "Your ID has been verified successfully."
                    }
                }
            }
        },
        "students": {
            "popover": {
                "listing": "<p>Are you a student? Head over to our dedicated student area with homestays, area guides and tips.</p><p class='pull-left'><a class=\"cta\" href=\"%{link}\">Have a look</a></p><p class='text-right'><a data-close>Dismiss</a></p>",
                "listing-dismiss": '<p><a href="%{link}">%{city} Student Accommodation Guide</a></p>'
            }
        },
        "user": {
            "credits": {
                "popover": {
                    "button": "<p>Use your credit for your next booking.</p><p class='text-right'><a data-close>Ok, got it</a></p>"
                }
            },
            "favourites": {
                "popover": {
                    "button": "<p>Click this button to add the homestay to your list of hosts to contact.</p><p class='text-right'><a data-close>Ok, got it</a></p>",
                    "link": "<p>Homestay added! Add more hosts and contact them all in one step.</p><p class='text-right'><a data-close>Ok, got it</a></p>",
                    "link_mobile": "<p>Added here</p><p class='text-right'><a data-close>Ok, got it</a></p>"
                }
            }
        }
    }),
    function(
        undefined) {
        function padToken(func, count) {
            return function(
                a) {
                return leftZeroFill(func.call(this, a), count)
            }
        }
        function ordinalizeToken(func, period) {
            return function(
                a) {
                return this.lang().ordinal(func.call(this, a), period)
            }
        }
        function Language() {}
        function Moment(config) {
            checkOverflow(config),
                extend(this, config)
        }
        function Duration(duration) {
            var normalizedInput = normalizeObjectUnits(duration),
                years = normalizedInput.year || 0,
                months = normalizedInput.month || 0,
                weeks = normalizedInput.week || 0,
                days = normalizedInput.day || 0,
                hours = normalizedInput.hour || 0,
                minutes = normalizedInput.minute || 0,
                seconds = normalizedInput.second || 0,
                milliseconds = normalizedInput.millisecond || 0
            ;
            this._input = duration,
                this._milliseconds = +milliseconds + 1e3 * seconds + 6e4 * minutes + 36e5 * hours,
                this._days = +days + 7 * weeks,
                this._months = +months + 12 * years,
                this._data = {},
                this._bubble()
        }
        function extend(a, b) {
            for (
                var i in b
            ) b.hasOwnProperty(i) && (
                a[i] = b[i])
            ;
            return b.hasOwnProperty("toString") && (
                    a.toString = b.toString),
                b.hasOwnProperty("valueOf") && (
                    a.valueOf = b.valueOf),
                a
        }
        function absRound(number) {
            return number < 0 ? Math.ceil(number
            ) : Math.floor(number)
        }
        function leftZeroFill(number, targetLength) {
            for (
                var output = number + ""; output.length < targetLength;
            ) output = "0" + output
            ;
            return output
        }
        function addOrSubtractDurationFromMoment(mom, duration, isAdding, ignoreUpdateOffset) {
            var minutes,
                hours, milliseconds = duration._milliseconds,
                days = duration._days,
                months = duration._months
            ;
            milliseconds && mom._d.setTime(+mom._d + milliseconds * isAdding), (
                    days || months) && (
                    minutes = mom.minute(),
                    hours = mom.hour()),
                days && mom.date(mom.date() + days * isAdding),
                months && mom.month(mom.month() + months * isAdding),
                milliseconds && !ignoreUpdateOffset && moment.updateOffset(mom), (
                    days || months) && (
                    mom.minute(minutes),
                    mom.hour(hours))
        }
        function isArray(input) {
            return "[object Array]" === Object.prototype.toString.call(input)
        }
        function isDate(input) {
            return "[object Date]" === Object.prototype.toString.call(input)
        }
        function compareArrays(array1, array2, dontConvert) {
            var i, len = Math.min(array1.length, array2.length),
                lengthDiff = Math.abs(array1.length - array2.length),
                diffs = 0;
            for (
                i = 0; i < len; i++)(
                    dontConvert && array1[i] !== array2[i] || !dontConvert && toInt(array1[i]) !== toInt(array2[i])
                ) && diffs++
            ;
            return diffs + lengthDiff
        }
        function normalizeUnits(units) {
            if (
                units) {
                var lowered = units.toLowerCase().replace(/(.)s$/, "$1");
                units = unitAliases[units] || camelFunctions[lowered] || lowered
            }
            return units
        }
        function normalizeObjectUnits(inputObject) {
            var normalizedProp,
                prop, normalizedInput = {};
            for (
                prop in inputObject
            ) inputObject.hasOwnProperty(prop) && (
                normalizedProp = normalizeUnits(prop)) && (
                normalizedInput[normalizedProp] = inputObject[prop])
            ;
            return normalizedInput
        }
        function makeList(field) {
            var count, setter;
            if (
                0 === field.indexOf("week")
            ) count = 7,
                setter = "day";
            else {
                if (
                    0 !== field.indexOf("month")
                ) return;
                count = 12, setter = "month"
            }
            moment[field] = function(format, index) {
                var i, getter,
                    method = moment.fn._lang[field],
                    results = [];
                if (
                    "number" == typeof format && (
                        index = format,
                        format = undefined),
                    getter = function(i) {
                        var m = moment().utc().set(setter, i);
                        return method.call(moment.fn._lang, m, format || "")
                    },
                    null != index
                ) return getter(index);
                for (
                    i = 0; i < count; i++
                ) results.push(getter(i))
                ;
                return results
            }
        }
        function toInt(argumentForCoercion) {
            var coercedNumber = +argumentForCoercion,
                value = 0
            ;
            return 0 !== coercedNumber && isFinite(coercedNumber) && (
                    value = 0 <= coercedNumber ? Math.floor(coercedNumber
                    ) : Math.ceil(coercedNumber)),
                value
        }
        function daysInMonth(year, month) {
            return new Date(Date.UTC(year, month + 1, 0)).getUTCDate()
        }
        function daysInYear(year) {
            return isLeapYear(year) ? 366 : 365
        }
        function isLeapYear(year) {
            return year % 4 == 0 && year % 100 != 0 || year % 400 == 0
        }
        function checkOverflow(m) {
            var overflow;
            m._a && -2 === m._pf.overflow && (
                overflow = m._a[MONTH] < 0 || 11 < m._a[MONTH] ? MONTH : m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]
                ) ? DATE : m._a[HOUR] < 0 || 23 < m._a[HOUR] ? HOUR : m._a[MINUTE] < 0 || 59 < m._a[MINUTE] ? MINUTE : m._a[SECOND] < 0 || 59 < m._a[SECOND] ? SECOND : m._a[MILLISECOND] < 0 || 999 < m._a[MILLISECOND] ? MILLISECOND : -1,
                m._pf._overflowDayOfYear && (overflow < YEAR || DATE < overflow) && (
                    overflow = DATE),
                m._pf.overflow = overflow)
        }
        function initializeParsingFlags(config) {
            config._pf = {
                "empty": !1,
                "unusedTokens": [],
                "unusedInput": [],
                "overflow": -2,
                "charsLeftOver": 0,
                "nullInput": !1,
                "invalidMonth": null,
                "invalidFormat": !1,
                "userInvalidated": !1
            }
        }
        function isValid(m) {
            return null == m._isValid && (
                    m._isValid = !isNaN(m._d.getTime()
                    ) && m._pf.overflow < 0 && !m._pf.empty && !m._pf.invalidMonth && !m._pf.nullInput && !m._pf.invalidFormat && !m._pf.userInvalidated,
                    m._strict && (
                        m._isValid = m._isValid && 0 === m._pf.charsLeftOver && 0 === m._pf.unusedTokens.length)),
                m._isValid
        }
        function normalizeLanguage(key) {
            return key ? key.toLowerCase().replace("_", "-") : key
        }
        function loadLang(key, values) {
            return values.abbr = key,
                languages[key] || (
                    languages[key] = new Language),
                languages[key].set(values),
                languages[key]
        }
        function unloadLang(key) {
            delete languages[key]
        }
        function getLangDefinition(key) {
            var j, lang, next, split, i = 0,
                get = function(k) {
                    if (!languages[k] && hasModule) try {
                        require("./lang/" + k)
                    } catch (
                        e) {}
                    return languages[k]
                };
            if (
                !key
            ) return moment.fn._lang;
            if (
                !isArray(key)) {
                if (
                    lang = get(key)
                ) return lang
                ;
                key = [key]
            }
            for (
                ; i < key.length;) {
                for (
                    j = (split = normalizeLanguage(key[i]).split("-")).length,
                    next = (next = normalizeLanguage(key[i + 1])) ? next.split("-") : null; 0 < j;) {
                    if (
                        lang = get(split.slice(0, j).join("-"))
                    ) return lang;
                    if (
                        next && next.length >= j && compareArrays(split, next, !0) >= j - 1
                    ) break
                    ;
                    j--
                }
                i++
            }
            return moment.fn._lang
        }
        function removeFormattingTokens(input) {
            return input.match(/\[[\s\S]/) ? input.replace(/^\[|\]$/g, ""
            ) : input.replace(/\\/g, "")
        }
        function makeFormatFunction(format) {
            var i, length, array = format.match(formattingTokens);
            for (
                i = 0, length = array.length; i < length; i++
            ) formatTokenFunctions[array[i]] ? array[i] = formatTokenFunctions[array[i]] : array[i] = removeFormattingTokens(array[i]);
            return function(
                mom) {
                var output = "";
                for (
                    i = 0; i < length; i++
                ) output += array[i] instanceof Function ? array[i].call(mom, format) : array[i]
                ;
                return output
            }
        }
        function formatMoment(m, format) {
            return m.isValid() ? (
                format = expandFormat(format, m.lang()),
                formatFunctions[format] || (
                    formatFunctions[format] = makeFormatFunction(format)),
                formatFunctions[format](m)) : m.lang().invalidDate()
        }
        function expandFormat(format, lang) {
            function replaceLongDateFormatTokens(input) {
                return lang.longDateFormat(input) || input
            }
            var i = 5;
            for (
                localFormattingTokens.lastIndex = 0; 0 <= i && localFormattingTokens.test(format);
            ) format = format.replace(localFormattingTokens, replaceLongDateFormatTokens),
                localFormattingTokens.lastIndex = 0,
                i -= 1
            ;
            return format
        }
        function getParseRegexForToken(token, config) {
            switch (
                token) {
                case "DDDD":
                    return parseTokenThreeDigits;
                case "YYYY":
                case "GGGG":
                case "gggg":
                    return parseTokenFourDigits;
                case "YYYYY":
                case "GGGGG":
                case "ggggg":
                    return parseTokenSixDigits;
                case "S":
                case "SS":
                case "SSS":
                case "DDD":
                    return parseTokenOneToThreeDigits;
                case "MMM":
                case "MMMM":
                case "dd":
                case "ddd":
                case "dddd":
                    return parseTokenWord;
                case "a":
                case "A":
                    return getLangDefinition(config._l)._meridiemParse;
                case "X":
                    return parseTokenTimestampMs;
                case "Z":
                case "ZZ":
                    return parseTokenTimezone;
                case "T":
                    return parseTokenT;
                case "MM":
                case "DD":
                case "YY":
                case "GG":
                case "gg":
                case "HH":
                case "hh":
                case "mm":
                case "ss":
                case "M":
                case "D":
                case "d":
                case "H":
                case "h":
                case "m":
                case "s":
                case "w":
                case "ww":
                case "W":
                case "WW":
                case "e":
                case "E":
                    return parseTokenOneOrTwoDigits;
                default:
                    return new RegExp(regexpEscape(unescapeFormat(token.replace("\\", "")), "i"))
            }
        }
        function timezoneMinutesFromString(string) {
            var parts = ((parseTokenTimezone.exec(string) || [])[0] + "").match(parseTimezoneChunker) || ["-", 0, 0],
                minutes = 60 * parts[1] + toInt(parts[2])
            ;
            return "+" === parts[0] ? -minutes : minutes
        }
        function addTimeToArrayFromToken(token, input, config) {
            var a, datePartArray = config._a;
            switch (
                token) {
                case "M":
                case "MM":
                    null != input && (
                        datePartArray[MONTH] = toInt(input) - 1)
                    ;
                    break;
                case "MMM":
                case "MMMM":
                    null != (a = getLangDefinition(config._l).monthsParse(input)
                    ) ? datePartArray[MONTH] = a : config._pf.invalidMonth = input
                    ;
                    break
                    ;
                case "D":
                case "DD":
                    null != input && (
                        datePartArray[DATE] = toInt(input))
                    ;
                    break
                    ;
                case "DDD":
                case "DDDD":
                    null != input && (
                        config._dayOfYear = toInt(input))
                    ;
                    break
                    ;
                case "YY":
                    datePartArray[YEAR] = toInt(input) + (68 < toInt(input) ? 1900 : 2e3);
                    break;
                case "YYYY":
                case "YYYYY":
                    datePartArray[YEAR] = toInt(input);
                    break
                    ;
                case "a":
                case "A":
                    config._isPm = getLangDefinition(config._l).isPM(input);
                    break
                    ;
                case "H":
                case "HH":
                case "h":
                case "hh":
                    datePartArray[HOUR] = toInt(input);
                    break
                    ;
                case "m":
                case "mm":
                    datePartArray[MINUTE] = toInt(input);
                    break
                    ;
                case "s":
                case "ss":
                    datePartArray[SECOND] = toInt(input);
                    break
                    ;
                case "S":
                case "SS":
                case "SSS":
                    datePartArray[MILLISECOND] = toInt(1e3 * ("0." + input));
                    break
                    ;
                case "X":
                    config._d = new Date(1e3 * parseFloat(input));
                    break
                    ;
                case "Z":
                case "ZZ":
                    config._useUTC = !0,
                        config._tzm = timezoneMinutesFromString(input);
                    break;
                case "w":
                case "ww":
                case "W":
                case "WW":
                case "d":
                case "dd":
                case "ddd":
                case "dddd":
                case "e":
                case "E":
                    token = token.substr(0, 1)
                    ;
                case "gg":
                case "gggg":
                case "GG":
                case "GGGG":
                case "GGGGG":
                    token = token.substr(0, 2),
                        input && (
                            config._w = config._w || {},
                            config._w[token] = input)
            }
        }
        function dateFromConfig(config) {
            var i, date, currentDate,
                yearToUse, fixYear, w, temp, lang, weekday, week, input = [];
            if (
                !config._d) {
                for (
                    currentDate = currentDateArray(config),
                    config._w && null == config._a[DATE] && null == config._a[MONTH] && (
                        fixYear = function(val) {
                            return val ? val.length < 3 ? 68 < parseInt(val, 10) ? "19" + val : "20" + val : val : null == config._a[YEAR] ? moment().weekYear() : config._a[YEAR]
                        },
                        null != (w = config._w).GG || null != w.W || null != w.E ? temp = dayOfYearFromWeeks(fixYear(w.GG), w.W || 1, w.E, 4, 1) : (
                            lang = getLangDefinition(config._l),
                            weekday = null != w.d ? parseWeekday(w.d, lang) : null != w.e ? parseInt(w.e, 10) + lang._week.dow : 0,
                            week = parseInt(w.w, 10) || 1,
                            null != w.d && weekday < lang._week.dow && week++,
                            temp = dayOfYearFromWeeks(fixYear(w.gg), week, weekday, lang._week.doy, lang._week.dow)),
                        config._a[YEAR] = temp.year,
                        config._dayOfYear = temp.dayOfYear),
                    config._dayOfYear && (
                        yearToUse = null == config._a[YEAR] ? currentDate[YEAR] : config._a[YEAR],
                        config._dayOfYear > daysInYear(yearToUse) && (
                            config._pf._overflowDayOfYear = !0),
                        date = makeUTCDate(yearToUse, 0, config._dayOfYear),
                        config._a[MONTH] = date.getUTCMonth(),
                        config._a[DATE] = date.getUTCDate()),
                    i = 0; i < 3 && null == config._a[i]; ++i
                ) config._a[i] = input[i] = currentDate[i];
                for (
                    ; i < 7; i++
                ) config._a[i] = input[i] = null == config._a[i] ? 2 === i ? 1 : 0 : config._a[i]
                ;
                input[HOUR] += toInt((config._tzm || 0) / 60),
                    input[MINUTE] += toInt((config._tzm || 0) % 60),
                    config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input)
            }
        }
        function dateFromObject(config) {
            var normalizedInput
            ;
            config._d || (
                normalizedInput = normalizeObjectUnits(config._i),
                config._a = [
                    normalizedInput.year,
                    normalizedInput.month,
                    normalizedInput.day,
                    normalizedInput.hour,
                    normalizedInput.minute,
                    normalizedInput.second,
                    normalizedInput.millisecond
                ],
                dateFromConfig(config))
        }
        function currentDateArray(config) {
            var now = new Date;
            return config._useUTC ? [
                now.getUTCFullYear(),
                now.getUTCMonth(),
                now.getUTCDate()
            ] : [
                now.getFullYear(), now.getMonth(), now.getDate()
            ]
        }
        function makeDateFromStringAndFormat(config) {
            config._a = [],
                config._pf.empty = !0
            ;
            var i, parsedInput, tokens, token, skipped, lang = getLangDefinition(config._l),
                string = "" + config._i,
                stringLength = string.length,
                totalParsedInputLength = 0;
            for (
                tokens = expandFormat(config._f, lang).match(formattingTokens) || [],
                i = 0; i < tokens.length; i++)(
                    parsedInput = (getParseRegexForToken(token = tokens[i], config).exec(string) || [])[0]) && (
                    0 < (skipped = string.substr(0, string.indexOf(parsedInput))).length && config._pf.unusedInput.push(skipped),
                    string = string.slice(string.indexOf(parsedInput) + parsedInput.length),
                    totalParsedInputLength += parsedInput.length),
                formatTokenFunctions[token] ? (
                    parsedInput ? config._pf.empty = !1 : config._pf.unusedTokens.push(token),
                    addTimeToArrayFromToken(token, parsedInput, config)
                ) : config._strict && !parsedInput && config._pf.unusedTokens.push(token)
            ;
            config._pf.charsLeftOver = stringLength - totalParsedInputLength,
                0 < string.length && config._pf.unusedInput.push(string),
                config._isPm && config._a[HOUR] < 12 && (
                    config._a[HOUR] += 12),
                !1 === config._isPm && 12 === config._a[HOUR] && (
                    config._a[HOUR] = 0),
                dateFromConfig(config),
                checkOverflow(config)
        }
        function unescapeFormat(s) {
            return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(matched, p1, p2, p3, p4) {
                return p1 || p2 || p3 || p4
            })
        }
        function regexpEscape(s) {
            return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
        }
        function makeDateFromStringAndArray(config) {
            var tempConfig,
                bestMoment,
                scoreToBeat,
                i,
                currentScore;
            if (
                0 === config._f.length
            ) return config._pf.invalidFormat = !0, void(
                config._d = new Date(NaN)
            );
            for (
                i = 0; i < config._f.length; i++
            ) currentScore = 0,
                initializeParsingFlags(tempConfig = extend({}, config)),
                tempConfig._f = config._f[i],
                makeDateFromStringAndFormat(tempConfig),
                isValid(tempConfig) && (
                    currentScore += tempConfig._pf.charsLeftOver,
                    currentScore += 10 * tempConfig._pf.unusedTokens.length,
                    tempConfig._pf.score = currentScore, (
                        null == scoreToBeat || currentScore < scoreToBeat) && (
                        scoreToBeat = currentScore,
                        bestMoment = tempConfig))
            ;
            extend(config, bestMoment || tempConfig)
        }
        function makeDateFromString(config) {
            var i,
                string = config._i,
                match = isoRegex.exec(string);
            if (
                match) {
                for (
                    i = 4; 0 < i; i--)
                    if (
                        match[i]) {
                        config._f = isoDates[i - 1] + (match[6] || " ");
                        break
                    }
                for (
                    i = 0; i < 4; i++)
                    if (
                        isoTimes[i][1].exec(string)) {
                        config._f += isoTimes[i][0];
                        break
                    }
                parseTokenTimezone.exec(string) && (
                        config._f += " Z"),
                    makeDateFromStringAndFormat(config)
            } else config._d = new Date(string)
        }
        function makeDateFromInput(config) {
            var input = config._i,
                matched = aspNetJsonRegex.exec(input)
            ;
            input === undefined ? config._d = new Date : matched ? config._d = new Date(+matched[1]
            ) : "string" == typeof input ? makeDateFromString(config) : isArray(input) ? (
                config._a = input.slice(0),
                dateFromConfig(config)
            ) : isDate(input) ? config._d = new Date(+input
            ) : "object" == typeof input ? dateFromObject(config
            ) : config._d = new Date(input)
        }
        function makeDate(y, m, d, h, M, s, ms) {
            var date = new Date(y, m, d, h, M, s, ms)
            ;
            return y < 1970 && date.setFullYear(y),
                date
        }
        function makeUTCDate(y) {
            var date = new Date(Date.UTC.apply(null, arguments))
            ;
            return y < 1970 && date.setUTCFullYear(y),
                date
        }
        function parseWeekday(input, language) {
            if (
                "string" == typeof input)
                if (
                    isNaN(input)) {
                    if (
                        "number" != typeof(input = language.weekdaysParse(input))
                    ) return null
                } else input = parseInt(input, 10)
                ;
            return input
        }
        function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {
            return lang.relativeTime(number || 1, !!withoutSuffix, string, isFuture)
        }
        function relativeTime(milliseconds, withoutSuffix, lang) {
            var seconds = round(Math.abs(milliseconds) / 1e3),
                minutes = round(seconds / 60),
                hours = round(minutes / 60),
                days = round(hours / 24),
                years = round(days / 365),
                args = seconds < 45 && ["s", seconds] || 1 === minutes && ["m"] || minutes < 45 && ["mm", minutes] || 1 === hours && ["h"] || hours < 22 && ["hh", hours] || 1 === days && ["d"] || days <= 25 && ["dd", days] || days <= 45 && ["M"] || days < 345 && ["MM", round(days / 30)] || 1 === years && ["y"] || ["yy", years];
            return args[2] = withoutSuffix,
                args[3] = 0 < milliseconds,
                args[4] = lang,
                substituteTimeAgo.apply({}, args)
        }
        function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
            var adjustedMoment, end = firstDayOfWeekOfYear - firstDayOfWeek,
                daysToDayOfWeek = firstDayOfWeekOfYear - mom.day()
            ;
            return end < daysToDayOfWeek && (
                    daysToDayOfWeek -= 7),
                daysToDayOfWeek < end - 7 && (
                    daysToDayOfWeek += 7),
                adjustedMoment = moment(mom).add("d", daysToDayOfWeek), {
                    "week": Math.ceil(adjustedMoment.dayOfYear() / 7),
                    "year": adjustedMoment.year()
                }
        }
        function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {
            var dayOfYear, d = new Date(Date.UTC(year, 0)).getUTCDay();
            return {
                "year": 0 < (dayOfYear = 7 * (week - 1) + ((weekday = null != weekday ? weekday : firstDayOfWeek) - firstDayOfWeek) + (firstDayOfWeek - d + (firstDayOfWeekOfYear < d ? 7 : 0)) + 1) ? year : year - 1,
                "dayOfYear": 0 < dayOfYear ? dayOfYear : daysInYear(year - 1) + dayOfYear
            }
        }
        function makeMoment(config) {
            var input = config._i,
                format = config._f
            ;
            return "undefined" == typeof config._pf && initializeParsingFlags(config),
                null === input ? moment.invalid({
                    "nullInput": !0
                }) : (
                    "string" == typeof input && (
                        config._i = input = getLangDefinition().preparse(input)),
                    moment.isMoment(input) ? (
                        config = extend({}, input)
                    )._d = new Date(+input._d
                    ) : format ? isArray(format) ? makeDateFromStringAndArray(config
                    ) : makeDateFromStringAndFormat(config
                    ) : makeDateFromInput(config),
                    new Moment(config))
        }
        function makeGetterAndSetter(name, key) {
            moment.fn[name] = moment.fn[name + "s"] = function(input) {
                var utc = this._isUTC ? "UTC" : "";
                return null != input ? (
                    this._d["set" + utc + key](input),
                    moment.updateOffset(this),
                    this
                ) : this._d["get" + utc + key]()
            }
        }
        function makeDurationGetter(name) {
            moment.duration.fn[name] = function() {
                return this._data[name]
            }
        }
        function makeDurationAsGetter(name, factor) {
            moment.duration.fn["as" + name] = function() {
                return +this / factor
            }
        }
        function makeGlobal() {
            "undefined" == typeof ender && (
                this.moment = moment)
        }
        for (var moment, i, VERSION = "2.3.1", round = Math.round, YEAR = 0, MONTH = 1, DATE = 2, HOUR = 3, MINUTE = 4, SECOND = 5, MILLISECOND = 6, languages = {}, hasModule = "undefined" != typeof module && module.exports, aspNetJsonRegex = /^\/?Date\((\-?\d+)/i, aspNetTimeSpanJsonRegex = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g, localFormattingTokens = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, parseTokenOneOrTwoDigits = /\d\d?/, parseTokenOneToThreeDigits = /\d{1,3}/, parseTokenThreeDigits = /\d{3}/, parseTokenFourDigits = /\d{1,4}/, parseTokenSixDigits = /[+\-]?\d{1,6}/, parseTokenWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, parseTokenTimezone = /Z|[\+\-]\d\d:?\d\d/i, parseTokenT = /T/i, parseTokenTimestampMs = /[\+\-]?\d+(\.\d{1,3})?/, isoRegex = /^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?$/, isoFormat = "YYYY-MM-DDTHH:mm:ssZ", isoDates = ["YYYY-MM-DD", "GGGG-[W]WW", "GGGG-[W]WW-E", "YYYY-DDD"], isoTimes = [
                ["HH:mm:ss.S", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/],
                ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
                ["HH:mm", /(T| )\d\d:\d\d/],
                ["HH", /(T| )\d\d/]
            ], parseTimezoneChunker = /([\+\-]|\d\d)/gi, proxyGettersAndSetters = "Date|Hours|Minutes|Seconds|Milliseconds".split("|"), unitMillisecondFactors = {
                "Milliseconds": 1,
                "Seconds": 1e3,
                "Minutes": 6e4,
                "Hours": 36e5,
                "Days": 864e5,
                "Months": 2592e6,
                "Years": 31536e6
            }, unitAliases = {
                "ms": "millisecond",
                "s": "second",
                "m": "minute",
                "h": "hour",
                "d": "day",
                "D": "date",
                "w": "week",
                "W": "isoWeek",
                "M": "month",
                "y": "year",
                "DDD": "dayOfYear",
                "e": "weekday",
                "E": "isoWeekday",
                "gg": "weekYear",
                "GG": "isoWeekYear"
            }, camelFunctions = {
                "dayofyear": "dayOfYear",
                "isoweekday": "isoWeekday",
                "isoweek": "isoWeek",
                "weekyear": "weekYear",
                "isoweekyear": "isoWeekYear"
            }, formatFunctions = {}, ordinalizeTokens = "DDD w W M D d".split(" "), paddedTokens = "M D H h m s w W".split(" "), formatTokenFunctions = {
                "M": function() {
                    return this.month() + 1
                },
                "MMM": function(format) {
                    return this.lang().monthsShort(this, format)
                },
                "MMMM": function(format) {
                    return this.lang().months(this, format)
                },
                "D": function() {
                    return this.date()
                },
                "DDD": function() {
                    return this.dayOfYear()
                },
                "d": function() {
                    return this.day()
                },
                "dd": function(format) {
                    return this.lang().weekdaysMin(this, format)
                },
                "ddd": function(format) {
                    return this.lang().weekdaysShort(this, format)
                },
                "dddd": function(format) {
                    return this.lang().weekdays(this, format)
                },
                "w": function() {
                    return this.week()
                },
                "W": function() {
                    return this.isoWeek()
                },
                "YY": function() {
                    return leftZeroFill(this.year() % 100, 2)
                },
                "YYYY": function() {
                    return leftZeroFill(this.year(), 4)
                },
                "YYYYY": function() {
                    return leftZeroFill(this.year(), 5)
                },
                "gg": function() {
                    return leftZeroFill(this.weekYear() % 100, 2)
                },
                "gggg": function() {
                    return this.weekYear()
                },
                "ggggg": function() {
                    return leftZeroFill(this.weekYear(), 5)
                },
                "GG": function() {
                    return leftZeroFill(this.isoWeekYear() % 100, 2)
                },
                "GGGG": function() {
                    return this.isoWeekYear()
                },
                "GGGGG": function() {
                    return leftZeroFill(this.isoWeekYear(), 5)
                },
                "e": function() {
                    return this.weekday()
                },
                "E": function() {
                    return this.isoWeekday()
                },
                "a": function() {
                    return this.lang().meridiem(this.hours(), this.minutes(), !0)
                },
                "A": function() {
                    return this.lang().meridiem(this.hours(), this.minutes(), !1)
                },
                "H": function() {
                    return this.hours()
                },
                "h": function() {
                    return this.hours() % 12 || 12
                },
                "m": function() {
                    return this.minutes()
                },
                "s": function() {
                    return this.seconds()
                },
                "S": function() {
                    return toInt(this.milliseconds() / 100)
                },
                "SS": function() {
                    return leftZeroFill(toInt(this.milliseconds() / 10), 2)
                },
                "SSS": function() {
                    return leftZeroFill(this.milliseconds(), 3)
                },
                "Z": function() {
                    var a = -this.zone(),
                        b = "+";
                    return a < 0 && (a = -a, b = "-"), b + leftZeroFill(toInt(a / 60), 2) + ":" + leftZeroFill(toInt(a) % 60, 2)
                },
                "ZZ": function() {
                    var a = -this.zone(),
                        b = "+";
                    return a < 0 && (a = -a, b = "-"), b + leftZeroFill(toInt(10 * a / 6), 4)
                },
                "z": function() {
                    return this.zoneAbbr()
                },
                "zz": function() {
                    return this.zoneName()
                },
                "X": function() {
                    return this.unix()
                }
            }, lists = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"]; ordinalizeTokens.length;) i = ordinalizeTokens.pop(), formatTokenFunctions[i + "o"] = ordinalizeToken(formatTokenFunctions[i], i);
        for (; paddedTokens.length;) i = paddedTokens.pop(), formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);
        for (formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3), extend(Language.prototype, {
                "set": function(config) {
                    var prop, i;
                    for (i in config) "function" == typeof(prop = config[i]) ? this[i] = prop : this["_" + i] = prop
                },
                "_months": "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                "months": function(m) {
                    return this._months[m.month()]
                },
                "_monthsShort": "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                "monthsShort": function(m) {
                    return this._monthsShort[m.month()]
                },
                "monthsParse": function(monthName) {
                    var i, mom, regex;
                    for (this._monthsParse || (this._monthsParse = []), i = 0; i < 12; i++)
                        if (this._monthsParse[i] || (mom = moment.utc([2e3, i]), regex = "^" + this.months(mom, "") + "|^" + this.monthsShort(mom, ""), this._monthsParse[i] = new RegExp(regex.replace(".", ""), "i")), this._monthsParse[i].test(monthName)) return i
                },
                "_weekdays": "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                "weekdays": function(m) {
                    return this._weekdays[m.day()]
                },
                "_weekdaysShort": "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                "weekdaysShort": function(m) {
                    return this._weekdaysShort[m.day()]
                },
                "_weekdaysMin": "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                "weekdaysMin": function(m) {
                    return this._weekdaysMin[m.day()]
                },
                "weekdaysParse": function(weekdayName) {
                    var i, mom, regex;
                    for (this._weekdaysParse || (this._weekdaysParse = []), i = 0; i < 7; i++)
                        if (this._weekdaysParse[i] || (mom = moment([2e3, 1]).day(i), regex = "^" + this.weekdays(mom, "") + "|^" + this.weekdaysShort(mom, "") + "|^" + this.weekdaysMin(mom, ""), this._weekdaysParse[i] = new RegExp(regex.replace(".", ""), "i")), this._weekdaysParse[i].test(weekdayName)) return i
                },
                "_longDateFormat": {
                    "LT": "h:mm A",
                    "L": "MM/DD/YYYY",
                    "LL": "MMMM D YYYY",
                    "LLL": "MMMM D YYYY LT",
                    "LLLL": "dddd, MMMM D YYYY LT"
                },
                "longDateFormat": function(key) {
                    var output = this._longDateFormat[key];
                    return !output && this._longDateFormat[key.toUpperCase()] && (output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(val) {
                        return val.slice(1)
                    }), this._longDateFormat[key] = output), output
                },
                "isPM": function(input) {
                    return "p" === (input + "").toLowerCase().charAt(0)
                },
                "_meridiemParse": /[ap]\.?m?\.?/i,
                "meridiem": function(hours, minutes, isLower) {
                    return 11 < hours ? isLower ? "pm" : "PM" : isLower ? "am" : "AM"
                },
                "_calendar": {
                    "sameDay": "[Today at] LT",
                    "nextDay": "[Tomorrow at] LT",
                    "nextWeek": "dddd [at] LT",
                    "lastDay": "[Yesterday at] LT",
                    "lastWeek": "[Last] dddd [at] LT",
                    "sameElse": "L"
                },
                "calendar": function(key, mom) {
                    var output = this._calendar[key];
                    return "function" == typeof output ? output.apply(mom) : output
                },
                "_relativeTime": {
                    "future": "in %s",
                    "past": "%s ago",
                    "s": "a few seconds",
                    "m": "a minute",
                    "mm": "%d minutes",
                    "h": "an hour",
                    "hh": "%d hours",
                    "d": "a day",
                    "dd": "%d days",
                    "M": "a month",
                    "MM": "%d months",
                    "y": "a year",
                    "yy": "%d years"
                },
                "relativeTime": function(number, withoutSuffix, string, isFuture) {
                    var output = this._relativeTime[string];
                    return "function" == typeof output ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number)
                },
                "pastFuture": function(diff, output) {
                    var format = this._relativeTime[0 < diff ? "future" : "past"];
                    return "function" == typeof format ? format(output) : format.replace(/%s/i, output)
                },
                "ordinal": function(number) {
                    return this._ordinal.replace("%d", number)
                },
                "_ordinal": "%d",
                "preparse": function(string) {
                    return string
                },
                "postformat": function(string) {
                    return string
                },
                "week": function(mom) {
                    return weekOfYear(mom, this._week.dow, this._week.doy).week
                },
                "_week": {
                    "dow": 0,
                    "doy": 6
                },
                "_invalidDate": "Invalid date",
                "invalidDate": function() {
                    return this._invalidDate
                }
            }), (moment = function(input, format, lang, strict) {
                return "boolean" == typeof lang && (strict = lang, lang = undefined), makeMoment({
                    "_i": input,
                    "_f": format,
                    "_l": lang,
                    "_strict": strict,
                    "_isUTC": !1
                })
            }).utc = function(input, format, lang, strict) {
                return "boolean" == typeof lang && (strict = lang, lang = undefined), makeMoment({
                    "_useUTC": !0,
                    "_isUTC": !0,
                    "_l": lang,
                    "_i": input,
                    "_f": format,
                    "_strict": strict
                }).utc()
            }, moment.unix = function(input) {
                return moment(1e3 * input)
            }, moment.duration = function(input, key) {
                var sign, ret, parseIso, isDuration = moment.isDuration(input),
                    isNumber = "number" == typeof input,
                    duration = isDuration ? input._input : isNumber ? {} : input,
                    match = null;
                return isNumber ? key ? duration[key] = input : duration.milliseconds = input : (match = aspNetTimeSpanJsonRegex.exec(input)) ? (sign = "-" === match[1] ? -1 : 1, duration = {
                    "y": 0,
                    "d": toInt(match[DATE]) * sign,
                    "h": toInt(match[HOUR]) * sign,
                    "m": toInt(match[MINUTE]) * sign,
                    "s": toInt(match[SECOND]) * sign,
                    "ms": toInt(match[MILLISECOND]) * sign
                }) : (match = isoDurationRegex.exec(input)) && (sign = "-" === match[1] ? -1 : 1, duration = {
                    "y": (parseIso = function(inp) {
                        var res = inp && parseFloat(inp.replace(",", "."));
                        return (isNaN(res) ? 0 : res) * sign
                    })(match[2]),
                    "M": parseIso(match[3]),
                    "d": parseIso(match[4]),
                    "h": parseIso(match[5]),
                    "m": parseIso(match[6]),
                    "s": parseIso(match[7]),
                    "w": parseIso(match[8])
                }), ret = new Duration(duration), isDuration && input.hasOwnProperty("_lang") && (ret._lang = input._lang), ret
            }, moment.version = VERSION, moment.defaultFormat = isoFormat, moment.updateOffset = function() {}, moment.lang = function(key, values) {
                return key ? (values ? loadLang(normalizeLanguage(key), values) : null === values ? (unloadLang(key), key = "en") : languages[key] || getLangDefinition(key), (moment.duration.fn._lang = moment.fn._lang = getLangDefinition(key))._abbr) : moment.fn._lang._abbr
            }, moment.langData = function(key) {
                return key && key._lang && key._lang._abbr && (key = key._lang._abbr), getLangDefinition(key)
            }, moment.isMoment = function(obj) {
                return obj instanceof Moment
            }, moment.isDuration = function(obj) {
                return obj instanceof Duration
            }, i = lists.length - 1; 0 <= i; --i) makeList(lists[i]);
        for (moment.normalizeUnits = function(units) {
                return normalizeUnits(units)
            }, moment.invalid = function(flags) {
                var m = moment.utc(NaN);
                return null != flags ? extend(m._pf, flags) : m._pf.userInvalidated = !0, m
            }, moment.parseZone = function(input) {
                return moment(input).parseZone()
            }, extend(moment.fn = Moment.prototype, {
                "clone": function() {
                    return moment(this)
                },
                "valueOf": function() {
                    return +this._d + 6e4 * (this._offset || 0)
                },
                "unix": function() {
                    return Math.floor(+this / 1e3)
                },
                "toString": function() {
                    return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
                },
                "toDate": function() {
                    return this._offset ? new Date(+this) : this._d
                },
                "toISOString": function() {
                    return formatMoment(moment(this).utc(), "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
                },
                "toArray": function() {
                    var m = this;
                    return [m.year(), m.month(), m.date(), m.hours(), m.minutes(), m.seconds(), m.milliseconds()]
                },
                "isValid": function() {
                    return isValid(this)
                },
                "isDSTShifted": function() {
                    return !!this._a && (this.isValid() && 0 < compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()))
                },
                "parsingFlags": function() {
                    return extend({}, this._pf)
                },
                "invalidAt": function() {
                    return this._pf.overflow
                },
                "utc": function() {
                    return this.zone(0)
                },
                "local": function() {
                    return this.zone(0), this._isUTC = !1, this
                },
                "format": function(inputString) {
                    var output = formatMoment(this, inputString || moment.defaultFormat);
                    return this.lang().postformat(output)
                },
                "add": function(input, val) {
                    return addOrSubtractDurationFromMoment(this, "string" == typeof input ? moment.duration(+val, input) : moment.duration(input, val), 1), this
                },
                "subtract": function(input, val) {
                    return addOrSubtractDurationFromMoment(this, "string" == typeof input ? moment.duration(+val, input) : moment.duration(input, val), -1), this
                },
                "diff": function(input, units, asFloat) {
                    var diff, output, that = this._isUTC ? moment(input).zone(this._offset || 0) : moment(input).local(),
                        zoneDiff = 6e4 * (this.zone() - that.zone());
                    return "year" === (units = normalizeUnits(units)) || "month" === units ? (diff = 432e5 * (this.daysInMonth() + that.daysInMonth()), output = 12 * (this.year() - that.year()) + (this.month() - that.month()), output += (this - moment(this).startOf("month") - (that - moment(that).startOf("month"))) / diff, output -= 6e4 * (this.zone() - moment(this).startOf("month").zone() - (that.zone() - moment(that).startOf("month").zone())) / diff, "year" === units && (output /= 12)) : (diff = this - that, output = "second" === units ? diff / 1e3 : "minute" === units ? diff / 6e4 : "hour" === units ? diff / 36e5 : "day" === units ? (diff - zoneDiff) / 864e5 : "week" === units ? (diff - zoneDiff) / 6048e5 : diff), asFloat ? output : absRound(output)
                },
                "from": function(time, withoutSuffix) {
                    return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)
                },
                "fromNow": function(withoutSuffix) {
                    return this.from(moment(), withoutSuffix)
                },
                "calendar": function() {
                    var diff = this.diff(moment().zone(this.zone()).startOf("day"), "days", !0),
                        format = diff < -6 ? "sameElse" : diff < -1 ? "lastWeek" : diff < 0 ? "lastDay" : diff < 1 ? "sameDay" : diff < 2 ? "nextDay" : diff < 7 ? "nextWeek" : "sameElse";
                    return this.format(this.lang().calendar(format, this))
                },
                "isLeapYear": function() {
                    return isLeapYear(this.year())
                },
                "isDST": function() {
                    return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone()
                },
                "day": function(input) {
                    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                    return null != input ? (input = parseWeekday(input, this.lang()), this.add({
                        "d": input - day
                    })) : day
                },
                "month": function(input) {
                    var dayOfMonth, utc = this._isUTC ? "UTC" : "";
                    return null != input ? ("string" == typeof input && "number" != typeof(input = this.lang().monthsParse(input)) || (dayOfMonth = this.date(), this.date(1), this._d["set" + utc + "Month"](input), this.date(Math.min(dayOfMonth, this.daysInMonth())), moment.updateOffset(this)), this) : this._d["get" + utc + "Month"]()
                },
                "startOf": function(units) {
                    switch (units = normalizeUnits(units)) {
                        case "year":
                            this.month(0);
                        case "month":
                            this.date(1);
                        case "week":
                        case "isoWeek":
                        case "day":
                            this.hours(0);
                        case "hour":
                            this.minutes(0);
                        case "minute":
                            this.seconds(0);
                        case "second":
                            this.milliseconds(0)
                    }
                    return "week" === units ? this.weekday(0) : "isoWeek" === units && this.isoWeekday(1), this
                },
                "endOf": function(units) {
                    return units = normalizeUnits(units), this.startOf(units).add("isoWeek" === units ? "week" : units, 1).subtract("ms", 1)
                },
                "isAfter": function(input, units) {
                    return units = void 0 !== units ? units : "millisecond", +this.clone().startOf(units) > +moment(input).startOf(units)
                },
                "isBefore": function(input, units) {
                    return units = void 0 !== units ? units : "millisecond", +this.clone().startOf(units) < +moment(input).startOf(units)
                },
                "isSame": function(input, units) {
                    return units = void 0 !== units ? units : "millisecond", +this.clone().startOf(units) == +moment(input).startOf(units)
                },
                "min": function(other) {
                    return (other = moment.apply(null, arguments)) < this ? this : other
                },
                "max": function(other) {
                    return this < (other = moment.apply(null, arguments)) ? this : other
                },
                "zone": function(input) {
                    var offset = this._offset || 0;
                    return null == input ? this._isUTC ? offset : this._d.getTimezoneOffset() : ("string" == typeof input && (input = timezoneMinutesFromString(input)), Math.abs(input) < 16 && (input *= 60), this._offset = input, this._isUTC = !0, offset !== input && addOrSubtractDurationFromMoment(this, moment.duration(offset - input, "m"), 1, !0), this)
                },
                "zoneAbbr": function() {
                    return this._isUTC ? "UTC" : ""
                },
                "zoneName": function() {
                    return this._isUTC ? "Coordinated Universal Time" : ""
                },
                "parseZone": function() {
                    return "string" == typeof this._i && this.zone(this._i), this
                },
                "hasAlignedHourOffset": function(input) {
                    return input = input ? moment(input).zone() : 0, (this.zone() - input) % 60 == 0
                },
                "daysInMonth": function() {
                    return daysInMonth(this.year(), this.month())
                },
                "dayOfYear": function(input) {
                    var dayOfYear = round((moment(this).startOf("day") - moment(this).startOf("year")) / 864e5) + 1;
                    return null == input ? dayOfYear : this.add("d", input - dayOfYear)
                },
                "weekYear": function(input) {
                    var year = weekOfYear(this, this.lang()._week.dow, this.lang()._week.doy).year;
                    return null == input ? year : this.add("y", input - year)
                },
                "isoWeekYear": function(input) {
                    var year = weekOfYear(this, 1, 4).year;
                    return null == input ? year : this.add("y", input - year)
                },
                "week": function(input) {
                    var week = this.lang().week(this);
                    return null == input ? week : this.add("d", 7 * (input - week))
                },
                "isoWeek": function(input) {
                    var week = weekOfYear(this, 1, 4).week;
                    return null == input ? week : this.add("d", 7 * (input - week))
                },
                "weekday": function(input) {
                    var weekday = (this.day() + 7 - this.lang()._week.dow) % 7;
                    return null == input ? weekday : this.add("d", input - weekday)
                },
                "isoWeekday": function(input) {
                    return null == input ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7)
                },
                "get": function(units) {
                    return this[units = normalizeUnits(units)]()
                },
                "set": function(units, value) {
                    return "function" == typeof this[units = normalizeUnits(units)] && this[units](value), this
                },
                "lang": function(key) {
                    return key === undefined ? this._lang : (this._lang = getLangDefinition(key), this)
                }
            }), i = 0; i < proxyGettersAndSetters.length; i++) makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/, ""), proxyGettersAndSetters[i]);
        for (i in makeGetterAndSetter("year", "FullYear"), moment.fn.days = moment.fn.day, moment.fn.months = moment.fn.month, moment.fn.weeks = moment.fn.week, moment.fn.isoWeeks = moment.fn.isoWeek, moment.fn.toJSON = moment.fn.toISOString, extend(moment.duration.fn = Duration.prototype, {
                "_bubble": function() {
                    var seconds, minutes, hours, years, milliseconds = this._milliseconds,
                        days = this._days,
                        months = this._months,
                        data = this._data;
                    data.milliseconds = milliseconds % 1e3, seconds = absRound(milliseconds / 1e3), data.seconds = seconds % 60, minutes = absRound(seconds / 60), data.minutes = minutes % 60, hours = absRound(minutes / 60), data.hours = hours % 24, days += absRound(hours / 24), data.days = days % 30, months += absRound(days / 30), data.months = months % 12, years = absRound(months / 12), data.years = years
                },
                "weeks": function() {
                    return absRound(this.days() / 7)
                },
                "valueOf": function() {
                    return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * toInt(this._months / 12)
                },
                "humanize": function(withSuffix) {
                    var difference = +this,
                        output = relativeTime(difference, !withSuffix, this.lang());
                    return withSuffix && (output = this.lang().pastFuture(difference, output)), this.lang().postformat(output)
                },
                "add": function(input, val) {
                    var dur = moment.duration(input, val);
                    return this._milliseconds += dur._milliseconds, this._days += dur._days, this._months += dur._months, this._bubble(), this
                },
                "subtract": function(input, val) {
                    var dur = moment.duration(input, val);
                    return this._milliseconds -= dur._milliseconds, this._days -= dur._days, this._months -= dur._months, this._bubble(), this
                },
                "get": function(units) {
                    return this[(units = normalizeUnits(units)).toLowerCase() + "s"]()
                },
                "as": function(units) {
                    return this["as" + (units = normalizeUnits(units)).charAt(0).toUpperCase() + units.slice(1) + "s"]()
                },
                "lang": moment.fn.lang,
                "toIsoString": function() {
                    var years = Math.abs(this.years()),
                        months = Math.abs(this.months()),
                        days = Math.abs(this.days()),
                        hours = Math.abs(this.hours()),
                        minutes = Math.abs(this.minutes()),
                        seconds = Math.abs(this.seconds() + this.milliseconds() / 1e3);
                    return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (years ? years + "Y" : "") + (months ? months + "M" : "") + (days ? days + "D" : "") + (hours || minutes || seconds ? "T" : "") + (hours ? hours + "H" : "") + (minutes ? minutes + "M" : "") + (seconds ? seconds + "S" : "") : "P0D"
                }
            }), unitMillisecondFactors) unitMillisecondFactors.hasOwnProperty(i) && (makeDurationAsGetter(i, unitMillisecondFactors[i]), makeDurationGetter(i.toLowerCase()));
        makeDurationAsGetter("Weeks", 6048e5), moment.duration.fn.asMonths = function() {
                return (+this - 31536e6 * this.years()) / 2592e6 + 12 * this.years()
            }, moment.lang("en", {
                "ordinal": function(number) {
                    var b = number % 10;
                    return number + (1 === toInt(number % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th")
                }
            }),
            hasModule ? (
                module.exports = moment,
                makeGlobal()
            ) : "function" == typeof define && define.amd ? define("moment", function(require, exports, module) {
                    return !0 !== module.config().noGlobal && makeGlobal(),
                        moment
                }
            ) : makeGlobal()
    }.call(
        this),
    function(
        global, factory) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = global.document ? factory(global, !0) : function(
            w) {
            if (!w.document) throw new Error("jQuery requires a window with a document")
            ;
            return factory(w)
        } : factory(global)
    }(
        "undefined" != typeof window ? window : this,
        function(window, noGlobal) {
            function isArraylike(obj) {
                var length = obj.length,
                    type = jQuery.type(obj)
                ;
                return "function" !== type && !jQuery.isWindow(obj) && (!(
                    1 !== obj.nodeType || !length) || (
                    "array" === type || 0 === length || "number" == typeof length && 0 < length && length - 1 in obj))
            }
            function winnow(elements, qualifier, not) {
                if (
                    jQuery.isFunction(qualifier)
                ) return jQuery.grep(elements, function(elem, i) {
                    return !!qualifier.call(elem, i, elem) !== not
                });
                if (
                    qualifier.nodeType
                ) return jQuery.grep(elements, function(elem) {
                    return elem === qualifier !== not
                });
                if (
                    "string" == typeof qualifier) {
                    if (
                        risSimple.test(qualifier)
                    ) return jQuery.filter(qualifier, elements, not)
                    ;
                    qualifier = jQuery.filter(qualifier, elements)
                }
                return jQuery.grep(elements, function(elem) {
                    return 0 <= indexOf.call(qualifier, elem) !== not
                })
            }
            function sibling(cur, dir) {
                for (;
                    (
                        cur = cur[dir]) && 1 !== cur.nodeType;);
                return cur
            }
            function createOptions(options) {
                var object = optionsCache[options] = {};
                return jQuery.each(options.match(rnotwhite) || [], function(_, flag) {
                        object[flag] = !0
                    }),
                    object
            }
            function completed() {
                document.removeEventListener("DOMContentLoaded", completed, !1),
                    window.removeEventListener("load", completed, !1),
                    jQuery.ready()
            }
            function Data() {
                Object.defineProperty(this.cache = {}, 0, {
                        "get": function() {
                            return {}
                        }
                    }),
                    this.expando = jQuery.expando + Data.uid++
            }
            function dataAttr(elem, key, data) {
                var name;
                if (
                    data === undefined && 1 === elem.nodeType)
                    if (
                        name = "data-" + key.replace(rmultiDash, "-$1").toLowerCase(),
                        "string" == typeof(data = elem.getAttribute(name))) {
                        try {
                            data = "true" === data || "false" !== data && (
                                "null" === data ? null : +data + "" === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data)
                        } catch (
                            e) {}
                        data_user.set(elem, key, data)
                    } else data = undefined
                    ;
                return data
            }
            function returnTrue() {
                return !0
            }
            function returnFalse() {
                return !1
            }
            function safeActiveElement() {
                try {
                    return document.activeElement
                } catch (
                    err) {}
            }
            function manipulationTarget(elem, content) {
                return jQuery.nodeName(elem, "table") && jQuery.nodeName(11 !== content.nodeType ? content : content.firstChild, "tr"
                ) ? elem.getElementsByTagName("tbody")[0] || elem.appendChild(elem.ownerDocument.createElement("tbody")) : elem
            }
            function disableScript(elem) {
                return elem.type = (null !== elem.getAttribute("type")) + "/" + elem.type,
                    elem
            }
            function restoreScript(elem) {
                var match = rscriptTypeMasked.exec(elem.type)
                ;
                return match ? elem.type = match[1] : elem.removeAttribute("type"),
                    elem
            }
            function setGlobalEval(elems, refElements) {
                for (
                    var i = 0,
                        l = elems.length; i < l; i++
                ) data_priv.set(
                    elems[i], "globalEval", !refElements || data_priv.get(refElements[i], "globalEval"))
            }
            function cloneCopyEvent(src, dest) {
                var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;
                if (
                    1 === dest.nodeType) {
                    if (
                        data_priv.hasData(src) && (
                            pdataOld = data_priv.access(src),
                            pdataCur = data_priv.set(dest, pdataOld),
                            events = pdataOld.events))
                        for (
                            type in delete pdataCur.handle, pdataCur.events = {}, events)
                            for (
                                i = 0, l = events[type].length; i < l; i++
                            ) jQuery.event.add(dest, type, events[type][i])
                    ;
                    data_user.hasData(src) && (
                        udataOld = data_user.access(src),
                        udataCur = jQuery.extend({}, udataOld),
                        data_user.set(dest, udataCur))
                }
            }
            function getAll(context, tag) {
                var ret = context.getElementsByTagName ? context.getElementsByTagName(tag || "*") : context.querySelectorAll ? context.querySelectorAll(tag || "*") : []
                ;
                return tag === undefined || tag && jQuery.nodeName(context, tag) ? jQuery.merge([context], ret) : ret
            }
            function fixInput(src, dest) {
                var nodeName = dest.nodeName.toLowerCase()
                ;
                "input" === nodeName && rcheckableType.test(src.type
                ) ? dest.checked = src.checked : "input" !== nodeName && "textarea" !== nodeName || (
                    dest.defaultValue = src.defaultValue)
            }
            function actualDisplay(name, doc) {
                var style,
                    elem = jQuery(doc.createElement(name)).appendTo(doc.body),
                    display = window.getDefaultComputedStyle && (style = window.getDefaultComputedStyle(elem[0])
                    ) ? style.display : jQuery.css(elem[0], "display")
                ;
                return elem.detach(),
                    display
            }
            function defaultDisplay(nodeName) {
                var doc = document,
                    display = elemdisplay[nodeName]
                ;
                return display || (
                        "none" !== (display = actualDisplay(nodeName, doc)) && display || ((
                                doc = (iframe = (iframe || jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentDocument
                            ).write(),
                            doc.close(),
                            display = actualDisplay(nodeName, doc),
                            iframe.detach()),
                        elemdisplay[nodeName] = display),
                    display
            }
            function curCSS(elem, name, computed) {
                var width, minWidth, maxWidth, ret,
                    style = elem.style;
                return (
                        computed = computed || getStyles(elem)) && (
                        ret = computed.getPropertyValue(name) || computed[name]),
                    computed && (
                        "" !== ret || jQuery.contains(elem.ownerDocument, elem) || (
                            ret = jQuery.style(elem, name)),
                        rnumnonpx.test(ret) && rmargin.test(name) && (
                            width = style.width,
                            minWidth = style.minWidth,
                            maxWidth = style.maxWidth,
                            style.minWidth = style.maxWidth = style.width = ret,
                            ret = computed.width,
                            style.width = width,
                            style.minWidth = minWidth,
                            style.maxWidth = maxWidth)),
                    ret !== undefined ? ret + "" : ret
            }
            function addGetHookIf(conditionFn, hookFn) {
                return {
                    "get": function() {
                        if (
                            !conditionFn()) return (
                            this.get = hookFn).apply(this, arguments);
                        delete this.get
                    }
                }
            }
            function vendorPropName(style, name) {
                if (
                    name in style
                ) return name;
                for (
                    var capName = name[0].toUpperCase() + name.slice(1),
                        origName = name,
                        i = cssPrefixes.length; i--;)
                    if ((
                            name = cssPrefixes[i] + capName
                        ) in style) return name
                    ;
                return origName
            }
            function setPositiveNumber(elem, value, subtract) {
                var matches = rnumsplit.exec(value)
                ;
                return matches ? Math.max(0, matches[1] - (subtract || 0)) + (matches[2] || "px") : value
            }
            function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
                for (
                    var i = extra === (isBorderBox ? "border" : "content"
                        ) ? 4 : "width" === name ? 1 : 0,
                        val = 0; i < 4; i += 2
                ) "margin" === extra && (
                        val += jQuery.css(elem, extra + cssExpand[i], !0, styles)),
                    isBorderBox ? (
                        "content" === extra && (
                            val -= jQuery.css(elem, "padding" + cssExpand[i], !0, styles)),
                        "margin" !== extra && (
                            val -= jQuery.css(elem, "border" + cssExpand[i] + "Width", !0, styles))) : (
                        val += jQuery.css(elem, "padding" + cssExpand[i], !0, styles),
                        "padding" !== extra && (
                            val += jQuery.css(elem, "border" + cssExpand[i] + "Width", !0, styles)))
                ;
                return val
            }
            function getWidthOrHeight(elem, name, extra) {
                var valueIsBorderBox = !0,
                    val = "width" === name ? elem.offsetWidth : elem.offsetHeight,
                    styles = getStyles(elem),
                    isBorderBox = "border-box" === jQuery.css(elem, "boxSizing", !1, styles);
                if (
                    val <= 0 || null == val) {
                    if (((
                            val = curCSS(elem, name, styles)
                        ) < 0 || null == val) && (
                            val = elem.style[name]),
                        rnumnonpx.test(val)
                    ) return val
                    ;
                    valueIsBorderBox = isBorderBox && (
                            support.boxSizingReliable() || val === elem.style[name]),
                        val = parseFloat(val) || 0
                }
                return val + augmentWidthOrHeight(
                    elem,
                    name,
                    extra || (isBorderBox ? "border" : "content"),
                    valueIsBorderBox,
                    styles
                ) + "px"
            }
            function showHide(elements, show) {
                for (
                    var display, elem, hidden,
                        values = [],
                        index = 0,
                        length = elements.length; index < length; index++)(
                    elem = elements[index]
                ).style && (
                    values[index] = data_priv.get(elem, "olddisplay"),
                    display = elem.style.display,
                    show ? (
                        values[index] || "none" !== display || (
                            elem.style.display = ""),
                        "" === elem.style.display && isHidden(elem) && (
                            values[index] = data_priv.access(elem, "olddisplay", defaultDisplay(elem.nodeName)))) : (
                        hidden = isHidden(elem),
                        "none" === display && hidden || data_priv.set(elem, "olddisplay", hidden ? display : jQuery.css(elem, "display"))));
                for (
                    index = 0; index < length; index++)(
                    elem = elements[index]
                ).style && (
                    show && "none" !== elem.style.display && "" !== elem.style.display || (
                        elem.style.display = show ? values[index] || "" : "none"))
                ;
                return elements
            }
            function Tween(elem, options, prop, end, easing) {
                return new Tween.prototype.init(elem, options, prop, end, easing)
            }
            function createFxNow() {
                return setTimeout(function() {
                        fxNow = undefined
                    }),
                    fxNow = jQuery.now()
            }
            function genFx(type, includeWidth) {
                var which,
                    i = 0,
                    attrs = {
                        "height": type
                    };
                for (
                    includeWidth = includeWidth ? 1 : 0; i < 4; i += 2 - includeWidth
                ) attrs["margin" + (which = cssExpand[i])] = attrs["padding" + which] = type
                ;
                return includeWidth && (
                        attrs.opacity = attrs.width = type),
                    attrs
            }
            function createTween(value, prop, animation) {
                for (
                    var tween,
                        collection = (tweeners[prop] || []).concat(tweeners["*"]),
                        index = 0,
                        length = collection.length; index < length; index++)
                    if (
                        tween = collection[index].call(animation, prop, value)
                    ) return tween
            }
            function defaultPrefilter(elem, props, opts) {
                var prop, value, toggle, tween, hooks, oldfire, display,
                    anim = this,
                    orig = {},
                    style = elem.style,
                    hidden = elem.nodeType && isHidden(elem),
                    dataShow = data_priv.get(elem, "fxshow");
                for (
                    prop in opts.queue || (null == (hooks = jQuery._queueHooks(elem, "fx")).unqueued && (hooks.unqueued = 0, oldfire = hooks.empty.fire, hooks.empty.fire = function() {
                        hooks.unqueued || oldfire()
                    }), hooks.unqueued++, anim.always(function() {
                        anim.always(function() {
                            hooks.unqueued--, jQuery.queue(elem, "fx").length || hooks.empty.fire()
                        })
                    })), 1 === elem.nodeType && ("height" in props || "width" in props) && (opts.overflow = [style.overflow, style.overflowX, style.overflowY], "inline" === ("none" === (display = jQuery.css(elem, "display")) ? data_priv.get(elem, "olddisplay") || defaultDisplay(elem.nodeName) : display) && "none" === jQuery.css(elem, "float") && (style.display = "inline-block")), opts.overflow && (style.overflow = "hidden", anim.always(function() {
                        style.overflow = opts.overflow[0], style.overflowX = opts.overflow[1], style.overflowY = opts.overflow[2]
                    })), props)
                    if (
                        value = props[prop],
                        rfxtypes.exec(value)) {
                        if (
                            delete props[prop],
                            toggle = toggle || "toggle" === value,
                            value === (hidden ? "hide" : "show")) {
                            if (
                                "show" !== value || !dataShow || dataShow[prop] === undefined
                            ) continue;
                            hidden = !0
                        }
                        orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop)
                    } else display = undefined;
                if (
                    jQuery.isEmptyObject(orig)
                ) "inline" === ("none" === display ? defaultDisplay(elem.nodeName) : display) && (
                    style.display = display);
                else
                    for (prop in dataShow ? "hidden" in dataShow && (hidden = dataShow.hidden) : dataShow = data_priv.access(elem, "fxshow", {}), toggle && (dataShow.hidden = !hidden), hidden ? jQuery(elem).show() : anim.done(function() {
                            jQuery(elem).hide()
                        }), anim.done(function() {
                            var prop;
                            for (prop in data_priv.remove(elem, "fxshow"), orig) jQuery.style(elem, prop, orig[prop])
                        }), orig) tween = createTween(hidden ? dataShow[prop] : 0, prop, anim), prop in dataShow || (dataShow[prop] = tween.start, hidden && (tween.end = tween.start, tween.start = "width" === prop || "height" === prop ? 1 : 0))
            }
            function propFilter(props, specialEasing) {
                var index, name, easing, value, hooks;
                for (
                    index in props)
                    if (
                        easing = specialEasing[name = jQuery.camelCase(index)],
                        value = props[index],
                        jQuery.isArray(value) && (
                            easing = value[1],
                            value = props[index] = value[0]),
                        index !== name && (
                            props[name] = value,
                            delete props[index]), (
                            hooks = jQuery.cssHooks[name]
                        ) && "expand" in hooks)
                        for (
                            index in value = hooks.expand(value), delete props[name], value
                        ) index in props || (
                            props[index] = value[index],
                            specialEasing[index] = easing
                        );
                    else specialEasing[name] = easing
            }
            function Animation(elem, properties, options) {
                var result,
                    stopped,
                    index = 0,
                    length = animationPrefilters.length,
                    deferred = jQuery.Deferred().always(function() {
                        delete tick.elem
                    }),
                    tick = function() {
                        if (
                            stopped
                        ) return !1;
                        for (
                            var currentTime = fxNow || createFxNow(),
                                remaining = Math.max(0, animation.startTime + animation.duration - currentTime),
                                percent = 1 - (remaining / animation.duration || 0),
                                index = 0,
                                length = animation.tweens.length; index < length; index++
                        ) animation.tweens[index].run(percent)
                        ;
                        return deferred.notifyWith(elem, [animation, percent, remaining]),
                            percent < 1 && length ? remaining : (
                                deferred.resolveWith(elem, [animation]), !1)
                    },
                    animation = deferred.promise({
                        "elem": elem,
                        "props": jQuery.extend({}, properties),
                        "opts": jQuery.extend(!0, {
                            "specialEasing": {}
                        }, options),
                        "originalProperties": properties,
                        "originalOptions": options,
                        "startTime": fxNow || createFxNow(),
                        "duration": options.duration,
                        "tweens": [],
                        "createTween": function(
                            prop, end) {
                            var tween = jQuery.Tween(elem, animation.opts, prop, end,
                                animation.opts.specialEasing[prop] || animation.opts.easing);
                            return animation.tweens.push(tween),
                                tween
                        },
                        "stop": function(
                            gotoEnd) {
                            var index = 0,
                                length = gotoEnd ? animation.tweens.length : 0;
                            if (
                                stopped
                            ) return this;
                            for (
                                stopped = !0; index < length; index++
                            ) animation.tweens[index].run(1)
                            ;
                            return gotoEnd ? deferred.resolveWith(elem, [animation, gotoEnd]
                                ) : deferred.rejectWith(elem, [animation, gotoEnd]),
                                this
                        }
                    }),
                    props = animation.props;
                for (
                    propFilter(props, animation.opts.specialEasing
                    ); index < length; index++)
                    if (
                        result = animationPrefilters[index].call(animation, elem, props, animation.opts)
                    ) return result
                    ;
                return jQuery.map(props, createTween, animation),
                    jQuery.isFunction(animation.opts.start) && animation.opts.start.call(elem, animation),
                    jQuery.fx.timer(
                        jQuery.extend(tick, {
                            "elem": elem,
                            "anim": animation,
                            "queue": animation.opts.queue
                        })),
                    animation.progress(animation.opts.progress).done(
                        animation.opts.done, animation.opts.complete).fail(
                        animation.opts.fail).always(
                        animation.opts.always)
            }
            function addToPrefiltersOrTransports(structure) {
                return function(
                    dataTypeExpression, func) {
                    "string" != typeof dataTypeExpression && (
                        func = dataTypeExpression,
                        dataTypeExpression = "*")
                    ;
                    var dataType,
                        i = 0,
                        dataTypes = dataTypeExpression.toLowerCase().match(rnotwhite) || [];
                    if (
                        jQuery.isFunction(func))
                        for (
                            ; dataType = dataTypes[i++];
                        ) "+" === dataType[0] ? (
                            dataType = dataType.slice(1) || "*", (
                                structure[dataType] = structure[dataType] || []).unshift(func)) : (
                            structure[dataType] = structure[dataType] || []).push(func)
                }
            }
            function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
                function inspect(dataType) {
                    var selected;
                    return inspected[dataType] = !0,
                        jQuery.each(structure[dataType] || [], function(_, prefilterOrFactory) {
                            var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR)
                            ;
                            return "string" != typeof dataTypeOrTransport || seekingTransport || inspected[dataTypeOrTransport] ? seekingTransport ? !(
                                selected = dataTypeOrTransport) : void 0 : (options.dataTypes.unshift(dataTypeOrTransport), inspect(dataTypeOrTransport), !1)
                        }),
                        selected
                }
                var inspected = {},
                    seekingTransport = structure === transports
                ;
                return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*")
            }
            function ajaxExtend(target, src) {
                var key, deep,
                    flatOptions = jQuery.ajaxSettings.flatOptions || {};
                for (
                    key in src
                ) src[key] !== undefined && ((
                    flatOptions[key] ? target : deep || (deep = {}))[key] = src[key])
                ;
                return deep && jQuery.extend(!0, target, deep),
                    target
            }
            function ajaxHandleResponses(s, jqXHR, responses) {
                for (
                    var ct, type, finalDataType, firstDataType,
                        contents = s.contents,
                        dataTypes = s.dataTypes;
                    "*" === dataTypes[0];
                ) dataTypes.shift(),
                    ct === undefined && (
                        ct = s.mimeType || jqXHR.getResponseHeader("Content-Type"));
                if (
                    ct)
                    for (
                        type in contents)
                        if (
                            contents[type] && contents[type].test(ct)) {
                            dataTypes.unshift(type);
                            break
                        }
                if (
                    dataTypes[0] in responses
                ) finalDataType = dataTypes[0];
                else {
                    for (
                        type in responses) {
                        if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
                            finalDataType = type;
                            break
                        }
                        firstDataType || (
                            firstDataType = type)
                    }
                    finalDataType = finalDataType || firstDataType
                }
                if (
                    finalDataType
                ) return finalDataType !== dataTypes[0] && dataTypes.unshift(finalDataType),
                    responses[finalDataType]
            }
            function ajaxConvert(s, response, jqXHR, isSuccess) {
                var conv2, current, conv, tmp, prev,
                    converters = {},
                    dataTypes = s.dataTypes.slice();
                if (
                    dataTypes[1])
                    for (
                        conv in s.converters
                    ) converters[conv.toLowerCase()] = s.converters[conv];
                for (
                    current = dataTypes.shift(
                    ); current;)
                    if (
                        s.responseFields[current] && (
                            jqXHR[s.responseFields[current]] = response),
                        !prev && isSuccess && s.dataFilter && (
                            response = s.dataFilter(response, s.dataType)),
                        prev = current,
                        current = dataTypes.shift())
                        if (
                            "*" === current
                        ) current = prev;
                        else if (
                    "*" !== prev && prev !== current) {
                    if (!(
                            conv = converters[prev + " " + current] || converters["* " + current]
                        ))
                        for (
                            conv2 in converters)
                            if ((
                                    tmp = conv2.split(" ")
                                )[1] === current && (
                                    conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]])) {
                                !0 === conv ? conv = converters[conv2] : !0 !== converters[conv2] && (
                                    current = tmp[0],
                                    dataTypes.unshift(tmp[1]))
                                ;
                                break
                            }
                    if (
                        !0 !== conv)
                        if (
                            conv && s["throws"]
                        ) response = conv(response);
                        else try {
                            response = conv(response)
                        } catch (
                            e) {
                            return {
                                "state": "parsererror",
                                "error": conv ? e : "No conversion from " + prev + " to " + current
                            }
                        }
                }
                return {
                    "state": "success",
                    "data": response
                }
            }
            function buildParams(prefix, obj, traditional, add) {
                var name;
                if (
                    jQuery.isArray(obj)
                ) jQuery.each(obj, function(i, v) {
                    traditional || rbracket.test(prefix
                    ) ? add(prefix, v
                    ) : buildParams(prefix + "[" + ("object" == typeof v ? i : "") + "]", v, traditional, add)
                });
                else if (
                    traditional || "object" !== jQuery.type(obj)
                ) add(prefix, obj);
                else
                    for (name in obj) buildParams(prefix + "[" + name + "]", obj[name], traditional, add)
            }
            function getWindow(elem) {
                return jQuery.isWindow(elem) ? elem : 9 === elem.nodeType && elem.defaultView
            }
            var arr = [],
                slice = arr.slice,
                concat = arr.concat,
                push = arr.push,
                indexOf = arr.indexOf,
                class2type = {},
                toString = class2type.toString,
                hasOwn = class2type.hasOwnProperty,
                support = {},
                document = window.document,
                version = "2.1.3",
                jQuery = function(selector, context) {
                    return new jQuery.fn.init(selector, context)
                },
                rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
                rmsPrefix = /^-ms-/,
                rdashAlpha = /-([\da-z])/gi,
                fcamelCase = function(all, letter) {
                    return letter.toUpperCase()
                };
            jQuery.fn = jQuery.prototype = {
                "jquery": version,
                "constructor": jQuery,
                "selector": "",
                "length": 0,
                "toArray": function() {
                    return slice.call(this)
                },
                "get": function(num) {
                    return null != num ? num < 0 ? this[num + this.length] : this[num] : slice.call(this)
                },
                "pushStack": function(elems) {
                    var ret = jQuery.merge(this.constructor(), elems);
                    return ret.prevObject = this, ret.context = this.context, ret
                },
                "each": function(callback, args) {
                    return jQuery.each(this, callback, args)
                },
                "map": function(callback) {
                    return this.pushStack(jQuery.map(this, function(elem, i) {
                        return callback.call(elem, i, elem)
                    }))
                },
                "slice": function() {
                    return this.pushStack(slice.apply(this, arguments))
                },
                "first": function() {
                    return this.eq(0)
                },
                "last": function() {
                    return this.eq(-1)
                },
                "eq": function(i) {
                    var len = this.length,
                        j = +i + (i < 0 ? len : 0);
                    return this.pushStack(0 <= j && j < len ? [this[j]] : [])
                },
                "end": function() {
                    return this.prevObject || this.constructor(null)
                },
                "push": push,
                "sort": arr.sort,
                "splice": arr.splice
            }, jQuery.extend = jQuery.fn.extend = function(argument_0) {
                var options, name, src, copy, copyIsArray, clone, target = argument_0 || {},
                    i = 1,
                    length = arguments.length,
                    deep = !1;
                for ("boolean" == typeof target && (deep = target, target = arguments[i] || {}, i++), "object" == typeof target || jQuery.isFunction(target) || (target = {}), i === length && (target = this, i--); i < length; i++)
                    if (null != (options = arguments[i]))
                        for (name in options) src = target[name], target !== (copy = options[name]) && (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy))) ? (copyIsArray ? (copyIsArray = !1, clone = src && jQuery.isArray(src) ? src : []) : clone = src && jQuery.isPlainObject(src) ? src : {}, target[name] = jQuery.extend(deep, clone, copy)) : copy !== undefined && (target[name] = copy));
                return target
            }, jQuery.extend({
                "expando": "jQuery" + (version + Math.random()).replace(/\D/g, ""),
                "isReady": !0,
                "error": function(msg) {
                    throw new Error(msg)
                },
                "noop": function() {},
                "isFunction": function(obj) {
                    return "function" === jQuery.type(obj)
                },
                "isArray": Array.isArray,
                "isWindow": function(obj) {
                    return null != obj && obj === obj.window
                },
                "isNumeric": function(obj) {
                    return !jQuery.isArray(obj) && 0 <= obj - parseFloat(obj) + 1
                },
                "isPlainObject": function(obj) {
                    return "object" === jQuery.type(obj) && !obj.nodeType && !jQuery.isWindow(obj) && !(obj.constructor && !hasOwn.call(obj.constructor.prototype, "isPrototypeOf"))
                },
                "isEmptyObject": function(obj) {
                    var name;
                    for (name in obj) return !1;
                    return !0
                },
                "type": function(obj) {
                    return null == obj ? obj + "" : "object" == typeof obj || "function" == typeof obj ? class2type[toString.call(obj)] || "object" : typeof obj
                },
                "globalEval": function(code) {
                    var script, indirect = eval;
                    (code = jQuery.trim(code)) && (1 === code.indexOf("use strict") ? ((script = document.createElement("script")).text = code, document.head.appendChild(script).parentNode.removeChild(script)) : indirect(code))
                },
                "camelCase": function(string) {
                    return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase)
                },
                "nodeName": function(elem, name) {
                    return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase()
                },
                "each": function(obj, callback, args) {
                    var i = 0,
                        length = obj.length,
                        isArray = isArraylike(obj);
                    if (args) {
                        if (isArray)
                            for (; i < length && !1 !== callback.apply(obj[i], args); i++);
                        else
                            for (i in obj)
                                if (!1 === callback.apply(obj[i], args)) break
                    } else if (isArray)
                        for (; i < length && !1 !== callback.call(obj[i], i, obj[i]); i++);
                    else
                        for (i in obj)
                            if (!1 === callback.call(obj[i], i, obj[i])) break; return obj
                },
                "trim": function(text) {
                    return null == text ? "" : (text + "").replace(rtrim, "")
                },
                "makeArray": function(arr, results) {
                    var ret = results || [];
                    return null != arr && (isArraylike(Object(arr)) ? jQuery.merge(ret, "string" == typeof arr ? [arr] : arr) : push.call(ret, arr)), ret
                },
                "inArray": function(elem, arr, i) {
                    return null == arr ? -1 : indexOf.call(arr, elem, i)
                },
                "merge": function(first, second) {
                    for (var len = +second.length, j = 0, i = first.length; j < len; j++) first[i++] = second[j];
                    return first.length = i, first
                },
                "grep": function(elems, callback, invert) {
                    for (var matches = [], i = 0, length = elems.length, callbackExpect = !invert; i < length; i++) !callback(elems[i], i) !== callbackExpect && matches.push(elems[i]);
                    return matches
                },
                "map": function(elems, callback, arg) {
                    var value, i = 0,
                        length = elems.length,
                        ret = [];
                    if (isArraylike(elems))
                        for (; i < length; i++) null != (value = callback(elems[i], i, arg)) && ret.push(value);
                    else
                        for (i in elems) null != (value = callback(elems[i], i, arg)) && ret.push(value);
                    return concat.apply([], ret)
                },
                "guid": 1,
                "proxy": function(fn, context) {
                    var tmp, args, proxy;
                    return "string" == typeof context && (tmp = fn[context], context = fn, fn = tmp), jQuery.isFunction(fn) ? (args = slice.call(arguments, 2), (proxy = function() {
                        return fn.apply(context || this, args.concat(slice.call(arguments)))
                    }).guid = fn.guid = fn.guid || jQuery.guid++, proxy) : undefined
                },
                "now": Date.now,
                "support": support
            }), jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
                class2type["[object " + name + "]"] = name.toLowerCase()
            });
            var Sizzle = function(window) {
                function Sizzle(selector, context, results, seed) {
                    var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;
                    if ((context ? context.ownerDocument || context : preferredDoc) !== document && setDocument(context), results = results || [], nodeType = (context = context || document).nodeType, "string" != typeof selector || !selector || 1 !== nodeType && 9 !== nodeType && 11 !== nodeType) return results;
                    if (!seed && documentIsHTML) {
                        if (11 !== nodeType && (match = rquickExpr.exec(selector)))
                            if (m = match[1]) {
                                if (9 === nodeType) {
                                    if (!(elem = context.getElementById(m)) || !elem.parentNode) return results;
                                    if (elem.id === m) return results.push(elem), results
                                } else if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) return results.push(elem), results
                            } else {
                                if (match[2]) return push.apply(results, context.getElementsByTagName(selector)), results;
                                if ((m = match[3]) && support.getElementsByClassName) return push.apply(results, context.getElementsByClassName(m)), results
                            }
                        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {
                            if (nid = old = expando, newContext = context, newSelector = 1 !== nodeType && selector, 1 === nodeType && "object" !== context.nodeName.toLowerCase()) {
                                for (groups = tokenize(selector), (old = context.getAttribute("id")) ? nid = old.replace(rescape, "\\$&") : context.setAttribute("id", nid), nid = "[id='" + nid + "'] ", i = groups.length; i--;) groups[i] = nid + toSelector(groups[i]);
                                newContext = rsibling.test(selector) && testContext(context.parentNode) || context, newSelector = groups.join(",")
                            }
                            if (newSelector) try {
                                return push.apply(results, newContext.querySelectorAll(newSelector)), results
                            } catch (qsaError) {} finally {
                                old || context.removeAttribute("id")
                            }
                        }
                    }
                    return select(selector.replace(rtrim, "$1"), context, results, seed)
                }
                function createCache() {
                    function cache(key, value) {
                        return keys.push(key + " ") > Expr.cacheLength && delete cache[keys.shift()], cache[key + " "] = value
                    }
                    var keys = [];
                    return cache
                }
                function markFunction(fn) {
                    return fn[expando] = !0, fn
                }
                function assert(fn) {
                    var div = document.createElement("div");
                    try {
                        return !!fn(div)
                    } catch (e) {
                        return !1
                    } finally {
                        div.parentNode && div.parentNode.removeChild(div), div = null
                    }
                }
                function addHandle(attrs, handler) {
                    for (var arr = attrs.split("|"), i = attrs.length; i--;) Expr.attrHandle[arr[i]] = handler
                }
                function siblingCheck(a, b) {
                    var cur = b && a,
                        diff = cur && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);
                    if (diff) return diff;
                    if (cur)
                        for (; cur = cur.nextSibling;)
                            if (cur === b) return -1;
                    return a ? 1 : -1
                }
                function createInputPseudo(type) {
                    return function(elem) {
                        return "input" === elem.nodeName.toLowerCase() && elem.type === type
                    }
                }
                function createButtonPseudo(type) {
                    return function(elem) {
                        var name = elem.nodeName.toLowerCase();
                        return ("input" === name || "button" === name) && elem.type === type
                    }
                }
                function createPositionalPseudo(fn) {
                    return markFunction(function(argument) {
                        return argument = +argument, markFunction(function(seed, matches) {
                            for (var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length; i--;) seed[j = matchIndexes[i]] && (seed[j] = !(matches[j] = seed[j]))
                        })
                    })
                }
                function testContext(context) {
                    return context && "undefined" != typeof context.getElementsByTagName && context
                }
                function setFilters() {}
                function toSelector(tokens) {
                    for (var i = 0, len = tokens.length, selector = ""; i < len; i++) selector += tokens[i].value;
                    return selector
                }
                function addCombinator(matcher, combinator, base) {
                    var dir = combinator.dir,
                        checkNonElements = base && "parentNode" === dir,
                        doneName = done++;
                    return combinator.first ? function(elem, context, xml) {
                        for (; elem = elem[dir];)
                            if (1 === elem.nodeType || checkNonElements) return matcher(elem, context, xml)
                    } : function(elem, context, xml) {
                        var oldCache, outerCache, newCache = [dirruns, doneName];
                        if (xml) {
                            for (; elem = elem[dir];)
                                if ((1 === elem.nodeType || checkNonElements) && matcher(elem, context, xml)) return !0
                        } else
                            for (; elem = elem[dir];)
                                if (1 === elem.nodeType || checkNonElements) {
                                    if ((oldCache = (outerCache = elem[expando] || (elem[expando] = {}))[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) return newCache[2] = oldCache[2];
                                    if ((outerCache[dir] = newCache)[2] = matcher(elem, context, xml)) return !0
                                }
                    }
                }
                function elementMatcher(matchers) {
                    return 1 < matchers.length ? function(elem, context, xml) {
                        for (var i = matchers.length; i--;)
                            if (!matchers[i](elem, context, xml)) return !1;
                        return !0
                    } : matchers[0]
                }
                function multipleContexts(selector, contexts, results) {
                    for (var i = 0, len = contexts.length; i < len; i++) Sizzle(selector, contexts[i], results);
                    return results
                }
                function condense(unmatched, map, filter, context, xml) {
                    for (var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = null != map; i < len; i++)(elem = unmatched[i]) && (filter && !filter(elem, context, xml) || (newUnmatched.push(elem), mapped && map.push(i)));
                    return newUnmatched
                }
                function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
                    return postFilter && !postFilter[expando] && (postFilter = setMatcher(postFilter)), postFinder && !postFinder[expando] && (postFinder = setMatcher(postFinder, postSelector)), markFunction(function(seed, results, context, xml) {
                        var temp, i, elem, preMap = [],
                            postMap = [],
                            preexisting = results.length,
                            elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []),
                            matcherIn = !preFilter || !seed && selector ? elems : condense(elems, preMap, preFilter, context, xml),
                            matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
                        if (matcher && matcher(matcherIn, matcherOut, context, xml), postFilter)
                            for (temp = condense(matcherOut, postMap), postFilter(temp, [], context, xml), i = temp.length; i--;)(elem = temp[i]) && (matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem));
                        if (seed) {
                            if (postFinder || preFilter) {
                                if (postFinder) {
                                    for (temp = [], i = matcherOut.length; i--;)(elem = matcherOut[i]) && temp.push(matcherIn[i] = elem);
                                    postFinder(null, matcherOut = [], temp, xml)
                                }
                                for (i = matcherOut.length; i--;)(elem = matcherOut[i]) && -1 < (temp = postFinder ? indexOf(seed, elem) : preMap[i]) && (seed[temp] = !(results[temp] = elem))
                            }
                        } else matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut), postFinder ? postFinder(null, results, matcherOut, xml) : push.apply(results, matcherOut)
                    })
                }
                function matcherFromTokens(tokens) {
                    for (var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[" "], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function(elem) {
                            return elem === checkContext
                        }, implicitRelative, !0), matchAnyContext = addCombinator(function(elem) {
                            return -1 < indexOf(checkContext, elem)
                        }, implicitRelative, !0), matchers = [function(elem, context, xml) {
                            var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
                            return checkContext = null, ret
                        }]; i < len; i++)
                        if (matcher = Expr.relative[tokens[i].type]) matchers = [addCombinator(elementMatcher(matchers), matcher)];
                        else {
                            if ((matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches))[expando]) {
                                for (j = ++i; j < len && !Expr.relative[tokens[j].type]; j++);
                                return setMatcher(1 < i && elementMatcher(matchers), 1 < i && toSelector(tokens.slice(0, i - 1).concat({
                                    "value": " " === tokens[i - 2].type ? "*" : ""
                                })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens))
                            }
                            matchers.push(matcher)
                        }
                    return elementMatcher(matchers)
                }
                function matcherFromGroupMatchers(elementMatchers, setMatchers) {
                    var bySet = 0 < setMatchers.length,
                        byElement = 0 < elementMatchers.length,
                        superMatcher = function(seed, context, xml, results, outermost) {
                            var elem, j, matcher, matchedCount = 0,
                                i = "0",
                                unmatched = seed && [],
                                setMatched = [],
                                contextBackup = outermostContext,
                                elems = seed || byElement && Expr.find.TAG("*", outermost),
                                dirrunsUnique = dirruns += null == contextBackup ? 1 : Math.random() || .1,
                                len = elems.length;
                            for (outermost && (outermostContext = context !== document && context); i !== len && null != (elem = elems[i]); i++) {
                                if (byElement && elem) {
                                    for (j = 0; matcher = elementMatchers[j++];)
                                        if (matcher(elem, context, xml)) {
                                            results.push(elem);
                                            break
                                        }
                                    outermost && (dirruns = dirrunsUnique)
                                }
                                bySet && ((elem = !matcher && elem) && matchedCount--, seed && unmatched.push(elem))
                            }
                            if (matchedCount += i, bySet && i !== matchedCount) {
                                for (j = 0; matcher = setMatchers[j++];) matcher(unmatched, setMatched, context, xml);
                                if (seed) {
                                    if (0 < matchedCount)
                                        for (; i--;) unmatched[i] || setMatched[i] || (setMatched[i] = pop.call(results));
                                    setMatched = condense(setMatched)
                                }
                                push.apply(results, setMatched), outermost && !seed && 0 < setMatched.length && 1 < matchedCount + setMatchers.length && Sizzle.uniqueSort(results)
                            }
                            return outermost && (dirruns = dirrunsUnique, outermostContext = contextBackup), unmatched
                        };
                    return bySet ? markFunction(superMatcher) : superMatcher
                }
                var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = "sizzle" + 1 * new Date,
                    preferredDoc = window.document,
                    dirruns = 0,
                    done = 0,
                    classCache = createCache(),
                    tokenCache = createCache(),
                    compilerCache = createCache(),
                    sortOrder = function(a, b) {
                        return a === b && (hasDuplicate = !0), 0
                    },
                    MAX_NEGATIVE = 1 << 31,
                    hasOwn = {}.hasOwnProperty,
                    arr = [],
                    pop = arr.pop,
                    push_native = arr.push,
                    push = arr.push,
                    slice = arr.slice,
                    indexOf = function(list, elem) {
                        for (var i = 0, len = list.length; i < len; i++)
                            if (list[i] === elem) return i;
                        return -1
                    },
                    booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    whitespace = "[\\x20\\t\\r\\n\\f]",
                    characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                    identifier = characterEncoding.replace("w", "w#"),
                    attributes = "\\[" + whitespace + "*(" + characterEncoding + ")(?:" + whitespace + "*([*^$|!~]?=)" + whitespace + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]",
                    pseudos = ":(" + characterEncoding + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|.*)\\)|)",
                    rwhitespace = new RegExp(whitespace + "+", "g"),
                    rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"),
                    rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),
                    rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),
                    rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"),
                    rpseudo = new RegExp(pseudos),
                    ridentifier = new RegExp("^" + identifier + "$"),
                    matchExpr = {
                        "ID": new RegExp("^#(" + characterEncoding + ")"),
                        "CLASS": new RegExp("^\\.(" + characterEncoding + ")"),
                        "TAG": new RegExp("^(" + characterEncoding.replace("w", "w*") + ")"),
                        "ATTR": new RegExp("^" + attributes),
                        "PSEUDO": new RegExp("^" + pseudos),
                        "CHILD": new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
                        "bool": new RegExp("^(?:" + booleans + ")$", "i"),
                        "needsContext": new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
                    },
                    rinputs = /^(?:input|select|textarea|button)$/i,
                    rheader = /^h\d$/i,
                    rnative = /^[^{]+\{\s*\[native \w/,
                    rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    rsibling = /[+~]/,
                    rescape = /'|\\/g,
                    runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"),
                    funescape = function(_, escaped, escapedWhitespace) {
                        var high = "0x" + escaped - 65536;
                        return high != high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, 1023 & high | 56320)
                    },
                    unloadHandler = function() {
                        setDocument()
                    };
                try {
                    push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes), arr[preferredDoc.childNodes.length].nodeType
                } catch (e) {
                    push = {
                        "apply": arr.length ? function(target, els) {
                            push_native.apply(target, slice.call(els))
                        } : function(target, els) {
                            for (var j = target.length, i = 0; target[j++] = els[i++];);
                            target.length = j - 1
                        }
                    }
                }
                for (i in support = Sizzle.support = {}, isXML = Sizzle.isXML = function(elem) {
                        var documentElement = elem && (elem.ownerDocument || elem).documentElement;
                        return !!documentElement && "HTML" !== documentElement.nodeName
                    }, setDocument = Sizzle.setDocument = function(node) {
                        var hasCompare, parent, doc = node ? node.ownerDocument || node : preferredDoc;
                        return doc !== document && 9 === doc.nodeType && doc.documentElement ? (docElem = (document = doc).documentElement, (parent = doc.defaultView) && parent !== parent.top && (parent.addEventListener ? parent.addEventListener("unload", unloadHandler, !1) : parent.attachEvent && parent.attachEvent("onunload", unloadHandler)), documentIsHTML = !isXML(doc), support.attributes = assert(function(div) {
                            return div.className = "i", !div.getAttribute("className")
                        }), support.getElementsByTagName = assert(function(div) {
                            return div.appendChild(doc.createComment("")), !div.getElementsByTagName("*").length
                        }), support.getElementsByClassName = rnative.test(doc.getElementsByClassName), support.getById = assert(function(div) {
                            return docElem.appendChild(div).id = expando, !doc.getElementsByName || !doc.getElementsByName(expando).length
                        }), support.getById ? (Expr.find.ID = function(id, context) {
                            if ("undefined" != typeof context.getElementById && documentIsHTML) {
                                var m = context.getElementById(id);
                                return m && m.parentNode ? [m] : []
                            }
                        }, Expr.filter.ID = function(id) {
                            var attrId = id.replace(runescape, funescape);
                            return function(elem) {
                                return elem.getAttribute("id") === attrId
                            }
                        }) : (delete Expr.find.ID, Expr.filter.ID = function(id) {
                            var attrId = id.replace(runescape, funescape);
                            return function(elem) {
                                var node = "undefined" != typeof elem.getAttributeNode && elem.getAttributeNode("id");
                                return node && node.value === attrId
                            }
                        }), Expr.find.TAG = support.getElementsByTagName ? function(tag, context) {
                            return "undefined" != typeof context.getElementsByTagName ? context.getElementsByTagName(tag) : support.qsa ? context.querySelectorAll(tag) : void 0
                        } : function(tag, context) {
                            var elem, tmp = [],
                                i = 0,
                                results = context.getElementsByTagName(tag);
                            if ("*" !== tag) return results;
                            for (; elem = results[i++];) 1 === elem.nodeType && tmp.push(elem);
                            return tmp
                        }, Expr.find.CLASS = support.getElementsByClassName && function(className, context) {
                            if (documentIsHTML) return context.getElementsByClassName(className)
                        }, rbuggyMatches = [], rbuggyQSA = [], (support.qsa = rnative.test(doc.querySelectorAll)) && (assert(function(div) {
                            docElem.appendChild(div).innerHTML = "<a id='" + expando + "'></a><select id='" + expando + "-\f]' msallowcapture=''><option selected=''></option></select>", div.querySelectorAll("[msallowcapture^='']").length && rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")"), div.querySelectorAll("[selected]").length || rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")"), div.querySelectorAll("[id~=" + expando + "-]").length || rbuggyQSA.push("~="), div.querySelectorAll(":checked").length || rbuggyQSA.push(":checked"), div.querySelectorAll("a#" + expando + "+*").length || rbuggyQSA.push(".#.+[+~]")
                        }), assert(function(div) {
                            var input = doc.createElement("input");
                            input.setAttribute("type", "hidden"), div.appendChild(input).setAttribute("name", "D"), div.querySelectorAll("[name=d]").length && rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?="), div.querySelectorAll(":enabled").length || rbuggyQSA.push(":enabled", ":disabled"), div.querySelectorAll("*,:x"), rbuggyQSA.push(",.*:")
                        })), (support.matchesSelector = rnative.test(matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) && assert(function(div) {
                            support.disconnectedMatch = matches.call(div, "div"), matches.call(div, "[s!='']:x"), rbuggyMatches.push("!=", pseudos)
                        }), rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|")), rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|")), hasCompare = rnative.test(docElem.compareDocumentPosition), contains = hasCompare || rnative.test(docElem.contains) ? function(a, b) {
                            var adown = 9 === a.nodeType ? a.documentElement : a,
                                bup = b && b.parentNode;
                            return a === bup || !(!bup || 1 !== bup.nodeType || !(adown.contains ? adown.contains(bup) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(bup)))
                        } : function(a, b) {
                            if (b)
                                for (; b = b.parentNode;)
                                    if (b === a) return !0;
                            return !1
                        }, sortOrder = hasCompare ? function(a, b) {
                            if (a === b) return hasDuplicate = !0, 0;
                            var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
                            return compare || (1 & (compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1) || !support.sortDetached && b.compareDocumentPosition(a) === compare ? a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ? -1 : b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0 : 4 & compare ? -1 : 1)
                        } : function(a, b) {
                            if (a === b) return hasDuplicate = !0, 0;
                            var cur, i = 0,
                                aup = a.parentNode,
                                bup = b.parentNode,
                                ap = [a],
                                bp = [b];
                            if (!aup || !bup) return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0;
                            if (aup === bup) return siblingCheck(a, b);
                            for (cur = a; cur = cur.parentNode;) ap.unshift(cur);
                            for (cur = b; cur = cur.parentNode;) bp.unshift(cur);
                            for (; ap[i] === bp[i];) i++;
                            return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0
                        }, doc) : document
                    }, Sizzle.matches = function(expr, elements) {
                        return Sizzle(expr, null, null, elements)
                    }, Sizzle.matchesSelector = function(elem, expr) {
                        if ((elem.ownerDocument || elem) !== document && setDocument(elem), expr = expr.replace(rattributeQuotes, "='$1']"), support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) try {
                            var ret = matches.call(elem, expr);
                            if (ret || support.disconnectedMatch || elem.document && 11 !== elem.document.nodeType) return ret
                        } catch (e) {}
                        return 0 < Sizzle(expr, document, null, [elem]).length
                    }, Sizzle.contains = function(context, elem) {
                        return (context.ownerDocument || context) !== document && setDocument(context), contains(context, elem)
                    }, Sizzle.attr = function(elem, name) {
                        (elem.ownerDocument || elem) !== document && setDocument(elem);
                        var fn = Expr.attrHandle[name.toLowerCase()],
                            val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;
                        return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null
                    }, Sizzle.error = function(msg) {
                        throw new Error("Syntax error, unrecognized expression: " + msg)
                    }, Sizzle.uniqueSort = function(results) {
                        var elem, duplicates = [],
                            j = 0,
                            i = 0;
                        if (hasDuplicate = !support.detectDuplicates, sortInput = !support.sortStable && results.slice(0), results.sort(sortOrder), hasDuplicate) {
                            for (; elem = results[i++];) elem === results[i] && (j = duplicates.push(i));
                            for (; j--;) results.splice(duplicates[j], 1)
                        }
                        return sortInput = null, results
                    }, getText = Sizzle.getText = function(elem) {
                        var node, ret = "",
                            i = 0,
                            nodeType = elem.nodeType;
                        if (nodeType) {
                            if (1 === nodeType || 9 === nodeType || 11 === nodeType) {
                                if ("string" == typeof elem.textContent) return elem.textContent;
                                for (elem = elem.firstChild; elem; elem = elem.nextSibling) ret += getText(elem)
                            } else if (3 === nodeType || 4 === nodeType) return elem.nodeValue
                        } else
                            for (; node = elem[i++];) ret += getText(node);
                        return ret
                    }, (Expr = Sizzle.selectors = {
                        "cacheLength": 50,
                        "createPseudo": markFunction,
                        "match": matchExpr,
                        "attrHandle": {},
                        "find": {},
                        "relative": {
                            ">": {
                                "dir": "parentNode",
                                "first": !0
                            },
                            " ": {
                                "dir": "parentNode"
                            },
                            "+": {
                                "dir": "previousSibling",
                                "first": !0
                            },
                            "~": {
                                "dir": "previousSibling"
                            }
                        },
                        "preFilter": {
                            "ATTR": function(match) {
                                return match[1] = match[1].replace(runescape, funescape), match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape), "~=" === match[2] && (match[3] = " " + match[3] + " "), match.slice(0, 4)
                            },
                            "CHILD": function(match) {
                                return match[1] = match[1].toLowerCase(), "nth" === match[1].slice(0, 3) ? (match[3] || Sizzle.error(match[0]), match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * ("even" === match[3] || "odd" === match[3])), match[5] = +(match[7] + match[8] || "odd" === match[3])) : match[3] && Sizzle.error(match[0]), match
                            },
                            "PSEUDO": function(match) {
                                var excess, unquoted = !match[6] && match[2];
                                return matchExpr.CHILD.test(match[0]) ? null : (match[3] ? match[2] = match[4] || match[5] || "" : unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, !0)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length) && (match[0] = match[0].slice(0, excess), match[2] = unquoted.slice(0, excess)), match.slice(0, 3))
                            }
                        },
                        "filter": {
                            "TAG": function(nodeNameSelector) {
                                var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
                                return "*" === nodeNameSelector ? function() {
                                    return !0
                                } : function(elem) {
                                    return elem.nodeName && elem.nodeName.toLowerCase() === nodeName
                                }
                            },
                            "CLASS": function(className) {
                                var pattern = classCache[className + " "];
                                return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function(elem) {
                                    return pattern.test("string" == typeof elem.className && elem.className || "undefined" != typeof elem.getAttribute && elem.getAttribute("class") || "")
                                })
                            },
                            "ATTR": function(name, operator, check) {
                                return function(elem) {
                                    var result = Sizzle.attr(elem, name);
                                    return null == result ? "!=" === operator : !operator || (result += "", "=" === operator ? result === check : "!=" === operator ? result !== check : "^=" === operator ? check && 0 === result.indexOf(check) : "*=" === operator ? check && -1 < result.indexOf(check) : "$=" === operator ? check && result.slice(-check.length) === check : "~=" === operator ? -1 < (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) : "|=" === operator && (result === check || result.slice(0, check.length + 1) === check + "-"))
                                }
                            },
                            "CHILD": function(type, what, argument, first, last) {
                                var simple = "nth" !== type.slice(0, 3),
                                    forward = "last" !== type.slice(-4),
                                    ofType = "of-type" === what;
                                return 1 === first && 0 === last ? function(elem) {
                                    return !!elem.parentNode
                                } : function(elem, context, xml) {
                                    var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? "nextSibling" : "previousSibling",
                                        parent = elem.parentNode,
                                        name = ofType && elem.nodeName.toLowerCase(),
                                        useCache = !xml && !ofType;
                                    if (parent) {
                                        if (simple) {
                                            for (; dir;) {
                                                for (node = elem; node = node[dir];)
                                                    if (ofType ? node.nodeName.toLowerCase() === name : 1 === node.nodeType) return !1;
                                                start = dir = "only" === type && !start && "nextSibling"
                                            }
                                            return !0
                                        }
                                        if (start = [forward ? parent.firstChild : parent.lastChild], forward && useCache) {
                                            for (nodeIndex = (cache = (outerCache = parent[expando] || (parent[expando] = {}))[type] || [])[0] === dirruns && cache[1], diff = cache[0] === dirruns && cache[2], node = nodeIndex && parent.childNodes[nodeIndex]; node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop();)
                                                if (1 === node.nodeType && ++diff && node === elem) {
                                                    outerCache[type] = [dirruns, nodeIndex, diff];
                                                    break
                                                }
                                        } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) diff = cache[1];
                                        else
                                            for (;
                                                (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) && ((ofType ? node.nodeName.toLowerCase() !== name : 1 !== node.nodeType) || !++diff || (useCache && ((node[expando] || (node[expando] = {}))[type] = [dirruns, diff]), node !== elem)););
                                        return (diff -= last) === first || diff % first == 0 && 0 <= diff / first
                                    }
                                }
                            },
                            "PSEUDO": function(pseudo, argument) {
                                var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
                                return fn[expando] ? fn(argument) : 1 < fn.length ? (args = [pseudo, pseudo, "", argument], Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function(seed, matches) {
                                    for (var idx, matched = fn(seed, argument), i = matched.length; i--;) seed[idx = indexOf(seed, matched[i])] = !(matches[idx] = matched[i])
                                }) : function(elem) {
                                    return fn(elem, 0, args)
                                }) : fn
                            }
                        },
                        "pseudos": {
                            "not": markFunction(function(selector) {
                                var input = [],
                                    results = [],
                                    matcher = compile(selector.replace(rtrim, "$1"));
                                return matcher[expando] ? markFunction(function(seed, matches, context, xml) {
                                    for (var elem, unmatched = matcher(seed, null, xml, []), i = seed.length; i--;)(elem = unmatched[i]) && (seed[i] = !(matches[i] = elem))
                                }) : function(elem, context, xml) {
                                    return input[0] = elem, matcher(input, null, xml, results), input[0] = null, !results.pop()
                                }
                            }),
                            "has": markFunction(function(selector) {
                                return function(elem) {
                                    return 0 < Sizzle(selector, elem).length
                                }
                            }),
                            "contains": markFunction(function(text) {
                                return text = text.replace(runescape, funescape),
                                    function(elem) {
                                        return -1 < (elem.textContent || elem.innerText || getText(elem)).indexOf(text)
                                    }
                            }),
                            "lang": markFunction(function(lang) {
                                return ridentifier.test(lang || "") || Sizzle.error("unsupported lang: " + lang), lang = lang.replace(runescape, funescape).toLowerCase(),
                                    function(elem) {
                                        var elemLang;
                                        do {
                                            if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang")) return (elemLang = elemLang.toLowerCase()) === lang || 0 === elemLang.indexOf(lang + "-")
                                        } while ((elem = elem.parentNode) && 1 === elem.nodeType);
                                        return !1
                                    }
                            }),
                            "target": function(elem) {
                                var hash = window.location && window.location.hash;
                                return hash && hash.slice(1) === elem.id
                            },
                            "root": function(elem) {
                                return elem === docElem
                            },
                            "focus": function(elem) {
                                return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex)
                            },
                            "enabled": function(elem) {
                                return !1 === elem.disabled
                            },
                            "disabled": function(elem) {
                                return !0 === elem.disabled
                            },
                            "checked": function(elem) {
                                var nodeName = elem.nodeName.toLowerCase();
                                return "input" === nodeName && !!elem.checked || "option" === nodeName && !!elem.selected
                            },
                            "selected": function(elem) {
                                return elem.parentNode && elem.parentNode.selectedIndex, !0 === elem.selected
                            },
                            "empty": function(elem) {
                                for (elem = elem.firstChild; elem; elem = elem.nextSibling)
                                    if (elem.nodeType < 6) return !1;
                                return !0
                            },
                            "parent": function(elem) {
                                return !Expr.pseudos.empty(elem)
                            },
                            "header": function(elem) {
                                return rheader.test(elem.nodeName)
                            },
                            "input": function(elem) {
                                return rinputs.test(elem.nodeName)
                            },
                            "button": function(elem) {
                                var name = elem.nodeName.toLowerCase();
                                return "input" === name && "button" === elem.type || "button" === name
                            },
                            "text": function(elem) {
                                var attr;
                                return "input" === elem.nodeName.toLowerCase() && "text" === elem.type && (null == (attr = elem.getAttribute("type")) || "text" === attr.toLowerCase())
                            },
                            "first": createPositionalPseudo(function() {
                                return [0]
                            }),
                            "last": createPositionalPseudo(function(matchIndexes, length) {
                                return [length - 1]
                            }),
                            "eq": createPositionalPseudo(function(matchIndexes, length, argument) {
                                return [argument < 0 ? argument + length : argument]
                            }),
                            "even": createPositionalPseudo(function(matchIndexes, length) {
                                for (var i = 0; i < length; i += 2) matchIndexes.push(i);
                                return matchIndexes
                            }),
                            "odd": createPositionalPseudo(function(matchIndexes, length) {
                                for (var i = 1; i < length; i += 2) matchIndexes.push(i);
                                return matchIndexes
                            }),
                            "lt": createPositionalPseudo(function(matchIndexes, length, argument) {
                                for (var i = argument < 0 ? argument + length : argument; 0 <= --i;) matchIndexes.push(i);
                                return matchIndexes
                            }),
                            "gt": createPositionalPseudo(function(matchIndexes, length, argument) {
                                for (var i = argument < 0 ? argument + length : argument; ++i < length;) matchIndexes.push(i);
                                return matchIndexes
                            })
                        }
                    }).pseudos.nth = Expr.pseudos.eq, {
                        "radio": !0,
                        "checkbox": !0,
                        "file": !0,
                        "password": !0,
                        "image": !0
                    }) Expr.pseudos[i] = createInputPseudo(i);
                for (i in {
                        "submit": !0,
                        "reset": !0
                    }) Expr.pseudos[i] = createButtonPseudo(i);
                return setFilters.prototype = Expr.filters = Expr.pseudos, Expr.setFilters = new setFilters, tokenize = Sizzle.tokenize = function(selector, parseOnly) {
                    var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + " "];
                    if (cached) return parseOnly ? 0 : cached.slice(0);
                    for (soFar = selector, groups = [], preFilters = Expr.preFilter; soFar;) {
                        for (type in matched && !(match = rcomma.exec(soFar)) || (match && (soFar = soFar.slice(match[0].length) || soFar), groups.push(tokens = [])), matched = !1, (match = rcombinators.exec(soFar)) && (matched = match.shift(), tokens.push({
                                "value": matched,
                                "type": match[0].replace(rtrim, " ")
                            }), soFar = soFar.slice(matched.length)), Expr.filter) !(match = matchExpr[type].exec(soFar)) || preFilters[type] && !(match = preFilters[type](match)) || (matched = match.shift(), tokens.push({
                            "value": matched,
                            "type": type,
                            "matches": match
                        }), soFar = soFar.slice(matched.length));
                        if (!matched) break
                    }
                    return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0)
                }, compile = Sizzle.compile = function(selector, match) {
                    var i, setMatchers = [],
                        elementMatchers = [],
                        cached = compilerCache[selector + " "];
                    if (!cached) {
                        for (match || (match = tokenize(selector)), i = match.length; i--;)(cached = matcherFromTokens(match[i]))[expando] ? setMatchers.push(cached) : elementMatchers.push(cached);
                        (cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers))).selector = selector
                    }
                    return cached
                }, select = Sizzle.select = function(selector, context, results, seed) {
                    var i, tokens, token, type, find, compiled = "function" == typeof selector && selector,
                        match = !seed && tokenize(selector = compiled.selector || selector);
                    if (results = results || [], 1 === match.length) {
                        if (2 < (tokens = match[0] = match[0].slice(0)).length && "ID" === (token = tokens[0]).type && support.getById && 9 === context.nodeType && documentIsHTML && Expr.relative[tokens[1].type]) {
                            if (!(context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0])) return results;
                            compiled && (context = context.parentNode), selector = selector.slice(tokens.shift().value.length)
                        }
                        for (i = matchExpr.needsContext.test(selector) ? 0 : tokens.length; i-- && (token = tokens[i], !Expr.relative[type = token.type]);)
                            if ((find = Expr.find[type]) && (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))) {
                                if (tokens.splice(i, 1), !(selector = seed.length && toSelector(tokens))) return push.apply(results, seed), results;
                                break
                            }
                    }
                    return (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context), results
                }, support.sortStable = expando.split("").sort(sortOrder).join("") === expando, support.detectDuplicates = !!hasDuplicate, setDocument(), support.sortDetached = assert(function(div1) {
                    return 1 & div1.compareDocumentPosition(document.createElement("div"))
                }), assert(function(div) {
                    return div.innerHTML = "<a href='#'></a>", "#" === div.firstChild.getAttribute("href")
                }) || addHandle("type|href|height|width", function(elem, name, isXML) {
                    if (!isXML) return elem.getAttribute(name, "type" === name.toLowerCase() ? 1 : 2)
                }), support.attributes && assert(function(div) {
                    return div.innerHTML = "<input/>", div.firstChild.setAttribute("value", ""), "" === div.firstChild.getAttribute("value")
                }) || addHandle("value", function(elem, name, isXML) {
                    if (!isXML && "input" === elem.nodeName.toLowerCase()) return elem.defaultValue
                }), assert(function(div) {
                    return null == div.getAttribute("disabled")
                }) || addHandle(booleans, function(elem, name, isXML) {
                    var val;
                    if (!isXML) return !0 === elem[name] ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null
                }), Sizzle
            }(window);
            jQuery.find = Sizzle, jQuery.expr = Sizzle.selectors, jQuery.expr[":"] = jQuery.expr.pseudos, jQuery.unique = Sizzle.uniqueSort, jQuery.text = Sizzle.getText, jQuery.isXMLDoc = Sizzle.isXML, jQuery.contains = Sizzle.contains;
            var rneedsContext = jQuery.expr.match.needsContext,
                rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
                risSimple = /^.[^:#\[\.,]*$/;
            jQuery.filter = function(expr, elems, not) {
                var elem = elems[0];
                return not && (expr = ":not(" + expr + ")"), 1 === elems.length && 1 === elem.nodeType ? jQuery.find.matchesSelector(elem, expr) ? [elem] : [] : jQuery.find.matches(expr, jQuery.grep(elems, function(elem) {
                    return 1 === elem.nodeType
                }))
            }, jQuery.fn.extend({
                "find": function(selector) {
                    var i, len = this.length,
                        ret = [],
                        self = this;
                    if ("string" != typeof selector) return this.pushStack(jQuery(selector).filter(function() {
                        for (i = 0; i < len; i++)
                            if (jQuery.contains(self[i], this)) return !0
                    }));
                    for (i = 0; i < len; i++) jQuery.find(selector, self[i], ret);
                    return (ret = this.pushStack(1 < len ? jQuery.unique(ret) : ret)).selector = this.selector ? this.selector + " " + selector : selector, ret
                },
                "filter": function(selector) {
                    return this.pushStack(winnow(this, selector || [], !1))
                },
                "not": function(selector) {
                    return this.pushStack(winnow(this, selector || [], !0))
                },
                "is": function(selector) {
                    return !!winnow(this, "string" == typeof selector && rneedsContext.test(selector) ? jQuery(selector) : selector || [], !1).length
                }
            });
            var rootjQuery, rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
            (jQuery.fn.init = function(selector, context) {
                var match, elem;
                if (!selector) return this;
                if ("string" != typeof selector) return selector.nodeType ? (this.context = this[0] = selector, this.length = 1, this) : jQuery.isFunction(selector) ? "undefined" != typeof rootjQuery.ready ? rootjQuery.ready(selector) : selector(jQuery) : (selector.selector !== undefined && (this.selector = selector.selector, this.context = selector.context), jQuery.makeArray(selector, this));
                if (!(match = "<" === selector[0] && ">" === selector[selector.length - 1] && 3 <= selector.length ? [null, selector, null] : rquickExpr.exec(selector)) || !match[1] && context) return !context || context.jquery ? (context || rootjQuery).find(selector) : this.constructor(context).find(selector);
                if (match[1]) {
                    if (context = context instanceof jQuery ? context[0] : context, jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, !0)), rsingleTag.test(match[1]) && jQuery.isPlainObject(context))
                        for (match in context) jQuery.isFunction(this[match]) ? this[match](context[match]) : this.attr(match, context[match]);
                    return this
                }
                return (elem = document.getElementById(match[2])) && elem.parentNode && (this.length = 1, this[0] = elem), this.context = document, this.selector = selector, this
            }).prototype = jQuery.fn, rootjQuery = jQuery(document);
            var rparentsprev = /^(?:parents|prev(?:Until|All))/,
                guaranteedUnique = {
                    "children": !0,
                    "contents": !0,
                    "next": !0,
                    "prev": !0
                };
            jQuery.extend({
                "dir": function(elem, dir, until) {
                    for (var matched = [], truncate = until !== undefined;
                        (elem = elem[dir]) && 9 !== elem.nodeType;)
                        if (1 === elem.nodeType) {
                            if (truncate && jQuery(elem).is(until)) break;
                            matched.push(elem)
                        }
                    return matched
                },
                "sibling": function(n, elem) {
                    for (var matched = []; n; n = n.nextSibling) 1 === n.nodeType && n !== elem && matched.push(n);
                    return matched
                }
            }), jQuery.fn.extend({
                "has": function(target) {
                    var targets = jQuery(target, this),
                        l = targets.length;
                    return this.filter(function() {
                        for (var i = 0; i < l; i++)
                            if (jQuery.contains(this, targets[i])) return !0
                    })
                },
                "closest": function(selectors, context) {
                    for (var cur, i = 0, l = this.length, matched = [], pos = rneedsContext.test(selectors) || "string" != typeof selectors ? jQuery(selectors, context || this.context) : 0; i < l; i++)
                        for (cur = this[i]; cur && cur !== context; cur = cur.parentNode)
                            if (cur.nodeType < 11 && (pos ? -1 < pos.index(cur) : 1 === cur.nodeType && jQuery.find.matchesSelector(cur, selectors))) {
                                matched.push(cur);
                                break
                            }
                    return this.pushStack(1 < matched.length ? jQuery.unique(matched) : matched)
                },
                "index": function(elem) {
                    return elem ? "string" == typeof elem ? indexOf.call(jQuery(elem), this[0]) : indexOf.call(this, elem.jquery ? elem[0] : elem) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                },
                "add": function(selector, context) {
                    return this.pushStack(jQuery.unique(jQuery.merge(this.get(), jQuery(selector, context))))
                },
                "addBack": function(selector) {
                    return this.add(null == selector ? this.prevObject : this.prevObject.filter(selector))
                }
            }), jQuery.each({
                "parent": function(elem) {
                    var parent = elem.parentNode;
                    return parent && 11 !== parent.nodeType ? parent : null
                },
                "parents": function(elem) {
                    return jQuery.dir(elem, "parentNode")
                },
                "parentsUntil": function(elem, i, until) {
                    return jQuery.dir(elem, "parentNode", until)
                },
                "next": function(elem) {
                    return sibling(elem, "nextSibling")
                },
                "prev": function(elem) {
                    return sibling(elem, "previousSibling")
                },
                "nextAll": function(elem) {
                    return jQuery.dir(elem, "nextSibling")
                },
                "prevAll": function(elem) {
                    return jQuery.dir(elem, "previousSibling")
                },
                "nextUntil": function(elem, i, until) {
                    return jQuery.dir(elem, "nextSibling", until)
                },
                "prevUntil": function(elem, i, until) {
                    return jQuery.dir(elem, "previousSibling", until)
                },
                "siblings": function(elem) {
                    return jQuery.sibling((elem.parentNode || {}).firstChild, elem)
                },
                "children": function(elem) {
                    return jQuery.sibling(elem.firstChild)
                },
                "contents": function(elem) {
                    return elem.contentDocument || jQuery.merge([], elem.childNodes)
                }
            }, function(name, fn) {
                jQuery.fn[name] = function(until, selector) {
                    var matched = jQuery.map(this, fn, until);
                    return "Until" !== name.slice(-5) && (selector = until), selector && "string" == typeof selector && (matched = jQuery.filter(selector, matched)), 1 < this.length && (guaranteedUnique[name] || jQuery.unique(matched), rparentsprev.test(name) && matched.reverse()), this.pushStack(matched)
                }
            });
            var readyList, rnotwhite = /\S+/g,
                optionsCache = {};
            jQuery.Callbacks = function(options) {
                options = "string" == typeof options ? optionsCache[options] || createOptions(options) : jQuery.extend({}, options);
                var memory, fired, firing, firingStart, firingLength, firingIndex, list = [],
                    stack = !options.once && [],
                    fire = function(data) {
                        for (memory = options.memory && data, fired = !0, firingIndex = firingStart || 0, firingStart = 0, firingLength = list.length, firing = !0; list && firingIndex < firingLength; firingIndex++)
                            if (!1 === list[firingIndex].apply(data[0], data[1]) && options.stopOnFalse) {
                                memory = !1;
                                break
                            }
                        firing = !1, list && (stack ? stack.length && fire(stack.shift()) : memory ? list = [] : self.disable())
                    },
                    self = {
                        "add": function() {
                            if (list) {
                                var start = list.length;
                                ! function add(args) {
                                    jQuery.each(args, function(_, arg) {
                                        var type = jQuery.type(arg);
                                        "function" === type ? options.unique && self.has(arg) || list.push(arg) : arg && arg.length && "string" !== type && add(arg)
                                    })
                                }(arguments), firing ? firingLength = list.length : memory && (firingStart = start, fire(memory))
                            }
                            return this
                        },
                        "remove": function() {
                            return list && jQuery.each(arguments, function(_, arg) {
                                for (var index; - 1 < (index = jQuery.inArray(arg, list, index));) list.splice(index, 1), firing && (index <= firingLength && firingLength--, index <= firingIndex && firingIndex--)
                            }), this
                        },
                        "has": function(fn) {
                            return fn ? -1 < jQuery.inArray(fn, list) : !(!list || !list.length)
                        },
                        "empty": function() {
                            return list = [], firingLength = 0, this
                        },
                        "disable": function() {
                            return list = stack = memory = undefined, this
                        },
                        "disabled": function() {
                            return !list
                        },
                        "lock": function() {
                            return stack = undefined, memory || self.disable(), this
                        },
                        "locked": function() {
                            return !stack
                        },
                        "fireWith": function(context, args) {
                            return !list || fired && !stack || (args = [context, (args = args || []).slice ? args.slice() : args], firing ? stack.push(args) : fire(args)), this
                        },
                        "fire": function() {
                            return self.fireWith(this, arguments), this
                        },
                        "fired": function() {
                            return !!fired
                        }
                    };
                return self
            }, jQuery.extend({
                "Deferred": function(func) {
                    var tuples = [
                            ["resolve", "done", jQuery.Callbacks("once memory"), "resolved"],
                            ["reject", "fail", jQuery.Callbacks("once memory"), "rejected"],
                            ["notify", "progress", jQuery.Callbacks("memory")]
                        ],
                        state = "pending",
                        promise = {
                            "state": function() {
                                return state
                            },
                            "always": function() {
                                return deferred.done(arguments).fail(arguments), this
                            },
                            "then": function() {
                                var fns = arguments;
                                return jQuery.Deferred(function(newDefer) {
                                    jQuery.each(tuples, function(i, tuple) {
                                        var fn = jQuery.isFunction(fns[i]) && fns[i];
                                        deferred[tuple[1]](function() {
                                            var returned = fn && fn.apply(this, arguments);
                                            returned && jQuery.isFunction(returned.promise) ? returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify) : newDefer[tuple[0] + "With"](this === promise ? newDefer.promise() : this, fn ? [returned] : arguments)
                                        })
                                    }), fns = null
                                }).promise()
                            },
                            "promise": function(obj) {
                                return null != obj ? jQuery.extend(obj, promise) : promise
                            }
                        },
                        deferred = {};
                    return promise.pipe = promise.then, jQuery.each(tuples, function(i, tuple) {
                        var list = tuple[2],
                            stateString = tuple[3];
                        promise[tuple[1]] = list.add, stateString && list.add(function() {
                            state = stateString
                        }, tuples[1 ^ i][2].disable, tuples[2][2].lock), deferred[tuple[0]] = function() {
                            return deferred[tuple[0] + "With"](this === deferred ? promise : this, arguments), this
                        }, deferred[tuple[0] + "With"] = list.fireWith
                    }), promise.promise(deferred), func && func.call(deferred, deferred), deferred
                },
                "when": function(subordinate) {
                    var progressValues, progressContexts, resolveContexts, i = 0,
                        resolveValues = slice.call(arguments),
                        length = resolveValues.length,
                        remaining = 1 !== length || subordinate && jQuery.isFunction(subordinate.promise) ? length : 0,
                        deferred = 1 === remaining ? subordinate : jQuery.Deferred(),
                        updateFunc = function(i, contexts, values) {
                            return function(value) {
                                contexts[i] = this, values[i] = 1 < arguments.length ? slice.call(arguments) : value, values === progressValues ? deferred.notifyWith(contexts, values) : --remaining || deferred.resolveWith(contexts, values)
                            }
                        };
                    if (1 < length)
                        for (progressValues = new Array(length), progressContexts = new Array(length), resolveContexts = new Array(length); i < length; i++) resolveValues[i] && jQuery.isFunction(resolveValues[i].promise) ? resolveValues[i].promise().done(updateFunc(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFunc(i, progressContexts, progressValues)) : --remaining;
                    return remaining || deferred.resolveWith(resolveContexts, resolveValues), deferred.promise()
                }
            }), jQuery.fn.ready = function(fn) {
                return jQuery.ready.promise().done(fn), this
            }, jQuery.extend({
                "isReady": !1,
                "readyWait": 1,
                "holdReady": function(hold) {
                    hold ? jQuery.readyWait++ : jQuery.ready(!0)
                },
                "ready": function(wait) {
                    (!0 === wait ? --jQuery.readyWait : jQuery.isReady) || (jQuery.isReady = !0) !== wait && 0 < --jQuery.readyWait || (readyList.resolveWith(document, [jQuery]), jQuery.fn.triggerHandler && (jQuery(document).triggerHandler("ready"), jQuery(document).off("ready")))
                }
            }), jQuery.ready.promise = function(obj) {
                return readyList || (readyList = jQuery.Deferred(), "complete" === document.readyState ? setTimeout(jQuery.ready) : (document.addEventListener("DOMContentLoaded", completed, !1), window.addEventListener("load", completed, !1))), readyList.promise(obj)
            }, jQuery.ready.promise();
            var access = jQuery.access = function(elems, fn, key, value, chainable, emptyGet, raw) {
                var i = 0,
                    len = elems.length,
                    bulk = null == key;
                if ("object" === jQuery.type(key))
                    for (i in chainable = !0, key) jQuery.access(elems, fn, i, key[i], !0, emptyGet, raw);
                else if (value !== undefined && (chainable = !0, jQuery.isFunction(value) || (raw = !0), bulk && (raw ? (fn.call(elems, value), fn = null) : (bulk = fn, fn = function(elem, key, value) {
                        return bulk.call(jQuery(elem), value)
                    })), fn))
                    for (; i < len; i++) fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));
                return chainable ? elems : bulk ? fn.call(elems) : len ? fn(elems[0], key) : emptyGet
            };
            jQuery.acceptData = function(owner) {
                return 1 === owner.nodeType || 9 === owner.nodeType || !+owner.nodeType
            }, Data.uid = 1, Data.accepts = jQuery.acceptData, Data.prototype = {
                "key": function(owner) {
                    if (!Data.accepts(owner)) return 0;
                    var descriptor = {},
                        unlock = owner[this.expando];
                    if (!unlock) {
                        unlock = Data.uid++;
                        try {
                            descriptor[this.expando] = {
                                "value": unlock
                            }, Object.defineProperties(owner, descriptor)
                        } catch (e) {
                            descriptor[this.expando] = unlock, jQuery.extend(owner, descriptor)
                        }
                    }
                    return this.cache[unlock] || (this.cache[unlock] = {}), unlock
                },
                "set": function(owner, data, value) {
                    var prop, unlock = this.key(owner),
                        cache = this.cache[unlock];
                    if ("string" == typeof data) cache[data] = value;
                    else if (jQuery.isEmptyObject(cache)) jQuery.extend(this.cache[unlock], data);
                    else
                        for (prop in data) cache[prop] = data[prop];
                    return cache
                },
                "get": function(owner, key) {
                    var cache = this.cache[this.key(owner)];
                    return key === undefined ? cache : cache[key]
                },
                "access": function(owner, key, value) {
                    var stored;
                    return key === undefined || key && "string" == typeof key && value === undefined ? (stored = this.get(owner, key)) !== undefined ? stored : this.get(owner, jQuery.camelCase(key)) : (this.set(owner, key, value), value !== undefined ? value : key)
                },
                "remove": function(owner, key) {
                    var i, name, camel, unlock = this.key(owner),
                        cache = this.cache[unlock];
                    if (key === undefined) this.cache[unlock] = {};
                    else {
                        jQuery.isArray(key) ? name = key.concat(key.map(jQuery.camelCase)) : (camel = jQuery.camelCase(key), name = key in cache ? [key, camel] : (name = camel) in cache ? [name] : name.match(rnotwhite) || []), i = name.length;
                        for (; i--;) delete cache[name[i]]
                    }
                },
                "hasData": function(owner) {
                    return !jQuery.isEmptyObject(this.cache[owner[this.expando]] || {})
                },
                "discard": function(owner) {
                    owner[this.expando] && delete this.cache[owner[this.expando]]
                }
            };
            var data_priv = new Data,
                data_user = new Data,
                rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                rmultiDash = /([A-Z])/g;
            jQuery.extend({
                "hasData": function(elem) {
                    return data_user.hasData(elem) || data_priv.hasData(elem)
                },
                "data": function(elem, name, data) {
                    return data_user.access(elem, name, data)
                },
                "removeData": function(elem, name) {
                    data_user.remove(elem, name)
                },
                "_data": function(elem, name, data) {
                    return data_priv.access(elem, name, data)
                },
                "_removeData": function(elem, name) {
                    data_priv.remove(elem, name)
                }
            }), jQuery.fn.extend({
                "data": function(key, value) {
                    var i, name, data, elem = this[0],
                        attrs = elem && elem.attributes;
                    if (key !== undefined) return "object" == typeof key ? this.each(function() {
                        data_user.set(this, key)
                    }) : access(this, function(value) {
                        var data, camelKey = jQuery.camelCase(key);
                        if (elem && value === undefined) return (data = data_user.get(elem, key)) !== undefined ? data : (data = data_user.get(elem, camelKey)) !== undefined ? data : (data = dataAttr(elem, camelKey, undefined)) !== undefined ? data : void 0;
                        this.each(function() {
                            var data = data_user.get(this, camelKey);
                            data_user.set(this, camelKey, value), -1 !== key.indexOf("-") && data !== undefined && data_user.set(this, key, value)
                        })
                    }, null, value, 1 < arguments.length, null, !0);
                    if (this.length && (data = data_user.get(elem), 1 === elem.nodeType && !data_priv.get(elem, "hasDataAttrs"))) {
                        for (i = attrs.length; i--;) attrs[i] && 0 === (name = attrs[i].name).indexOf("data-") && (name = jQuery.camelCase(name.slice(5)), dataAttr(elem, name, data[name]));
                        data_priv.set(elem, "hasDataAttrs", !0)
                    }
                    return data
                },
                "removeData": function(key) {
                    return this.each(function() {
                        data_user.remove(this, key)
                    })
                }
            }), jQuery.extend({
                "queue": function(elem, type, data) {
                    var queue;
                    if (elem) return type = (type || "fx") + "queue", queue = data_priv.get(elem, type), data && (!queue || jQuery.isArray(data) ? queue = data_priv.access(elem, type, jQuery.makeArray(data)) : queue.push(data)), queue || []
                },
                "dequeue": function(elem, type) {
                    type = type || "fx";
                    var queue = jQuery.queue(elem, type),
                        startLength = queue.length,
                        fn = queue.shift(),
                        hooks = jQuery._queueHooks(elem, type),
                        next = function() {
                            jQuery.dequeue(elem, type)
                        };
                    "inprogress" === fn && (fn = queue.shift(), startLength--), fn && ("fx" === type && queue.unshift("inprogress"), delete hooks.stop, fn.call(elem, next, hooks)), !startLength && hooks && hooks.empty.fire()
                },
                "_queueHooks": function(elem, type) {
                    var key = type + "queueHooks";
                    return data_priv.get(elem, key) || data_priv.access(elem, key, {
                        "empty": jQuery.Callbacks("once memory").add(function() {
                            data_priv.remove(elem, [type + "queue", key])
                        })
                    })
                }
            }), jQuery.fn.extend({
                "queue": function(type, data) {
                    var setter = 2;
                    return "string" != typeof type && (data = type, type = "fx", setter--), arguments.length < setter ? jQuery.queue(this[0], type) : data === undefined ? this : this.each(function() {
                        var queue = jQuery.queue(this, type, data);
                        jQuery._queueHooks(this, type), "fx" === type && "inprogress" !== queue[0] && jQuery.dequeue(this, type)
                    })
                },
                "dequeue": function(type) {
                    return this.each(function() {
                        jQuery.dequeue(this, type)
                    })
                },
                "clearQueue": function(type) {
                    return this.queue(type || "fx", [])
                },
                "promise": function(type, obj) {
                    var tmp, count = 1,
                        defer = jQuery.Deferred(),
                        elements = this,
                        i = this.length,
                        resolve = function() {
                            --count || defer.resolveWith(elements, [elements])
                        };
                    for ("string" != typeof type && (obj = type, type = undefined), type = type || "fx"; i--;)(tmp = data_priv.get(elements[i], type + "queueHooks")) && tmp.empty && (count++, tmp.empty.add(resolve));
                    return resolve(), defer.promise(obj)
                }
            });
            var div, input, pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                cssExpand = ["Top", "Right", "Bottom", "Left"],
                isHidden = function(elem, el) {
                    return elem = el || elem, "none" === jQuery.css(elem, "display") || !jQuery.contains(elem.ownerDocument, elem)
                },
                rcheckableType = /^(?:checkbox|radio)$/i;
            div = document.createDocumentFragment().appendChild(document.createElement("div")), (input = document.createElement("input")).setAttribute("type", "radio"), input.setAttribute("checked", "checked"), input.setAttribute("name", "t"), div.appendChild(input), support.checkClone = div.cloneNode(!0).cloneNode(!0).lastChild.checked, div.innerHTML = "<textarea>x</textarea>", support.noCloneChecked = !!div.cloneNode(!0).lastChild.defaultValue;
            var strundefined = typeof undefined;
            support.focusinBubbles = "onfocusin" in window;
            var rkeyEvent = /^key/,
                rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,
                rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
                rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;
            jQuery.event = {
                "global": {},
                "add": function(elem, types, handler, data, selector) {
                    var handleObjIn, eventHandle, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = data_priv.get(elem);
                    if (elemData)
                        for (handler.handler && (handler = (handleObjIn = handler).handler, selector = handleObjIn.selector), handler.guid || (handler.guid = jQuery.guid++), (events = elemData.events) || (events = elemData.events = {}), (eventHandle = elemData.handle) || (eventHandle = elemData.handle = function(e) {
                                return typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply(elem, arguments) : undefined
                            }), t = (types = (types || "").match(rnotwhite) || [""]).length; t--;) type = origType = (tmp = rtypenamespace.exec(types[t]) || [])[1], namespaces = (tmp[2] || "").split(".").sort(), type && (special = jQuery.event.special[type] || {}, type = (selector ? special.delegateType : special.bindType) || type, special = jQuery.event.special[type] || {}, handleObj = jQuery.extend({
                            "type": type,
                            "origType": origType,
                            "data": data,
                            "handler": handler,
                            "guid": handler.guid,
                            "selector": selector,
                            "needsContext": selector && jQuery.expr.match.needsContext.test(selector),
                            "namespace": namespaces.join(".")
                        }, handleObjIn), (handlers = events[type]) || ((handlers = events[type] = []).delegateCount = 0, special.setup && !1 !== special.setup.call(elem, data, namespaces, eventHandle) || elem.addEventListener && elem.addEventListener(type, eventHandle, !1)), special.add && (special.add.call(elem, handleObj), handleObj.handler.guid || (handleObj.handler.guid = handler.guid)), selector ? handlers.splice(handlers.delegateCount++, 0, handleObj) : handlers.push(handleObj), jQuery.event.global[type] = !0)
                },
                "remove": function(elem, types, handler, selector, mappedTypes) {
                    var j, origCount, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = data_priv.hasData(elem) && data_priv.get(elem);
                    if (elemData && (events = elemData.events)) {
                        for (t = (types = (types || "").match(rnotwhite) || [""]).length; t--;)
                            if (type = origType = (tmp = rtypenamespace.exec(types[t]) || [])[1], namespaces = (tmp[2] || "").split(".").sort(), type) {
                                for (special = jQuery.event.special[type] || {}, handlers = events[type = (selector ? special.delegateType : special.bindType) || type] || [], tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)"), origCount = j = handlers.length; j--;) handleObj = handlers[j], !mappedTypes && origType !== handleObj.origType || handler && handler.guid !== handleObj.guid || tmp && !tmp.test(handleObj.namespace) || selector && selector !== handleObj.selector && ("**" !== selector || !handleObj.selector) || (handlers.splice(j, 1), handleObj.selector && handlers.delegateCount--, special.remove && special.remove.call(elem, handleObj));
                                origCount && !handlers.length && (special.teardown && !1 !== special.teardown.call(elem, namespaces, elemData.handle) || jQuery.removeEvent(elem, type, elemData.handle), delete events[type])
                            } else
                                for (type in events) jQuery.event.remove(elem, type + types[t], handler, selector, !0);
                        jQuery.isEmptyObject(events) && (delete elemData.handle, data_priv.remove(elem, "events"))
                    }
                },
                "trigger": function(event, data, elem, onlyHandlers) {
                    var i, cur, tmp, bubbleType, ontype, handle, special, eventPath = [elem || document],
                        type = hasOwn.call(event, "type") ? event.type : event,
                        namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
                    if (cur = tmp = elem = elem || document, 3 !== elem.nodeType && 8 !== elem.nodeType && !rfocusMorph.test(type + jQuery.event.triggered) && (0 <= type.indexOf(".") && (type = (namespaces = type.split(".")).shift(), namespaces.sort()), ontype = type.indexOf(":") < 0 && "on" + type, (event = event[jQuery.expando] ? event : new jQuery.Event(type, "object" == typeof event && event)).isTrigger = onlyHandlers ? 2 : 3, event.namespace = namespaces.join("."), event.namespace_re = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, event.result = undefined, event.target || (event.target = elem), data = null == data ? [event] : jQuery.makeArray(data, [event]), special = jQuery.event.special[type] || {}, onlyHandlers || !special.trigger || !1 !== special.trigger.apply(elem, data))) {
                        if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
                            for (bubbleType = special.delegateType || type, rfocusMorph.test(bubbleType + type) || (cur = cur.parentNode); cur; cur = cur.parentNode) eventPath.push(cur), tmp = cur;
                            tmp === (elem.ownerDocument || document) && eventPath.push(tmp.defaultView || tmp.parentWindow || window)
                        }
                        for (i = 0;
                            (cur = eventPath[i++]) && !event.isPropagationStopped();) event.type = 1 < i ? bubbleType : special.bindType || type, (handle = (data_priv.get(cur, "events") || {})[event.type] && data_priv.get(cur, "handle")) && handle.apply(cur, data), (handle = ontype && cur[ontype]) && handle.apply && jQuery.acceptData(cur) && (event.result = handle.apply(cur, data), !1 === event.result && event.preventDefault());
                        return event.type = type, onlyHandlers || event.isDefaultPrevented() || special._default && !1 !== special._default.apply(eventPath.pop(), data) || !jQuery.acceptData(elem) || ontype && jQuery.isFunction(elem[type]) && !jQuery.isWindow(elem) && ((tmp = elem[ontype]) && (elem[ontype] = null), elem[jQuery.event.triggered = type](), jQuery.event.triggered = undefined, tmp && (elem[ontype] = tmp)), event.result
                    }
                },
                "dispatch": function(event) {
                    event = jQuery.event.fix(event);
                    var i, j, ret, matched, handleObj, handlerQueue = [],
                        args = slice.call(arguments),
                        handlers = (data_priv.get(this, "events") || {})[event.type] || [],
                        special = jQuery.event.special[event.type] || {};
                    if ((args[0] = event).delegateTarget = this, !special.preDispatch || !1 !== special.preDispatch.call(this, event)) {
                        for (handlerQueue = jQuery.event.handlers.call(this, event, handlers), i = 0;
                            (matched = handlerQueue[i++]) && !event.isPropagationStopped();)
                            for (event.currentTarget = matched.elem, j = 0;
                                (handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped();) event.namespace_re && !event.namespace_re.test(handleObj.namespace) || (event.handleObj = handleObj, event.data = handleObj.data, (ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args)) !== undefined && !1 === (event.result = ret) && (event.preventDefault(), event.stopPropagation()));
                        return special.postDispatch && special.postDispatch.call(this, event), event.result
                    }
                },
                "handlers": function(event, handlers) {
                    var i, matches, sel, handleObj, handlerQueue = [],
                        delegateCount = handlers.delegateCount,
                        cur = event.target;
                    if (delegateCount && cur.nodeType && (!event.button || "click" !== event.type))
                        for (; cur !== this; cur = cur.parentNode || this)
                            if (!0 !== cur.disabled || "click" !== event.type) {
                                for (matches = [], i = 0; i < delegateCount; i++) matches[sel = (handleObj = handlers[i]).selector + " "] === undefined && (matches[sel] = handleObj.needsContext ? 0 <= jQuery(sel, this).index(cur) : jQuery.find(sel, this, null, [cur]).length), matches[sel] && matches.push(handleObj);
                                matches.length && handlerQueue.push({
                                    "elem": cur,
                                    "handlers": matches
                                })
                            }
                    return delegateCount < handlers.length && handlerQueue.push({
                        "elem": this,
                        "handlers": handlers.slice(delegateCount)
                    }), handlerQueue
                },
                "props": "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
                "fixHooks": {},
                "keyHooks": {
                    "props": "char charCode key keyCode".split(" "),
                    "filter": function(event, original) {
                        return null == event.which && (event.which = null != original.charCode ? original.charCode : original.keyCode), event
                    }
                },
                "mouseHooks": {
                    "props": "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                    "filter": function(event, original) {
                        var eventDoc, doc, body, button = original.button;
                        return null == event.pageX && null != original.clientX && (doc = (eventDoc = event.target.ownerDocument || document).documentElement, body = eventDoc.body, event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0), event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0)), event.which || button === undefined || (event.which = 1 & button ? 1 : 2 & button ? 3 : 4 & button ? 2 : 0), event
                    }
                },
                "fix": function(event) {
                    if (event[jQuery.expando]) return event;
                    var i, prop, copy, type = event.type,
                        originalEvent = event,
                        fixHook = this.fixHooks[type];
                    for (fixHook || (this.fixHooks[type] = fixHook = rmouseEvent.test(type) ? this.mouseHooks : rkeyEvent.test(type) ? this.keyHooks : {}), copy = fixHook.props ? this.props.concat(fixHook.props) : this.props, event = new jQuery.Event(originalEvent), i = copy.length; i--;) event[prop = copy[i]] = originalEvent[prop];
                    return event.target || (event.target = document), 3 === event.target.nodeType && (event.target = event.target.parentNode), fixHook.filter ? fixHook.filter(event, originalEvent) : event
                },
                "special": {
                    "load": {
                        "noBubble": !0
                    },
                    "focus": {
                        "trigger": function() {
                            if (this !== safeActiveElement() && this.focus) return this.focus(), !1
                        },
                        "delegateType": "focusin"
                    },
                    "blur": {
                        "trigger": function() {
                            if (this === safeActiveElement() && this.blur) return this.blur(), !1
                        },
                        "delegateType": "focusout"
                    },
                    "click": {
                        "trigger": function() {
                            if ("checkbox" === this.type && this.click && jQuery.nodeName(this, "input")) return this.click(), !1
                        },
                        "_default": function(event) {
                            return jQuery.nodeName(event.target, "a")
                        }
                    },
                    "beforeunload": {
                        "postDispatch": function(event) {
                            event.result !== undefined && event.originalEvent && (event.originalEvent.returnValue = event.result)
                        }
                    }
                },
                "simulate": function(type, elem, event, bubble) {
                    var e = jQuery.extend(new jQuery.Event, event, {
                        "type": type,
                        "isSimulated": !0,
                        "originalEvent": {}
                    });
                    bubble ? jQuery.event.trigger(e, null, elem) : jQuery.event.dispatch.call(elem, e), e.isDefaultPrevented() && event.preventDefault()
                }
            }, jQuery.removeEvent = function(elem, type, handle) {
                elem.removeEventListener && elem.removeEventListener(type, handle, !1)
            }, jQuery.Event = function(src, props) {
                if (!(this instanceof jQuery.Event)) return new jQuery.Event(src, props);
                src && src.type ? (this.originalEvent = src, this.type = src.type, this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined && !1 === src.returnValue ? returnTrue : returnFalse) : this.type = src, props && jQuery.extend(this, props), this.timeStamp = src && src.timeStamp || jQuery.now(), this[jQuery.expando] = !0
            }, jQuery.Event.prototype = {
                "isDefaultPrevented": returnFalse,
                "isPropagationStopped": returnFalse,
                "isImmediatePropagationStopped": returnFalse,
                "preventDefault": function() {
                    var e = this.originalEvent;
                    this.isDefaultPrevented = returnTrue, e && e.preventDefault && e.preventDefault()
                },
                "stopPropagation": function() {
                    var e = this.originalEvent;
                    this.isPropagationStopped = returnTrue, e && e.stopPropagation && e.stopPropagation()
                },
                "stopImmediatePropagation": function() {
                    var e = this.originalEvent;
                    this.isImmediatePropagationStopped = returnTrue, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation()
                }
            }, jQuery.each({
                "mouseenter": "mouseover",
                "mouseleave": "mouseout",
                "pointerenter": "pointerover",
                "pointerleave": "pointerout"
            }, function(orig, fix) {
                jQuery.event.special[orig] = {
                    "delegateType": fix,
                    "bindType": fix,
                    "handle": function(event) {
                        var ret, target = this,
                            related = event.relatedTarget,
                            handleObj = event.handleObj;
                        return related && (related === target || jQuery.contains(target, related)) || (event.type = handleObj.origType, ret = handleObj.handler.apply(this, arguments), event.type = fix), ret
                    }
                }
            }), support.focusinBubbles || jQuery.each({
                "focus": "focusin",
                "blur": "focusout"
            }, function(orig, fix) {
                var handler = function(event) {
                    jQuery.event.simulate(fix, event.target, jQuery.event.fix(event), !0)
                };
                jQuery.event.special[fix] = {
                    "setup": function() {
                        var doc = this.ownerDocument || this,
                            attaches = data_priv.access(doc, fix);
                        attaches || doc.addEventListener(orig, handler, !0), data_priv.access(doc, fix, (attaches || 0) + 1)
                    },
                    "teardown": function() {
                        var doc = this.ownerDocument || this,
                            attaches = data_priv.access(doc, fix) - 1;
                        attaches ? data_priv.access(doc, fix, attaches) : (doc.removeEventListener(orig, handler, !0), data_priv.remove(doc, fix))
                    }
                }
            }), jQuery.fn.extend({
                "on": function(types, selector, data, fn, one) {
                    var origFn, type;
                    if ("object" == typeof types) {
                        for (type in "string" != typeof selector && (data = data || selector, selector = undefined), types) this.on(type, selector, data, types[type], one);
                        return this
                    }
                    if (null == data && null == fn ? (fn = selector, data = selector = undefined) : null == fn && ("string" == typeof selector ? (fn = data, data = undefined) : (fn = data, data = selector, selector = undefined)), !1 === fn) fn = returnFalse;
                    else if (!fn) return this;
                    return 1 === one && (origFn = fn, (fn = function(event) {
                        return jQuery().off(event), origFn.apply(this, arguments)
                    }).guid = origFn.guid || (origFn.guid = jQuery.guid++)), this.each(function() {
                        jQuery.event.add(this, types, fn, data, selector)
                    })
                },
                "one": function(types, selector, data, fn) {
                    return this.on(types, selector, data, fn, 1)
                },
                "off": function(types, selector, fn) {
                    var handleObj, type;
                    if (types && types.preventDefault && types.handleObj) return handleObj = types.handleObj, jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler), this;
                    if ("object" != typeof types) return !1 !== selector && "function" != typeof selector || (fn = selector, selector = undefined), !1 === fn && (fn = returnFalse), this.each(function() {
                        jQuery.event.remove(this, types, fn, selector)
                    });
                    for (type in types) this.off(type, selector, types[type]);
                    return this
                },
                "trigger": function(type, data) {
                    return this.each(function() {
                        jQuery.event.trigger(type, data, this)
                    })
                },
                "triggerHandler": function(type, data) {
                    var elem = this[0];
                    if (elem) return jQuery.event.trigger(type, data, elem, !0)
                }
            });
            var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
                rtagName = /<([\w:]+)/,
                rhtml = /<|&#?\w+;/,
                rnoInnerhtml = /<(?:script|style|link)/i,
                rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
                rscriptType = /^$|\/(?:java|ecma)script/i,
                rscriptTypeMasked = /^true\/(.*)/,
                rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
                wrapMap = {
                    "option": [1, "<select multiple='multiple'>", "</select>"],
                    "thead": [1, "<table>", "</table>"],
                    "col": [2, "<table><colgroup>", "</colgroup></table>"],
                    "tr": [2, "<table><tbody>", "</tbody></table>"],
                    "td": [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                    "_default": [0, "", ""]
                };
            wrapMap.optgroup = wrapMap.option, wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead, wrapMap.th = wrapMap.td, jQuery.extend({
                "clone": function(elem, dataAndEvents, deepDataAndEvents) {
                    var i, l, srcElements, destElements, clone = elem.cloneNode(!0),
                        inPage = jQuery.contains(elem.ownerDocument, elem);
                    if (!(support.noCloneChecked || 1 !== elem.nodeType && 11 !== elem.nodeType || jQuery.isXMLDoc(elem)))
                        for (destElements = getAll(clone), i = 0, l = (srcElements = getAll(elem)).length; i < l; i++) fixInput(srcElements[i], destElements[i]);
                    if (dataAndEvents)
                        if (deepDataAndEvents)
                            for (srcElements = srcElements || getAll(elem), destElements = destElements || getAll(clone), i = 0, l = srcElements.length; i < l; i++) cloneCopyEvent(
                                srcElements[i], destElements[i]);
                        else cloneCopyEvent(elem, clone);
                    return 0 < (destElements = getAll(clone, "script")).length && setGlobalEval(destElements, !inPage && getAll(elem, "script")), clone
                },
                "buildFragment": function(elems, context, scripts, selection) {
                    for (var elem, tmp, tag, wrap, contains, j, fragment = context.createDocumentFragment(), nodes = [], i = 0, l = elems.length; i < l; i++)
                        if ((elem = elems[i]) || 0 === elem)
                            if ("object" === jQuery.type(elem)) jQuery.merge(nodes, elem.nodeType ? [elem] : elem);
                            else if (rhtml.test(elem)) {
                        for (tmp = tmp || fragment.appendChild(context.createElement("div")), tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase(), wrap = wrapMap[tag] || wrapMap._default, tmp.innerHTML = wrap[1] + elem.replace(rxhtmlTag, "<$1></$2>") + wrap[2], j = wrap[0]; j--;) tmp = tmp.lastChild;
                        jQuery.merge(nodes, tmp.childNodes), (tmp = fragment.firstChild).textContent = ""
                    } else nodes.push(context.createTextNode(elem));
                    for (fragment.textContent = "", i = 0; elem = nodes[i++];)
                        if ((!selection || -1 === jQuery.inArray(elem, selection)) && (contains = jQuery.contains(elem.ownerDocument, elem), tmp = getAll(fragment.appendChild(elem), "script"), contains && setGlobalEval(tmp), scripts))
                            for (j = 0; elem = tmp[j++];) rscriptType.test(elem.type || "") && scripts.push(elem);
                    return fragment
                },
                "cleanData": function(elems) {
                    for (var data, elem, type, key, special = jQuery.event.special, i = 0;
                        (elem = elems[i]) !== undefined; i++) {
                        if (jQuery.acceptData(elem) && (key = elem[data_priv.expando]) && (data = data_priv.cache[key])) {
                            if (data.events)
                                for (type in data.events) special[type] ? jQuery.event.remove(elem, type) : jQuery.removeEvent(elem, type, data.handle);
                            data_priv.cache[key] && delete data_priv.cache[key]
                        }
                        delete data_user.cache[elem[data_user.expando]]
                    }
                }
            }), jQuery.fn.extend({
                "text": function(value) {
                    return access(this, function(value) {
                        return value === undefined ? jQuery.text(this) : this.empty().each(function() {
                            1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = value)
                        })
                    }, null, value, arguments.length)
                },
                "append": function() {
                    return this.domManip(arguments, function(elem) {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || manipulationTarget(this, elem).appendChild(elem)
                    })
                },
                "prepend": function() {
                    return this.domManip(arguments, function(elem) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                            var target = manipulationTarget(this, elem);
                            target.insertBefore(elem, target.firstChild)
                        }
                    })
                },
                "before": function() {
                    return this.domManip(arguments, function(elem) {
                        this.parentNode && this.parentNode.insertBefore(elem, this)
                    })
                },
                "after": function() {
                    return this.domManip(arguments, function(elem) {
                        this.parentNode && this.parentNode.insertBefore(elem, this.nextSibling)
                    })
                },
                "remove": function(selector, keepData) {
                    for (var elem, elems = selector ? jQuery.filter(selector, this) : this, i = 0; null != (elem = elems[i]); i++) keepData || 1 !== elem.nodeType || jQuery.cleanData(getAll(elem)), elem.parentNode && (keepData && jQuery.contains(elem.ownerDocument, elem) && setGlobalEval(getAll(elem, "script")), elem.parentNode.removeChild(elem));
                    return this
                },
                "empty": function() {
                    for (var elem, i = 0; null != (elem = this[i]); i++) 1 === elem.nodeType && (jQuery.cleanData(getAll(elem, !1)), elem.textContent = "");
                    return this
                },
                "clone": function(dataAndEvents, deepDataAndEvents) {
                    return dataAndEvents = null != dataAndEvents && dataAndEvents, deepDataAndEvents = null == deepDataAndEvents ? dataAndEvents : deepDataAndEvents, this.map(function() {
                        return jQuery.clone(this, dataAndEvents, deepDataAndEvents)
                    })
                },
                "html": function(value) {
                    return access(this, function(value) {
                        var elem = this[0] || {},
                            i = 0,
                            l = this.length;
                        if (value === undefined && 1 === elem.nodeType) return elem.innerHTML;
                        if ("string" == typeof value && !rnoInnerhtml.test(value) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
                            value = value.replace(rxhtmlTag, "<$1></$2>");
                            try {
                                for (; i < l; i++) 1 === (elem = this[i] || {}).nodeType && (jQuery.cleanData(getAll(elem, !1)), elem.innerHTML = value);
                                elem = 0
                            } catch (e) {}
                        }
                        elem && this.empty().append(value)
                    }, null, value, arguments.length)
                },
                "replaceWith": function(argument_0) {
                    var arg = argument_0;
                    return this.domManip(arguments, function(elem) {
                        arg = this.parentNode, jQuery.cleanData(getAll(this)), arg && arg.replaceChild(elem, this)
                    }), arg && (arg.length || arg.nodeType) ? this : this.remove()
                },
                "detach": function(selector) {
                    return this.remove(selector, !0)
                },
                "domManip": function(args, callback) {
                    args = concat.apply([], args);
                    var fragment, first, scripts, hasScripts, node, doc, i = 0,
                        l = this.length,
                        set = this,
                        iNoClone = l - 1,
                        value = args[0],
                        isFunction = jQuery.isFunction(value);
                    if (isFunction || 1 < l && "string" == typeof value && !support.checkClone && rchecked.test(value)) return this.each(function(index) {
                        var self = set.eq(index);
                        isFunction && (args[0] = value.call(this, index, self.html())), self.domManip(args, callback)
                    });
                    if (l && (first = (fragment = jQuery.buildFragment(args, this[0].ownerDocument, !1, this)).firstChild, 1 === fragment.childNodes.length && (fragment = first), first)) {
                        for (hasScripts = (scripts = jQuery.map(getAll(fragment, "script"), disableScript)).length; i < l; i++) node = fragment, i !== iNoClone && (node = jQuery.clone(node, !0, !0), hasScripts && jQuery.merge(scripts, getAll(node, "script"))), callback.call(this[i], node, i);
                        if (hasScripts)
                            for (doc = scripts[scripts.length - 1].ownerDocument, jQuery.map(scripts, restoreScript), i = 0; i < hasScripts; i++) node = scripts[i], rscriptType.test(node.type || "") && !data_priv.access(node, "globalEval") && jQuery.contains(doc, node) && (node.src ? jQuery._evalUrl && jQuery._evalUrl(node.src) : jQuery.globalEval(node.textContent.replace(rcleanScript, "")))
                    }
                    return this
                }
            }), jQuery.each({
                "appendTo": "append",
                "prependTo": "prepend",
                "insertBefore": "before",
                "insertAfter": "after",
                "replaceAll": "replaceWith"
            }, function(name, original) {
                jQuery.fn[name] = function(selector) {
                    for (var elems, ret = [], insert = jQuery(selector), last = insert.length - 1, i = 0; i <= last; i++) elems = i === last ? this : this.clone(!0), jQuery(insert[i])[original](elems), push.apply(ret, elems.get());
                    return this.pushStack(ret)
                }
            });
            var iframe, elemdisplay = {},
                rmargin = /^margin/,
                rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i"),
                getStyles = function(elem) {
                    return elem.ownerDocument.defaultView.opener ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : window.getComputedStyle(elem, null)
                };
            ! function() {
                function computePixelPositionAndBoxSizingReliable() {
                    div.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", div.innerHTML = "", docElem.appendChild(container);
                    var divStyle = window.getComputedStyle(div, null);
                    pixelPositionVal = "1%" !== divStyle.top, boxSizingReliableVal = "4px" === divStyle.width, docElem.removeChild(container)
                }
                var pixelPositionVal, boxSizingReliableVal, docElem = document.documentElement,
                    container = document.createElement("div"),
                    div = document.createElement("div");
                div.style && (div.style.backgroundClip = "content-box", div.cloneNode(!0).style.backgroundClip = "", support.clearCloneStyle = "content-box" === div.style.backgroundClip, container.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", container.appendChild(div), window.getComputedStyle && jQuery.extend(support, {
                    "pixelPosition": function() {
                        return computePixelPositionAndBoxSizingReliable(), pixelPositionVal
                    },
                    "boxSizingReliable": function() {
                        return null == boxSizingReliableVal && computePixelPositionAndBoxSizingReliable(), boxSizingReliableVal
                    },
                    "reliableMarginRight": function() {
                        var ret, marginDiv = div.appendChild(document.createElement("div"));
                        return marginDiv.style.cssText = div.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", marginDiv.style.marginRight = marginDiv.style.width = "0", div.style.width = "1px", docElem.appendChild(container), ret = !parseFloat(window.getComputedStyle(marginDiv, null).marginRight), docElem.removeChild(container), div.removeChild(marginDiv), ret
                    }
                }))
            }(), jQuery.swap = function(elem, options, callback, args) {
                var ret, name, old = {};
                for (name in options) old[name] = elem.style[name], elem.style[name] = options[name];
                for (name in ret = callback.apply(elem, args || []), options) elem.style[name] = old[name];
                return ret
            };
            var rdisplayswap = /^(none|table(?!-c[ea]).+)/,
                rnumsplit = new RegExp("^(" + pnum + ")(.*)$", "i"),
                rrelNum = new RegExp("^([+-])=(" + pnum + ")", "i"),
                cssShow = {
                    "position": "absolute",
                    "visibility": "hidden",
                    "display": "block"
                },
                cssNormalTransform = {
                    "letterSpacing": "0",
                    "fontWeight": "400"
                },
                cssPrefixes = ["Webkit", "O", "Moz", "ms"];
            jQuery.extend({
                "cssHooks": {
                    "opacity": {
                        "get": function(elem, computed) {
                            if (computed) {
                                var ret = curCSS(elem, "opacity");
                                return "" === ret ? "1" : ret
                            }
                        }
                    }
                },
                "cssNumber": {
                    "columnCount": !0,
                    "fillOpacity": !0,
                    "flexGrow": !0,
                    "flexShrink": !0,
                    "fontWeight": !0,
                    "lineHeight": !0,
                    "opacity": !0,
                    "order": !0,
                    "orphans": !0,
                    "widows": !0,
                    "zIndex": !0,
                    "zoom": !0
                },
                "cssProps": {
                    "float": "cssFloat"
                },
                "style": function(elem, name, value, extra) {
                    if (elem && 3 !== elem.nodeType && 8 !== elem.nodeType && elem.style) {
                        var ret, type, hooks, origName = jQuery.camelCase(name),
                            style = elem.style;
                        if (name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(style, origName)), hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName], value === undefined) return hooks && "get" in hooks && (ret = hooks.get(elem, !1, extra)) !== undefined ? ret : style[name];
                        "string" === (type = typeof value) && (ret = rrelNum.exec(value)) && (value = (ret[1] + 1) * ret[2] + parseFloat(jQuery.css(elem, name)), type = "number"), null != value && value == value && ("number" !== type || jQuery.cssNumber[origName] || (value += "px"), support.clearCloneStyle || "" !== value || 0 !== name.indexOf("background") || (style[name] = "inherit"), hooks && "set" in hooks && (value = hooks.set(elem, value, extra)) === undefined || (style[name] = value))
                    }
                },
                "css": function(elem, name, extra, styles) {
                    var val, num, hooks, origName = jQuery.camelCase(name);
                    return name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(elem.style, origName)), (hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName]) && "get" in hooks && (val = hooks.get(elem, !0, extra)), val === undefined && (val = curCSS(elem, name, styles)), "normal" === val && name in cssNormalTransform && (val = cssNormalTransform[name]), "" === extra || extra ? (num = parseFloat(val), !0 === extra || jQuery.isNumeric(num) ? num || 0 : val) : val
                }
            }), jQuery.each(["height", "width"], function(i, name) {
                jQuery.cssHooks[name] = {
                    "get": function(elem, computed, extra) {
                        if (computed) return rdisplayswap.test(jQuery.css(elem, "display")) && 0 === elem.offsetWidth ? jQuery.swap(elem, cssShow, function() {
                            return getWidthOrHeight(elem, name, extra)
                        }) : getWidthOrHeight(elem, name, extra)
                    },
                    "set": function(elem, value, extra) {
                        var styles = extra && getStyles(elem);
                        return setPositiveNumber(elem, value, extra ? augmentWidthOrHeight(elem, name, extra, "border-box" === jQuery.css(elem, "boxSizing", !1, styles), styles) : 0)
                    }
                }
            }), jQuery.cssHooks.marginRight = addGetHookIf(support.reliableMarginRight, function(elem, computed) {
                if (computed) return jQuery.swap(elem, {
                    "display": "inline-block"
                }, curCSS, [elem, "marginRight"])
            }), jQuery.each({
                "margin": "",
                "padding": "",
                "border": "Width"
            }, function(prefix, suffix) {
                jQuery.cssHooks[prefix + suffix] = {
                    "expand": function(value) {
                        for (var i = 0, expanded = {}, parts = "string" == typeof value ? value.split(" ") : [value]; i < 4; i++) expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];
                        return expanded
                    }
                }, rmargin.test(prefix) || (jQuery.cssHooks[prefix + suffix].set = setPositiveNumber)
            }), jQuery.fn.extend({
                "css": function(name, value) {
                    return access(this, function(elem, name, value) {
                        var styles, len, map = {},
                            i = 0;
                        if (jQuery.isArray(name)) {
                            for (styles = getStyles(elem), len = name.length; i < len; i++) map[name[i]] = jQuery.css(elem, name[i], !1, styles);
                            return map
                        }
                        return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name)
                    }, name, value, 1 < arguments.length)
                },
                "show": function() {
                    return showHide(this, !0)
                },
                "hide": function() {
                    return showHide(this)
                },
                "toggle": function(state) {
                    return "boolean" == typeof state ? state ? this.show() : this.hide() : this.each(function() {
                        isHidden(this) ? jQuery(this).show() : jQuery(this).hide()
                    })
                }
            }), (jQuery.Tween = Tween).prototype = {
                "constructor": Tween,
                "init": function(elem, options, prop, end, easing, unit) {
                    this.elem = elem, this.prop = prop, this.easing = easing || "swing", this.options = options, this.start = this.now = this.cur(), this.end = end, this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px")
                },
                "cur": function() {
                    var hooks = Tween.propHooks[this.prop];
                    return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this)
                },
                "run": function(percent) {
                    var eased, hooks = Tween.propHooks[this.prop];
                    return this.options.duration ? this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration) : this.pos = eased = percent, this.now = (this.end - this.start) * eased + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), hooks && hooks.set ? hooks.set(this) : Tween.propHooks._default.set(this), this
                }
            }, Tween.prototype.init.prototype = Tween.prototype, Tween.propHooks = {
                "_default": {
                    "get": function(tween) {
                        var result;
                        return null == tween.elem[tween.prop] || tween.elem.style && null != tween.elem.style[tween.prop] ? (result = jQuery.css(tween.elem, tween.prop, "")) && "auto" !== result ? result : 0 : tween.elem[tween.prop]
                    },
                    "set": function(tween) {
                        jQuery.fx.step[tween.prop] ? jQuery.fx.step[tween.prop](tween) : tween.elem.style && (null != tween.elem.style[jQuery.cssProps[tween.prop]] || jQuery.cssHooks[tween.prop]) ? jQuery.style(tween.elem, tween.prop, tween.now + tween.unit) : tween.elem[tween.prop] = tween.now
                    }
                }
            }, Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
                "set": function(tween) {
                    tween.elem.nodeType && tween.elem.parentNode && (tween.elem[tween.prop] = tween.now)
                }
            }, jQuery.easing = {
                "linear": function(p) {
                    return p
                },
                "swing": function(p) {
                    return .5 - Math.cos(p * Math.PI) / 2
                }
            }, jQuery.fx = Tween.prototype.init, jQuery.fx.step = {};
            var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/,
                rfxnum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i"),
                rrun = /queueHooks$/,
                animationPrefilters = [defaultPrefilter],
                tweeners = {
                    "*": [function(prop, value) {
                        var tween = this.createTween(prop, value),
                            target = tween.cur(),
                            parts = rfxnum.exec(value),
                            unit = parts && parts[3] || (jQuery.cssNumber[prop] ? "" : "px"),
                            start = (jQuery.cssNumber[prop] || "px" !== unit && +target) && rfxnum.exec(jQuery.css(tween.elem, prop)),
                            scale = 1,
                            maxIterations = 20;
                        if (start && start[3] !== unit)
                            for (unit = unit || start[3], parts = parts || [], start = +target || 1; start /= scale = scale || ".5", jQuery.style(tween.elem, prop, start + unit), scale !== (scale = tween.cur() / target) && 1 !== scale && --maxIterations;);
                        return parts && (start = tween.start = +start || +target || 0, tween.unit = unit, tween.end = parts[1] ? start + (parts[1] + 1) * parts[2] : +parts[2]), tween
                    }]
                };
            jQuery.Animation = jQuery.extend(Animation, {
                    "tweener": function(props, callback) {
                        jQuery.isFunction(props) ? (callback = props, props = ["*"]) : props = props.split(" ");
                        for (var prop, index = 0, length = props.length; index < length; index++) prop = props[index], tweeners[prop] = tweeners[prop] || [], tweeners[prop].unshift(callback)
                    },
                    "prefilter": function(callback, prepend) {
                        prepend ? animationPrefilters.unshift(callback) : animationPrefilters.push(callback)
                    }
                }), jQuery.speed = function(speed, easing, fn) {
                    var opt = speed && "object" == typeof speed ? jQuery.extend({}, speed) : {
                        "complete": fn || !fn && easing || jQuery.isFunction(speed) && speed,
                        "duration": speed,
                        "easing": fn && easing || easing && !jQuery.isFunction(easing) && easing
                    };
                    return opt.duration = jQuery.fx.off ? 0 : "number" == typeof opt.duration ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default, null != opt.queue && !0 !== opt.queue || (opt.queue = "fx"), opt.old = opt.complete, opt.complete = function() {
                        jQuery.isFunction(opt.old) && opt.old.call(this), opt.queue && jQuery.dequeue(this, opt.queue)
                    }, opt
                }, jQuery.fn.extend({
                    "fadeTo": function(speed, to, easing, callback) {
                        return this.filter(isHidden).css("opacity", 0).show().end().animate({
                            "opacity": to
                        }, speed, easing, callback)
                    },
                    "animate": function(prop, speed, easing, callback) {
                        var empty = jQuery.isEmptyObject(prop),
                            optall = jQuery.speed(speed, easing, callback),
                            doAnimation = function() {
                                var anim = Animation(this, jQuery.extend({}, prop), optall);
                                (empty || data_priv.get(this, "finish")) && anim.stop(!0)
                            };
                        return doAnimation.finish = doAnimation, empty || !1 === optall.queue ? this.each(doAnimation) : this.queue(optall.queue, doAnimation)
                    },
                    "stop": function(type, clearQueue, gotoEnd) {
                        var stopQueue = function(hooks) {
                            var stop = hooks.stop;
                            delete hooks.stop, stop(gotoEnd)
                        };
                        return "string" != typeof type && (gotoEnd = clearQueue, clearQueue = type, type = undefined), clearQueue && !1 !== type && this.queue(type || "fx", []), this.each(function() {
                            var dequeue = !0,
                                index = null != type && type + "queueHooks",
                                timers = jQuery.timers,
                                data = data_priv.get(this);
                            if (index) data[index] && data[index].stop && stopQueue(data[index]);
                            else
                                for (index in data) data[index] && data[index].stop && rrun.test(index) && stopQueue(data[index]);
                            for (index = timers.length; index--;) timers[index].elem !== this || null != type && timers[index].queue !== type || (timers[index].anim.stop(gotoEnd), dequeue = !1, timers.splice(index, 1));
                            !dequeue && gotoEnd || jQuery.dequeue(this, type)
                        })
                    },
                    "finish": function(type) {
                        return !1 !== type && (type = type || "fx"), this.each(function() {
                            var index, data = data_priv.get(this),
                                queue = data[type + "queue"],
                                hooks = data[type + "queueHooks"],
                                timers = jQuery.timers,
                                length = queue ? queue.length : 0;
                            for (data.finish = !0, jQuery.queue(this, type, []), hooks && hooks.stop && hooks.stop.call(this, !0), index = timers.length; index--;) timers[index].elem === this && timers[index].queue === type && (timers[index].anim.stop(!0), timers.splice(index, 1));
                            for (index = 0; index < length; index++) queue[index] && queue[index].finish && queue[index].finish.call(this);
                            delete data.finish
                        })
                    }
                }), jQuery.each(["toggle", "show", "hide"], function(i, name) {
                    var cssFn = jQuery.fn[name];
                    jQuery.fn[name] = function(speed, easing, callback) {
                        return null == speed || "boolean" == typeof speed ? cssFn.apply(this, arguments) : this.animate(genFx(name, !0), speed, easing, callback)
                    }
                }), jQuery.each({
                    "slideDown": genFx("show"),
                    "slideUp": genFx("hide"),
                    "slideToggle": genFx("toggle"),
                    "fadeIn": {
                        "opacity": "show"
                    },
                    "fadeOut": {
                        "opacity": "hide"
                    },
                    "fadeToggle": {
                        "opacity": "toggle"
                    }
                }, function(name, props) {
                    jQuery.fn[name] = function(speed, easing, callback) {
                        return this.animate(props, speed, easing, callback)
                    }
                }), jQuery.timers = [], jQuery.fx.tick = function() {
                    var timer, i = 0,
                        timers = jQuery.timers;
                    for (fxNow = jQuery.now(); i < timers.length; i++)(timer = timers[i])() || timers[i] !== timer || timers.splice(i--, 1);
                    timers.length || jQuery.fx.stop(), fxNow = undefined
                }, jQuery.fx.timer = function(timer) {
                    jQuery.timers.push(timer), timer() ? jQuery.fx.start() : jQuery.timers.pop()
                }, jQuery.fx.interval = 13, jQuery.fx.start = function() {
                    timerId || (timerId = setInterval(jQuery.fx.tick, jQuery.fx.interval))
                }, jQuery.fx.stop = function() {
                    clearInterval(timerId), timerId = null
                }, jQuery.fx.speeds = {
                    "slow": 600,
                    "fast": 200,
                    "_default": 400
                }, jQuery.fn.delay = function(time, type) {
                    return time = jQuery.fx && jQuery.fx.speeds[time] || time, type = type || "fx", this.queue(type, function(next, hooks) {
                        var timeout = setTimeout(next, time);
                        hooks.stop = function() {
                            clearTimeout(timeout)
                        }
                    })
                },
                function() {
                    var input = document.createElement("input"),
                        select = document.createElement("select"),
                        opt = select.appendChild(document.createElement("option"));
                    input.type = "checkbox", support.checkOn = "" !== input.value, support.optSelected = opt.selected, select.disabled = !0, support.optDisabled = !opt.disabled, (input = document.createElement("input")).value = "t", input.type = "radio", support.radioValue = "t" === input.value
                }();
            var nodeHook, boolHook, attrHandle = jQuery.expr.attrHandle;
            jQuery.fn.extend({
                "attr": function(name, value) {
                    return access(this, jQuery.attr, name, value, 1 < arguments.length)
                },
                "removeAttr": function(name) {
                    return this.each(function() {
                        jQuery.removeAttr(this, name)
                    })
                }
            }), jQuery.extend({
                "attr": function(elem, name, value) {
                    var hooks, ret, nType = elem.nodeType;
                    if (elem && 3 !== nType && 8 !== nType && 2 !== nType) return typeof elem.getAttribute === strundefined ? jQuery.prop(elem, name, value) : (1 === nType && jQuery.isXMLDoc(elem) || (name = name.toLowerCase(), hooks = jQuery.attrHooks[name] || (jQuery.expr.match.bool.test(name) ? boolHook : nodeHook)), value === undefined ? hooks && "get" in hooks && null !== (ret = hooks.get(elem, name)) ? ret : null == (ret = jQuery.find.attr(elem, name)) ? undefined : ret : null !== value ? hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined ? ret : (elem.setAttribute(name, value + ""), value) : void jQuery.removeAttr(elem, name))
                },
                "removeAttr": function(elem, value) {
                    var name, propName, i = 0,
                        attrNames = value && value.match(rnotwhite);
                    if (attrNames && 1 === elem.nodeType)
                        for (; name = attrNames[i++];) propName = jQuery.propFix[name] || name, jQuery.expr.match.bool.test(name) && (elem[propName] = !1), elem.removeAttribute(name)
                },
                "attrHooks": {
                    "type": {
                        "set": function(elem, value) {
                            if (!support.radioValue && "radio" === value && jQuery.nodeName(elem, "input")) {
                                var val = elem.value;
                                return elem.setAttribute("type", value), val && (elem.value = val), value
                            }
                        }
                    }
                }
            }), boolHook = {
                "set": function(elem, value, name) {
                    return !1 === value ? jQuery.removeAttr(elem, name) : elem.setAttribute(name, name), name
                }
            }, jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function(i, name) {
                var getter = attrHandle[name] || jQuery.find.attr;
                attrHandle[name] = function(elem, name, isXML) {
                    var ret, handle;
                    return isXML || (handle = attrHandle[name], attrHandle[name] = ret, ret = null != getter(elem, name, isXML) ? name.toLowerCase() : null, attrHandle[name] = handle), ret
                }
            });
            var rfocusable = /^(?:input|select|textarea|button)$/i;
            jQuery.fn.extend({
                "prop": function(name, value) {
                    return access(this, jQuery.prop, name, value, 1 < arguments.length)
                },
                "removeProp": function(name) {
                    return this.each(function() {
                        delete this[jQuery.propFix[name] || name]
                    })
                }
            }), jQuery.extend({
                "propFix": {
                    "for": "htmlFor",
                    "class": "className"
                },
                "prop": function(elem, name, value) {
                    var ret, hooks, nType = elem.nodeType;
                    if (elem && 3 !== nType && 8 !== nType && 2 !== nType) return (1 !== nType || !jQuery.isXMLDoc(elem)) && (name = jQuery.propFix[name] || name, hooks = jQuery.propHooks[name]), value !== undefined ? hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined ? ret : elem[name] = value : hooks && "get" in hooks && null !== (ret = hooks.get(elem, name)) ? ret : elem[name]
                },
                "propHooks": {
                    "tabIndex": {
                        "get": function(elem) {
                            return elem.hasAttribute("tabindex") || rfocusable.test(elem.nodeName) || elem.href ? elem.tabIndex : -1
                        }
                    }
                }
            }), support.optSelected || (jQuery.propHooks.selected = {
                "get": function(elem) {
                    var parent = elem.parentNode;
                    return parent && parent.parentNode && parent.parentNode.selectedIndex, null
                }
            }), jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
                jQuery.propFix[this.toLowerCase()] = this
            });
            var rclass = /[\t\r\n\f]/g;
            jQuery.fn.extend({
                "addClass": function(value) {
                    var classes, elem, cur, clazz, j, finalValue, proceed = "string" == typeof value && value,
                        i = 0,
                        len = this.length;
                    if (jQuery.isFunction(value)) return this.each(function(j) {
                        jQuery(this).addClass(value.call(this, j, this.className))
                    });
                    if (proceed)
                        for (classes = (value || "").match(rnotwhite) || []; i < len; i++)
                            if (cur = 1 === (elem = this[i]).nodeType && (elem.className ? (" " + elem.className + " ").replace(rclass, " ") : " ")) {
                                for (j = 0; clazz = classes[j++];) cur.indexOf(" " + clazz + " ") < 0 && (cur += clazz + " ");
                                finalValue = jQuery.trim(cur), elem.className !== finalValue && (elem.className = finalValue)
                            }
                    return this
                },
                "removeClass": function(value) {
                    var classes, elem, cur, clazz, j, finalValue, proceed = 0 === arguments.length || "string" == typeof value && value,
                        i = 0,
                        len = this.length;
                    if (jQuery.isFunction(value)) return this.each(function(j) {
                        jQuery(this).removeClass(value.call(this, j, this.className))
                    });
                    if (proceed)
                        for (classes = (value || "").match(rnotwhite) || []; i < len; i++)
                            if (cur = 1 === (elem = this[i]).nodeType && (elem.className ? (" " + elem.className + " ").replace(rclass, " ") : "")) {
                                for (j = 0; clazz = classes[j++];)
                                    for (; 0 <= cur.indexOf(" " + clazz + " ");) cur = cur.replace(" " + clazz + " ", " ");
                                finalValue = value ? jQuery.trim(cur) : "", elem.className !== finalValue && (elem.className = finalValue)
                            }
                    return this
                },
                "toggleClass": function(value, stateVal) {
                    var type = typeof value;
                    return "boolean" == typeof stateVal && "string" === type ? stateVal ? this.addClass(value) : this.removeClass(value) : jQuery.isFunction(value) ? this.each(function(i) {
                        jQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal)
                    }) : this.each(function() {
                        if ("string" === type)
                            for (var className, i = 0, self = jQuery(this), classNames = value.match(rnotwhite) || []; className = classNames[i++];) self.hasClass(className) ? self.removeClass(className) : self.addClass(className);
                        else type !== strundefined && "boolean" !== type || (this.className && data_priv.set(this, "__className__", this.className), this.className = this.className || !1 === value ? "" : data_priv.get(this, "__className__") || "")
                    })
                },
                "hasClass": function(selector) {
                    for (var className = " " + selector + " ", i = 0, l = this.length; i < l; i++)
                        if (1 === this[i].nodeType && 0 <= (" " + this[i].className + " ").replace(rclass, " ").indexOf(className)) return !0;
                    return !1
                }
            });
            var rreturn = /\r/g;
            jQuery.fn.extend({
                "val": function(value) {
                    var hooks, ret, isFunction, elem = this[0];
                    return arguments.length ? (isFunction = jQuery.isFunction(value), this.each(function(i) {
                        var val;
                        1 === this.nodeType && (null == (val = isFunction ? value.call(this, i, jQuery(this).val()) : value) ? val = "" : "number" == typeof val ? val += "" : jQuery.isArray(val) && (val = jQuery.map(val, function(value) {
                            return null == value ? "" : value + ""
                        })), (hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()]) && "set" in hooks && hooks.set(this, val, "value") !== undefined || (this.value = val))
                    })) : elem ? (hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()]) && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined ? ret : "string" == typeof(ret = elem.value) ? ret.replace(rreturn, "") : null == ret ? "" : ret : void 0
                }
            }), jQuery.extend({
                "valHooks": {
                    "option": {
                        "get": function(elem) {
                            var val = jQuery.find.attr(elem, "value");
                            return null != val ? val : jQuery.trim(jQuery.text(elem))
                        }
                    },
                    "select": {
                        "get": function(elem) {
                            for (var value, option, options = elem.options, index = elem.selectedIndex, one = "select-one" === elem.type || index < 0, values = one ? null : [], max = one ? index + 1 : options.length, i = index < 0 ? max : one ? index : 0; i < max; i++)
                                if (((option = options[i]).selected || i === index) && (support.optDisabled ? !option.disabled : null === option.getAttribute("disabled")) && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, "optgroup"))) {
                                    if (value = jQuery(option).val(), one) return value;
                                    values.push(value)
                                }
                            return values
                        },
                        "set": function(elem, value) {
                            for (var optionSet, option, options = elem.options, values = jQuery.makeArray(value), i = options.length; i--;)((option = options[i]).selected = 0 <= jQuery.inArray(option.value, values)) && (optionSet = !0);
                            return optionSet || (elem.selectedIndex = -1), values
                        }
                    }
                }
            }), jQuery.each(["radio", "checkbox"], function() {
                jQuery.valHooks[this] = {
                    "set": function(elem, value) {
                        if (jQuery.isArray(value)) return elem.checked = 0 <= jQuery.inArray(jQuery(elem).val(), value)
                    }
                }, support.checkOn || (jQuery.valHooks[this].get = function(elem) {
                    return null === elem.getAttribute("value") ? "on" : elem.value
                })
            }), jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(i, name) {
                jQuery.fn[name] = function(data, fn) {
                    return 0 < arguments.length ? this.on(name, null, data, fn) : this.trigger(name)
                }
            }), jQuery.fn.extend({
                "hover": function(fnOver, fnOut) {
                    return this.mouseenter(fnOver).mouseleave(fnOut || fnOver)
                },
                "bind": function(types, data, fn) {
                    return this.on(types, null, data, fn)
                },
                "unbind": function(types, fn) {
                    return this.off(types, null, fn)
                },
                "delegate": function(selector, types, data, fn) {
                    return this.on(types, selector, data, fn)
                },
                "undelegate": function(selector, types, fn) {
                    return 1 === arguments.length ? this.off(selector, "**") : this.off(types, selector || "**", fn)
                }
            });
            var nonce = jQuery.now(),
                rquery = /\?/;
            jQuery.parseJSON = function(data) {
                return JSON.parse(data + "")
            }, jQuery.parseXML = function(data) {
                var xml;
                if (!data || "string" != typeof data) return null;
                try {
                    xml = (new DOMParser).parseFromString(data, "text/xml")
                } catch (e) {
                    xml = undefined
                }
                return xml && !xml.getElementsByTagName("parsererror").length || jQuery.error("Invalid XML: " + data), xml
            };
            var rhash = /#.*$/,
                rts = /([?&])_=[^&]*/,
                rheaders = /^(.*?):[ \t]*([^\r\n]*)$/gm,
                rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                rnoContent = /^(?:GET|HEAD)$/,
                rprotocol = /^\/\//,
                rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
                prefilters = {},
                transports = {},
                allTypes = "*/".concat("*"),
                ajaxLocation = window.location.href,
                ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];
            jQuery.extend({
                "active": 0,
                "lastModified": {},
                "etag": {},
                "ajaxSettings": {
                    "url": ajaxLocation,
                    "type": "GET",
                    "isLocal": rlocalProtocol.test(ajaxLocParts[1]),
                    "global": !0,
                    "processData": !0,
                    "async": !0,
                    "contentType": "application/x-www-form-urlencoded; charset=UTF-8",
                    "accepts": {
                        "*": allTypes,
                        "text": "text/plain",
                        "html": "text/html",
                        "xml": "application/xml, text/xml",
                        "json": "application/json, text/javascript"
                    },
                    "contents": {
                        "xml": /xml/,
                        "html": /html/,
                        "json": /json/
                    },
                    "responseFields": {
                        "xml": "responseXML",
                        "text": "responseText",
                        "json": "responseJSON"
                    },
                    "converters": {
                        "* text": String,
                        "text html": !0,
                        "text json": jQuery.parseJSON,
                        "text xml": jQuery.parseXML
                    },
                    "flatOptions": {
                        "url": !0,
                        "context": !0
                    }
                },
                "ajaxSetup": function(target, settings) {
                    return settings ? ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : ajaxExtend(jQuery.ajaxSettings, target)
                },
                "ajaxPrefilter": addToPrefiltersOrTransports(prefilters),
                "ajaxTransport": addToPrefiltersOrTransports(transports),
                "ajax": function(url, options) {
                    function done(status, nativeStatusText, responses, headers) {
                        var isSuccess, success, error, response, modified, statusText = nativeStatusText;
                        2 !== state && (state = 2, timeoutTimer && clearTimeout(timeoutTimer), transport = undefined, responseHeadersString = headers || "", jqXHR.readyState = 0 < status ? 4 : 0, isSuccess = 200 <= status && status < 300 || 304 === status, responses && (response = ajaxHandleResponses(s, jqXHR, responses)), response = ajaxConvert(s, response, jqXHR, isSuccess), isSuccess ? (s.ifModified && ((modified = jqXHR.getResponseHeader("Last-Modified")) && (jQuery.lastModified[cacheURL] = modified), (modified = jqXHR.getResponseHeader("etag")) && (jQuery.etag[cacheURL] = modified)), 204 === status || "HEAD" === s.type ? statusText = "nocontent" : 304 === status ? statusText = "notmodified" : (statusText = response.state, success = response.data, isSuccess = !(error = response.error))) : (error = statusText, !status && statusText || (statusText = "error", status < 0 && (status = 0))), jqXHR.status = status, jqXHR.statusText = (nativeStatusText || statusText) + "", isSuccess ? deferred.resolveWith(callbackContext, [success, statusText, jqXHR]) : deferred.rejectWith(callbackContext, [jqXHR, statusText, error]), jqXHR.statusCode(statusCode), statusCode = undefined, fireGlobals && globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]), completeDeferred.fireWith(callbackContext, [jqXHR, statusText]), fireGlobals && (globalEventContext.trigger("ajaxComplete", [jqXHR, s]), --jQuery.active || jQuery.event.trigger("ajaxStop")))
                    }
                    "object" == typeof url && (options = url, url = undefined), options = options || {};
                    var transport, cacheURL, responseHeadersString, responseHeaders, timeoutTimer, parts, fireGlobals, i, s = jQuery.ajaxSetup({}, options),
                        callbackContext = s.context || s,
                        globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,
                        deferred = jQuery.Deferred(),
                        completeDeferred = jQuery.Callbacks("once memory"),
                        statusCode = s.statusCode || {},
                        requestHeaders = {},
                        requestHeadersNames = {},
                        state = 0,
                        strAbort = "canceled",
                        jqXHR = {
                            "readyState": 0,
                            "getResponseHeader": function(key) {
                                var match;
                                if (2 === state) {
                                    if (!responseHeaders)
                                        for (responseHeaders = {}; match = rheaders.exec(responseHeadersString);) responseHeaders[match[1].toLowerCase()] = match[2];
                                    match = responseHeaders[key.toLowerCase()]
                                }
                                return null == match ? null : match
                            },
                            "getAllResponseHeaders": function() {
                                return 2 === state ? responseHeadersString : null
                            },
                            "setRequestHeader": function(name, value) {
                                var lname = name.toLowerCase();
                                return state || (name = requestHeadersNames[lname] = requestHeadersNames[lname] || name, requestHeaders[name] = value), this
                            },
                            "overrideMimeType": function(type) {
                                return state || (s.mimeType = type), this
                            },
                            "statusCode": function(map) {
                                var code;
                                if (map)
                                    if (state < 2)
                                        for (code in map) statusCode[code] = [statusCode[code], map[code]];
                                    else jqXHR.always(map[jqXHR.status]);
                                return this
                            },
                            "abort": function(statusText) {
                                var finalText = statusText || strAbort;
                                return transport && transport.abort(finalText), done(0, finalText), this
                            }
                        };
                    if (deferred.promise(jqXHR).complete = completeDeferred.add, jqXHR.success = jqXHR.done, jqXHR.error = jqXHR.fail, s.url = ((url || s.url || ajaxLocation) + "").replace(rhash, "").replace(rprotocol, ajaxLocParts[1] + "//"), s.type = options.method || options.type || s.method || s.type, s.dataTypes = jQuery.trim(s.dataType || "*").toLowerCase().match(rnotwhite) || [""], null == s.crossDomain && (parts = rurl.exec(s.url.toLowerCase()), s.crossDomain = !(!parts || parts[1] === ajaxLocParts[1] && parts[2] === ajaxLocParts[2] && (parts[3] || ("http:" === parts[1] ? "80" : "443")) === (ajaxLocParts[3] || ("http:" === ajaxLocParts[1] ? "80" : "443")))), s.data && s.processData && "string" != typeof s.data && (s.data = jQuery.param(s.data, s.traditional)), inspectPrefiltersOrTransports(prefilters, s, options, jqXHR), 2 === state) return jqXHR;
                    for (i in (fireGlobals = jQuery.event && s.global) && 0 == jQuery.active++ && jQuery.event.trigger("ajaxStart"), s.type = s.type.toUpperCase(), s.hasContent = !rnoContent.test(s.type), cacheURL = s.url, s.hasContent || (s.data && (cacheURL = s.url += (rquery.test(cacheURL) ? "&" : "?") + s.data, delete s.data), !1 === s.cache && (s.url = rts.test(cacheURL) ? cacheURL.replace(rts, "$1_=" + nonce++) : cacheURL + (rquery.test(cacheURL) ? "&" : "?") + "_=" + nonce++)), s.ifModified && (jQuery.lastModified[cacheURL] && jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]), jQuery.etag[cacheURL] && jqXHR.setRequestHeader("If-None-Match",
                            jQuery.etag[cacheURL])), (s.data && s.hasContent && !1 !== s.contentType || options.contentType) && jqXHR.setRequestHeader("Content-Type", s.contentType), jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + ("*" !== s.dataTypes[0] ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]), s.headers) jqXHR.setRequestHeader(i, s.headers[i]);
                    if (s.beforeSend && (!1 === s.beforeSend.call(callbackContext, jqXHR, s) || 2 === state)) return jqXHR.abort();
                    for (i in strAbort = "abort", {
                            "success": 1,
                            "error": 1,
                            "complete": 1
                        }) jqXHR[i](s[i]);
                    if (transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR)) {
                        jqXHR.readyState = 1, fireGlobals && globalEventContext.trigger("ajaxSend", [jqXHR, s]), s.async && 0 < s.timeout && (timeoutTimer = setTimeout(function() {
                            jqXHR.abort("timeout")
                        }, s.timeout));
                        try {
                            state = 1, transport.send(requestHeaders, done)
                        } catch (e) {
                            if (!(state < 2)) throw e;
                            done(-1, e)
                        }
                    } else done(-1, "No Transport");
                    return jqXHR
                },
                "getJSON": function(url, data, callback) {
                    return jQuery.get(url, data, callback, "json")
                },
                "getScript": function(url, callback) {
                    return jQuery.get(url, undefined, callback, "script")
                }
            }), jQuery.each(["get", "post"], function(i, method) {
                jQuery[method] = function(url, data, callback, type) {
                    return jQuery.isFunction(data) && (type = type || callback, callback = data, data = undefined), jQuery.ajax({
                        "url": url,
                        "type": method,
                        "dataType": type,
                        "data": data,
                        "success": callback
                    })
                }
            }), jQuery._evalUrl = function(url) {
                return jQuery.ajax({
                    "url": url,
                    "type": "GET",
                    "dataType": "script",
                    "async": !1,
                    "global": !1,
                    "throws": !0
                })
            }, jQuery.fn.extend({
                "wrapAll": function(html) {
                    var wrap;
                    return jQuery.isFunction(html) ? this.each(function(i) {
                        jQuery(this).wrapAll(html.call(this, i))
                    }) : (this[0] && (wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && wrap.insertBefore(this[0]), wrap.map(function() {
                        for (var elem = this; elem.firstElementChild;) elem = elem.firstElementChild;
                        return elem
                    }).append(this)), this)
                },
                "wrapInner": function(html) {
                    return jQuery.isFunction(html) ? this.each(function(i) {
                        jQuery(this).wrapInner(html.call(this, i))
                    }) : this.each(function() {
                        var self = jQuery(this),
                            contents = self.contents();
                        contents.length ? contents.wrapAll(html) : self.append(html)
                    })
                },
                "wrap": function(html) {
                    var isFunction = jQuery.isFunction(html);
                    return this.each(function(i) {
                        jQuery(this).wrapAll(isFunction ? html.call(this, i) : html)
                    })
                },
                "unwrap": function() {
                    return this.parent().each(function() {
                        jQuery.nodeName(this, "body") || jQuery(this).replaceWith(this.childNodes)
                    }).end()
                }
            }), jQuery.expr.filters.hidden = function(elem) {
                return elem.offsetWidth <= 0 && elem.offsetHeight <= 0
            }, jQuery.expr.filters.visible = function(elem) {
                return !jQuery.expr.filters.hidden(elem)
            };
            var r20 = /%20/g,
                rbracket = /\[\]$/,
                rCRLF = /\r?\n/g,
                rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
                rsubmittable = /^(?:input|select|textarea|keygen)/i;
            jQuery.param = function(a, traditional) {
                var prefix, s = [],
                    add = function(key, value) {
                        value = jQuery.isFunction(value) ? value() : null == value ? "" : value, s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value)
                    };
                if (traditional === undefined && (traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional), jQuery.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) jQuery.each(a, function() {
                    add(this.name, this.value)
                });
                else
                    for (prefix in a) buildParams(prefix, a[prefix], traditional, add);
                return s.join("&").replace(r20, "+")
            }, jQuery.fn.extend({
                "serialize": function() {
                    return jQuery.param(this.serializeArray())
                },
                "serializeArray": function() {
                    return this.map(function() {
                        var elements = jQuery.prop(this, "elements");
                        return elements ? jQuery.makeArray(elements) : this
                    }).filter(function() {
                        var type = this.type;
                        return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type))
                    }).map(function(i, elem) {
                        var val = jQuery(this).val();
                        return null == val ? null : jQuery.isArray(val) ? jQuery.map(val, function(val) {
                            return {
                                "name": elem.name,
                                "value": val.replace(rCRLF, "\r\n")
                            }
                        }) : {
                            "name": elem.name,
                            "value": val.replace(rCRLF, "\r\n")
                        }
                    }).get()
                }
            }), jQuery.ajaxSettings.xhr = function() {
                try {
                    return new XMLHttpRequest
                } catch (e) {}
            };
            var xhrId = 0,
                xhrCallbacks = {},
                xhrSuccessStatus = {
                    "0": 200,
                    "1223": 204
                },
                xhrSupported = jQuery.ajaxSettings.xhr();
            window.attachEvent && window.attachEvent("onunload", function() {
                for (var key in xhrCallbacks) xhrCallbacks[key]()
            }), support.cors = !!xhrSupported && "withCredentials" in xhrSupported, support.ajax = xhrSupported = !!xhrSupported, jQuery.ajaxTransport(function(options) {
                var callback;
                if (support.cors || xhrSupported && !options.crossDomain) return {
                    "send": function(headers, complete) {
                        var i, xhr = options.xhr(),
                            id = ++xhrId;
                        if (xhr.open(options.type, options.url, options.async, options.username, options.password), options.xhrFields)
                            for (i in options.xhrFields) xhr[i] = options.xhrFields[i];
                        for (i in options.mimeType && xhr.overrideMimeType && xhr.overrideMimeType(options.mimeType), options.crossDomain || headers["X-Requested-With"] || (headers["X-Requested-With"] = "XMLHttpRequest"), headers) xhr.setRequestHeader(i, headers[i]);
                        callback = function(type) {
                            return function() {
                                callback && (delete xhrCallbacks[id], callback = xhr.onload = xhr.onerror = null, "abort" === type ? xhr.abort() : "error" === type ? complete(xhr.status, xhr.statusText) : complete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, "string" == typeof xhr.responseText ? {
                                    "text": xhr.responseText
                                } : undefined, xhr.getAllResponseHeaders()))
                            }
                        }, xhr.onload = callback(), xhr.onerror = callback("error"), callback = xhrCallbacks[id] = callback("abort");
                        try {
                            xhr.send(options.hasContent && options.data || null)
                        } catch (e) {
                            if (callback) throw e
                        }
                    },
                    "abort": function() {
                        callback && callback()
                    }
                }
            }), jQuery.ajaxSetup({
                "accepts": {
                    "script": "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                "contents": {
                    "script": /(?:java|ecma)script/
                },
                "converters": {
                    "text script": function(text) {
                        return jQuery.globalEval(text), text
                    }
                }
            }), jQuery.ajaxPrefilter("script", function(s) {
                s.cache === undefined && (s.cache = !1), s.crossDomain && (s.type = "GET")
            }), jQuery.ajaxTransport("script", function(s) {
                var script, callback;
                if (s.crossDomain) return {
                    "send": function(_, complete) {
                        script = jQuery("<script>").prop({
                            "async": !0,
                            "charset": s.scriptCharset,
                            "src": s.url
                        }).on("load error", callback = function(evt) {
                            script.remove(), callback = null, evt && complete("error" === evt.type ? 404 : 200, evt.type)
                        }), document.head.appendChild(script[0])
                    },
                    "abort": function() {
                        callback && callback()
                    }
                }
            });
            var oldCallbacks = [],
                rjsonp = /(=)\?(?=&|$)|\?\?/;
            jQuery.ajaxSetup({
                "jsonp": "callback",
                "jsonpCallback": function() {
                    var callback = oldCallbacks.pop() || jQuery.expando + "_" + nonce++;
                    return this[callback] = !0, callback
                }
            }), jQuery.ajaxPrefilter("json jsonp", function(s, originalSettings, jqXHR) {
                var callbackName, overwritten, responseContainer, jsonProp = !1 !== s.jsonp && (rjsonp.test(s.url) ? "url" : "string" == typeof s.data && !(s.contentType || "").indexOf("application/x-www-form-urlencoded") && rjsonp.test(s.data) && "data");
                if (jsonProp || "jsonp" === s.dataTypes[0]) return callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback, jsonProp ? s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName) : !1 !== s.jsonp && (s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName), s.converters["script json"] = function() {
                    return responseContainer || jQuery.error(callbackName + " was not called"), responseContainer[0]
                }, s.dataTypes[0] = "json", overwritten = window[callbackName], window[callbackName] = function() {
                    responseContainer = arguments
                }, jqXHR.always(function() {
                    window[callbackName] = overwritten, s[callbackName] && (s.jsonpCallback = originalSettings.jsonpCallback, oldCallbacks.push(callbackName)), responseContainer && jQuery.isFunction(overwritten) && overwritten(responseContainer[0]), responseContainer = overwritten = undefined
                }), "script"
            }), jQuery.parseHTML = function(data, context, keepScripts) {
                if (!data || "string" != typeof data) return null;
                "boolean" == typeof context && (keepScripts = context, context = !1), context = context || document;
                var parsed = rsingleTag.exec(data),
                    scripts = !keepScripts && [];
                return parsed ? [context.createElement(parsed[1])] : (parsed = jQuery.buildFragment([data], context, scripts), scripts && scripts.length && jQuery(scripts).remove(), jQuery.merge([], parsed.childNodes))
            };
            var _load = jQuery.fn.load;
            jQuery.fn.load = function(url, params, callback) {
                if ("string" != typeof url && _load) return _load.apply(this, arguments);
                var selector, type, response, self = this,
                    off = url.indexOf(" ");
                return 0 <= off && (selector = jQuery.trim(url.slice(off)), url = url.slice(0, off)), jQuery.isFunction(params) ? (callback = params, params = undefined) : params && "object" == typeof params && (type = "POST"), 0 < self.length && jQuery.ajax({
                    "url": url,
                    "type": type,
                    "dataType": "html",
                    "data": params
                }).done(function(responseText) {
                    response = arguments, self.html(selector ? jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) : responseText)
                }).complete(callback && function(jqXHR, status) {
                    self.each(callback, response || [jqXHR.responseText, status, jqXHR])
                }), this
            }, jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(i, type) {
                jQuery.fn[type] = function(fn) {
                    return this.on(type, fn)
                }
            }), jQuery.expr.filters.animated = function(elem) {
                return jQuery.grep(jQuery.timers, function(fn) {
                    return elem === fn.elem
                }).length
            };
            var docElem = window.document.documentElement;
            jQuery.offset = {
                    "setOffset": function(
                        elem, options, i) {
                        var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft,
                            position = jQuery.css(elem, "position"),
                            curElem = jQuery(elem),
                            props = {}
                        ;
                        "static" === position && (
                                elem.style.position = "relative"),
                            curOffset = curElem.offset(),
                            curCSSTop = jQuery.css(elem, "top"),
                            curCSSLeft = jQuery.css(elem, "left"), (
                                "absolute" === position || "fixed" === position
                            ) && -1 < (curCSSTop + curCSSLeft).indexOf("auto") ? (
                                curTop = (curPosition = curElem.position()).top,
                                curLeft = curPosition.left) : (
                                curTop = parseFloat(curCSSTop) || 0,
                                curLeft = parseFloat(curCSSLeft) || 0),
                            jQuery.isFunction(options) && (
                                options = options.call(elem, i, curOffset)),
                            null != options.top && (
                                props.top = options.top - curOffset.top + curTop),
                            null != options.left && (
                                props.left = options.left - curOffset.left + curLeft),
                            "using" in options ? options.using.call(elem, props
                            ) : curElem.css(props)
                    }
                },
                jQuery.fn.extend({
                    "offset": function(
                        options) {
                        if (
                            arguments.length
                        ) return options === undefined ? this : this.each(function(i) {
                            jQuery.offset.setOffset(this, options, i)
                        })
                        ;
                        var docElem, win,
                            elem = this[0],
                            box = {
                                "top": 0,
                                "left": 0
                            },
                            doc = elem && elem.ownerDocument
                        ;
                        return doc ? (
                            docElem = doc.documentElement,
                            jQuery.contains(docElem, elem) ? (
                                typeof elem.getBoundingClientRect !== strundefined && (
                                    box = elem.getBoundingClientRect()),
                                win = getWindow(doc), {
                                    "top": box.top + win.pageYOffset - docElem.clientTop,
                                    "left": box.left + win.pageXOffset - docElem.clientLeft
                                }) : box) : void 0
                    },
                    "position": function() {
                        if (
                            this[0]) {
                            var offsetParent, offset,
                                elem = this[0],
                                parentOffset = {
                                    "top": 0,
                                    "left": 0
                                }
                            ;
                            return "fixed" === jQuery.css(elem, "position"
                            ) ? offset = elem.getBoundingClientRect() : (
                                offsetParent = this.offsetParent(),
                                offset = this.offset(),
                                jQuery.nodeName(offsetParent[0], "html") || (
                                    parentOffset = offsetParent.offset()),
                                parentOffset.top += jQuery.css(offsetParent[0], "borderTopWidth", !0),
                                parentOffset.left += jQuery.css(offsetParent[0], "borderLeftWidth", !0)), {
                                "top": offset.top - parentOffset.top - jQuery.css(elem, "marginTop", !0),
                                "left": offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", !0)
                            }
                        }
                    },
                    "offsetParent": function() {
                        return this.map(function() {
                            for (
                                var offsetParent = this.offsetParent || docElem; offsetParent && !jQuery.nodeName(offsetParent, "html") && "static" === jQuery.css(offsetParent, "position");
                            ) offsetParent = offsetParent.offsetParent
                            ;
                            return offsetParent || docElem
                        })
                    }
                }),
                jQuery.each({
                    "scrollLeft": "pageXOffset",
                    "scrollTop": "pageYOffset"
                }, function(method, prop) {
                    var top = "pageYOffset" === prop
                    ;
                    jQuery.fn[method] = function(val) {
                        return access(this, function(elem, method, val) {
                                var win = getWindow(elem);
                                if (
                                    val === undefined
                                ) return win ? win[prop] : elem[method]
                                ;
                                win ? win.scrollTo(
                                    top ? window.pageXOffset : val,
                                    top ? val : window.pageYOffset
                                ) : elem[method] = val
                            },
                            method, val, arguments.length, null)
                    }
                }),
                jQuery.each(["top", "left"], function(i, prop) {
                    jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function(
                        elem, computed) {
                        if (
                            computed
                        ) return computed = curCSS(elem, prop),
                            rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + "px" : computed
                    })
                }),
                jQuery.each({
                    "Height": "height",
                    "Width": "width"
                }, function(name, type) {
                    jQuery.each({
                        "padding": "inner" + name,
                        "content": type,
                        "": "outer" + name
                    }, function(defaultExtra, funcName) {
                        jQuery.fn[funcName] = function(margin, value) {
                            var chainable = arguments.length && (defaultExtra || "boolean" != typeof margin),
                                extra = defaultExtra || (!0 === margin || !0 === value ? "margin" : "border")
                            ;
                            return access(this, function(elem, type, value) {
                                    var doc
                                    ;
                                    return jQuery.isWindow(elem
                                    ) ? elem.document.documentElement["client" + name] : 9 === elem.nodeType ? (
                                        doc = elem.documentElement,
                                        Math.max(
                                            elem.body["scroll" + name], doc["scroll" + name],
                                            elem.body["offset" + name], doc["offset" + name],
                                            doc["client" + name])
                                    ) : value === undefined ? jQuery.css(elem, type, extra
                                    ) : jQuery.style(elem, type, value, extra)
                                },
                                type, chainable ? margin : undefined, chainable, null)
                        }
                    })
                }),
                jQuery.fn.size = function() {
                    return this.length
                },
                jQuery.fn.andSelf = jQuery.fn.addBack,
                "function" == typeof define && define.amd && define("jquery", [], function() {
                    return jQuery
                })
            ;
            var _jQuery = window.jQuery,
                _$ = window.$
            ;
            return jQuery.noConflict = function(deep) {
                    return window.$ === jQuery && (
                            window.$ = _$),
                        deep && window.jQuery === jQuery && (
                            window.jQuery = _jQuery),
                        jQuery
                },
                typeof noGlobal === strundefined && (
                    window.jQuery = window.$ = jQuery),
                jQuery
        }),
    function(
        $, undefined) {
        "use strict"
        ;
        var rails;
        $.rails !== undefined && $.error("jquery-ujs has already been loaded!");
        var $document = $(document)
        ;
        $.rails = rails = {
                "linkClickSelector": "a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",
                "buttonClickSelector": "button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",
                "inputChangeSelector": "select[data-remote], input[data-remote], textarea[data-remote]",
                "formSubmitSelector": "form",
                "formInputClickSelector": "form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",
                "disableSelector": "input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",
                "enableSelector": "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",
                "requiredInputSelector": "input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",
                "fileInputSelector": "input[type=file]:not([disabled])",
                "linkDisableSelector": "a[data-disable-with], a[data-disable]",
                "buttonDisableSelector": "button[data-remote][data-disable-with], button[data-remote][data-disable]",
                "csrfToken": function() {
                    return $("meta[name=csrf-token]").attr("content")
                },
                "csrfParam": function() {
                    return $("meta[name=csrf-param]").attr("content")
                },
                "CSRFProtection": function(
                    xhr) {
                    var token = rails.csrfToken();
                    token && xhr.setRequestHeader("X-CSRF-Token", token)
                },
                "refreshCSRFTokens": function() {
                    $('form input[name="' + rails.csrfParam() + '"]').val(rails.csrfToken())
                },
                "fire": function(
                    obj, name, data) {
                    var event = $.Event(name);
                    return obj.trigger(event, data), !1 !== event.result
                },
                "confirm": function(
                    message) {
                    return confirm(message)
                },
                "ajax": function(
                    options) {
                    return $.ajax(options)
                },
                "href": function(
                    element) {
                    return element[0].href
                },
                "isRemote": function(
                    element) {
                    return element.data("remote") !== undefined && !1 !== element.data("remote")
                },
                "handleRemote": function(
                    element) {
                    var method, url, data, withCredentials, dataType, options;
                    if (
                        rails.fire(element, "ajax:before")) {
                        if (
                            withCredentials = element.data("with-credentials") || null,
                            dataType = element.data("type") || $.ajaxSettings && $.ajaxSettings.dataType,
                            element.is("form")) {
                            method = element.data("ujs:submit-button-formmethod") || element.attr("method"),
                                url = element.data("ujs:submit-button-formaction") || element.attr("action"),
                                data = $(element[0]).serializeArray()
                            ;
                            var button = element.data("ujs:submit-button");
                            button && (
                                    data.push(button),
                                    element.data("ujs:submit-button", null)),
                                element.data("ujs:submit-button-formmethod", null),
                                element.data("ujs:submit-button-formaction", null)
                        } else element.is(rails.inputChangeSelector) ? (
                            method = element.data("method"),
                            url = element.data("url"),
                            data = element.serialize(),
                            element.data("params") && (data = data + "&" + element.data("params"))
                        ) : element.is(rails.buttonClickSelector) ? (
                            method = element.data("method") || "get",
                            url = element.data("url"),
                            data = element.serialize(),
                            element.data("params") && (data = data + "&" + element.data("params"))) : (
                            method = element.data("method"),
                            url = rails.href(element),
                            data = element.data("params") || null)
                        ;
                        return options = {
                                "type": method || "GET",
                                "data": data,
                                "dataType": dataType,
                                "beforeSend": function(
                                    xhr, settings) {
                                    if (
                                        settings.dataType === undefined && xhr.setRequestHeader("accept", "*/*;q=0.5, " + settings.accepts.script),
                                        !rails.fire(element, "ajax:beforeSend", [xhr, settings])
                                    ) return !1;
                                    element.trigger("ajax:send", xhr)
                                },
                                "success": function(
                                    data, status, xhr) {
                                    element.trigger("ajax:success", [data, status, xhr])
                                },
                                "complete": function(
                                    xhr, status) {
                                    element.trigger("ajax:complete", [xhr, status])
                                },
                                "error": function(
                                    xhr, status, error) {
                                    element.trigger("ajax:error", [xhr, status, error])
                                },
                                "crossDomain": rails.isCrossDomain(url)
                            },
                            withCredentials && (
                                options.xhrFields = {
                                    "withCredentials": withCredentials
                                }),
                            url && (options.url = url),
                            rails.ajax(options)
                    }
                    return !1
                },
                "isCrossDomain": function(
                    url) {
                    var originAnchor = document.createElement("a");
                    originAnchor.href = location.href;
                    var urlAnchor = document.createElement("a");
                    try {
                        return urlAnchor.href = url,
                            urlAnchor.href = urlAnchor.href, !((
                                !urlAnchor.protocol || ":" === urlAnchor.protocol
                            ) && !urlAnchor.host || originAnchor.protocol + "//" + originAnchor.host == urlAnchor.protocol + "//" + urlAnchor.host)
                    } catch (
                        e) {
                        return !0
                    }
                },
                "handleMethod": function(
                    link) {
                    var href = rails.href(link),
                        method = link.data("method"),
                        target = link.attr("target"),
                        csrfToken = rails.csrfToken(),
                        csrfParam = rails.csrfParam(),
                        form = $('<form method="post" action="' + href + '"></form>'),
                        metadataInput = '<input name="_method" value="' + method + '" type="hidden" />'
                    ;
                    csrfParam === undefined || csrfToken === undefined || rails.isCrossDomain(href) || (
                            metadataInput += '<input name="' + csrfParam + '" value="' + csrfToken + '" type="hidden" />'),
                        target && form.attr("target", target),
                        form.hide().append(metadataInput).appendTo("body"),
                        form.submit()
                },
                "formElements": function(
                    form, selector) {
                    return form.is("form") ? $(form[0].elements).filter(selector) : form.find(selector)
                },
                "disableFormElements": function(
                    form) {
                    rails.formElements(form, rails.disableSelector).each(function() {
                        rails.disableFormElement($(this))
                    })
                },
                "disableFormElement": function(
                    element) {
                    var method, replacement
                    ;
                    method = element.is("button") ? "html" : "val", (
                            replacement = element.data("disable-with")
                        ) !== undefined && (
                            element.data("ujs:enable-with", element[method]()),
                            element[method](replacement)),
                        element.prop("disabled", !0),
                        element.data("ujs:disabled", !0)
                },
                "enableFormElements": function(
                    form) {
                    rails.formElements(form, rails.enableSelector).each(function() {
                        rails.enableFormElement($(this))
                    })
                },
                "enableFormElement": function(
                    element) {
                    var method = element.is("button") ? "html" : "val";
                    element.data("ujs:enable-with") !== undefined && (
                            element[method](element.data("ujs:enable-with")),
                            element.removeData("ujs:enable-with")),
                        element.prop("disabled", !1),
                        element.removeData("ujs:disabled")
                },
                "allowAction": function(
                    element) {
                    var callback, message = element.data("confirm"),
                        answer = !1;
                    if (!message) return !0;
                    if (
                        rails.fire(element, "confirm")) {
                        try {
                            answer = rails.confirm(message)
                        } catch (
                            e) {
                            (
                                console.error || console.log).call(console, e.stack || e)
                        }
                        callback = rails.fire(element, "confirm:complete", [answer])
                    }
                    return answer && callback
                },
                "blankInputs": function(
                    form, specifiedSelector, nonBlank) {
                    var input,
                        radiosForNameWithNoneSelected,
                        radioName, foundInputs = $(),
                        selector = specifiedSelector || "input,textarea",
                        requiredInputs = form.find(selector),
                        checkedRadioButtonNames = {}
                    ;
                    return requiredInputs.each(function() {
                            (
                                input = $(this)
                            ).is("input[type=radio]") ? (
                                radioName = input.attr("name"),
                                checkedRadioButtonNames[radioName] || (
                                    0 === form.find('input[type=radio]:checked[name="' + radioName + '"]').length && (
                                        radiosForNameWithNoneSelected = form.find(
                                            'input[type=radio][name="' + radioName + '"]'),
                                        foundInputs = foundInputs.add(radiosForNameWithNoneSelected)),
                                    checkedRadioButtonNames[radioName] = radioName)) : (
                                input.is("input[type=checkbox],input[type=radio]") ? input.is(":checked") : !!input.val()
                            ) === nonBlank && (
                                foundInputs = foundInputs.add(input))
                        }),
                        !!foundInputs.length && foundInputs
                },
                "nonBlankInputs": function(
                    form, specifiedSelector) {
                    return rails.blankInputs(form, specifiedSelector, !0)
                },
                "stopEverything": function(
                    e) {
                    return $(e.target).trigger("ujs:everythingStopped"),
                        e.stopImmediatePropagation(), !1
                },
                "disableElement": function(
                    element) {
                    var replacement = element.data("disable-with")
                    ;
                    replacement !== undefined && (
                            element.data("ujs:enable-with", element.html()),
                            element.html(replacement)),
                        element.bind("click.railsDisable", function(e) {
                            return rails.stopEverything(e)
                        }),
                        element.data("ujs:disabled", !0)
                },
                "enableElement": function(
                    element) {
                    element.data("ujs:enable-with") !== undefined && (
                            element.html(element.data("ujs:enable-with")),
                            element.removeData("ujs:enable-with")),
                        element.unbind("click.railsDisable"),
                        element.removeData("ujs:disabled")
                }
            },
            rails.fire($document, "rails:attachBindings") && (
                $.ajaxPrefilter(function(options, originalOptions, xhr) {
                    options.crossDomain || rails.CSRFProtection(xhr)
                }),
                $(window).on("pageshow.rails", function() {
                    $($.rails.enableSelector).each(function() {
                            var element = $(this)
                            ;
                            element.data("ujs:disabled") && $.rails.enableFormElement(element)
                        }),
                        $($.rails.linkDisableSelector).each(function() {
                            var element = $(this)
                            ;
                            element.data("ujs:disabled") && $.rails.enableElement(element)
                        })
                }),
                $document.delegate(rails.linkDisableSelector, "ajax:complete", function() {
                    rails.enableElement($(this))
                }),
                $document.delegate(rails.buttonDisableSelector, "ajax:complete", function() {
                    rails.enableFormElement($(this))
                }),
                $document.delegate(rails.linkClickSelector, "click.rails", function(e) {
                    var link = $(this),
                        method = link.data("method"),
                        data = link.data("params"),
                        metaClick = e.metaKey || e.ctrlKey;
                    if (!rails.allowAction(link)) return rails.stopEverything(e);
                    if (
                        !metaClick && link.is(rails.linkDisableSelector) && rails.disableElement(link),
                        rails.isRemote(link)) {
                        if (
                            metaClick && (!method || "GET" === method) && !data) return !0
                        ;
                        var handleRemote = rails.handleRemote(link)
                        ;
                        return !1 === handleRemote ? rails.enableElement(link
                            ) : handleRemote.fail(function() {
                                rails.enableElement(link)
                            }),
                            !1
                    }
                    return method ? (
                        rails.handleMethod(link), !1) : void 0
                }),
                $document.delegate(rails.buttonClickSelector, "click.rails", function(e) {
                    var button = $(this);
                    if (
                        !rails.allowAction(button) || !rails.isRemote(button)) return rails.stopEverything(e)
                    ;
                    button.is(rails.buttonDisableSelector) && rails.disableFormElement(button)
                    ;
                    var handleRemote = rails.handleRemote(button)
                    ;
                    return !1 === handleRemote ? rails.enableFormElement(button
                        ) : handleRemote.fail(function() {
                            rails.enableFormElement(button)
                        }),
                        !1
                }),
                $document.delegate(rails.inputChangeSelector, "change.rails", function(e) {
                    var link = $(this);
                    return rails.allowAction(link) && rails.isRemote(link) ? (
                        rails.handleRemote(link), !1) : rails.stopEverything(e)
                }),
                $document.delegate(rails.formSubmitSelector, "submit.rails", function(e) {
                    var blankRequiredInputs,
                        nonBlankFileInputs, form = $(this),
                        remote = rails.isRemote(form);
                    if (
                        !rails.allowAction(form)) return rails.stopEverything(e);
                    if (
                        form.attr("novalidate") === undefined)
                        if (
                            form.data("ujs:formnovalidate-button") === undefined) {
                            if ((
                                    blankRequiredInputs = rails.blankInputs(form, rails.requiredInputSelector, !1)
                                ) && rails.fire(form, "ajax:aborted:required", [blankRequiredInputs])) return rails.stopEverything(e)
                        } else form.data("ujs:formnovalidate-button", undefined);
                    if (
                        remote) {
                        if (
                            nonBlankFileInputs = rails.nonBlankInputs(form, rails.fileInputSelector)) {
                            setTimeout(function() {
                                rails.disableFormElements(form)
                            }, 13);
                            var aborted = rails.fire(form, "ajax:aborted:file", [nonBlankFileInputs])
                            ;
                            return aborted || setTimeout(function() {
                                    rails.enableFormElements(form)
                                }, 13),
                                aborted
                        }
                        return rails.handleRemote(form), !1
                    }
                    setTimeout(function() {
                        rails.disableFormElements(form)
                    }, 13)
                }),
                $document.delegate(rails.formInputClickSelector, "click.rails", function(event) {
                    var button = $(this);
                    if (
                        !rails.allowAction(button)) return rails.stopEverything(event)
                    ;
                    var name = button.attr("name"),
                        data = name ? {
                            "name": name,
                            "value": button.val()
                        } : null,
                        form = button.closest("form");
                    0 === form.length && (
                            form = $("#" + button.attr("form"))),
                        form.data("ujs:submit-button", data),
                        form.data("ujs:formnovalidate-button", button.attr("formnovalidate")),
                        form.data("ujs:submit-button-formaction", button.attr("formaction")),
                        form.data("ujs:submit-button-formmethod", button.attr("formmethod"))
                }),
                $document.delegate(rails.formSubmitSelector, "ajax:send.rails", function(event) {
                    this === event.target && rails.disableFormElements($(this))
                }),
                $document.delegate(rails.formSubmitSelector, "ajax:complete.rails", function(event) {
                    this === event.target && rails.enableFormElements($(this))
                }),
                $(function() {
                    rails.refreshCSRFTokens()
                }))
    }(
        jQuery),
    function() {
        var $, cardFromNumber, cardFromType, cards, defaultFormat, formatBackCardNumber, formatBackExpiry, formatCardNumber, formatExpiry, formatForwardExpiry, formatForwardSlash, hasTextSelected, luhnCheck, reFormatCardNumber, restrictCVC, restrictCardNumber, restrictExpiry, restrictNumeric, setCardType,
            __slice = [].slice,
            __indexOf = [].indexOf || function(item) {
                for (var i = 0, l = this.length; i < l; i++)
                    if (i in this && this[i] === item) return i;
                return -1
            };
        (
            $ = jQuery
        ).payment = {},
            $.payment.fn = {},
            $.fn.payment = function(argument_0) {
                var args, method;
                return method = argument_0, args = 2 <= arguments.length ? __slice.call(arguments, 1) : [],
                    $.payment.fn[method].apply(this, args)
            },
            cards = [{
                "type": "maestro",
                "pattern": /^(5018|5020|5038|6304|6759|676[1-3])/,
                "format": defaultFormat = /(\d{1,4})/g,
                "length": [
                    12, 13, 14, 15, 16, 17, 18, 19
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }, {
                "type": "dinersclub",
                "pattern": /^(36|38|30[0-5])/,
                "format": defaultFormat,
                "length": [
                    14
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }, {
                "type": "laser",
                "pattern": /^(6706|6771|6709)/,
                "format": defaultFormat,
                "length": [
                    16, 17, 18, 19
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }, {
                "type": "jcb",
                "pattern": /^35/,
                "format": defaultFormat,
                "length": [
                    16
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }, {
                "type": "unionpay",
                "pattern": /^62/,
                "format": defaultFormat,
                "length": [
                    16, 17, 18, 19
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !1
            }, {
                "type": "discover",
                "pattern": /^(6011|65|64[4-9]|622)/,
                "format": defaultFormat,
                "length": [
                    16
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }, {
                "type": "mastercard",
                "pattern": /^5[1-5]/,
                "format": defaultFormat,
                "length": [
                    16
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }, {
                "type": "amex",
                "pattern": /^3[47]/,
                "format": /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
                "length": [
                    15
                ],
                "cvcLength": [
                    3, 4
                ],
                "luhn": !0
            }, {
                "type": "visa",
                "pattern": /^4/,
                "format": defaultFormat,
                "length": [
                    13, 14, 15, 16
                ],
                "cvcLength": [
                    3
                ],
                "luhn": !0
            }],
            cardFromNumber = function(num) {
                var card, _i, _len;
                for (
                    num = (num + "").replace(/\D/g, ""),
                    _i = 0, _len = cards.length; _i < _len; _i++)
                    if ((
                            card = cards[_i]
                        ).pattern.test(num)) return card
            },
            cardFromType = function(type) {
                var card, _i, _len;
                for (
                    _i = 0, _len = cards.length; _i < _len; _i++)
                    if ((
                            card = cards[_i]
                        ).type === type) return card
            },
            luhnCheck = function(num) {
                var digit, digits, odd, sum, _i, _len;
                for (
                    odd = !0,
                    _i = sum = 0, _len = (digits = (num + "").split("").reverse()).length; _i < _len; _i++
                ) digit = digits[_i],
                    digit = parseInt(digit, 10), (
                        odd = !odd) && (
                        digit *= 2),
                    9 < digit && (
                        digit -= 9),
                    sum += digit
                ;
                return sum % 10 == 0
            },
            hasTextSelected = function($target) {
                var _ref;
                return null != $target.prop("selectionStart") && $target.prop("selectionStart") !== $target.prop("selectionEnd") || !(
                    "undefined" == typeof document || null === document || null == (_ref = document.selection) || "function" != typeof _ref.createRange || !_ref.createRange().text)
            },
            reFormatCardNumber = function(e) {
                return setTimeout(function() {
                    var $target, value
                    ;
                    return value = ($target = $(e.currentTarget)).val(),
                        value = $.payment.formatCardNumber(value),
                        $target.val(value)
                })
            },
            formatCardNumber = function(e) {
                var $target, card, digit, length, re, upperLength, value;
                if (
                    digit = String.fromCharCode(e.which),
                    /^\d+$/.test(digit) && (
                        value = ($target = $(e.currentTarget)).val(),
                        card = cardFromNumber(value + digit),
                        length = (value.replace(/\D/g, "") + digit).length,
                        upperLength = 16,
                        card && (
                            upperLength = card.length[card.length.length - 1]), !(
                            upperLength <= length || null != $target.prop("selectionStart") && $target.prop("selectionStart") !== value.length))) return (
                    re = card && "amex" === card.type ? /^(\d{4}|\d{4}\s\d{6})$/ : /(?:^|\s)(\d{4})$/
                ).test(value) ? (
                    e.preventDefault(),
                    $target.val(value + " " + digit)
                ) : re.test(value + digit) ? (
                    e.preventDefault(),
                    $target.val(value + digit + " ")) : void 0
            },
            formatBackCardNumber = function(e) {
                var $target, value;
                if (
                    value = ($target = $(e.currentTarget)).val(),
                    !e.meta && 8 === e.which && (
                        null == $target.prop("selectionStart") || $target.prop("selectionStart") === value.length)
                ) return /\d\s$/.test(value) ? (
                    e.preventDefault(),
                    $target.val(value.replace(/\d\s$/, ""))
                ) : /\s\d?$/.test(value) ? (
                    e.preventDefault(),
                    $target.val(value.replace(/\s\d?$/, ""))) : void 0
            },
            formatExpiry = function(e) {
                var $target, digit, val;
                if (
                    digit = String.fromCharCode(e.which),
                    /^\d+$/.test(digit)
                ) return val = ($target = $(e.currentTarget)).val() + digit,
                    /^\d$/.test(val) && "0" !== val && "1" !== val ? (
                        e.preventDefault(),
                        $target.val("0" + val + " / ")
                    ) : /^\d\d$/.test(val) ? (
                        e.preventDefault(),
                        $target.val(val + " / ")) : void 0
            },
            formatForwardExpiry = function(e) {
                var $target, digit, val;
                if (
                    digit = String.fromCharCode(e.which),
                    /^\d+$/.test(digit)
                ) return val = ($target = $(e.currentTarget)).val(),
                    /^\d\d$/.test(val) ? $target.val(val + " / ") : void 0
            },
            formatForwardSlash = function(e) {
                var $target, val;
                if (
                    "/" === String.fromCharCode(e.which)
                ) return val = ($target = $(e.currentTarget)).val(),
                    /^\d$/.test(val) && "0" !== val ? $target.val("0" + val + " / ") : void 0
            },
            formatBackExpiry = function(e) {
                var $target, value;
                if (!e.meta && (
                        value = ($target = $(e.currentTarget)).val(),
                        8 === e.which && (
                            null == $target.prop("selectionStart") || $target.prop("selectionStart") === value.length))
                ) return /\d(\s|\/)+$/.test(value) ? (
                    e.preventDefault(),
                    $target.val(value.replace(/\d(\s|\/)*$/, ""))
                ) : /\s\/\s?\d?$/.test(value) ? (
                    e.preventDefault(),
                    $target.val(value.replace(/\s\/\s?\d?$/, ""))) : void 0
            },
            restrictNumeric = function(e) {
                var input;
                return !(!e.metaKey && !e.ctrlKey
                ) || 32 !== e.which && (
                    0 === e.which || (
                        e.which < 33 || (
                            input = String.fromCharCode(e.which), !!/[\d\s]/.test(input))))
            },
            restrictCardNumber = function(e) {
                var $target, card, digit, value;
                if (
                    $target = $(e.currentTarget),
                    digit = String.fromCharCode(e.which),
                    /^\d+$/.test(digit
                    ) && !hasTextSelected($target)
                ) return value = ($target.val() + digit).replace(/\D/g, ""), (
                    card = cardFromNumber(value)
                ) ? value.length <= card.length[card.length.length - 1] : value.length <= 16
            },
            restrictExpiry = function(e) {
                var $target, digit;
                if (
                    $target = $(e.currentTarget),
                    digit = String.fromCharCode(e.which),
                    /^\d+$/.test(digit
                    ) && !hasTextSelected($target)) return !(
                    6 < ($target.val() + digit).replace(/\D/g, "").length) && void 0
            },
            restrictCVC = function(e) {
                var $target, digit;
                if (
                    $target = $(e.currentTarget),
                    digit = String.fromCharCode(e.which),
                    /^\d+$/.test(digit)) return (
                    $target.val() + digit
                ).length <= 4
            },
            setCardType = function(e) {
                var $target, allTypes, card, cardType, val;
                if (
                    val = ($target = $(e.currentTarget)).val(),
                    cardType = $.payment.cardType(val) || "unknown", !$target.hasClass(cardType)
                ) return allTypes = function() {
                        var _i, _len, _results;
                        for (
                            _results = [],
                            _i = 0, _len = cards.length; _i < _len; _i++
                        ) card = cards[_i],
                            _results.push(card.type)
                        ;
                        return _results
                    }(),
                    $target.removeClass("unknown"),
                    $target.removeClass(allTypes.join(" ")),
                    $target.addClass(cardType),
                    $target.toggleClass("identified", "unknown" !== cardType),
                    $target.trigger("payment.cardType", cardType)
            },
            $.payment.fn.formatCardCVC = function() {
                return this.payment("restrictNumeric"),
                    this.on("keypress", restrictCVC),
                    this
            },
            $.payment.fn.formatCardExpiry = function() {
                return this.payment("restrictNumeric"),
                    this.on("keypress", restrictExpiry),
                    this.on("keypress", formatExpiry),
                    this.on("keypress", formatForwardSlash),
                    this.on("keypress", formatForwardExpiry),
                    this.on("keydown", formatBackExpiry),
                    this
            },
            $.payment.fn.formatCardNumber = function() {
                return this.payment("restrictNumeric"),
                    this.on("keypress", restrictCardNumber),
                    this.on("keypress", formatCardNumber),
                    this.on("keydown", formatBackCardNumber),
                    this.on("keyup", setCardType),
                    this.on("paste", reFormatCardNumber),
                    this
            },
            $.payment.fn.restrictNumeric = function() {
                return this.on("keypress", restrictNumeric),
                    this
            },
            $.payment.fn.cardExpiryVal = function() {
                return $.payment.cardExpiryVal($(this).val())
            },
            $.payment.cardExpiryVal = function(value) {
                var month, year, _ref
                ;
                return month = (_ref = (value = value.replace(/\s/g, "")).split("/", 2))[0],
                    2 === (null != (year = _ref[1]) ? year.length : void 0) && /^\d+$/.test(year) && (
                        year = (new Date).getFullYear().toString().slice(0, 2) + year), {
                        "month": month = parseInt(month, 10
                        ),
                        "year": year = parseInt(year, 10)
                    }
            },
            $.payment.validateCardNumber = function(num) {
                var card, _ref;
                return num = (num + "").replace(/\s+|-/g, ""), !!/^\d+$/.test(num) && (!!(
                    card = cardFromNumber(num)
                ) && (
                    _ref = num.length, 0 <= __indexOf.call(card.length, _ref) && (!1 === card.luhn || luhnCheck(num))))
            },
            $.payment.validateCardExpiry = function(month, year) {
                var currentTime, expiry, _ref;
                return "object" == typeof month && "month" in month && (
                    month = (_ref = month).month, year = _ref.year), !(
                    !month || !year) && (
                    month = $.trim(month),
                    year = $.trim(year), !!/^\d+$/.test(month) && (
                        !!/^\d+$/.test(year) && (
                            parseInt(month, 10) <= 12 && (
                                2 === year.length && (
                                    year = (new Date).getFullYear().toString().slice(0, 2) + year),
                                expiry = new Date(year, month),
                                currentTime = new Date,
                                expiry.setMonth(expiry.getMonth() - 1),
                                expiry.setMonth(expiry.getMonth() + 1, 1),
                                currentTime < expiry))))
            },
            $.payment.validateCardCVC = function(cvc, type) {
                var _ref, _ref1;
                return cvc = $.trim(cvc), !!/^\d+$/.test(cvc) && (
                    type ? (
                        _ref = cvc.length, 0 <= __indexOf.call(null != (_ref1 = cardFromType(type)) ? _ref1.cvcLength : void 0, _ref)
                    ) : 3 <= cvc.length && cvc.length <= 4)
            },
            $.payment.cardType = function(num) {
                var _ref;
                return num && (
                    null != (_ref = cardFromNumber(num)) ? _ref.type : void 0) || null
            },
            $.payment.formatCardNumber = function(num) {
                var card, groups, upperLength, _ref;
                return (
                    card = cardFromNumber(num)) ? (
                    upperLength = card.length[card.length.length - 1],
                    num = (num = num.replace(/\D/g, "")).slice(0, +upperLength + 1 || 9e9),
                    card.format.global ? null != (_ref = num.match(card.format)) ? _ref.join(" ") : void 0 : (
                        null != (groups = card.format.exec(num)) && groups.shift(),
                        null != groups ? groups.join(" ") : void 0)) : num
            }
    }.call(
        this),
    function(
        $) {
        function both(val) {
            return "object" == typeof val ? val : {
                "top": val,
                "left": val
            }
        }
        var $scrollTo = $.scrollTo = function(target, duration, settings) {
            $(window).scrollTo(target, duration, settings)
        };
        $scrollTo.defaults = {
            "axis": "xy",
            "duration": 1.3 <= parseFloat($.fn.jquery) ? 0 : 1,
            "limit": !0
        }, $scrollTo.window = function() {
            return $(window)._scrollable()
        }, $.fn._scrollable = function() {
            return this.map(function() {
                var elem = this;
                if (!(!elem.nodeName || -1 != $.inArray(elem.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]))) return elem;
                var doc = (elem.contentWindow || elem).document || elem.ownerDocument || elem;
                return /webkit/i.test(navigator.userAgent) || "BackCompat" == doc.compatMode ? doc.body : doc.documentElement
            })
        }, $.fn.scrollTo = function(target, duration, settings) {
            return "object" == typeof duration && (settings = duration, duration = 0), "function" == typeof settings && (settings = {
                "onAfter": settings
            }), "max" == target && (target = 9e9), settings = $.extend({}, $scrollTo.defaults, settings), duration = duration || settings.duration, settings.queue = settings.queue && 1 < settings.axis.length, settings.queue && (duration /= 2), settings.offset = both(settings.offset), settings.over = both(settings.over), this._scrollable().each(function() {
                function animate(callback) {
                    $elem.animate(attr, duration, settings.easing, callback && function() {
                        callback.call(this, targ, settings)
                    })
                }
                if (null != target) {
                    var toff, elem = this,
                        $elem = $(elem),
                        targ = target,
                        attr = {},
                        win = $elem.is("html,body");
                    switch (typeof targ) {
                        case "number":
                        case "string":
                            if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)) {
                                targ = both(targ);
                                break
                            }
                            if (!(targ = $(targ, this)).length) return;
                        case "object":
                            (targ.is || targ.style) && (toff = (targ = $(targ)).offset())
                    }
                    $.each(settings.axis.split(""), function(i, axis) {
                        var Pos = "x" == axis ? "Left" : "Top",
                            pos = Pos.toLowerCase(),
                            key = "scroll" + Pos,
                            old = elem[key],
                            max = $scrollTo.max(elem, axis);
                        if (toff) attr[key] = toff[pos] + (win ? 0 : old - $elem.offset()[pos]), settings.margin && (attr[key] -= parseInt(targ.css("margin" + Pos)) || 0, attr[key] -= parseInt(targ.css("border" + Pos + "Width")) || 0), attr[key] += settings.offset[pos] || 0, settings.over[pos] && (attr[key] += targ["x" == axis ? "width" : "height"]() * settings.over[pos]);
                        else {
                            var val = targ[pos];
                            attr[key] = val.slice && "%" == val.slice(-1) ? parseFloat(val) / 100 * max : val
                        }
                        settings.limit && /^\d+$/.test(attr[key]) && (attr[key] = attr[key] <= 0 ? 0 : Math.min(attr[key], max)), !i && settings.queue && (old != attr[key] && animate(settings.onAfterFirst), delete attr[key])
                    }), animate(settings.onAfter)
                }
            }).end()
        }, $scrollTo.max = function(elem, axis) {
            var Dim = "x" == axis ? "Width" : "Height",
                scroll = "scroll" + Dim;
            if (!$(elem).is("html,body")) return elem[scroll] - $(elem)[Dim.toLowerCase()]();
            var size = "client" + Dim,
                html = elem.ownerDocument.documentElement,
                body = elem.ownerDocument.body;
            return Math.max(html[scroll], body[scroll]) - Math.min(html[size], body[size])
        }
    }(
        jQuery),
    function(
        $) {
        var mirrored, defaults = {
                "className": "autosizejs",
                "append": "",
                "callback": !1,
                "resizeDelay": 10,
                "placeholder": !0
            },
            typographyStyles = ["fontFamily", "fontSize", "fontWeight", "fontStyle", "letterSpacing", "textTransform", "wordSpacing", "textIndent"],
            mirror = $('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize", !0)[0];
        (
            mirror.style.lineHeight = "99px"
        ) === $(mirror).css("lineHeight") && typographyStyles.push("lineHeight"),
            mirror.style.lineHeight = "",
            $.fn.autosize = function(options) {
                return this.length ? (
                    options = $.extend({}, defaults, options || {}),
                    mirror.parentNode !== document.body && $(document.body).append(mirror),
                    this.each(function() {
                        function setWidth() {
                            var width,
                                style = !!window.getComputedStyle && window.getComputedStyle(ta, null)
                            ;
                            style ? (
                                    0 === (width = ta.getBoundingClientRect().width) && (
                                        width = parseInt(style.width, 10)),
                                    $.each(["paddingLeft", "paddingRight", "borderLeftWidth", "borderRightWidth"], function(i, val) {
                                        width -= parseInt(style[val], 10)
                                    })
                                ) : width = Math.max($ta.width(), 0),
                                mirror.style.width = width + "px"
                        }
                        function initMirror() {
                            var styles = {};
                            if (
                                mirrored = ta,
                                mirror.className = options.className,
                                maxHeight = parseInt($ta.css("maxHeight"), 10),
                                $.each(typographyStyles, function(i, val) {
                                    styles[val] = $ta.css(val)
                                }),
                                $(mirror).css(styles),
                                setWidth(),
                                window.chrome) {
                                var width = ta.style.width;
                                ta.style.width = "0px";
                                ta.offsetWidth;
                                ta.style.width = width
                            }
                        }
                        function adjust() {
                            var height, original
                            ;
                            mirrored !== ta ? initMirror(
                                ) : setWidth(),
                                !ta.value && options.placeholder ? mirror.value = ($(ta).attr("placeholder") || ""
                                ) + options.append : mirror.value = ta.value + options.append,
                                mirror.style.overflowY = ta.style.overflowY,
                                original = parseInt(ta.style.height, 10),
                                mirror.scrollTop = 0,
                                mirror.scrollTop = 9e4,
                                height = mirror.scrollTop,
                                maxHeight && maxHeight < height ? (
                                    ta.style.overflowY = "scroll",
                                    height = maxHeight) : (
                                    ta.style.overflowY = "hidden",
                                    height < minHeight && (
                                        height = minHeight)),
                                original !== (height += boxOffset) && (
                                    ta.style.height = height + "px",
                                    callback && options.callback.call(ta, ta))
                        }
                        function resize() {
                            clearTimeout(timeout),
                                timeout = setTimeout(function() {
                                        var newWidth = $ta.width()
                                        ;
                                        newWidth !== width && (
                                            width = newWidth,
                                            adjust())
                                    },
                                    parseInt(options.resizeDelay, 10))
                        }
                        var maxHeight, minHeight, timeout, ta = this,
                            $ta = $(ta),
                            boxOffset = 0,
                            callback = $.isFunction(options.callback),
                            originalStyles = {
                                "height": ta.style.height,
                                "overflow": ta.style.overflow,
                                "overflowY": ta.style.overflowY,
                                "wordWrap": ta.style.wordWrap,
                                "resize": ta.style.resize
                            },
                            width = $ta.width();
                        $ta.data("autosize") || ($ta.data("autosize", !0), "border-box" !== $ta.css("box-sizing") && "border-box" !== $ta.css("-moz-box-sizing") && "border-box" !== $ta.css("-webkit-box-sizing") || (boxOffset = $ta.outerHeight() - $ta.height()), minHeight = Math.max(parseInt($ta.css("minHeight"), 10) - boxOffset || 0, $ta.height()), $ta.css({
                                "overflow": "hidden",
                                "overflowY": "hidden",
                                "wordWrap": "break-word",
                                "resize": "none" === $ta.css("resize") || "vertical" === $ta.css("resize") ? "none" : "horizontal"
                            }),
                            "onpropertychange" in ta ? "oninput" in ta ? $ta.on("input.autosize keyup.autosize", adjust
                            ) : $ta.on("propertychange.autosize", function() {
                                    "value" === event.propertyName && adjust()
                                }
                            ) : $ta.on("input.autosize", adjust),
                            !1 !== options.resizeDelay && $(window).on("resize.autosize", resize),
                            $ta.on("autosize.resize", adjust),
                            $ta.on("autosize.resizeIncludeStyle", function() {
                                mirrored = null,
                                    adjust()
                            }),
                            $ta.on("autosize.destroy", function() {
                                mirrored = null,
                                    clearTimeout(timeout),
                                    $(window).off("resize", resize),
                                    $ta.off(
                                        "autosize").off(
                                        ".autosize").css(
                                        originalStyles).removeData(
                                        "autosize")
                            }),
                            adjust())
                    })) : this
            }
    }(
        window.jQuery || window.$),
    function(
        $) {
        var mfp,
            _prevStatus,
            _body,
            _document,
            _prevContentType,
            _wrapClasses,
            _currPopupType, CLOSE_EVENT = "Close",
            AFTER_CLOSE_EVENT = "AfterClose",
            BEFORE_APPEND_EVENT = "BeforeAppend",
            MARKUP_PARSE_EVENT = "MarkupParse",
            OPEN_EVENT = "Open",
            CHANGE_EVENT = "Change",
            NS = "mfp",
            EVENT_NS = "." + NS,
            READY_CLASS = "mfp-ready",
            REMOVING_CLASS = "mfp-removing",
            PREVENT_CLOSE_CLASS = "mfp-prevent-close",
            MagnificPopup = function() {},
            _isJQ = !!window.jQuery,
            _window = $(window),
            _mfpOn = function(name, f) {
                mfp.ev.on(NS + name + EVENT_NS, f)
            },
            _getEl = function(className, appendTo, html, raw) {
                var el = document.createElement("div");
                return el.className = "mfp-" + className,
                    html && (
                        el.innerHTML = html),
                    raw ? appendTo && appendTo.appendChild(el) : (el = $(el), appendTo && el.appendTo(appendTo)),
                    el
            },
            _mfpTrigger = function(e, data) {
                mfp.ev.triggerHandler(NS + e, data),
                    mfp.st.callbacks && (
                        e = e.charAt(0).toLowerCase() + e.slice(1),
                        mfp.st.callbacks[e] && mfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]))
            },
            _setFocus = function() {
                (
                    mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus()
            },
            _getCloseBtn = function(type) {
                return type === _currPopupType && mfp.currTemplate.closeBtn || (
                        mfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace("%title%", mfp.st.tClose)),
                        _currPopupType = type),
                    mfp.currTemplate.closeBtn
            },
            _checkInstance = function() {
                $.magnificPopup.instance || ((
                        mfp = new MagnificPopup
                    ).init(),
                    $.magnificPopup.instance = mfp)
            },
            _checkIfClose = function(target) {
                if (
                    !$(target).hasClass(PREVENT_CLOSE_CLASS)) {
                    var closeOnContent = mfp.st.closeOnContentClick,
                        closeOnBg = mfp.st.closeOnBgClick;
                    if (
                        closeOnContent && closeOnBg
                    ) return !0;
                    if (
                        !mfp.content || $(target).hasClass("mfp-close") || mfp.preloader && target === mfp.preloader[0]
                    ) return !0;
                    if (
                        target === mfp.content[0] || $.contains(mfp.content[0], target)) {
                        if (
                            closeOnContent
                        ) return !0
                    } else if (closeOnBg) return !0
                    ;
                    return !1
                }
            }
        ;
        MagnificPopup.prototype = {
                "constructor": MagnificPopup,
                "init": function() {
                    var appVersion = navigator.appVersion;
                    mfp.isIE7 = -1 !== appVersion.indexOf("MSIE 7."),
                        mfp.isIE8 = -1 !== appVersion.indexOf("MSIE 8."),
                        mfp.isLowIE = mfp.isIE7 || mfp.isIE8,
                        mfp.isAndroid = /android/gi.test(appVersion),
                        mfp.isIOS = /iphone|ipad|ipod/gi.test(appVersion),
                        mfp.probablyMobile = mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),
                        _body = $(document.body),
                        _document = $(document),
                        mfp.popupsCache = {}
                },
                "open": function(
                    data) {
                    var i;
                    if (
                        !1 === data.isObj) {
                        mfp.items = data.items.toArray(),
                            mfp.index = 0
                        ;
                        var item, items = data.items;
                        for (
                            i = 0; i < items.length; i++)
                            if ((
                                    item = items[i]
                                ).parsed && (
                                    item = item.el[0]),
                                item === data.el[0]) {
                                mfp.index = i;
                                break
                            }
                    } else mfp.items = $.isArray(data.items) ? data.items : [data.items],
                        mfp.index = data.index || 0;
                    if (
                        mfp.isOpen
                    ) mfp.updateItemHTML();
                    else {
                        mfp.types = [],
                            _wrapClasses = "",
                            mfp.ev = data.mainEl || _document,
                            data.key ? (
                                mfp.popupsCache[data.key] || (
                                    mfp.popupsCache[data.key] = {}),
                                mfp.currTemplate = mfp.popupsCache[data.key]
                            ) : mfp.currTemplate = {},
                            mfp.st = $.extend(!0, {}, $.magnificPopup.defaults, data),
                            mfp.fixedContentPos = "auto" === mfp.st.fixedContentPos ? !mfp.probablyMobile : mfp.st.fixedContentPos,
                            mfp.bgOverlay || (
                                mfp.bgOverlay = _getEl("bg").on("click" + EVENT_NS, function() {
                                    mfp.close()
                                }),
                                mfp.wrap = _getEl("wrap").attr("tabindex", -1).on("click" + EVENT_NS, function(e) {
                                    _checkIfClose(e.target) && mfp.close()
                                }),
                                mfp.container = _getEl("container", mfp.wrap)),
                            mfp.contentContainer = _getEl("content"),
                            mfp.st.preloader && (
                                mfp.preloader = _getEl("preloader", mfp.container, mfp.st.tLoading))
                        ;
                        var modules = $.magnificPopup.modules;
                        for (
                            i = 0; i < modules.length; i++) {
                            var n = modules[i];
                            n = n.charAt(0).toUpperCase() + n.slice(1),
                                mfp["init" + n].call(mfp)
                        }
                        _mfpTrigger("BeforeOpen"),
                            mfp.st.closeBtnInside ? (
                                _mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {
                                    values.close_replaceWith = _getCloseBtn(item.type)
                                }),
                                _wrapClasses += " mfp-close-btn-in") : mfp.wrap.append(_getCloseBtn()),
                            mfp.st.alignTop && (
                                _wrapClasses += " mfp-align-top"),
                            mfp.fixedContentPos ? mfp.wrap.css({
                                    "overflow": mfp.st.overflowY,
                                    "overflowX": "hidden",
                                    "overflowY": mfp.st.overflowY
                                }
                            ) : mfp.wrap.css({
                                "top": _window.scrollTop(),
                                "position": "absolute"
                            }), (
                                !1 === mfp.st.fixedBgPos || "auto" === mfp.st.fixedBgPos && !mfp.fixedContentPos
                            ) && mfp.bgOverlay.css({
                                "height": _document.height(),
                                "position": "absolute"
                            }),
                            _document.on("keyup" + EVENT_NS, function(e) {
                                27 === e.keyCode && mfp.close()
                            }),
                            _window.on("resize" + EVENT_NS, function() {
                                mfp.updateSize()
                            }),
                            mfp.st.closeOnContentClick || (
                                _wrapClasses += " mfp-auto-cursor"),
                            _wrapClasses && mfp.wrap.addClass(_wrapClasses)
                        ;
                        var windowHeight = mfp.wH = _window.height(),
                            bodyStyles = {};
                        if (
                            mfp.fixedContentPos && mfp._hasScrollBar(windowHeight)) {
                            var s = mfp._getScrollbarSize();
                            s && (
                                bodyStyles.paddingRight = s)
                        }
                        mfp.fixedContentPos && (
                            mfp.isIE7 ? $("body, html").css("overflow", "hidden") : bodyStyles.overflow = "hidden")
                        ;
                        var classesToadd = mfp.st.mainClass;
                        mfp.isIE7 && (
                                classesToadd += " mfp-ie7"),
                            classesToadd && mfp._addClassToMFP(classesToadd),
                            mfp.updateItemHTML(),
                            _mfpTrigger("BuildControls"),
                            _body.css(bodyStyles),
                            mfp.bgOverlay.add(mfp.wrap).prependTo(document.body),
                            mfp._lastFocusedEl = document.activeElement,
                            setTimeout(function() {
                                    mfp.content ? (
                                            mfp._addClassToMFP(READY_CLASS),
                                            _setFocus()
                                        ) : mfp.bgOverlay.addClass(READY_CLASS),
                                        _document.on("focusin" + EVENT_NS, function(e) {
                                            if (
                                                e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)
                                            ) return _setFocus(), !1
                                        })
                                },
                                16),
                            mfp.isOpen = !0,
                            mfp.updateSize(windowHeight),
                            _mfpTrigger(OPEN_EVENT)
                    }
                },
                "close": function() {
                    mfp.isOpen && (
                        mfp.isOpen = !1,
                        mfp.st.removalDelay && !mfp.isLowIE ? (
                            mfp._addClassToMFP(REMOVING_CLASS),
                            setTimeout(function() {
                                    mfp._close()
                                },
                                mfp.st.removalDelay)
                        ) : mfp._close())
                },
                "_close": function() {
                    _mfpTrigger(CLOSE_EVENT)
                    ;
                    var classesToRemove = REMOVING_CLASS + " " + READY_CLASS + " ";
                    if (
                        mfp.bgOverlay.detach(),
                        mfp.wrap.detach(),
                        mfp.container.empty(),
                        mfp.st.mainClass && (
                            classesToRemove += mfp.st.mainClass + " "),
                        mfp._removeClassFromMFP(classesToRemove),
                        mfp.fixedContentPos) {
                        var bodyStyles = {
                            "paddingRight": ""
                        }
                        ;
                        mfp.isIE7 ? $("body, html").css("overflow", ""
                            ) : bodyStyles.overflow = "",
                            _body.css(bodyStyles)
                    }
                    _document.off("keyup" + EVENT_NS + " focusin" + EVENT_NS),
                        mfp.ev.off(EVENT_NS),
                        mfp.wrap.attr("class", "mfp-wrap").removeAttr("style"),
                        mfp.bgOverlay.attr("class", "mfp-bg"),
                        mfp.container.attr("class", "mfp-container"),
                        mfp.st.closeBtnInside && !0 !== mfp.currTemplate[mfp.currItem.type] || mfp.currTemplate.closeBtn && mfp.currTemplate.closeBtn.detach(),
                        mfp._lastFocusedEl && $(mfp._lastFocusedEl).focus(),
                        mfp.currItem = null,
                        mfp.content = null,
                        mfp.currTemplate = null,
                        mfp.prevHeight = 0,
                        _mfpTrigger(AFTER_CLOSE_EVENT)
                },
                "updateSize": function(
                    winHeight) {
                    if (
                        mfp.isIOS) {
                        var zoomLevel = document.documentElement.clientWidth / window.innerWidth,
                            height = window.innerHeight * zoomLevel;
                        mfp.wrap.css("height", height),
                            mfp.wH = height
                    } else mfp.wH = winHeight || _window.height()
                    ;
                    mfp.fixedContentPos || mfp.wrap.css("height", mfp.wH),
                        _mfpTrigger("Resize")
                },
                "updateItemHTML": function() {
                    var item = mfp.items[mfp.index]
                    ;
                    mfp.contentContainer.detach(),
                        mfp.content && mfp.content.detach(),
                        item.parsed || (
                            item = mfp.parseEl(mfp.index))
                    ;
                    var type = item.type;
                    if (
                        _mfpTrigger("BeforeChange", [mfp.currItem ? mfp.currItem.type : "", type]),
                        mfp.currItem = item,
                        !mfp.currTemplate[type]) {
                        var markup = !!mfp.st[type] && mfp.st[type].markup
                        ;
                        _mfpTrigger("FirstMarkupParse", markup),
                            mfp.currTemplate[type] = !markup || $(markup)
                    }
                    _prevContentType && _prevContentType !== item.type && mfp.container.removeClass("mfp-" + _prevContentType + "-holder")
                    ;
                    var newContent = mfp["get" + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);
                    mfp.appendContent(newContent, type),
                        item.preloaded = !0,
                        _mfpTrigger(CHANGE_EVENT, item),
                        _prevContentType = item.type,
                        mfp.container.prepend(mfp.contentContainer),
                        _mfpTrigger("AfterChange")
                },
                "appendContent": function(
                    newContent, type) {
                    (
                        mfp.content = newContent
                    ) ? mfp.st.closeBtnInside && !0 === mfp.currTemplate[type] ? mfp.content.find(".mfp-close").length || mfp.content.append(_getCloseBtn()
                        ) : mfp.content = newContent: mfp.content = "",
                        _mfpTrigger(BEFORE_APPEND_EVENT),
                        mfp.container.addClass("mfp-" + type + "-holder"),
                        mfp.contentContainer.append(mfp.content)
                },
                "parseEl": function(
                    index) {
                    var item = mfp.items[index],
                        type = item.type;
                    if ((
                            item = item.tagName ? {
                                "el": $(item)
                            } : {
                                "data": item,
                                "src": item.src
                            }
                        ).el) {
                        for (
                            var types = mfp.types,
                                i = 0; i < types.length; i++)
                            if (
                                item.el.hasClass("mfp-" + types[i])) {
                                type = types[i];
                                break
                            }
                        item.src = item.el.attr("data-mfp-src"),
                            item.src || (
                                item.src = item.el.attr("href"))
                    }
                    return item.type = type || mfp.st.type || "inline",
                        item.index = index,
                        item.parsed = !0,
                        mfp.items[index] = item,
                        _mfpTrigger("ElementParse", item),
                        mfp.items[index]
                },
                "addGroup": function(
                    el, options) {
                    var eHandler = function(e) {
                        e.mfpEl = this,
                            mfp._openClick(e, el, options)
                    }
                    ;
                    options || (
                        options = {})
                    ;
                    var eName = "click.magnificPopup";
                    options.mainEl = el,
                        options.items ? (
                            options.isObj = !0,
                            el.off(eName).on(eName, eHandler)) : (
                            options.isObj = !1,
                            options.delegate ? el.off(eName).on(eName, options.delegate, eHandler) : (
                                options.items = el
                            ).off(eName).on(eName, eHandler))
                },
                "_openClick": function(
                    e, el, options) {
                    if ((
                            options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick
                        ) || 2 !== e.which) {
                        var disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;
                        if (
                            disableOn)
                            if (
                                $.isFunction(disableOn)) {
                                if (!disableOn.call(mfp)) return !0
                            } else if (
                            _window.width() < disableOn
                        ) return !0
                        ;
                        e.type && (
                                e.preventDefault(),
                                mfp.isOpen && e.stopPropagation()),
                            options.el = $(e.mfpEl),
                            options.delegate && (
                                options.items = el.find(options.delegate)),
                            mfp.open(options)
                    }
                },
                "updateStatus": function(
                    status, text) {
                    if (
                        mfp.preloader) {
                        _prevStatus !== status && mfp.container.removeClass("mfp-s-" + _prevStatus),
                            text || "loading" !== status || (
                                text = mfp.st.tLoading)
                        ;
                        var data = {
                            "status": status,
                            "text": text
                        }
                        ;
                        _mfpTrigger("UpdateStatus", data),
                            status = data.status,
                            text = data.text,
                            mfp.preloader.html(text),
                            mfp.preloader.find("a").click(function(e) {
                                e.stopImmediatePropagation()
                            }),
                            mfp.container.addClass("mfp-s-" + status),
                            _prevStatus = status
                    }
                },
                "_addClassToMFP": function(
                    cName) {
                    mfp.bgOverlay.addClass(cName),
                        mfp.wrap.addClass(cName)
                },
                "_removeClassFromMFP": function(
                    cName) {
                    this.bgOverlay.removeClass(cName),
                        mfp.wrap.removeClass(cName)
                },
                "_hasScrollBar": function(
                    winHeight) {
                    return (
                        mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height())
                },
                "_parseMarkup": function(
                    template, values, item) {
                    var arr;
                    item.data && (
                            values = $.extend(item.data, values)),
                        _mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]),
                        $.each(values, function(key, value) {
                            if (
                                value === undefined || !1 === value
                            ) return !0;
                            if (
                                1 < (arr = key.split("_")).length) {
                                var el = template.find(EVENT_NS + "-" + arr[0]);
                                if (
                                    0 < el.length) {
                                    var attr = arr[1]
                                    ;
                                    "replaceWith" === attr ? el[0] !== value[0] && el.replaceWith(value
                                    ) : "img" === attr ? el.is("img") ? el.attr("src", value
                                    ) : el.replaceWith('<img src="' + value + '" class="' + el.attr("class") + '" />'
                                    ) : el.attr(arr[1], value)
                                }
                            } else template.find(EVENT_NS + "-" + key).html(value)
                        })
                },
                "_getScrollbarSize": function() {
                    if (
                        mfp.scrollbarSize === undefined) {
                        var scrollDiv = document.createElement("div");
                        scrollDiv.id = "mfp-sbm",
                            scrollDiv.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",
                            document.body.appendChild(scrollDiv),
                            mfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth,
                            document.body.removeChild(scrollDiv)
                    }
                    return mfp.scrollbarSize
                }
            },
            $.magnificPopup = {
                "instance": null,
                "proto": MagnificPopup.prototype,
                "modules": [],
                "open": function(
                    options, index) {
                    return _checkInstance(),
                        options || (
                            options = {}),
                        options.isObj = !0,
                        options.index = index || 0,
                        this.instance.open(options)
                },
                "close": function() {
                    return $.magnificPopup.instance.close()
                },
                "registerModule": function(
                    name, module) {
                    module.options && (
                            $.magnificPopup.defaults[name] = module.options),
                        $.extend(this.proto, module.proto),
                        this.modules.push(name)
                },
                "defaults": {
                    "disableOn": 0,
                    "key": null,
                    "midClick": !1,
                    "mainClass": "",
                    "preloader": !0,
                    "focus": "",
                    "closeOnContentClick": !1,
                    "closeOnBgClick": !0,
                    "closeBtnInside": !0,
                    "alignTop": !1,
                    "removalDelay": 0,
                    "fixedContentPos": "auto",
                    "fixedBgPos": "auto",
                    "overflowY": "auto",
                    "closeMarkup": '<button title="%title%" type="button" class="mfp-close">&times;</button>',
                    "tClose": "Close (Esc)",
                    "tLoading": "Loading..."
                }
            },
            $.fn.magnificPopup = function(options, argument_1) {
                _checkInstance()
                ;
                var jqEl = $(this);
                if (
                    "string" == typeof options)
                    if (
                        "open" === options) {
                        var items,
                            itemOpts = _isJQ ? jqEl.data("magnificPopup") : jqEl[0].magnificPopup,
                            index = parseInt(argument_1, 10) || 0
                        ;
                        itemOpts.items ? items = itemOpts.items[index] : (
                                items = jqEl,
                                itemOpts.delegate && (
                                    items = items.find(itemOpts.delegate)),
                                items = items.eq(index)),
                            mfp._openClick({
                                "mfpEl": items
                            }, jqEl, itemOpts)
                    } else mfp.isOpen && mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1)
                    );
                else _isJQ ? jqEl.data("magnificPopup", options
                    ) : jqEl[0].magnificPopup = options,
                    mfp.addGroup(jqEl, options)
                ;
                return jqEl
            }
        ;
        var _hiddenClass,
            _inlinePlaceholder,
            _lastInlineElement, INLINE_NS = "inline",
            _putInlineElementsBack = function() {
                _lastInlineElement && (
                    _inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach(),
                    _lastInlineElement = null)
            }
        ;
        $.magnificPopup.registerModule(INLINE_NS, {
            "options": {
                "hiddenClass": "hide",
                "markup": "",
                "tNotFound": "Content not found"
            },
            "proto": {
                "initInline": function() {
                    mfp.types.push(INLINE_NS),
                        _mfpOn(CLOSE_EVENT + "." + INLINE_NS, function() {
                            _putInlineElementsBack()
                        })
                },
                "getInline": function(
                    item, template) {
                    if (
                        _putInlineElementsBack(),
                        item.src) {
                        var inlineSt = mfp.st.inline,
                            el = $(item.src);
                        if (
                            el.length) {
                            var parent = el[0].parentNode;
                            parent && parent.tagName && (
                                    _inlinePlaceholder || (
                                        _hiddenClass = inlineSt.hiddenClass,
                                        _inlinePlaceholder = _getEl(_hiddenClass),
                                        _hiddenClass = "mfp-" + _hiddenClass),
                                    _lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass)),
                                mfp.updateStatus("ready")
                        } else mfp.updateStatus("error", inlineSt.tNotFound),
                            el = $("<div>")
                        ;
                        return item.inlineElement = el
                    }
                    return mfp.updateStatus("ready"),
                        mfp._parseMarkup(template, {}, item),
                        template
                }
            }
        })
        ;
        var _ajaxCur, AJAX_NS = "ajax",
            _removeAjaxCursor = function() {
                _ajaxCur && _body.removeClass(_ajaxCur)
            }
        ;
        $.magnificPopup.registerModule(AJAX_NS, {
            "options": {
                "settings": null,
                "cursor": "mfp-ajax-cur",
                "tError": '<a href="%url%">The content</a> could not be loaded.'
            },
            "proto": {
                "initAjax": function() {
                    mfp.types.push(AJAX_NS),
                        _ajaxCur = mfp.st.ajax.cursor,
                        _mfpOn(CLOSE_EVENT + "." + AJAX_NS, function() {
                            _removeAjaxCursor(),
                                mfp.req && mfp.req.abort()
                        })
                },
                "getAjax": function(
                    item) {
                    _ajaxCur && _body.addClass(_ajaxCur),
                        mfp.updateStatus("loading")
                    ;
                    var opts = $.extend({
                            "url": item.src,
                            "success": function(
                                data, textStatus, jqXHR) {
                                var temp = {
                                    "data": data,
                                    "xhr": jqXHR
                                }
                                ;
                                _mfpTrigger("ParseAjax", temp),
                                    mfp.appendContent($(temp.data), AJAX_NS),
                                    item.finished = !0,
                                    _removeAjaxCursor(),
                                    _setFocus(),
                                    setTimeout(function() {
                                            mfp.wrap.addClass(READY_CLASS)
                                        },
                                        16),
                                    mfp.updateStatus("ready"),
                                    _mfpTrigger("AjaxContentAdded")
                            },
                            "error": function() {
                                _removeAjaxCursor(),
                                    item.finished = item.loadError = !0,
                                    mfp.updateStatus("error", mfp.st.ajax.tError.replace("%url%", item.src))
                            }
                        },
                        mfp.st.ajax.settings)
                    ;
                    return mfp.req = $.ajax(opts),
                        ""
                }
            }
        })
        ;
        var _imgInterval,
            _getTitle = function(item) {
                if (
                    item.data && item.data.title !== undefined
                ) return item.data.title
                ;
                var src = mfp.st.image.titleSrc;
                if (
                    src) {
                    if (
                        $.isFunction(src)
                    ) return src.call(mfp, item);
                    if (
                        item.el
                    ) return item.el.attr(src) || ""
                }
                return ""
            }
        ;
        $.magnificPopup.registerModule("image", {
            "options": {
                "markup": '<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',
                "cursor": "mfp-zoom-out-cur",
                "titleSrc": "title",
                "verticalFit": !0,
                "tError": '<a href="%url%">The image</a> could not be loaded.'
            },
            "proto": {
                "initImage": function() {
                    var imgSt = mfp.st.image,
                        ns = ".image"
                    ;
                    mfp.types.push("image"),
                        _mfpOn(OPEN_EVENT + ns, function() {
                            "image" === mfp.currItem.type && imgSt.cursor && _body.addClass(imgSt.cursor)
                        }),
                        _mfpOn(CLOSE_EVENT + ns, function() {
                            imgSt.cursor && _body.removeClass(imgSt.cursor),
                                _window.off("resize" + EVENT_NS)
                        }),
                        _mfpOn("Resize" + ns, mfp.resizeImage),
                        mfp.isLowIE && _mfpOn("AfterChange", mfp.resizeImage)
                },
                "resizeImage": function() {
                    var item = mfp.currItem;
                    if (
                        item.img && mfp.st.image.verticalFit) {
                        var decr = 0
                        ;
                        mfp.isLowIE && (
                                decr = parseInt(item.img.css("padding-top"), 10) + parseInt(item.img.css("padding-bottom"), 10)),
                            item.img.css("max-height", mfp.wH - decr)
                    }
                },
                "_onImageHasSize": function(
                    item) {
                    item.img && (
                        item.hasSize = !0,
                        _imgInterval && clearInterval(_imgInterval),
                        item.isCheckingImgSize = !1,
                        _mfpTrigger("ImageHasSize", item),
                        item.imgHidden && (
                            mfp.content && mfp.content.removeClass("mfp-loading"),
                            item.imgHidden = !1))
                },
                "findImageSize": function(
                    item) {
                    var counter = 0,
                        img = item.img[0],
                        mfpSetInterval = function(delay) {
                            _imgInterval && clearInterval(_imgInterval),
                                _imgInterval = setInterval(function() {
                                        0 < img.naturalWidth ? mfp._onImageHasSize(item) : (
                                            200 < counter && clearInterval(_imgInterval),
                                            3 === ++counter ? mfpSetInterval(10
                                            ) : 40 === counter ? mfpSetInterval(50
                                            ) : 100 === counter && mfpSetInterval(500))
                                    },
                                    delay)
                        }
                    ;
                    mfpSetInterval(1)
                },
                "getImage": function(
                    item, template) {
                    var guard = 0,
                        onLoadComplete = function() {
                            item && (
                                item.img[0].complete ? (
                                    item.img.off(".mfploader"),
                                    item === mfp.currItem && (
                                        mfp._onImageHasSize(item),
                                        mfp.updateStatus("ready")),
                                    item.hasSize = !0,
                                    item.loaded = !0
                                ) : ++guard < 200 ? setTimeout(onLoadComplete, 100
                                ) : onLoadError())
                        },
                        onLoadError = function() {
                            item && (
                                item.img.off(".mfploader"),
                                item === mfp.currItem && (
                                    mfp._onImageHasSize(item),
                                    mfp.updateStatus("error", imgSt.tError.replace("%url%", item.src))),
                                item.hasSize = !0,
                                item.loaded = !0,
                                item.loadError = !0)
                        },
                        imgSt = mfp.st.image,
                        el = template.find(".mfp-img");
                    if (
                        el.length) {
                        var img = new Image;
                        img.className = "mfp-img",
                            item.img = $(img).on("load.mfploader", onLoadComplete).on("error.mfploader", onLoadError),
                            img.src = item.src,
                            el.is("img") && (
                                item.img = item.img.clone())
                    }
                    return mfp._parseMarkup(template, {
                                "title": _getTitle(item),
                                "img_replaceWith": item.img
                            },
                            item),
                        mfp.resizeImage(),
                        item.hasSize ? (
                            _imgInterval && clearInterval(_imgInterval),
                            item.loadError ? (
                                template.addClass("mfp-loading"),
                                mfp.updateStatus("error", imgSt.tError.replace("%url%", item.src))) : (
                                template.removeClass("mfp-loading"),
                                mfp.updateStatus("ready"))) : (
                            mfp.updateStatus("loading"),
                            item.loading = !0,
                            item.hasSize || (
                                item.imgHidden = !0,
                                template.addClass("mfp-loading"),
                                mfp.findImageSize(item))), template
                }
            }
        })
        ;
        var IFRAME_NS = "iframe",
            _emptyPage = "//about:blank",
            _fixIframeBugs = function(isShowing) {
                if (
                    mfp.currTemplate[IFRAME_NS]) {
                    var el = mfp.currTemplate[IFRAME_NS].find("iframe");
                    el.length && (
                        isShowing || (
                            el[0].src = _emptyPage),
                        mfp.isIE8 && el.css("display", isShowing ? "block" : "none"))
                }
            }
        ;
        $.magnificPopup.registerModule(IFRAME_NS, {
            "options": {
                "markup": '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
                "srcAction": "iframe_src",
                "patterns": {
                    "youtube": {
                        "index": "youtube.com",
                        "id": "v=",
                        "src": "//www.youtube.com/embed/%id%?autoplay=1"
                    },
                    "vimeo": {
                        "index": "vimeo.com/",
                        "id": "/",
                        "src": "//player.vimeo.com/video/%id%?autoplay=1"
                    },
                    "gmaps": {
                        "index": "//maps.google.",
                        "src": "%id%&output=embed"
                    }
                }
            },
            "proto": {
                "initIframe": function() {
                    mfp.types.push(IFRAME_NS),
                        _mfpOn("BeforeChange", function(e, prevType, newType) {
                            prevType !== newType && (
                                prevType === IFRAME_NS ? _fixIframeBugs(
                                ) : newType === IFRAME_NS && _fixIframeBugs(!0))
                        }),
                        _mfpOn(CLOSE_EVENT + "." + IFRAME_NS, function() {
                            _fixIframeBugs()
                        })
                },
                "getIframe": function(
                    item, template) {
                    var embedSrc = item.src,
                        iframeSt = mfp.st.iframe
                    ;
                    $.each(iframeSt.patterns, function() {
                        if (-1 < embedSrc.indexOf(this.index)) return this.id && (
                                embedSrc = "string" == typeof this.id ? embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length
                                ) : this.id.call(this, embedSrc)),
                            embedSrc = this.src.replace("%id%", embedSrc), !1
                    })
                    ;
                    var dataObj = {};
                    return iframeSt.srcAction && (
                            dataObj[iframeSt.srcAction] = embedSrc),
                        mfp._parseMarkup(template, dataObj, item),
                        mfp.updateStatus("ready"),
                        template
                }
            }
        })
        ;
        var _getLoopedId = function(index) {
                var numSlides = mfp.items.length
                ;
                return numSlides - 1 < index ? index - numSlides : index < 0 ? numSlides + index : index
            },
            _replaceCurrTotal = function(text, curr, total) {
                return text.replace("%curr%", curr + 1).replace("%total%", total)
            }
        ;
        $.magnificPopup.registerModule("gallery", {
            "options": {
                "enabled": !1,
                "arrowMarkup": '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
                "preload": [
                    0, 2
                ],
                "navigateByImgClick": !0,
                "arrows": !0,
                "tPrev": "Previous (Left arrow key)",
                "tNext": "Next (Right arrow key)",
                "tCounter": "%curr% of %total%"
            },
            "proto": {
                "initGallery": function() {
                    var gSt = mfp.st.gallery,
                        ns = ".mfp-gallery",
                        supportsFastClick = Boolean($.fn.mfpFastClick);
                    if (
                        mfp.direction = !0,
                        !gSt || !gSt.enabled) return !1
                    ;
                    _wrapClasses += " mfp-gallery",
                        _mfpOn(OPEN_EVENT + ns, function() {
                            gSt.navigateByImgClick && mfp.wrap.on("click" + ns, ".mfp-img", function() {
                                    if (
                                        1 < mfp.items.length
                                    ) return mfp.next(), !1
                                }),
                                _document.on("keydown" + ns, function(e) {
                                    37 === e.keyCode ? mfp.prev(
                                    ) : 39 === e.keyCode && mfp.next()
                                })
                        }),
                        _mfpOn("UpdateStatus" + ns, function(e, data) {
                            data.text && (
                                data.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length))
                        }),
                        _mfpOn(MARKUP_PARSE_EVENT + ns, function(e, element, values, item) {
                            var l = mfp.items.length;
                            values.counter = 1 < l ? _replaceCurrTotal(gSt.tCounter, item.index, l) : ""
                        }),
                        _mfpOn("BuildControls" + ns, function() {
                            if (
                                1 < mfp.items.length && gSt.arrows && !mfp.arrowLeft) {
                                var markup = gSt.arrowMarkup,
                                    arrowLeft = mfp.arrowLeft = $(markup.replace("%title%", gSt.tPrev).replace("%dir%", "left")).addClass(PREVENT_CLOSE_CLASS),
                                    arrowRight = mfp.arrowRight = $(markup.replace("%title%", gSt.tNext).replace("%dir%", "right")).addClass(PREVENT_CLOSE_CLASS),
                                    eName = supportsFastClick ? "mfpFastClick" : "click";
                                arrowLeft[eName](function() {
                                        mfp.prev()
                                    }),
                                    arrowRight[eName](function() {
                                        mfp.next()
                                    }),
                                    mfp.isIE7 && (
                                        _getEl("b", arrowLeft[0], !1, !0),
                                        _getEl("a", arrowLeft[0], !1, !0),
                                        _getEl("b", arrowRight[0], !1, !0),
                                        _getEl("a", arrowRight[0], !1, !0)),
                                    mfp.container.append(arrowLeft.add(arrowRight))
                            }
                        }),
                        _mfpOn(CHANGE_EVENT + ns, function() {
                            mfp._preloadTimeout && clearTimeout(mfp._preloadTimeout),
                                mfp._preloadTimeout = setTimeout(function() {
                                        mfp.preloadNearbyImages(),
                                            mfp._preloadTimeout = null
                                    },
                                    16)
                        }),
                        _mfpOn(CLOSE_EVENT + ns, function() {
                            _document.off(ns),
                                mfp.wrap.off("click" + ns),
                                mfp.arrowLeft && supportsFastClick && mfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick(),
                                mfp.arrowRight = mfp.arrowLeft = null
                        })
                },
                "next": function() {
                    mfp.direction = !0,
                        mfp.index = _getLoopedId(mfp.index + 1),
                        mfp.updateItemHTML()
                },
                "prev": function() {
                    mfp.direction = !1,
                        mfp.index = _getLoopedId(mfp.index - 1),
                        mfp.updateItemHTML()
                },
                "goTo": function(
                    newIndex) {
                    mfp.direction = newIndex >= mfp.index,
                        mfp.index = newIndex,
                        mfp.updateItemHTML()
                },
                "preloadNearbyImages": function() {
                    var i, p = mfp.st.gallery.preload,
                        preloadBefore = Math.min(p[0], mfp.items.length),
                        preloadAfter = Math.min(p[1], mfp.items.length);
                    for (
                        i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++
                    ) mfp._preloadItem(mfp.index + i);
                    for (
                        i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++
                    ) mfp._preloadItem(mfp.index - i)
                },
                "_preloadItem": function(
                    index) {
                    if (
                        index = _getLoopedId(index),
                        !mfp.items[index].preloaded) {
                        var item = mfp.items[index];
                        item.parsed || (
                                item = mfp.parseEl(index)),
                            _mfpTrigger("LazyLoad", item),
                            "image" === item.type && (
                                item.img = $('<img class="mfp-img" />').on("load.mfploader", function() {
                                    item.hasSize = !0
                                }).on(
                                    "error.mfploader",
                                    function() {
                                        item.hasSize = !0,
                                            item.loadError = !0
                                    }).attr(
                                    "src", item.src)),
                            item.preloaded = !0
                    }
                }
            }
        })
        ;
        var ghostClickDelay,
            supportsTouch,
            unbindTouchMove,
            ns, RETINA_NS = "retina";
        $.magnificPopup.registerModule(RETINA_NS, {
                "options": {
                    "replaceSrc": function(item) {
                        return item.src.replace(/\.\w+$/, function(m) {
                            return "@2x" + m
                        })
                    },
                    "ratio": 1
                },
                "proto": {
                    "initRetina": function() {
                        if (1 < window.devicePixelRatio) {
                            var st = mfp.st.retina,
                                ratio = st.ratio;
                            1 < (ratio = isNaN(ratio) ? ratio() : ratio) && (_mfpOn("ImageHasSize." + RETINA_NS, function(e, item) {
                                item.img.css({
                                    "max-width": item.img[0].naturalWidth / ratio,
                                    "width": "100%"
                                })
                            }), _mfpOn("ElementParse." + RETINA_NS, function(e, item) {
                                item.src = st.replaceSrc(item, ratio)
                            }))
                        }
                    }
                }
            }), ghostClickDelay = 1e3, supportsTouch = "ontouchstart" in window, unbindTouchMove = function() {
                _window.off("touchmove" + ns + " touchend" + ns)
            }, ns = "." + "mfpFastClick",
            $.fn.mfpFastClick = function(callback) {
                return $(this).each(function() {
                    var lock,
                        timeout,
                        startX,
                        startY,
                        pointerMoved,
                        point,
                        numPointers, elem = $(this)
                    ;
                    supportsTouch && elem.on("touchstart" + ns, function(e) {
                            pointerMoved = !1,
                                numPointers = 1,
                                point = e.originalEvent ? e.originalEvent.touches[0] : e.touches[0],
                                startX = point.clientX,
                                startY = point.clientY,
                                _window.on("touchmove" + ns, function(e) {
                                    point = e.originalEvent ? e.originalEvent.touches : e.touches,
                                        numPointers = point.length,
                                        point = point[0], (
                                            10 < Math.abs(point.clientX - startX) || 10 < Math.abs(point.clientY - startY)) && (
                                            pointerMoved = !0,
                                            unbindTouchMove())
                                }).on(
                                    "touchend" + ns,
                                    function(e) {
                                        unbindTouchMove(),
                                            pointerMoved || 1 < numPointers || (
                                                lock = !0,
                                                e.preventDefault(),
                                                clearTimeout(timeout),
                                                timeout = setTimeout(function() {
                                                        lock = !1
                                                    },
                                                    ghostClickDelay),
                                                callback())
                                    })
                        }),
                        elem.on("click" + ns, function() {
                            lock || callback()
                        })
                })
            },
            $.fn.destroyMfpFastClick = function() {
                $(this).off("touchstart" + ns + " click" + ns),
                    supportsTouch && _window.off("touchmove" + ns + " touchend" + ns)
            }
    }(
        window.jQuery || window.Zepto),
    function(
        $) {
        $.titleAlert = function(text, settings) {
                if (
                    $.titleAlert._running && $.titleAlert.stop(),
                    $.titleAlert._settings = settings = $.extend({}, $.titleAlert.defaults, settings),
                    !settings.requireBlur || !$.titleAlert.hasFocus) {
                    settings.originalTitleInterval = settings.originalTitleInterval || settings.interval,
                        $.titleAlert._running = !0,
                        $.titleAlert._initialText = document.title,
                        document.title = text;
                    var showingAlertTitle = !0,
                        switchTitle = function() {
                            $.titleAlert._running && (
                                showingAlertTitle = !showingAlertTitle,
                                document.title = showingAlertTitle ? text : $.titleAlert._initialText,
                                $.titleAlert._intervalToken = setTimeout(switchTitle, showingAlertTitle ? settings.interval : settings.originalTitleInterval))
                        }
                    ;
                    $.titleAlert._intervalToken = setTimeout(switchTitle, settings.interval),
                        settings.stopOnMouseMove && $(document).mousemove(function(event) {
                            $(this).unbind(event),
                                $.titleAlert.stop()
                        }),
                        0 < settings.duration && (
                            $.titleAlert._timeoutToken = setTimeout(function() {
                                    $.titleAlert.stop()
                                },
                                settings.duration))
                }
            },
            $.titleAlert.defaults = {
                "interval": 500,
                "originalTitleInterval": null,
                "duration": 0,
                "stopOnFocus": !0,
                "requireBlur": !1,
                "stopOnMouseMove": !1
            },
            $.titleAlert.stop = function() {
                $.titleAlert._running && (
                    clearTimeout($.titleAlert._intervalToken),
                    clearTimeout($.titleAlert._timeoutToken),
                    document.title = $.titleAlert._initialText,
                    $.titleAlert._timeoutToken = null,
                    $.titleAlert._intervalToken = null,
                    $.titleAlert._initialText = null,
                    $.titleAlert._running = !1,
                    $.titleAlert._settings = null)
            },
            $.titleAlert.hasFocus = !0,
            $.titleAlert._running = !1,
            $.titleAlert._intervalToken = null,
            $.titleAlert._timeoutToken = null,
            $.titleAlert._initialText = null,
            $.titleAlert._settings = null,
            $.titleAlert._focus = function() {
                if (
                    $.titleAlert.hasFocus = !0,
                    $.titleAlert._running && $.titleAlert._settings.stopOnFocus) {
                    var initialText = $.titleAlert._initialText;
                    $.titleAlert.stop(),
                        setTimeout(function() {
                                $.titleAlert._running || (
                                    document.title = ".",
                                    document.title = initialText)
                            },
                            1e3)
                }
            },
            $.titleAlert._blur = function() {
                $.titleAlert.hasFocus = !1
            },
            $(window).bind("focus", $.titleAlert._focus),
            $(window).bind("blur", $.titleAlert._blur)
    }(
        jQuery),
    function(
        window, undefined) {
        var jq_throttle, $ = window.jQuery || window.Cowboy || (window.Cowboy = {})
        ;
        $.throttle = jq_throttle = function(delay, no_trailing, callback, debounce_mode) {
                function wrapper() {
                    function exec() {
                        last_exec = +new Date,
                            callback.apply(that, args)
                    }
                    function clear() {
                        timeout_id = undefined
                    }
                    var that = this,
                        elapsed = +new Date - last_exec,
                        args = arguments
                    ;
                    debounce_mode && !timeout_id && exec(),
                        timeout_id && clearTimeout(timeout_id),
                        debounce_mode === undefined && delay < elapsed ? exec(
                        ) : !0 !== no_trailing && (
                            timeout_id = setTimeout(debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay))
                }
                var timeout_id, last_exec = 0;
                return "boolean" != typeof no_trailing && (debounce_mode = callback, callback = no_trailing, no_trailing = undefined),
                    $.guid && (
                        wrapper.guid = callback.guid = callback.guid || $.guid++),
                    wrapper
            },
            $.debounce = function(delay, at_begin, callback) {
                return callback === undefined ? jq_throttle(delay, at_begin, !1) : jq_throttle(delay, callback, !1 !== at_begin)
            }
    }(
        this),
    function(
        $) {
        $.fn.theiaStickySidebar = function(options) {
            function tryInitOrHookIntoEvents(options, $that) {
                tryInit(options, $that) || (
                    console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),
                    $(document).scroll(function(options, $that) {
                        return function(
                            evt) {
                            tryInit(options, $that
                            ) && $(this).unbind(evt)
                        }
                    }(
                        options, $that)),
                    $(window).resize(function(options, $that) {
                        return function(
                            evt) {
                            tryInit(options, $that
                            ) && $(this).unbind(evt)
                        }
                    }(
                        options, $that)))
            }
            function tryInit(options, $that) {
                return !0 === options.initialized || !(
                    $("body").width() < options.minWidth) && (
                    init(options, $that),
                    !0)
            }
            function init(options, $that) {
                options.initialized = !0,
                    $("head").append($('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),
                    $that.each(function() {
                        function resetSidebar() {
                            o.fixedScrollTop = 0,
                                o.sidebar.css({
                                    "min-height": "1px"
                                }),
                                o.stickySidebar.css({
                                    "position": "static",
                                    "width": "",
                                    "transform": "none"
                                })
                        }
                        function getClearedHeight(e) {
                            var height = e.height()
                            ;
                            return e.children().each(function() {
                                    height = Math.max(height, $(this).height())
                                }),
                                height
                        }
                        var o = {};
                        if (o.sidebar = $(this), o.options = options || {}, o.container = $(o.options.containerSelector), 0 == o.container.length && (o.container = o.sidebar.parent()), o.sidebar.parents().css("-webkit-transform", "none"), o.sidebar.css({
                                "position": "relative",
                                "overflow": "visible",
                                "-webkit-box-sizing": "border-box",
                                "-moz-box-sizing": "border-box",
                                "box-sizing": "border-box"
                            }), o.stickySidebar = o.sidebar.find(".theiaStickySidebar"), 0 == o.stickySidebar.length) {
                            var javaScriptMIMETypes = /(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;
                            o.sidebar.find("script").filter(function(index, script) {
                                return 0 === script.type.length || script.type.match(javaScriptMIMETypes)
                            }).remove(), o.stickySidebar = $("<div>").addClass("theiaStickySidebar").append(o.sidebar.children()), o.sidebar.append(o.stickySidebar)
                        }
                        o.marginBottom = parseInt(o.sidebar.css("margin-bottom")), o.paddingTop = parseInt(o.sidebar.css("padding-top")), o.paddingBottom = parseInt(o.sidebar.css("padding-bottom"));
                        var collapsedTopHeight = o.stickySidebar.offset().top,
                            collapsedBottomHeight = o.stickySidebar.outerHeight();
                        o.stickySidebar.css("padding-top", 1), o.stickySidebar.css("padding-bottom", 1), collapsedTopHeight -= o.stickySidebar.offset().top, collapsedBottomHeight = o.stickySidebar.outerHeight() - collapsedBottomHeight - collapsedTopHeight, 0 == collapsedTopHeight ? (o.stickySidebar.css("padding-top", 0), o.stickySidebarPaddingTop = 0) : o.stickySidebarPaddingTop = 1, 0 == collapsedBottomHeight ? (o.stickySidebar.css("padding-bottom", 0), o.stickySidebarPaddingBottom = 0) : o.stickySidebarPaddingBottom = 1, o.previousScrollTop = null, o.fixedScrollTop = 0, resetSidebar(), o.onScroll = function(o) {
                            if (o.stickySidebar.is(":visible"))
                                if ($("body").width() < o.options.minWidth) resetSidebar();
                                else {
                                    if (o.options.disableOnResponsiveLayouts)
                                        if (o.sidebar.outerWidth("none" == o.sidebar.css("float")) + 50 > o.container.width()) return void resetSidebar();
                                    var scrollTop = $(document).scrollTop(),
                                        position = "static";
                                    if (scrollTop >= o.sidebar.offset().top + (o.paddingTop - o.options.additionalMarginTop)) {
                                        var windowOffsetBottom, offsetTop = o.paddingTop + options.additionalMarginTop,
                                            offsetBottom = o.paddingBottom + o.marginBottom + options.additionalMarginBottom,
                                            containerTop = o.sidebar.offset().top,
                                            containerBottom = o.sidebar.offset().top + getClearedHeight(o.container),
                                            windowOffsetTop = 0 + options.additionalMarginTop;
                                        windowOffsetBottom = o.stickySidebar.outerHeight() + offsetTop + offsetBottom < $(window).height() ? windowOffsetTop + o.stickySidebar.outerHeight() : $(window).height() - o.marginBottom - o.paddingBottom - options.additionalMarginBottom;
                                        var staticLimitTop = containerTop - scrollTop + o.paddingTop,
                                            staticLimitBottom = containerBottom - scrollTop - o.paddingBottom - o.marginBottom,
                                            top = o.stickySidebar.offset().top - scrollTop,
                                            scrollTopDiff = o.previousScrollTop - scrollTop;
                                        "fixed" == o.stickySidebar.css("position") && "modern" == o.options.sidebarBehavior && (top += scrollTopDiff), "stick-to-top" == o.options.sidebarBehavior && (top = options.additionalMarginTop), "stick-to-bottom" == o.options.sidebarBehavior && (top = windowOffsetBottom - o.stickySidebar.outerHeight()), top = 0 < scrollTopDiff ? Math.min(top, windowOffsetTop) : Math.max(top, windowOffsetBottom - o.stickySidebar.outerHeight()), top = Math.max(top, staticLimitTop), top = Math.min(top, staticLimitBottom - o.stickySidebar.outerHeight());
                                        var sidebarSameHeightAsContainer = o.container.height() == o.stickySidebar.outerHeight();
                                        position = (sidebarSameHeightAsContainer || top != windowOffsetTop) && (sidebarSameHeightAsContainer || top != windowOffsetBottom - o.stickySidebar.outerHeight()) ? scrollTop + top - o.sidebar.offset().top - o.paddingTop <= options.additionalMarginTop ? "static" : "absolute" : "fixed"
                                    }
                                    if ("fixed" == position) {
                                        var scrollLeft = $(document).scrollLeft();
                                        o.stickySidebar.css({
                                            "position": "fixed",
                                            "width": getWidthForObject(o.stickySidebar) + "px",
                                            "transform": "translateY(" + top + "px)",
                                            "left": o.sidebar.offset().left + parseInt(o.sidebar.css("padding-left")) - scrollLeft + "px",
                                            "top": "0px"
                                        })
                                    } else if ("absolute" == position) {
                                        var css = {};
                                        "absolute" != o.stickySidebar.css("position") && (css.position = "absolute", css.transform = "translateY(" + (scrollTop + top - o.sidebar.offset().top - o.stickySidebarPaddingTop - o.stickySidebarPaddingBottom) + "px)", css.top = "0px"), css.width = getWidthForObject(o.stickySidebar) + "px", css.left = "", o.stickySidebar.css(css)
                                    } else "static" == position && resetSidebar();
                                    "static" != position && 1 == o.options.updateSidebarHeight && o.sidebar.css({
                                        "min-height": o.stickySidebar.outerHeight() + o.stickySidebar.offset().top - o.sidebar.offset().top + o.paddingBottom
                                    }), o.previousScrollTop = scrollTop
                                }
                        }, o.onScroll(o), $(document).scroll(function(o) {
                            return function() {
                                o.onScroll(o)
                            }
                        }(o)), $(window).resize(function(o) {
                            return function() {
                                o.stickySidebar.css({
                                    "position": "static"
                                }), o.onScroll(o)
                            }
                        }(o))
                    })
            }
            function getWidthForObject(object) {
                var width;
                try {
                    width = object[0].getBoundingClientRect().width
                } catch (
                    err) {}
                return void 0 === width && (
                        width = object.width()),
                    width
            }
            var defaults = {
                "containerSelector": "",
                "additionalMarginTop": 0,
                "additionalMarginBottom": 0,
                "updateSidebarHeight": !0,
                "minWidth": 0,
                "disableOnResponsiveLayouts": !0,
                "sidebarBehavior": "modern"
            };
            (options = $.extend(defaults, options)).additionalMarginTop = parseInt(options.additionalMarginTop) || 0, options.additionalMarginBottom = parseInt(options.additionalMarginBottom) || 0, tryInitOrHookIntoEvents(options, this)
        }
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.affix"),
                    options = "object" == typeof option && option
                ;
                data || $this.data("bs.affix", data = new Affix(this, options)),
                    "string" == typeof option && data[option]()
            })
        }
        var Affix = function(element, options) {
            this.options = $.extend({}, Affix.DEFAULTS, options);
            var target = this.options.target === Affix.DEFAULTS.target ? $(this.options.target) : $(document).find(this.options.target);
            this.$target = target.on("scroll.bs.affix.data-api", $.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", $.proxy(this.checkPositionWithEventLoop, this)), this.$element = $(element), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition()
        };
        Affix.VERSION = "3.4.1", Affix.RESET = "affix affix-top affix-bottom", Affix.DEFAULTS = {
            "offset": 0,
            "target": window
        }, Affix.prototype.getState = function(scrollHeight, height, offsetTop, offsetBottom) {
            var scrollTop = this.$target.scrollTop(),
                position = this.$element.offset(),
                targetHeight = this.$target.height();
            if (null != offsetTop && "top" == this.affixed) return scrollTop < offsetTop && "top";
            if ("bottom" == this.affixed) return null != offsetTop ? !(scrollTop + this.unpin <= position.top) && "bottom" : !(scrollTop + targetHeight <= scrollHeight - offsetBottom) && "bottom";
            var initializing = null == this.affixed,
                colliderTop = initializing ? scrollTop : position.top;
            return null != offsetTop && scrollTop <= offsetTop ? "top" : null != offsetBottom && scrollHeight - offsetBottom <= colliderTop + (initializing ? targetHeight : height) && "bottom"
        }, Affix.prototype.getPinnedOffset = function() {
            if (this.pinnedOffset) return this.pinnedOffset;
            this.$element.removeClass(Affix.RESET).addClass("affix");
            var scrollTop = this.$target.scrollTop(),
                position = this.$element.offset();
            return this.pinnedOffset = position.top - scrollTop
        }, Affix.prototype.checkPositionWithEventLoop = function() {
            setTimeout($.proxy(this.checkPosition, this), 1)
        }, Affix.prototype.checkPosition = function() {
            if (this.$element.is(":visible")) {
                var height = this.$element.height(),
                    offset = this.options.offset,
                    offsetTop = offset.top,
                    offsetBottom = offset.bottom,
                    scrollHeight = Math.max($(document).height(), $(document.body).height());
                "object" != typeof offset && (offsetBottom = offsetTop = offset), "function" == typeof offsetTop && (offsetTop = offset.top(this.$element)), "function" == typeof offsetBottom && (offsetBottom = offset.bottom(this.$element));
                var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom);
                if (this.affixed != affix) {
                    null != this.unpin && this.$element.css("top", "");
                    var affixType = "affix" + (affix ? "-" + affix : ""),
                        e = $.Event(affixType + ".bs.affix");
                    if (this.$element.trigger(e), e.isDefaultPrevented()) return;
                    this.affixed = affix, this.unpin = "bottom" == affix ? this.getPinnedOffset() : null, this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix", "affixed") + ".bs.affix")
                }
                "bottom" == affix && this.$element.offset({
                    "top": scrollHeight - height - offsetBottom
                })
            }
        }
        ;
        var old = $.fn.affix
        ;
        $.fn.affix = Plugin,
            $.fn.affix.Constructor = Affix,
            $.fn.affix.noConflict = function() {
                return $.fn.affix = old,
                    this
            },
            $(window).on("load", function() {
                $('[data-spy="affix"]').each(function() {
                    var $spy = $(this),
                        data = $spy.data()
                    ;
                    data.offset = data.offset || {},
                        null != data.offsetBottom && (data.offset.bottom = data.offsetBottom),
                        null != data.offsetTop && (data.offset.top = data.offsetTop),
                        Plugin.call($spy, data)
                })
            })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.alert")
                ;
                data || $this.data("bs.alert", data = new Alert(this)),
                    "string" == typeof option && data[option].call($this)
            })
        }
        var dismiss = '[data-dismiss="alert"]',
            Alert = function(el) {
                $(el).on("click", dismiss, this.close)
            };
        Alert.VERSION = "3.4.1", Alert.TRANSITION_DURATION = 150, Alert.prototype.close = function(e) {
            function removeElement() {
                $parent.detach().trigger("closed.bs.alert").remove()
            }
            var $this = $(this),
                selector = $this.attr("data-target");
            selector || (selector = (selector = $this.attr("href")) && selector.replace(/.*(?=#[^\s]*$)/, "")), selector = "#" === selector ? [] : selector;
            var $parent = $(document).find(selector);
            e && e.preventDefault(), $parent.length || ($parent = $this.closest(".alert")), $parent.trigger(e = $.Event("close.bs.alert")), e.isDefaultPrevented() || ($parent.removeClass("in"), $.support.transition && $parent.hasClass("fade") ? $parent.one("bsTransitionEnd", removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION) : removeElement())
        }
        ;
        var old = $.fn.alert
        ;
        $.fn.alert = Plugin,
            $.fn.alert.Constructor = Alert,
            $.fn.alert.noConflict = function() {
                return $.fn.alert = old,
                    this
            },
            $(document).on("click.bs.alert.data-api", dismiss, Alert.prototype.close)
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.button"),
                    options = "object" == typeof option && option
                ;
                data || $this.data("bs.button", data = new Button(this, options)),
                    "toggle" == option ? data.toggle() : option && data.setState(option)
            })
        }
        var Button = function(element, options) {
            this.$element = $(element), this.options = $.extend({}, Button.DEFAULTS, options), this.isLoading = !1
        };
        Button.VERSION = "3.4.1", Button.DEFAULTS = {
            "loadingText": "loading..."
        }, Button.prototype.setState = function(state) {
            var d = "disabled",
                $el = this.$element,
                val = $el.is("input") ? "val" : "html",
                data = $el.data();
            state += "Text", null == data.resetText && $el.data("resetText", $el[val]()), setTimeout($.proxy(function() {
                $el[val](null == data[state] ? this.options[state] : data[state]), "loadingText" == state ? (this.isLoading = !0, $el.addClass(d).attr(d, d).prop(d, !0)) : this.isLoading && (this.isLoading = !1, $el.removeClass(d).removeAttr(d).prop(d, !1))
            }, this), 0)
        }, Button.prototype.toggle = function() {
            var changed = !0,
                $parent = this.$element.closest('[data-toggle="buttons"]');
            if ($parent.length) {
                var $input = this.$element.find("input");
                "radio" == $input.prop("type") ? ($input.prop("checked") && (changed = !1), $parent.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == $input.prop("type") && ($input.prop("checked") !== this.$element.hasClass("active") && (changed = !1), this.$element.toggleClass("active")), $input.prop("checked", this.$element.hasClass("active")), changed && $input.trigger("change")
            } else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active")
        }
        ;
        var old = $.fn.button
        ;
        $.fn.button = Plugin,
            $.fn.button.Constructor = Button,
            $.fn.button.noConflict = function() {
                return $.fn.button = old,
                    this
            },
            $(document).on(
                "click.bs.button.data-api", '[data-toggle^="button"]',
                function(e) {
                    var $btn = $(e.target).closest(".btn");
                    Plugin.call($btn, "toggle"),
                        $(e.target).is('input[type="radio"], input[type="checkbox"]') || (
                            e.preventDefault(),
                            $btn.is("input,button") ? $btn.trigger("focus") : $btn.find("input:visible,button:visible").first().trigger("focus"))
                }).on(
                "focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]',
                function(e) {
                    $(e.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(e.type))
                })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.carousel"),
                    options = $.extend({}, Carousel.DEFAULTS, $this.data(), "object" == typeof option && option),
                    action = "string" == typeof option ? option : options.slide
                ;
                data || $this.data("bs.carousel", data = new Carousel(this, options)),
                    "number" == typeof option ? data.to(option) : action ? data[action]() : options.interval && data.pause().cycle()
            })
        }
        var Carousel = function(element, options) {
            this.$element = $(element), this.$indicators = this.$element.find(".carousel-indicators"), this.options = options, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", $.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", $.proxy(this.pause, this)).on("mouseleave.bs.carousel", $.proxy(this.cycle, this))
        };
        Carousel.VERSION = "3.4.1", Carousel.TRANSITION_DURATION = 600, Carousel.DEFAULTS = {
            "interval": 5e3,
            "pause": "hover",
            "wrap": !0,
            "keyboard": !0
        }, Carousel.prototype.keydown = function(e) {
            if (!/input|textarea/i.test(e.target.tagName)) {
                switch (e.which) {
                    case 37:
                        this.prev();
                        break;
                    case 39:
                        this.next();
                        break;
                    default:
                        return
                }
                e.preventDefault()
            }
        }, Carousel.prototype.cycle = function(e) {
            return e || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval($.proxy(this.next, this), this.options.interval)), this
        }, Carousel.prototype.getItemIndex = function(item) {
            return this.$items = item.parent().children(".item"), this.$items.index(item || this.$active)
        }, Carousel.prototype.getItemForDirection = function(direction, active) {
            var activeIndex = this.getItemIndex(active);
            if (("prev" == direction && 0 === activeIndex || "next" == direction && activeIndex == this.$items.length - 1) && !this.options.wrap) return active;
            var itemIndex = (activeIndex + ("prev" == direction ? -1 : 1)) % this.$items.length;
            return this.$items.eq(itemIndex)
        }, Carousel.prototype.to = function(pos) {
            var that = this,
                activeIndex = this.getItemIndex(this.$active = this.$element.find(".item.active"));
            if (!(pos > this.$items.length - 1 || pos < 0)) return this.sliding ? this.$element.one("slid.bs.carousel", function() {
                that.to(pos)
            }) : activeIndex == pos ? this.pause().cycle() : this.slide(activeIndex < pos ? "next" : "prev", this.$items.eq(pos))
        }, Carousel.prototype.pause = function(e) {
            return e || (this.paused = !0), this.$element.find(".next, .prev").length && $.support.transition && (this.$element.trigger($.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this
        }, Carousel.prototype.next = function() {
            if (!this.sliding) return this.slide("next")
        }, Carousel.prototype.prev = function() {
            if (!this.sliding) return this.slide("prev")
        }, Carousel.prototype.slide = function(type, next) {
            var $active = this.$element.find(".item.active"),
                $next = next || this.getItemForDirection(type, $active),
                isCycling = this.interval,
                direction = "next" == type ? "left" : "right",
                that = this;
            if ($next.hasClass("active")) return this.sliding = !1;
            var relatedTarget = $next[0],
                slideEvent = $.Event("slide.bs.carousel", {
                    "relatedTarget": relatedTarget,
                    "direction": direction
                });
            if (this.$element.trigger(slideEvent), !slideEvent.isDefaultPrevented()) {
                if (this.sliding = !0, isCycling && this.pause(), this.$indicators.length) {
                    this.$indicators.find(".active").removeClass("active");
                    var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)]);
                    $nextIndicator && $nextIndicator.addClass("active")
                }
                var slidEvent = $.Event("slid.bs.carousel", {
                    "relatedTarget": relatedTarget,
                    "direction": direction
                });
                return $.support.transition && this.$element.hasClass("slide") ? ($next.addClass(type), "object" == typeof $next && $next.length && $next[0].offsetWidth, $active.addClass(direction), $next.addClass(direction), $active.one("bsTransitionEnd", function() {
                    $next.removeClass([type, direction].join(" ")).addClass("active"), $active.removeClass(["active", direction].join(" ")), that.sliding = !1, setTimeout(function() {
                        that.$element.trigger(slidEvent)
                    }, 0)
                }).emulateTransitionEnd(Carousel.TRANSITION_DURATION)) : ($active.removeClass("active"), $next.addClass("active"), this.sliding = !1, this.$element.trigger(slidEvent)), isCycling && this.cycle(), this
            }
        }
        ;
        var old = $.fn.carousel
        ;
        $.fn.carousel = Plugin,
            $.fn.carousel.Constructor = Carousel,
            $.fn.carousel.noConflict = function() {
                return $.fn.carousel = old,
                    this
            }
        ;
        var clickHandler = function(e) {
            var $this = $(this),
                href = $this.attr("href");
            href && (
                href = href.replace(/.*(?=#[^\s]+$)/, ""))
            ;
            var target = $this.attr("data-target") || href,
                $target = $(document).find(target);
            if (
                $target.hasClass("carousel")) {
                var options = $.extend({}, $target.data(), $this.data()),
                    slideIndex = $this.attr("data-slide-to");
                slideIndex && (options.interval = !1),
                    Plugin.call($target, options),
                    slideIndex && $target.data("bs.carousel").to(slideIndex),
                    e.preventDefault()
            }
        }
        ;
        $(document).on(
                "click.bs.carousel.data-api", "[data-slide]", clickHandler).on(
                "click.bs.carousel.data-api", "[data-slide-to]", clickHandler),
            $(window).on("load", function() {
                $('[data-ride="carousel"]').each(function() {
                    var $carousel = $(this);
                    Plugin.call($carousel, $carousel.data())
                })
            })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function getTargetFromTrigger($trigger) {
            var href,
                target = $trigger.attr("data-target") || (
                    href = $trigger.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, "")
            ;
            return $(document).find(target)
        }
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.collapse"),
                    options = $.extend({}, Collapse.DEFAULTS, $this.data(), "object" == typeof option && option)
                ;
                !data && options.toggle && /show|hide/.test(option) && (options.toggle = !1),
                    data || $this.data("bs.collapse", data = new Collapse(this, options)),
                    "string" == typeof option && data[option]()
            })
        }
        var Collapse = function(element, options) {
            this.$element = $(element), this.options = $.extend({}, Collapse.DEFAULTS, options), this.$trigger = $('[data-toggle="collapse"][href="#' + element.id + '"],[data-toggle="collapse"][data-target="#' + element.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle()
        };
        Collapse.VERSION = "3.4.1", Collapse.TRANSITION_DURATION = 350, Collapse.DEFAULTS = {
            "toggle": !0
        }, Collapse.prototype.dimension = function() {
            return this.$element.hasClass("width") ? "width" : "height"
        }, Collapse.prototype.show = function() {
            if (!this.transitioning && !this.$element.hasClass("in")) {
                var activesData, actives = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
                if (!(actives && actives.length && (activesData = actives.data("bs.collapse")) && activesData.transitioning)) {
                    var startEvent = $.Event("show.bs.collapse");
                    if (this.$element.trigger(startEvent), !startEvent.isDefaultPrevented()) {
                        actives && actives.length && (Plugin.call(actives, "hide"), activesData || actives.data("bs.collapse", null));
                        var dimension = this.dimension();
                        this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1;
                        var complete = function() {
                            this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse")
                        };
                        if (!$.support.transition) return complete.call(this);
                        var scrollSize = $.camelCase(["scroll", dimension].join("-"));
                        this.$element.one("bsTransitionEnd", $.proxy(complete, this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
                    }
                }
            }
        }, Collapse.prototype.hide = function() {
            if (!this.transitioning && this.$element.hasClass("in")) {
                var startEvent = $.Event("hide.bs.collapse");
                if (this.$element.trigger(startEvent), !startEvent.isDefaultPrevented()) {
                    var dimension = this.dimension();
                    this.$element[dimension](this.$element[dimension]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1;
                    var complete = function() {
                        this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                    };
                    if (!$.support.transition) return complete.call(this);
                    this.$element[dimension](0).one("bsTransitionEnd", $.proxy(complete, this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)
                }
            }
        }, Collapse.prototype.toggle = function() {
            this[this.$element.hasClass("in") ? "hide" : "show"]()
        }, Collapse.prototype.getParent = function() {
            return $(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each($.proxy(function(i, element) {
                var $element = $(element);
                this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
            }, this)).end()
        }, Collapse.prototype.addAriaAndCollapsedClass = function($element, $trigger) {
            var isOpen = $element.hasClass("in");
            $element.attr("aria-expanded", isOpen), $trigger.toggleClass("collapsed", !isOpen).attr("aria-expanded", isOpen)
        }
        ;
        var old = $.fn.collapse
        ;
        $.fn.collapse = Plugin,
            $.fn.collapse.Constructor = Collapse,
            $.fn.collapse.noConflict = function() {
                return $.fn.collapse = old,
                    this
            },
            $(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(e) {
                var $this = $(this)
                ;
                $this.attr("data-target") || e.preventDefault()
                ;
                var $target = getTargetFromTrigger($this),
                    option = $target.data("bs.collapse") ? "toggle" : $this.data()
                ;
                Plugin.call($target, option)
            })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function getParent($this) {
            var selector = $this.attr("data-target")
            ;
            selector || (
                selector = (selector = $this.attr("href")) && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, ""))
            ;
            var $parent = "#" !== selector ? $(document).find(selector) : null
            ;
            return $parent && $parent.length ? $parent : $this.parent()
        }
        function clearMenus(e) {
            e && 3 === e.which || (
                $(backdrop).remove(),
                $(toggle).each(function() {
                    var $this = $(this),
                        $parent = getParent($this),
                        relatedTarget = {
                            "relatedTarget": this
                        }
                    ;
                    $parent.hasClass("open") && (
                        e && "click" == e.type && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target) || (
                            $parent.trigger(e = $.Event("hide.bs.dropdown", relatedTarget)),
                            e.isDefaultPrevented() || (
                                $this.attr("aria-expanded", "false"),
                                $parent.removeClass("open").trigger($.Event("hidden.bs.dropdown", relatedTarget)))))
                }))
        }
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.dropdown")
                ;
                data || $this.data("bs.dropdown", data = new Dropdown(this)),
                    "string" == typeof option && data[option].call($this)
            })
        }
        var backdrop = ".dropdown-backdrop",
            toggle = '[data-toggle="dropdown"]',
            Dropdown = function(element) {
                $(element).on("click.bs.dropdown", this.toggle)
            };
        Dropdown.VERSION = "3.4.1", Dropdown.prototype.toggle = function(e) {
            var $this = $(this);
            if (!$this.is(".disabled, :disabled")) {
                var $parent = getParent($this),
                    isActive = $parent.hasClass("open");
                if (clearMenus(), !isActive) {
                    "ontouchstart" in document.documentElement && !$parent.closest(".navbar-nav").length && $(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click", clearMenus);
                    var relatedTarget = {
                        "relatedTarget": this
                    };
                    if ($parent.trigger(e = $.Event("show.bs.dropdown", relatedTarget)), e.isDefaultPrevented()) return;
                    $this.trigger("focus").attr("aria-expanded", "true"), $parent.toggleClass("open").trigger($.Event("shown.bs.dropdown", relatedTarget))
                }
                return !1
            }
        }, Dropdown.prototype.keydown = function(e) {
            if (/(38|40|27|32)/.test(e.which) && !/input|textarea/i.test(e.target.tagName)) {
                var $this = $(this);
                if (e.preventDefault(), e.stopPropagation(), !$this.is(".disabled, :disabled")) {
                    var $parent = getParent($this),
                        isActive = $parent.hasClass("open");
                    if (!isActive && 27 != e.which || isActive && 27 == e.which) return 27 == e.which && $parent.find(toggle).trigger("focus"), $this.trigger("click");
                    var desc = " li:not(.disabled):visible a",
                        $items = $parent.find(".dropdown-menu" + desc);
                    if ($items.length) {
                        var index = $items.index(e.target);
                        38 == e.which && 0 < index && index--, 40 == e.which && index < $items.length - 1 && index++, ~index || (index = 0), $items.eq(index).trigger("focus")
                    }
                }
            }
        }
        ;
        var old = $.fn.dropdown
        ;
        $.fn.dropdown = Plugin,
            $.fn.dropdown.Constructor = Dropdown,
            $.fn.dropdown.noConflict = function() {
                return $.fn.dropdown = old,
                    this
            },
            $(document).on(
                "click.bs.dropdown.data-api", clearMenus).on(
                "click.bs.dropdown.data-api", ".dropdown form",
                function(e) {
                    e.stopPropagation()
                }).on(
                "click.bs.dropdown.data-api", toggle, Dropdown.prototype.toggle).on(
                "keydown.bs.dropdown.data-api", toggle, Dropdown.prototype.keydown).on(
                "keydown.bs.dropdown.data-api", ".dropdown-menu", Dropdown.prototype.keydown)
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option, _relatedTarget) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.modal"),
                    options = $.extend({}, Modal.DEFAULTS, $this.data(), "object" == typeof option && option)
                ;
                data || $this.data("bs.modal", data = new Modal(this, options)),
                    "string" == typeof option ? data[option](_relatedTarget) : options.show && data.show(_relatedTarget)
            })
        }
        var Modal = function(element, options) {
            this.options = options, this.$body = $(document.body), this.$element = $(element), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.fixedContent = ".navbar-fixed-top, .navbar-fixed-bottom", this.options.remote && this.$element.find(".modal-content").load(this.options.remote, $.proxy(function() {
                this.$element.trigger("loaded.bs.modal")
            }, this))
        };
        Modal.VERSION = "3.4.1", Modal.TRANSITION_DURATION = 300, Modal.BACKDROP_TRANSITION_DURATION = 150, Modal.DEFAULTS = {
            "backdrop": !0,
            "keyboard": !0,
            "show": !0
        }, Modal.prototype.toggle = function(_relatedTarget) {
            return this.isShown ? this.hide() : this.show(_relatedTarget)
        }, Modal.prototype.show = function(_relatedTarget) {
            var that = this,
                e = $.Event("show.bs.modal", {
                    "relatedTarget": _relatedTarget
                });
            this.$element.trigger(e), this.isShown || e.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', $.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function() {
                that.$element.one("mouseup.dismiss.bs.modal", function(e) {
                    $(e.target).is(that.$element) && (that.ignoreBackdropClick = !0)
                })
            }), this.backdrop(function() {
                var transition = $.support.transition && that.$element.hasClass("fade");
                that.$element.parent().length || that.$element.appendTo(that.$body), that.$element.show().scrollTop(0), that.adjustDialog(), transition && that.$element[0].offsetWidth, that.$element.addClass("in"), that.enforceFocus();
                var e = $.Event("shown.bs.modal", {
                    "relatedTarget": _relatedTarget
                });
                transition ? that.$dialog.one("bsTransitionEnd", function() {
                    that.$element.trigger("focus").trigger(e)
                }).emulateTransitionEnd(Modal.TRANSITION_DURATION) : that.$element.trigger("focus").trigger(e)
            }))
        }, Modal.prototype.hide = function(e) {
            e && e.preventDefault(), e = $.Event("hide.bs.modal"), this.$element.trigger(e), this.isShown && !e.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), $(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), $.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", $.proxy(this.hideModal, this)).emulateTransitionEnd(Modal.TRANSITION_DURATION) : this.hideModal())
        }, Modal.prototype.enforceFocus = function() {
            $(document).off("focusin.bs.modal").on("focusin.bs.modal", $.proxy(function(e) {
                document === e.target || this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.trigger("focus")
            }, this))
        }, Modal.prototype.escape = function() {
            this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", $.proxy(function(e) {
                27 == e.which && this.hide()
            }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal")
        }, Modal.prototype.resize = function() {
            this.isShown ? $(window).on("resize.bs.modal", $.proxy(this.handleUpdate, this)) : $(window).off("resize.bs.modal")
        }, Modal.prototype.hideModal = function() {
            var that = this;
            this.$element.hide(), this.backdrop(function() {
                that.$body.removeClass("modal-open"), that.resetAdjustments(), that.resetScrollbar(), that.$element.trigger("hidden.bs.modal")
            })
        }, Modal.prototype.removeBackdrop = function() {
            this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
        }, Modal.prototype.backdrop = function(callback) {
            var that = this,
                animate = this.$element.hasClass("fade") ? "fade" : "";
            if (this.isShown && this.options.backdrop) {
                var doAnimate = $.support.transition && animate;
                if (this.$backdrop = $(document.createElement("div")).addClass("modal-backdrop " + animate).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", $.proxy(function(e) {
                        this.ignoreBackdropClick ? this.ignoreBackdropClick = !1 : e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide())
                    }, this)), doAnimate && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !callback) return;
                doAnimate ? this.$backdrop.one("bsTransitionEnd", callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) : callback()
            } else if (!this.isShown && this.$backdrop) {
                this.$backdrop.removeClass("in");
                var callbackRemove = function() {
                    that.removeBackdrop(), callback && callback()
                };
                $.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) : callbackRemove()
            } else callback && callback()
        }, Modal.prototype.handleUpdate = function() {
            this.adjustDialog()
        }, Modal.prototype.adjustDialog = function() {
            var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight;
            this.$element.css({
                "paddingLeft": !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : "",
                "paddingRight": this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ""
            })
        }, Modal.prototype.resetAdjustments = function() {
            this.$element.css({
                "paddingLeft": "",
                "paddingRight": ""
            })
        }, Modal.prototype.checkScrollbar = function() {
            var fullWindowWidth = window.innerWidth;
            if (!fullWindowWidth) {
                var documentElementRect = document.documentElement.getBoundingClientRect();
                fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)
            }
            this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth, this.scrollbarWidth = this.measureScrollbar()
        }, Modal.prototype.setScrollbar = function() {
            var bodyPad = parseInt(this.$body.css("padding-right") || 0, 10);
            this.originalBodyPad = document.body.style.paddingRight || "";
            var scrollbarWidth = this.scrollbarWidth;
            this.bodyIsOverflowing && (this.$body.css("padding-right", bodyPad + scrollbarWidth), $(this.fixedContent).each(function(index, element) {
                var actualPadding = element.style.paddingRight,
                    calculatedPadding = $(element).css("padding-right");
                $(element).data("padding-right", actualPadding).css("padding-right", parseFloat(calculatedPadding) + scrollbarWidth + "px")
            }))
        }, Modal.prototype.resetScrollbar = function() {
            this.$body.css("padding-right", this.originalBodyPad), $(this.fixedContent).each(function(index, element) {
                var padding = $(element).data("padding-right");
                $(element).removeData("padding-right"), element.style.paddingRight = padding || ""
            })
        }, Modal.prototype.measureScrollbar = function() {
            var scrollDiv = document.createElement("div");
            scrollDiv.className = "modal-scrollbar-measure", this.$body.append(scrollDiv);
            var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
            return this.$body[0].removeChild(scrollDiv), scrollbarWidth
        }
        ;
        var old = $.fn.modal
        ;
        $.fn.modal = Plugin,
            $.fn.modal.Constructor = Modal,
            $.fn.modal.noConflict = function() {
                return $.fn.modal = old,
                    this
            },
            $(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(e) {
                var $this = $(this),
                    href = $this.attr("href"),
                    target = $this.attr("data-target") || href && href.replace(/.*(?=#[^\s]+$)/, ""),
                    $target = $(document).find(target),
                    option = $target.data("bs.modal") ? "toggle" : $.extend({
                        "remote": !/#/.test(href) && href
                    }, $target.data(), $this.data())
                ;
                $this.is("a") && e.preventDefault(),
                    $target.one("show.bs.modal", function(showEvent) {
                        showEvent.isDefaultPrevented() || $target.one("hidden.bs.modal", function() {
                            $this.is(":visible") && $this.trigger("focus")
                        })
                    }),
                    Plugin.call($target, option, this)
            })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function ScrollSpy(element, options) {
            this.$body = $(document.body),
                this.$scrollElement = $(element).is(document.body) ? $(window) : $(element),
                this.options = $.extend({}, ScrollSpy.DEFAULTS, options),
                this.selector = (this.options.target || "") + " .nav li > a",
                this.offsets = [],
                this.targets = [],
                this.activeTarget = null,
                this.scrollHeight = 0,
                this.$scrollElement.on("scroll.bs.scrollspy", $.proxy(this.process, this)),
                this.refresh(),
                this.process()
        }
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.scrollspy"),
                    options = "object" == typeof option && option
                ;
                data || $this.data("bs.scrollspy", data = new ScrollSpy(this, options)),
                    "string" == typeof option && data[option]()
            })
        }
        ScrollSpy.VERSION = "3.4.1", ScrollSpy.DEFAULTS = {
            "offset": 10
        }, ScrollSpy.prototype.getScrollHeight = function() {
            return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
        }, ScrollSpy.prototype.refresh = function() {
            var that = this,
                offsetMethod = "offset",
                offsetBase = 0;
            this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), $.isWindow(this.$scrollElement[0]) || (offsetMethod = "position", offsetBase = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function() {
                var $el = $(this),
                    href = $el.data("target") || $el.attr("href"),
                    $href = /^#./.test(href) && $(href);
                return $href && $href.length && $href.is(":visible") && [
                    [$href[offsetMethod]().top + offsetBase, href]
                ] || null
            }).sort(function(a, b) {
                return a[0] - b[0]
            }).each(function() {
                that.offsets.push(this[0]), that.targets.push(this[1])
            })
        }, ScrollSpy.prototype.process = function() {
            var i, scrollTop = this.$scrollElement.scrollTop() + this.options.offset,
                scrollHeight = this.getScrollHeight(),
                maxScroll = this.options.offset + scrollHeight - this.$scrollElement.height(),
                offsets = this.offsets,
                targets = this.targets,
                activeTarget = this.activeTarget;
            if (this.scrollHeight != scrollHeight && this.refresh(), maxScroll <= scrollTop) return activeTarget != (i = targets[targets.length - 1]) && this.activate(i);
            if (activeTarget && scrollTop < offsets[0]) return this.activeTarget = null, this.clear();
            for (i = offsets.length; i--;) activeTarget != targets[i] && scrollTop >= offsets[i] && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1]) && this.activate(targets[i])
        }, ScrollSpy.prototype.activate = function(target) {
            this.activeTarget = target, this.clear();
            var selector = this.selector + '[data-target="' + target + '"],' + this.selector + '[href="' + target + '"]',
                active = $(selector).parents("li").addClass("active");
            active.parent(".dropdown-menu").length && (active = active.closest("li.dropdown").addClass("active")), active.trigger("activate.bs.scrollspy")
        }, ScrollSpy.prototype.clear = function() {
            $(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
        }
        ;
        var old = $.fn.scrollspy
        ;
        $.fn.scrollspy = Plugin,
            $.fn.scrollspy.Constructor = ScrollSpy,
            $.fn.scrollspy.noConflict = function() {
                return $.fn.scrollspy = old,
                    this
            },
            $(window).on("load.bs.scrollspy.data-api", function() {
                $('[data-spy="scroll"]').each(function() {
                    var $spy = $(this);
                    Plugin.call($spy, $spy.data())
                })
            })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.tab")
                ;
                data || $this.data("bs.tab", data = new Tab(this)),
                    "string" == typeof option && data[option]()
            })
        }
        var Tab = function(element) {
            this.element = $(element)
        };
        Tab.VERSION = "3.4.1", Tab.TRANSITION_DURATION = 150, Tab.prototype.show = function() {
            var $this = this.element,
                $ul = $this.closest("ul:not(.dropdown-menu)"),
                selector = $this.data("target");
            if (selector || (selector = (selector = $this.attr("href")) && selector.replace(/.*(?=#[^\s]*$)/, "")), !$this.parent("li").hasClass("active")) {
                var $previous = $ul.find(".active:last a"),
                    hideEvent = $.Event("hide.bs.tab", {
                        "relatedTarget": $this[0]
                    }),
                    showEvent = $.Event("show.bs.tab", {
                        "relatedTarget": $previous[0]
                    });
                if ($previous.trigger(hideEvent), $this.trigger(showEvent), !showEvent.isDefaultPrevented() && !hideEvent.isDefaultPrevented()) {
                    var $target = $(document).find(selector);
                    this.activate($this.closest("li"), $ul), this.activate($target, $target.parent(), function() {
                        $previous.trigger({
                            "type": "hidden.bs.tab",
                            "relatedTarget": $this[0]
                        }), $this.trigger({
                            "type": "shown.bs.tab",
                            "relatedTarget": $previous[0]
                        })
                    })
                }
            }
        }, Tab.prototype.activate = function(element, container, callback) {
            function next() {
                $active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), transition ? (element[0].offsetWidth, element.addClass("in")) : element.removeClass("fade"), element.parent(".dropdown-menu").length && element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), callback && callback()
            }
            var $active = container.find("> .active"),
                transition = callback && $.support.transition && ($active.length && $active.hasClass("fade") || !!container.find("> .fade").length);
            $active.length && transition ? $active.one("bsTransitionEnd", next).emulateTransitionEnd(Tab.TRANSITION_DURATION) : next(), $active.removeClass("in")
        }
        ;
        var old = $.fn.tab
        ;
        $.fn.tab = Plugin,
            $.fn.tab.Constructor = Tab,
            $.fn.tab.noConflict = function() {
                return $.fn.tab = old,
                    this
            }
        ;
        var clickHandler = function(e) {
            e.preventDefault(),
                Plugin.call($(this), "show")
        }
        ;
        $(document).on(
            "click.bs.tab.data-api", '[data-toggle="tab"]', clickHandler).on(
            "click.bs.tab.data-api", '[data-toggle="pill"]', clickHandler)
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function transitionEnd() {
            var el = document.createElement("bootstrap"),
                transEndEventNames = {
                    "WebkitTransition": "webkitTransitionEnd",
                    "MozTransition": "transitionend",
                    "OTransition": "oTransitionEnd otransitionend",
                    "transition": "transitionend"
                };
            for (
                var name in transEndEventNames)
                if (
                    el.style[name] !== undefined) return {
                    "end": transEndEventNames[name]
                }
                ;
            return !1
        }
        $.fn.emulateTransitionEnd = function(duration) {
                var called = !1,
                    $el = this;
                return $(this).one("bsTransitionEnd", function() {
                        called = !0
                    }),
                    setTimeout(function() {
                        called || $($el).trigger($.support.transition.end)
                    }, duration),
                    this
            },
            $(function() {
                $.support.transition = transitionEnd(),
                    $.support.transition && (
                        $.event.special.bsTransitionEnd = {
                            "bindType": $.support.transition.end,
                            "delegateType": $.support.transition.end,
                            "handle": function(
                                e) {
                                if (
                                    $(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
                            }
                        })
            })
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function allowedAttribute(attr, allowedAttributeList) {
            var attrName = attr.nodeName.toLowerCase();
            if (
                -1 !== $.inArray(attrName, allowedAttributeList)
            ) return -1 === $.inArray(attrName, uriAttrs) || Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));
            for (
                var regExp = $(allowedAttributeList).filter(function(index, value) {
                        return value instanceof RegExp
                    }),
                    i = 0, l = regExp.length; i < l; i++)
                if (
                    attrName.match(regExp[i])
                ) return !0
                ;
            return !1
        }
        function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {
            if (
                0 === unsafeHtml.length
            ) return unsafeHtml;
            if (
                sanitizeFn && "function" == typeof sanitizeFn
            ) return sanitizeFn(unsafeHtml);
            if (
                !document.implementation || !document.implementation.createHTMLDocument
            ) return unsafeHtml
            ;
            var createdDocument = document.implementation.createHTMLDocument("sanitization");
            createdDocument.body.innerHTML = unsafeHtml;
            for (
                var whitelistKeys = $.map(whiteList, function(el, i) {
                        return i
                    }),
                    elements = $(createdDocument.body).find("*"),
                    i = 0, len = elements.length; i < len; i++) {
                var el = elements[i],
                    elName = el.nodeName.toLowerCase();
                if (
                    -1 !== $.inArray(elName, whitelistKeys))
                    for (
                        var attributeList = $.map(el.attributes, function(el) {
                                return el
                            }),
                            whitelistedAttributes = [].concat(whiteList["*"] || [], whiteList[elName] || []),
                            j = 0, len2 = attributeList.length; j < len2; j++
                    ) allowedAttribute(attributeList[j], whitelistedAttributes) || el.removeAttribute(attributeList[j].nodeName);
                else el.parentNode.removeChild(el)
            }
            return createdDocument.body.innerHTML
        }
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.tooltip"),
                    options = "object" == typeof option && option
                ;
                !data && /destroy|hide/.test(option) || (
                    data || $this.data("bs.tooltip", data = new Tooltip(this, options)),
                    "string" == typeof option && data[option]())
            })
        }
        var DISALLOWED_ATTRIBUTES = ["sanitize", "whiteList", "sanitizeFn"],
            uriAttrs = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"],
            DefaultWhitelist = {
                "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i],
                "a": ["target", "href", "title", "rel"],
                "area": [],
                "b": [],
                "br": [],
                "col": [],
                "code": [],
                "div": [],
                "em": [],
                "hr": [],
                "h1": [],
                "h2": [],
                "h3": [],
                "h4": [],
                "h5": [],
                "h6": [],
                "i": [],
                "img": ["src", "alt", "title", "width", "height"],
                "li": [],
                "ol": [],
                "p": [],
                "pre": [],
                "s": [],
                "small": [],
                "span": [],
                "sub": [],
                "sup": [],
                "strong": [],
                "u": [],
                "ul": []
            },
            SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,
            DATA_URL_PATTERN = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,
            Tooltip = function(element, options) {
                this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", element, options)
            };
        Tooltip.VERSION = "3.4.1", Tooltip.TRANSITION_DURATION = 150, Tooltip.DEFAULTS = {
            "animation": !0,
            "placement": "top",
            "selector": !1,
            "template": '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
            "trigger": "hover focus",
            "title": "",
            "delay": 0,
            "html": !1,
            "container": !1,
            "viewport": {
                "selector": "body",
                "padding": 0
            },
            "sanitize": !0,
            "sanitizeFn": null,
            "whiteList": DefaultWhitelist
        }, Tooltip.prototype.init = function(type, element, options) {
            if (this.enabled = !0, this.type = type, this.$element = $(element), this.options = this.getOptions(options), this.$viewport = this.options.viewport && $(document).find($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = {
                    "click": !1,
                    "hover": !1,
                    "focus": !1
                }, this.$element[0] instanceof document.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
            for (var triggers = this.options.trigger.split(" "), i = triggers.length; i--;) {
                var trigger = triggers[i];
                if ("click" == trigger) this.$element.on("click." + this.type, this.options.selector, $.proxy(this.toggle, this));
                else if ("manual" != trigger) {
                    var eventIn = "hover" == trigger ? "mouseenter" : "focusin",
                        eventOut = "hover" == trigger ? "mouseleave" : "focusout";
                    this.$element.on(eventIn + "." + this.type, this.options.selector, $.proxy(this.enter, this)), this.$element.on(eventOut + "." + this.type, this.options.selector, $.proxy(this.leave, this))
                }
            }
            this.options.selector ? this._options = $.extend({}, this.options, {
                "trigger": "manual",
                "selector": ""
            }) : this.fixTitle()
        }, Tooltip.prototype.getDefaults = function() {
            return Tooltip.DEFAULTS
        }, Tooltip.prototype.getOptions = function(options) {
            var dataAttributes = this.$element.data();
            for (var dataAttr in dataAttributes) dataAttributes.hasOwnProperty(dataAttr) && -1 !== $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) && delete dataAttributes[dataAttr];
            return (options = $.extend({}, this.getDefaults(), dataAttributes, options)).delay && "number" == typeof options.delay && (options.delay = {
                "show": options.delay,
                "hide": options.delay
            }), options.sanitize && (options.template = sanitizeHtml(options.template, options.whiteList, options.sanitizeFn)), options
        }, Tooltip.prototype.getDelegateOptions = function() {
            var options = {},
                defaults = this.getDefaults();
            return this._options && $.each(this._options, function(key, value) {
                defaults[key] != value && (options[key] = value)
            }), options
        }, Tooltip.prototype.enter = function(obj) {
            var self = obj instanceof this.constructor ? obj : $(obj.currentTarget).data("bs." + this.type);
            if (self || (self = new this.constructor(obj.currentTarget, this.getDelegateOptions()), $(obj.currentTarget).data("bs." + this.type, self)), obj instanceof $.Event && (self.inState["focusin" == obj.type ? "focus" : "hover"] = !0), self.tip().hasClass("in") || "in" == self.hoverState) self.hoverState = "in";
            else {
                if (clearTimeout(self.timeout), self.hoverState = "in", !self.options.delay || !self.options.delay.show) return self.show();
                self.timeout = setTimeout(function() {
                    "in" == self.hoverState && self.show()
                }, self.options.delay.show)
            }
        }, Tooltip.prototype.isInStateTrue = function() {
            for (var key in this.inState)
                if (this.inState[key]) return !0;
            return !1
        }, Tooltip.prototype.leave = function(obj) {
            var self = obj instanceof this.constructor ? obj : $(obj.currentTarget).data("bs." + this.type);
            if (self || (self = new this.constructor(obj.currentTarget, this.getDelegateOptions()), $(obj.currentTarget).data("bs." + this.type, self)), obj instanceof $.Event && (self.inState["focusout" == obj.type ? "focus" : "hover"] = !1), !self.isInStateTrue()) {
                if (clearTimeout(self.timeout), self.hoverState = "out", !self.options.delay || !self.options.delay.hide) return self.hide();
                self.timeout = setTimeout(function() {
                    "out" == self.hoverState && self.hide()
                }, self.options.delay.hide)
            }
        }, Tooltip.prototype.show = function() {
            var e = $.Event("show.bs." + this.type);
            if (this.hasContent() && this.enabled) {
                this.$element.trigger(e);
                var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
                if (e.isDefaultPrevented() || !inDom) return;
                var that = this,
                    $tip = this.tip(),
                    tipId = this.getUID(this.type);
                this.setContent(), $tip.attr("id", tipId), this.$element.attr("aria-describedby", tipId), this.options.animation && $tip.addClass("fade");
                var placement = "function" == typeof this.options.placement ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement,
                    autoToken = /\s?auto?\s?/i,
                    autoPlace = autoToken.test(placement);
                autoPlace && (placement = placement.replace(autoToken, "") || "top"), $tip.detach().css({
                    "top": 0,
                    "left": 0,
                    "display": "block"
                }).addClass(placement).data("bs." + this.type, this), this.options.container ? $tip.appendTo($(document).find(this.options.container)) : $tip.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type);
                var pos = this.getPosition(),
                    actualWidth = $tip[0].offsetWidth,
                    actualHeight = $tip[0].offsetHeight;
                if (autoPlace) {
                    var orgPlacement = placement,
                        viewportDim = this.getPosition(this.$viewport);
                    placement = "bottom" == placement && pos.bottom + actualHeight > viewportDim.bottom ? "top" : "top" == placement && pos.top - actualHeight < viewportDim.top ? "bottom" : "right" == placement && pos.right + actualWidth > viewportDim.width ? "left" : "left" == placement && pos.left - actualWidth < viewportDim.left ? "right" : placement, $tip.removeClass(orgPlacement).addClass(placement)
                }
                var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight);
                this.applyPlacement(calculatedOffset, placement);
                var complete = function() {
                    var prevHoverState = that.hoverState;
                    that.$element.trigger("shown.bs." + that.type), that.hoverState = null, "out" == prevHoverState && that.leave(that)
                };
                $.support.transition && this.$tip.hasClass("fade") ? $tip.one("bsTransitionEnd", complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION) : complete()
            }
        }, Tooltip.prototype.applyPlacement = function(offset, placement) {
            var $tip = this.tip(),
                width = $tip[0].offsetWidth,
                height = $tip[0].offsetHeight,
                marginTop = parseInt($tip.css("margin-top"), 10),
                marginLeft = parseInt($tip.css("margin-left"), 10);
            isNaN(marginTop) && (marginTop = 0), isNaN(marginLeft) && (marginLeft = 0), offset.top += marginTop, offset.left += marginLeft, $.offset.setOffset($tip[0], $.extend({
                "using": function(props) {
                    $tip.css({
                        "top": Math.round(props.top),
                        "left": Math.round(props.left)
                    })
                }
            }, offset), 0), $tip.addClass("in");
            var actualWidth = $tip[0].offsetWidth,
                actualHeight = $tip[0].offsetHeight;
            "top" == placement && actualHeight != height && (offset.top = offset.top + height - actualHeight);
            var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight);
            delta.left ? offset.left += delta.left : offset.top += delta.top;
            var isVertical = /top|bottom/.test(placement),
                arrowDelta = isVertical ? 2 * delta.left - width + actualWidth : 2 * delta.top - height + actualHeight,
                arrowOffsetPosition = isVertical ? "offsetWidth" : "offsetHeight";
            $tip.offset(offset), this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
        }, Tooltip.prototype.replaceArrow = function(delta, dimension, isVertical) {
            this.arrow().css(isVertical ? "left" : "top", 50 * (1 - delta / dimension) + "%").css(isVertical ? "top" : "left", "")
        }, Tooltip.prototype.setContent = function() {
            var $tip = this.tip(),
                title = this.getTitle();
            this.options.html ? (this.options.sanitize && (title = sanitizeHtml(title, this.options.whiteList, this.options.sanitizeFn)), $tip.find(".tooltip-inner").html(title)) : $tip.find(".tooltip-inner").text(title), $tip.removeClass("fade in top bottom left right")
        }, Tooltip.prototype.hide = function(callback) {
            function complete() {
                "in" != that.hoverState && $tip.detach(), that.$element && that.$element.removeAttr("aria-describedby").trigger("hidden.bs." + that.type), callback && callback()
            }
            var that = this,
                $tip = $(this.$tip),
                e = $.Event("hide.bs." + this.type);
            if (this.$element.trigger(e), !e.isDefaultPrevented()) return $tip.removeClass("in"), $.support.transition && $tip.hasClass("fade") ? $tip.one("bsTransitionEnd", complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION) : complete(), this.hoverState = null, this
        }, Tooltip.prototype.fixTitle = function() {
            var $e = this.$element;
            ($e.attr("title") || "string" != typeof $e.attr("data-original-title")) && $e.attr("data-original-title", $e.attr("title") || "").attr("title", "")
        }, Tooltip.prototype.hasContent = function() {
            return this.getTitle()
        }, Tooltip.prototype.getPosition = function($element) {
            var el = ($element = $element || this.$element)[0],
                isBody = "BODY" == el.tagName,
                elRect = el.getBoundingClientRect();
            null == elRect.width && (elRect = $.extend({}, elRect, {
                "width": elRect.right - elRect.left,
                "height": elRect.bottom - elRect.top
            }));
            var isSvg = window.SVGElement && el instanceof window.SVGElement,
                elOffset = isBody ? {
                    "top": 0,
                    "left": 0
                } : isSvg ? null : $element.offset(),
                scroll = {
                    "scroll": isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop()
                },
                outerDims = isBody ? {
                    "width": $(window).width(),
                    "height": $(window).height()
                } : null;
            return $.extend({}, elRect, scroll, outerDims, elOffset)
        }, Tooltip.prototype.getCalculatedOffset = function(placement, pos, actualWidth, actualHeight) {
            return "bottom" == placement ? {
                "top": pos.top + pos.height,
                "left": pos.left + pos.width / 2 - actualWidth / 2
            } : "top" == placement ? {
                "top": pos.top - actualHeight,
                "left": pos.left + pos.width / 2 - actualWidth / 2
            } : "left" == placement ? {
                "top": pos.top + pos.height / 2 - actualHeight / 2,
                "left": pos.left - actualWidth
            } : {
                "top": pos.top + pos.height / 2 - actualHeight / 2,
                "left": pos.left + pos.width
            }
        }, Tooltip.prototype.getViewportAdjustedDelta = function(placement, pos, actualWidth, actualHeight) {
            var delta = {
                "top": 0,
                "left": 0
            };
            if (!this.$viewport) return delta;
            var viewportPadding = this.options.viewport && this.options.viewport.padding || 0,
                viewportDimensions = this.getPosition(this.$viewport);
            if (/right|left/.test(placement)) {
                var topEdgeOffset = pos.top - viewportPadding - viewportDimensions.scroll,
                    bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight;
                topEdgeOffset < viewportDimensions.top ? delta.top = viewportDimensions.top - topEdgeOffset : bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height && (delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset)
            } else {
                var leftEdgeOffset = pos.left - viewportPadding,
                    rightEdgeOffset = pos.left + viewportPadding + actualWidth;
                leftEdgeOffset < viewportDimensions.left ? delta.left = viewportDimensions.left - leftEdgeOffset : rightEdgeOffset > viewportDimensions.right && (delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset)
            }
            return delta
        }, Tooltip.prototype.getTitle = function() {
            var $e = this.$element,
                o = this.options;
            return $e.attr("data-original-title") || ("function" == typeof o.title ? o.title.call($e[0]) : o.title)
        }, Tooltip.prototype.getUID = function(prefix) {
            for (; prefix += ~~(1e6 * Math.random()), document.getElementById(prefix););
            return prefix
        }, Tooltip.prototype.tip = function() {
            if (!this.$tip && (this.$tip = $(this.options.template), 1 != this.$tip.length)) throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
            return this.$tip
        }, Tooltip.prototype.arrow = function() {
            return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
        }, Tooltip.prototype.enable = function() {
            this.enabled = !0
        }, Tooltip.prototype.disable = function() {
            this.enabled = !1
        }, Tooltip.prototype.toggleEnabled = function() {
            this.enabled = !this.enabled
        }, Tooltip.prototype.toggle = function(e) {
            var self = this;
            e && ((self = $(e.currentTarget).data("bs." + this.type)) || (self = new this.constructor(e.currentTarget, this.getDelegateOptions()), $(e.currentTarget).data("bs." + this.type, self))), e ? (self.inState.click = !self.inState.click, self.isInStateTrue() ? self.enter(self) : self.leave(self)) : self.tip().hasClass("in") ? self.leave(self) : self.enter(self)
        }, Tooltip.prototype.destroy = function() {
            var that = this;
            clearTimeout(this.timeout), this.hide(function() {
                that.$element.off("." + that.type).removeData("bs." + that.type), that.$tip && that.$tip.detach(), that.$tip = null, that.$arrow = null, that.$viewport = null, that.$element = null
            })
        }, Tooltip.prototype.sanitizeHtml = function(unsafeHtml) {
            return sanitizeHtml(unsafeHtml, this.options.whiteList, this.options.sanitizeFn)
        }
        ;
        var old = $.fn.tooltip
        ;
        $.fn.tooltip = Plugin,
            $.fn.tooltip.Constructor = Tooltip,
            $.fn.tooltip.noConflict = function() {
                return $.fn.tooltip = old,
                    this
            }
    }(
        jQuery),
    function(
        $) {
        "use strict"
        ;
        function Plugin(option) {
            return this.each(function() {
                var $this = $(this),
                    data = $this.data("bs.popover"),
                    options = "object" == typeof option && option
                ;
                !data && /destroy|hide/.test(option) || (
                    data || $this.data("bs.popover", data = new Popover(this, options)),
                    "string" == typeof option && data[option]())
            })
        }
        var Popover = function(element, options) {
            this.init("popover", element, options)
        };
        if (!$.fn.tooltip) throw new Error("Popover requires tooltip.js");
        Popover.VERSION = "3.4.1", Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
            "placement": "right",
            "trigger": "click",
            "content": "",
            "template": '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
        }), Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype), (Popover.prototype.constructor = Popover).prototype.getDefaults = function() {
            return Popover.DEFAULTS
        }, Popover.prototype.setContent = function() {
            var $tip = this.tip(),
                title = this.getTitle(),
                content = this.getContent();
            if (this.options.html) {
                var typeContent = typeof content;
                this.options.sanitize && (title = this.sanitizeHtml(title), "string" === typeContent && (content = this.sanitizeHtml(content))), $tip.find(".popover-title").html(title), $tip.find(".popover-content").children().detach().end()["string" === typeContent ? "html" : "append"](content)
            } else $tip.find(".popover-title").text(title), $tip.find(".popover-content").children().detach().end().text(content);
            $tip.removeClass("fade top bottom left right in"), $tip.find(".popover-title").html() || $tip.find(".popover-title").hide()
        }, Popover.prototype.hasContent = function() {
            return this.getTitle() || this.getContent()
        }, Popover.prototype.getContent = function() {
            var $e = this.$element,
                o = this.options;
            return $e.attr("data-content") || ("function" == typeof o.content ? o.content.call($e[0]) : o.content)
        }, Popover.prototype.arrow = function() {
            return this.$arrow = this.$arrow || this.tip().find(".arrow")
        }
        ;
        var old = $.fn.popover
        ;
        $.fn.popover = Plugin,
            $.fn.popover.Constructor = Popover,
            $.fn.popover.noConflict = function() {
                return $.fn.popover = old,
                    this
            }
    }(
        jQuery),
    function(
        factory) {
        "function" == typeof define && define.amd ? define([], factory
        ) : "object" == typeof exports ? module.exports = factory(
        ) : window.noUiSlider = factory()
    }(function() {
        "use strict"
        ;
        function unique(array) {
            return array.filter(function(a) {
                return !this[a] && (this[a] = !0)
            }, {})
        }
        function closest(value, to) {
            return Math.round(value / to) * to
        }
        function offset(elem) {
            var rect = elem.getBoundingClientRect(),
                docElem = elem.ownerDocument.documentElement,
                pageOffset = getPageOffset()
            ;
            return /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (
                pageOffset.x = 0), {
                "top": rect.top + pageOffset.y - docElem.clientTop,
                "left": rect.left + pageOffset.x - docElem.clientLeft
            }
        }
        function isNumeric(a) {
            return "number" == typeof a && !isNaN(a) && isFinite(a)
        }
        function accurateNumber(number) {
            var p = Math.pow(10, 7);
            return Number((Math.round(number * p) / p).toFixed(7))
        }
        function addClassFor(element, className, duration) {
            addClass(element, className),
                setTimeout(function() {
                        removeClass(element, className)
                    },
                    duration)
        }
        function limit(a) {
            return Math.max(Math.min(a, 100), 0)
        }
        function asArray(a) {
            return Array.isArray(a) ? a : [a]
        }
        function countDecimals(numStr) {
            var pieces = numStr.split(".");
            return 1 < pieces.length ? pieces[1].length : 0
        }
        function addClass(el, className) {
            el.classList ? el.classList.add(className
            ) : el.className += " " + className
        }
        function removeClass(el, className) {
            el.classList ? el.classList.remove(className
            ) : el.className = el.className.replace(new RegExp("(^|\\b)" + className.split(" ").join("|") + "(\\b|$)", "gi"), " ")
        }
        function hasClass(el, className) {
            el.classList ? el.classList.contains(className
            ) : new RegExp("(^| )" + className + "( |$)", "gi").test(el.className)
        }
        function getPageOffset() {
            var supportPageOffset = window.pageXOffset !== undefined,
                isCSS1Compat = "CSS1Compat" === (document.compatMode || "");
            return {
                "x": supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,
                "y": supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop
            }
        }
        function addCssPrefix(cssPrefix) {
            return function(
                className) {
                return cssPrefix + className
            }
        }
        function subRangeRatio(pa, pb) {
            return 100 / (pb - pa)
        }
        function fromPercentage(range, value) {
            return 100 * value / (range[1] - range[0])
        }
        function toPercentage(range, value) {
            return fromPercentage(range,
                range[0] < 0 ? value + Math.abs(range[0]) : value - range[0])
        }
        function isPercentage(range, value) {
            return value * (range[1] - range[0]) / 100 + range[0]
        }
        function getJ(value, arr) {
            for (
                var j = 1; value >= arr[j];
            ) j += 1
            ;
            return j
        }
        function toStepping(xVal, xPct, value) {
            if (
                value >= xVal.slice(-1)[0]
            ) return 100
            ;
            var va, vb, pa, pb, j = getJ(value, xVal)
            ;
            return va = xVal[j - 1],
                vb = xVal[j],
                pa = xPct[j - 1],
                pb = xPct[j],
                pa + toPercentage([va, vb], value) / subRangeRatio(pa, pb)
        }
        function fromStepping(xVal, xPct, value) {
            if (
                100 <= value
            ) return xVal.slice(-1)[0]
            ;
            var pa, j = getJ(value, xPct)
            ;
            return isPercentage([xVal[j - 1], xVal[j]], (value - (pa = xPct[j - 1])) * subRangeRatio(pa, xPct[j]))
        }
        function getStep(xPct, xSteps, snap, value) {
            if (
                100 === value
            ) return value
            ;
            var a, b, j = getJ(value, xPct)
            ;
            return snap ? (
                a = xPct[j - 1], ((
                        b = xPct[j]
                    ) - a
                ) / 2 < value - a ? b : a
            ) : xSteps[j - 1] ? xPct[j - 1] + closest(
                value - xPct[j - 1],
                xSteps[j - 1]) : value
        }
        function handleEntryPoint(index, value, that) {
            var percentage;
            if (
                "number" == typeof value && (
                    value = [value]),
                "[object Array]" !== Object.prototype.toString.call(value)
            ) throw new Error("noUiSlider: 'range' contains invalid value.");
            if (
                !isNumeric(percentage = "min" === index ? 0 : "max" === index ? 100 : parseFloat(index)) || !isNumeric(value[0])
            ) throw new Error("noUiSlider: 'range' value isn't numeric.")
            ;
            that.xPct.push(percentage),
                that.xVal.push(value[0]),
                percentage ? that.xSteps.push(!isNaN(value[1]) && value[1]) : isNaN(value[1]) || (that.xSteps[0] = value[1])
        }
        function handleStepPoint(i, n, that) {
            if (
                !n
            ) return !0
            ;
            that.xSteps[i] = fromPercentage([
                    that.xVal[i],
                    that.xVal[i + 1]
                ],
                n) / subRangeRatio(
                that.xPct[i],
                that.xPct[i + 1])
        }
        function Spectrum(entry, snap, direction, singleStep) {
            this.xPct = [],
                this.xVal = [],
                this.xSteps = [singleStep || !1],
                this.xNumSteps = [!1],
                this.snap = snap,
                this.direction = direction
            ;
            var index, ordered = [];
            for (
                index in entry
            ) entry.hasOwnProperty(index) && ordered.push([entry[index], index]);
            for (
                ordered.length && "object" == typeof ordered[0][0] ? ordered.sort(function(a, b) {
                        return a[0][0] - b[0][0]
                    }
                ) : ordered.sort(function(a, b) {
                    return a[0] - b[0]
                }),
                index = 0; index < ordered.length; index++
            ) handleEntryPoint(ordered[index][1], ordered[index][0], this);
            for (
                this.xNumSteps = this.xSteps.slice(0),
                index = 0; index < this.xNumSteps.length; index++
            ) handleStepPoint(index, this.xNumSteps[index], this)
        }
        function testStep(parsed, entry) {
            if (
                !isNumeric(entry)
            ) throw new Error("noUiSlider: 'step' is not numeric.")
            ;
            parsed.singleStep = entry
        }
        function testRange(parsed, entry) {
            if (
                "object" != typeof entry || Array.isArray(entry)
            ) throw new Error("noUiSlider: 'range' is not an object.");
            if (
                entry.min === undefined || entry.max === undefined
            ) throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.")
            ;
            parsed.spectrum = new Spectrum(entry, parsed.snap, parsed.dir, parsed.singleStep)
        }
        function testStart(parsed, entry) {
            if (
                entry = asArray(entry),
                !Array.isArray(entry) || !entry.length || 2 < entry.length
            ) throw new Error("noUiSlider: 'start' option is incorrect.")
            ;
            parsed.handles = entry.length,
                parsed.start = entry
        }
        function testSnap(parsed, entry) {
            if (
                "boolean" != typeof(parsed.snap = entry)
            ) throw new Error("noUiSlider: 'snap' option must be a boolean.")
        }
        function testAnimate(parsed, entry) {
            if (
                "boolean" != typeof(parsed.animate = entry)
            ) throw new Error("noUiSlider: 'animate' option must be a boolean.")
        }
        function testConnect(parsed, entry) {
            if (
                "lower" === entry && 1 === parsed.handles
            ) parsed.connect = 1;
            else if (
                "upper" === entry && 1 === parsed.handles
            ) parsed.connect = 2;
            else if (!0 === entry && 2 === parsed.handles) parsed.connect = 3;
            else {
                if (!1 !== entry
                ) throw new Error("noUiSlider: 'connect' option doesn't match handle count.");
                parsed.connect = 0
            }
        }
        function testOrientation(parsed, entry) {
            switch (
                entry) {
                case "horizontal":
                    parsed.ort = 0;
                    break;
                case "vertical":
                    parsed.ort = 1;
                    break;
                default:
                    throw new Error("noUiSlider: 'orientation' option is invalid.")
            }
        }
        function testMargin(parsed, entry) {
            if (
                !isNumeric(entry)
            ) throw new Error("noUiSlider: 'margin' option must be numeric.");
            if (
                parsed.margin = parsed.spectrum.getMargin(entry),
                !parsed.margin
            ) throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")
        }
        function testLimit(parsed, entry) {
            if (
                !isNumeric(entry)
            ) throw new Error("noUiSlider: 'limit' option must be numeric.");
            if (
                parsed.limit = parsed.spectrum.getMargin(entry),
                !parsed.limit
            ) throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")
        }
        function testDirection(parsed, entry) {
            switch (
                entry) {
                case "ltr":
                    parsed.dir = 0;
                    break;
                case "rtl":
                    parsed.dir = 1,
                        parsed.connect = [0, 2, 1, 3][parsed.connect];
                    break;
                default:
                    throw new Error("noUiSlider: 'direction' option was not recognized.")
            }
        }
        function testBehaviour(parsed, entry) {
            if (
                "string" != typeof entry
            ) throw new Error("noUiSlider: 'behaviour' must be a string containing options.")
            ;
            var tap = 0 <= entry.indexOf("tap"),
                drag = 0 <= entry.indexOf("drag"),
                fixed = 0 <= entry.indexOf("fixed"),
                snap = 0 <= entry.indexOf("snap");
            if (
                drag && !parsed.connect
            ) throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.")
            ;
            parsed.events = {
                "tap": tap || snap,
                "drag": drag,
                "fixed": fixed,
                "snap": snap
            }
        }
        function testTooltips(parsed, entry) {
            if (
                !0 === entry && (
                    parsed.tooltips = !0),
                entry && entry.format) {
                if (
                    "function" != typeof entry.format
                ) throw new Error("noUiSlider: 'tooltips.format' must be an object.")
                ;
                parsed.tooltips = {
                    "format": entry.format
                }
            }
        }
        function testFormat(parsed, entry) {
            if (
                "function" == typeof(parsed.format = entry).to && "function" == typeof entry.from
            ) return !0
            ;
            throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")
        }
        function testCssPrefix(parsed, entry) {
            if (
                entry !== undefined && "string" != typeof entry
            ) throw new Error("noUiSlider: 'cssPrefix' must be a string.")
            ;
            parsed.cssPrefix = entry
        }
        function testOptions(options) {
            var tests, parsed = {
                    "margin": 0,
                    "limit": 0,
                    "animate": !0,
                    "format": defaultFormatter
                },
                defaults = {
                    "connect": !(tests = {
                        "step": {
                            "r": !1,
                            "t": testStep
                        },
                        "start": {
                            "r": !0,
                            "t": testStart
                        },
                        "connect": {
                            "r": !0,
                            "t": testConnect
                        },
                        "direction": {
                            "r": !0,
                            "t": testDirection
                        },
                        "snap": {
                            "r": !1,
                            "t": testSnap
                        },
                        "animate": {
                            "r": !1,
                            "t": testAnimate
                        },
                        "range": {
                            "r": !0,
                            "t": testRange
                        },
                        "orientation": {
                            "r": !1,
                            "t": testOrientation
                        },
                        "margin": {
                            "r": !1,
                            "t": testMargin
                        },
                        "limit": {
                            "r": !1,
                            "t": testLimit
                        },
                        "behaviour": {
                            "r": !0,
                            "t": testBehaviour
                        },
                        "format": {
                            "r": !1,
                            "t": testFormat
                        },
                        "tooltips": {
                            "r": !1,
                            "t": testTooltips
                        },
                        "cssPrefix": {
                            "r": !1,
                            "t": testCssPrefix
                        }
                    }),
                    "direction": "ltr",
                    "behaviour": "tap",
                    "orientation": "horizontal"
                }
            ;
            return Object.keys(defaults).forEach(function(name) {
                    options[name] === undefined && (
                        options[name] = defaults[name])
                }),
                Object.keys(tests).forEach(function(name) {
                    var test = tests[name];
                    if (
                        options[name] === undefined) {
                        if (
                            test.r
                        ) throw new Error("noUiSlider: '" + name + "' is required.")
                        ;
                        return !0
                    }
                    test.t(parsed, options[name])
                }),
                parsed.pips = options.pips,
                parsed.style = parsed.ort ? "top" : "left",
                parsed
        }
        function closure(target, options) {
            function getPositions(a, b, delimit) {
                var c = a + b[0],
                    d = a + b[1]
                ;
                return delimit ? (
                    c < 0 && (
                        d += Math.abs(c)),
                    100 < d && (
                        c -= d - 100), [
                        limit(c), limit(d)
                    ]) : [
                    c, d
                ]
            }
            function fixEvent(e, pageOffset) {
                e.preventDefault()
                ;
                var x, y, touch = 0 === e.type.indexOf("touch"),
                    mouse = 0 === e.type.indexOf("mouse"),
                    pointer = 0 === e.type.indexOf("pointer"),
                    event = e
                ;
                return 0 === e.type.indexOf("MSPointer") && (
                        pointer = !0),
                    touch && (
                        x = e.changedTouches[0].pageX,
                        y = e.changedTouches[0].pageY),
                    pageOffset = pageOffset || getPageOffset(), (
                        mouse || pointer) && (
                        x = e.clientX + pageOffset.x,
                        y = e.clientY + pageOffset.y),
                    event.pageOffset = pageOffset,
                    event.points = [x, y],
                    event.cursor = mouse || pointer,
                    event
            }
            function addHandle(direction, index) {
                var origin = document.createElement("div"),
                    handle = document.createElement("div"),
                    additions = ["-lower", "-upper"]
                ;
                return direction && additions.reverse(),
                    addClass(handle, cssClasses[3]),
                    addClass(handle, cssClasses[3] + additions[index]),
                    addClass(origin, cssClasses[2]),
                    origin.appendChild(handle),
                    origin
            }
            function addConnection(connect, target, handles) {
                switch (
                    connect) {
                    case 1:
                        addClass(target, cssClasses[7]),
                            addClass(handles[0], cssClasses[6]);
                        break;
                    case 3:
                        addClass(handles[1], cssClasses[6])
                        ;
                    case 2:
                        addClass(handles[0], cssClasses[7])
                        ;
                    case 0:
                        addClass(target, cssClasses[6])
                }
            }
            function addHandles(nrHandles, direction, base) {
                var index, handles = [];
                for (
                    index = 0; index < nrHandles; index += 1
                ) handles.push(base.appendChild(addHandle(direction, index)))
                ;
                return handles
            }
            function addSlider(direction, orientation, target) {
                addClass(target, cssClasses[0]),
                    addClass(target, cssClasses[8 + direction]),
                    addClass(target, cssClasses[4 + orientation])
                ;
                var div = document.createElement("div");
                return addClass(div, cssClasses[1]),
                    target.appendChild(div),
                    div
            }
            function defaultFormatTooltipValue(formattedValue) {
                return formattedValue
            }
            function addTooltip(handle) {
                var element = document.createElement("div");
                return element.className = cssClasses[18],
                    handle.firstChild.appendChild(element)
            }
            function tooltips(tooltipsOptions) {
                var formatTooltipValue = tooltipsOptions.format ? tooltipsOptions.format : defaultFormatTooltipValue,
                    tips = scope_Handles.map(addTooltip)
                ;
                bindEvent("update", function(formattedValues, handleId, rawValues) {
                    tips[handleId].innerHTML = formatTooltipValue(formattedValues[handleId], rawValues[handleId])
                })
            }
            function getGroup(mode, values, stepped) {
                if (
                    "range" === mode || "steps" === mode
                ) return scope_Spectrum.xVal;
                if (
                    "count" === mode) {
                    var v, spread = 100 / (values - 1),
                        i = 0;
                    for (
                        values = [];
                        (
                            v = i++ * spread) <= 100;
                    ) values.push(v)
                    ;
                    mode = "positions"
                }
                return "positions" === mode ? values.map(function(value) {
                        return scope_Spectrum.fromStepping(stepped ? scope_Spectrum.getStep(value) : value)
                    }
                ) : "values" === mode ? stepped ? values.map(function(value) {
                        return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)))
                    }
                ) : values : void 0
            }
            function generateSpread(density, mode, group) {
                function safeIncrement(value, increment) {
                    return (
                        value + increment).toFixed(7) / 1
                }
                var originalSpectrumDirection = scope_Spectrum.direction,
                    indexes = {},
                    firstInRange = scope_Spectrum.xVal[0],
                    lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length - 1],
                    ignoreFirst = !1,
                    ignoreLast = !1,
                    prevPct = 0
                ;
                return scope_Spectrum.direction = 0, (
                        group = unique(group.slice().sort(function(a, b) {
                            return a - b
                        }))
                    )[0] !== firstInRange && (
                        group.unshift(firstInRange),
                        ignoreFirst = !0),
                    group[group.length - 1] !== lastInRange && (
                        group.push(lastInRange),
                        ignoreLast = !0),
                    group.forEach(function(current, index) {
                        var step, i, q,
                            newPct, pctDifference, type,
                            steps, realSteps, stepsize, low = current,
                            high = group[index + 1];
                        if (
                            "steps" === mode && (
                                step = scope_Spectrum.xNumSteps[index]),
                            step || (
                                step = high - low),
                            !1 !== low && high !== undefined)
                            for (
                                i = low; i <= high; i = safeIncrement(i, step)) {
                                for (
                                    steps = (pctDifference = (newPct = scope_Spectrum.toStepping(i)) - prevPct) / density,
                                    stepsize = pctDifference / (realSteps = Math.round(steps)),
                                    q = 1; q <= realSteps; q += 1
                                ) indexes[(prevPct + q * stepsize).toFixed(5)] = ["x", 0]
                                ;
                                type = -1 < group.indexOf(i) ? 1 : "steps" === mode ? 2 : 0,
                                    !index && ignoreFirst && (
                                        type = 0),
                                    i === high && ignoreLast || (
                                        indexes[newPct.toFixed(5)] = [i, type]),
                                    prevPct = newPct
                            }
                    }),
                    scope_Spectrum.direction = originalSpectrumDirection,
                    indexes
            }
            function addMarking(spread, filterFunc, formatter) {
                function getSize(type) {
                    return [
                        "-normal", "-large", "-sub"
                    ][type]
                }
                function getTags(offset, source, values) {
                    return 'class="' + source + " " + source + "-" + style + " " + source + getSize(values[1]) + '" style="' + options.style + ": " + offset + '%"'
                }
                function addSpread(offset, values) {
                    scope_Spectrum.direction && (
                            offset = 100 - offset),
                        values[1] = values[1] && filterFunc ? filterFunc(values[0], values[1]) : values[1],
                        element.innerHTML += "<div " + getTags(offset, "noUi-marker", values) + "></div>",
                        values[1] && (
                            element.innerHTML += "<div " + getTags(offset, "noUi-value", values) + ">" + formatter.to(values[0]) + "</div>")
                }
                var style = ["horizontal", "vertical"][options.ort],
                    element = document.createElement("div");
                return addClass(element, "noUi-pips"), addClass(element, "noUi-pips-" + style),
                    Object.keys(spread).forEach(function(a) {
                        addSpread(a, spread[a])
                    }),
                    element
            }
            function pips(grid) {
                var mode = grid.mode,
                    density = grid.density || 1,
                    filter = grid.filter || !1,
                    spread = generateSpread(density, mode, getGroup(mode, grid.values || !1, grid.stepped || !1)),
                    format = grid.format || {
                        "to": Math.round
                    }
                ;
                return scope_Target.appendChild(addMarking(
                    spread,
                    filter,
                    format))
            }
            function baseSize() {
                return scope_Base["offset" + ["Width", "Height"][options.ort]]
            }
            function fireEvent(event, handleNumber) {
                handleNumber !== undefined && 1 !== options.handles && (
                        handleNumber = Math.abs(handleNumber - options.dir)),
                    Object.keys(scope_Events).forEach(function(targetEvent) {
                        var eventType = targetEvent.split(".")[0]
                        ;
                        event === eventType && scope_Events[targetEvent].forEach(function(callback) {
                            callback(asArray(valueGet()), handleNumber, inSliderOrder(Array.prototype.slice.call(scope_Values)))
                        })
                    })
            }
            function inSliderOrder(values) {
                return 1 === values.length ? values[0] : options.dir ? values.reverse(
                ) : values
            }
            function attach(events, element, callback, data) {
                var method = function(e) {
                        return !scope_Target.hasAttribute("disabled") && (
                            !hasClass(scope_Target, cssClasses[14]) && (
                                e = fixEvent(e, data.pageOffset), !(
                                    events === actions.start && e.buttons !== undefined && 1 < e.buttons) && (
                                    e.calcPoint = e.points[options.ort],
                                    void callback(e, data))))
                    },
                    methods = []
                ;
                return events.split(" ").forEach(function(eventName) {
                        element.addEventListener(eventName, method, !1),
                            methods.push([eventName, method])
                    }),
                    methods
            }
            function move(event, data) {
                if (
                    0 === event.buttons && 0 === event.which && 0 !== data.buttonsProperty
                ) return end(event, data)
                ;
                var positions,
                    i, handles = data.handles || scope_Handles,
                    state = !1,
                    proposal = 100 * (event.calcPoint - data.start) / data.baseSize,
                    handleNumber = handles[0] === scope_Handles[0] ? 0 : 1;
                if (
                    positions = getPositions(proposal, data.positions, 1 < handles.length),
                    state = setHandle(handles[0], positions[handleNumber], 1 === handles.length),
                    1 < handles.length) {
                    if (
                        state = setHandle(handles[1], positions[handleNumber ? 0 : 1], !1) || state)
                        for (
                            i = 0; i < data.handles.length; i++
                        ) fireEvent("slide", i)
                } else state && fireEvent("slide", handleNumber)
            }
            function end(event, data) {
                var active = scope_Base.querySelector("." + cssClasses[15]),
                    handleNumber = data.handles[0] === scope_Handles[0] ? 0 : 1
                ;
                null !== active && removeClass(active, cssClasses[15]),
                    event.cursor && (
                        document.body.style.cursor = "",
                        document.body.removeEventListener("selectstart", document.body.noUiListener))
                ;
                var d = document.documentElement
                ;
                d.noUiListeners.forEach(function(c) {
                        d.removeEventListener(c[0], c[1])
                    }),
                    removeClass(scope_Target, cssClasses[12]),
                    fireEvent("set", handleNumber),
                    fireEvent("change", handleNumber)
            }
            function start(event, data) {
                var d = document.documentElement;
                if (
                    1 === data.handles.length && (
                        addClass(data.handles[0].children[0], cssClasses[15]),
                        data.handles[0].hasAttribute("disabled"))
                ) return !1
                ;
                event.stopPropagation()
                ;
                var moveEvent = attach(actions.move, d, move, {
                        "start": event.calcPoint,
                        "baseSize": baseSize(),
                        "pageOffset": event.pageOffset,
                        "handles": data.handles,
                        "buttonsProperty": event.buttons,
                        "positions": [
                            scope_Locations[0],
                            scope_Locations[scope_Handles.length - 1]
                        ]
                    }),
                    endEvent = attach(actions.end, d, end, {
                        "handles": data.handles
                    });
                if (
                    d.noUiListeners = moveEvent.concat(endEvent),
                    event.cursor) {
                    document.body.style.cursor = getComputedStyle(event.target).cursor,
                        1 < scope_Handles.length && addClass(scope_Target, cssClasses[12])
                    ;
                    var f = function() {
                        return !1
                    }
                    ;
                    document.body.noUiListener = f,
                        document.body.addEventListener("selectstart", f, !1)
                }
            }
            function tap(event) {
                var handleNumber, to, location = event.calcPoint,
                    total = 0;
                if (
                    event.stopPropagation(),
                    scope_Handles.forEach(function(a) {
                        total += offset(a)[options.style]
                    }),
                    handleNumber = location < total / 2 || 1 === scope_Handles.length ? 0 : 1,
                    to = 100 * (location -= offset(scope_Base)[options.style]) / baseSize(),
                    options.events.snap || addClassFor(scope_Target, cssClasses[14], 300),
                    scope_Handles[handleNumber].hasAttribute("disabled")
                ) return !1
                ;
                setHandle(scope_Handles[handleNumber], to),
                    fireEvent("slide", handleNumber),
                    fireEvent("set", handleNumber),
                    fireEvent("change", handleNumber),
                    options.events.snap && start(event, {
                        "handles": [scope_Handles[handleNumber]]
                    })
            }
            function events(behaviour) {
                var i, drag;
                if (
                    !behaviour.fixed)
                    for (
                        i = 0; i < scope_Handles.length; i += 1
                    ) attach(actions.start, scope_Handles[i].children[0], start, {
                        "handles": [
                            scope_Handles[i]
                        ]
                    })
                ;
                behaviour.tap && attach(actions.start, scope_Base, tap, {
                        "handles": scope_Handles
                    }),
                    behaviour.drag && (
                        addClass((drag = [scope_Base.querySelector("." + cssClasses[7])])[0], cssClasses[10]),
                        behaviour.fixed && drag.push(scope_Handles[drag[0] === scope_Handles[0] ? 1 : 0].children[0]),
                        drag.forEach(function(element) {
                            attach(actions.start, element, start, {
                                "handles": scope_Handles
                            })
                        }))
            }
            function setHandle(handle, to, noLimitOption) {
                var trigger = handle !== scope_Handles[0] ? 1 : 0,
                    lowerMargin = scope_Locations[0] + options.margin,
                    upperMargin = scope_Locations[1] - options.margin,
                    lowerLimit = scope_Locations[0] + options.limit,
                    upperLimit = scope_Locations[1] - options.limit,
                    newScopeValue = scope_Spectrum.fromStepping(to)
                ;
                return 1 < scope_Handles.length && (
                        to = trigger ? Math.max(to, lowerMargin) : Math.min(to, upperMargin)),
                    !1 !== noLimitOption && options.limit && 1 < scope_Handles.length && (
                        to = trigger ? Math.min(to, lowerLimit) : Math.max(to, upperLimit)),
                    to = scope_Spectrum.getStep(to), ((
                        to = limit(parseFloat(to.toFixed(7)))
                    ) !== scope_Locations[trigger] || newScopeValue !== scope_Values[trigger]) && (
                        window.requestAnimationFrame ? window.requestAnimationFrame(function() {
                                handle.style[options.style] = to + "%"
                            }
                        ) : handle.style[options.style] = to + "%",
                        handle.previousSibling || (
                            removeClass(handle, cssClasses[17]),
                            50 < to && addClass(handle, cssClasses[17])),
                        scope_Locations[trigger] = to,
                        scope_Values[trigger] = scope_Spectrum.fromStepping(to),
                        fireEvent("update", trigger),
                        !0)
            }
            function setValues(count, values) {
                var i, trigger, to;
                for (
                    options.limit && (
                        count += 1),
                    i = 0; i < count; i += 1
                ) null !== (to = values[trigger = i % 2]) && !1 !== to && (
                    "number" == typeof to && (
                        to = String(to)), (
                        !1 === (to = options.format.from(to)) || isNaN(to) || !1 === setHandle(scope_Handles[trigger], scope_Spectrum.toStepping(to), i === 3 - options.dir)
                    ) && fireEvent("update", trigger))
            }
            function valueSet(input) {
                var count, i, values = asArray(input);
                for (
                    options.dir && 1 < options.handles && values.reverse(),
                    options.animate && -1 !== scope_Locations[0] && addClassFor(scope_Target, cssClasses[14], 300),
                    count = 1 < scope_Handles.length ? 3 : 1,
                    1 === values.length && (
                        count = 1),
                    setValues(count, values),
                    i = 0; i < scope_Handles.length; i++
                ) fireEvent("set", i)
            }
            function valueGet() {
                var i, retour = [];
                for (
                    i = 0; i < options.handles; i += 1
                ) retour[i] = options.format.to(scope_Values[i])
                ;
                return inSliderOrder(retour)
            }
            function destroy() {
                cssClasses.forEach(function(cls) {
                        cls && removeClass(scope_Target, cls)
                    }),
                    scope_Target.innerHTML = "",
                    delete scope_Target.noUiSlider
            }
            function getCurrentStep() {
                return inSliderOrder(scope_Locations.map(function(location, index) {
                    var step = scope_Spectrum.getApplicableStep(location),
                        stepDecimals = countDecimals(String(step[2])),
                        value = scope_Values[index],
                        increment = 100 === location ? null : step[2],
                        prev = Number((value - step[2]).toFixed(stepDecimals));
                    return [0 === location ? null : prev >= step[1] ? step[2] : step[0] || !1, increment]
                }))
            }
            function bindEvent(namespacedEvent, callback) {
                scope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [],
                    scope_Events[namespacedEvent].push(callback),
                    "update" === namespacedEvent.split(".")[0] && scope_Handles.forEach(function(a, index) {
                        fireEvent("update", index)
                    })
            }
            function removeEvent(namespacedEvent) {
                var event = namespacedEvent.split(".")[0],
                    namespace = namespacedEvent.substring(event.length)
                ;
                Object.keys(scope_Events).forEach(function(bind) {
                    var tEvent = bind.split(".")[0],
                        tNamespace = bind.substring(tEvent.length)
                    ;
                    event && event !== tEvent || namespace && namespace !== tNamespace || delete scope_Events[bind]
                })
            }
            function updateOptions(optionsToUpdate) {
                var newOptions = testOptions({
                    "start": [
                        0, 0
                    ],
                    "margin": optionsToUpdate.margin,
                    "limit": optionsToUpdate.limit,
                    "step": optionsToUpdate.step,
                    "range": optionsToUpdate.range,
                    "animate": optionsToUpdate.animate
                })
                ;
                options.margin = newOptions.margin,
                    options.limit = newOptions.limit,
                    options.step = newOptions.step,
                    options.range = newOptions.range,
                    options.animate = newOptions.animate,
                    scope_Spectrum = newOptions.spectrum
            }
            var scope_Base, scope_Handles, scope_Target = target,
                scope_Locations = [-1, -1],
                scope_Spectrum = options.spectrum,
                scope_Values = [],
                scope_Events = {},
                cssClasses = ["target", "base", "origin", "handle", "horizontal", "vertical", "background", "connect", "ltr", "rtl", "draggable", "", "state-drag", "", "state-tap", "active", "", "stacking", "tooltip"].map(addCssPrefix(options.cssPrefix || defaultCssPrefix));
            if (scope_Target.noUiSlider) throw new Error("Slider was already initialized.");
            return scope_Base = addSlider(options.dir, options.ort, scope_Target), scope_Handles = addHandles(options.handles, options.dir, scope_Base), addConnection(options.connect, scope_Target, scope_Handles), events(options.events), options.pips && pips(options.pips), options.tooltips && tooltips(options.tooltips), {
                "destroy": destroy,
                "steps": getCurrentStep,
                "on": bindEvent,
                "off": removeEvent,
                "get": valueGet,
                "set": valueSet,
                "updateOptions": updateOptions
            }
        }
        function initialize(target, originalOptions) {
            if (
                !target.nodeName
            ) throw new Error("noUiSlider.create requires a single element.")
            ;
            var options = testOptions(originalOptions, target),
                slider = closure(target, options)
            ;
            return slider.set(options.start),
                target.noUiSlider = slider
        }
        var actions = window.navigator.pointerEnabled ? {
                "start": "pointerdown",
                "move": "pointermove",
                "end": "pointerup"
            } : window.navigator.msPointerEnabled ? {
                "start": "MSPointerDown",
                "move": "MSPointerMove",
                "end": "MSPointerUp"
            } : {
                "start": "mousedown touchstart",
                "move": "mousemove touchmove",
                "end": "mouseup touchend"
            },
            defaultCssPrefix = "noUi-";
        Spectrum.prototype.getMargin = function(value) {
            return 2 === this.xPct.length && fromPercentage(this.xVal, value)
        }, Spectrum.prototype.toStepping = function(value) {
            return value = toStepping(this.xVal, this.xPct, value), this.direction && (value = 100 - value), value
        }, Spectrum.prototype.fromStepping = function(value) {
            return this.direction && (value = 100 - value), accurateNumber(fromStepping(this.xVal, this.xPct, value))
        }, Spectrum.prototype.getStep = function(value) {
            return this.direction && (value = 100 - value), value = getStep(this.xPct, this.xSteps, this.snap, value), this.direction && (value = 100 - value), value
        }, Spectrum.prototype.getApplicableStep = function(value) {
            var j = getJ(value, this.xPct),
                offset = 100 === value ? 2 : 1;
            return [this.xNumSteps[j - 2], this.xVal[j - offset], this.xNumSteps[j - offset]]
        }, Spectrum.prototype.convert = function(value) {
            return this.getStep(this.toStepping(value))
        };
        var defaultFormatter = {
            "to": function(value) {
                return value !== undefined && value.toFixed(2)
            },
            "from": Number
        };
        return {
            "create": initialize
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        $) {
        function refresh() {
            var $s = $t.settings;
            if (
                $s.autoDispose && !$.contains(document.documentElement, this)
            ) return $(this).timeago("dispose"),
                this
            ;
            var data = prepareData(this)
            ;
            return isNaN(data.datetime) || (
                    0 === $s.cutoff || Math.abs(distance(data.datetime)) < $s.cutoff ? $(this).text(inWords(data.datetime, $(this).attr("lang") ? $(this).attr("lang") : $t.settings.lang)
                    ) : 0 < $(this).attr("title").length && $(this).text($(this).attr("title"))),
                this
        }
        function prepareData(element) {
            if (!(
                    element = $(element)
                ).data("timeago")) {
                element.data("timeago", {
                    "datetime": $t.datetime(element)
                });
                var text = $.trim(element.text())
                ;
                $t.settings.localeTitle ? element.attr("title", element.data("timeago").datetime.toLocaleString()) : !(
                    0 < text.length) || $t.isTime(element) && element.attr("title") || element.attr("title", text)
            }
            return element.data("timeago")
        }
        function inWords(date, lang) {
            return $t.inWords(distance(date), lang)
        }
        function distance(date) {
            return (
                new Date).getTime() - date.getTime()
        }
        $.timeago = function(timestamp) {
            return timestamp instanceof Date ? inWords(timestamp) : inWords("string" == typeof timestamp ? $.timeago.parse(timestamp) : "number" == typeof timestamp ? new Date(timestamp) : $.timeago.datetime(timestamp))
        };
        var $t = $.timeago;
        $.extend($.timeago, {
            "settings": {
                "refreshMillis": 6e4,
                "allowPast": !0,
                "allowFuture": !1,
                "localeTitle": !1,
                "cutoff": 0,
                "autoDispose": !0,
                "lang": "en",
                "strings": {
                    "en": {
                        "prefixAgo": null,
                        "prefixFromNow": null,
                        "suffixAgo": "ago",
                        "suffixFromNow": "from now",
                        "inPast": "any moment now",
                        "seconds": "less than a minute",
                        "minute": "about a minute",
                        "minutes": "%d minutes",
                        "hour": "about an hour",
                        "hours": "about %d hours",
                        "day": "a day",
                        "days": "%d days",
                        "month": "about a month",
                        "months": "%d months",
                        "year": "about a year",
                        "years": "%d years",
                        "wordSeparator": " ",
                        "numbers": []
                    }
                }
            },
            "inWords": function(distanceMillis, lang) {
                function substitute(stringOrFunction, number) {
                    var string = $.isFunction(stringOrFunction) ? stringOrFunction(number, distanceMillis) : stringOrFunction,
                        value = $l.numbers && $l.numbers[number] || number;
                    return string.replace(/%d/i, value)
                }
                if (!this.settings.allowPast && !this.settings.allowFuture) throw "timeago allowPast and allowFuture settings can not both be set to false.";
                var $l = this.settings.strings[lang] || this.settings.strings[this.settings.lang] || this.settings.strings.en,
                    prefix = $l.prefixAgo,
                    suffix = $l.suffixAgo;
                if (this.settings.allowFuture && distanceMillis < 0 && (prefix = $l.prefixFromNow, suffix = $l.suffixFromNow), !this.settings.allowPast && 0 <= distanceMillis) return $l.inPast;
                var seconds = Math.abs(distanceMillis) / 1e3,
                    minutes = seconds / 60,
                    hours = minutes / 60,
                    days = hours / 24,
                    years = days / 365,
                    words = seconds < 45 && substitute($l.seconds, Math.round(seconds)) || seconds < 90 && substitute($l.minute, 1) || minutes < 45 && substitute($l.minutes, Math.round(minutes)) || minutes < 90 && substitute($l.hour, 1) || hours < 24 && substitute($l.hours, Math.round(hours)) || hours < 42 && substitute($l.day, 1) || days < 30 && substitute($l.days, Math.round(days)) || days < 45 && substitute($l.month, 1) || days < 365 && substitute($l.months, Math.round(days / 30)) || years < 1.5 && substitute($l.year, 1) || substitute($l.years, Math.round(years)),
                    separator = $l.wordSeparator || "";
                return $l.wordSeparator === undefined && (separator = " "), $.trim([prefix, words, suffix].join(separator))
            },
            "parse": function(iso8601) {
                var s = $.trim(iso8601);
                return s = (s = (s = (s = (s = s.replace(/\.\d+/, "")).replace(/-/, "/").replace(/-/, "/")).replace(/T/, " ").replace(/Z/, " UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/, " $1$2")).replace(/([\+\-]\d\d)$/, " $100"), new Date(s)
            },
            "datetime": function(elem) {
                var iso8601 = $t.isTime(elem) ? $(elem).attr("datetime") : $(elem).attr("title");
                return $t.parse(iso8601)
            },
            "isTime": function(elem) {
                return "time" === $(elem).get(0).tagName.toLowerCase()
            }
        });
        var functions = {
            "init": function() {
                functions.dispose.call(this);
                var refresh_el = $.proxy(refresh, this);
                refresh_el();
                var $s = $t.settings;
                0 < $s.refreshMillis && (this._timeagoInterval = setInterval(refresh_el, $s.refreshMillis))
            },
            "update": function(timestamp) {
                var date = timestamp instanceof Date ? timestamp : $t.parse(timestamp);
                $(this).data("timeago", {
                    "datetime": date
                }), $t.settings.localeTitle && $(this).attr("title", date.toLocaleString()), refresh.apply(this)
            },
            "updateFromDOM": function() {
                $(this).data("timeago", {
                    "datetime": $t.parse($t.isTime(this) ? $(this).attr("datetime") : $(this).attr("title"))
                }), refresh.apply(this)
            },
            "dispose": function() {
                this._timeagoInterval && (window.clearInterval(this._timeagoInterval), this._timeagoInterval = null)
            }
        };
        $.fn.timeago = function(action, options) {
                var fn = action ? functions[action] : functions.init;
                if (!fn) throw new Error("Unknown function name '" + action + "' for timeago");
                return this.each(function() {
                    fn.call(this, options)
                }), this
            },
            document.createElement("abbr"),
            document.createElement("time")
    }),
    function(
        $) {
        var fn = function() {
            $("time[data-time-ago]").timeago()
        }
        ;
        $(fn),
            $(document).on("turbolinks:load page:load ajax:success", fn)
    }(
        jQuery),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.af = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "gelede",
            "suffixFromNow": "van nou af",
            "seconds": "%d sekondes",
            "minute": "1 minuut",
            "minutes": "%d minute",
            "hour": "1 uur",
            "hours": "%d ure",
            "day": "1 dag",
            "days": "%d dae",
            "month": "1 maand",
            "months": "%d maande",
            "year": "1 jaar",
            "years": "%d jaar",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.am = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u1260\u134a\u1275",
            "suffixFromNow": "\u1260\u128b\u120b",
            "seconds": "\u12a8\u12a0\u1295\u12f5 \u12f0\u1242\u1243 \u1260\u1273\u127d",
            "minute": "\u12a8\u12a0\u1295\u12f5 \u12f0\u1242\u1243 \u1308\u12f0\u121b",
            "minutes": "\u12a8%d \u12f0\u1242\u1243",
            "hour": "\u12a8\u12a0\u1295\u12f5 \u1230\u12d3\u1275 \u1308\u12f0\u121b",
            "hours": "\u12a8%d \u1230\u12d3\u1275 \u1308\u12f0\u121b",
            "day": "\u12a8\u12a0\u1295\u12f5 \u1240\u1295",
            "days": "\u12a8%d \u1240\u1295",
            "month": "\u12a8\u12a0\u1295\u12f5 \u12c8\u122d \u1308\u12f0\u121b",
            "months": "\u12a8%d \u12c8\u122d",
            "year": "\u12a8\u12a0\u1295\u12f5 \u12d3\u1218\u1275 \u1308\u12f0\u121b",
            "years": "\u12a8%d \u12d3\u1218\u1275",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        function numpf(n, a) {
            return a[plural = 0 === n ? 0 : 1 === n ? 1 : 2 === n ? 2 : 3 <= n % 100 && n % 100 <= 10 ? 3 : 11 <= n % 100 ? 4 : 5]
        }
        jQuery.timeago.settings.strings.ar = {
            "prefixAgo": "\u0645\u0646\u0630",
            "prefixFromNow": "\u0628\u0639\u062f",
            "suffixAgo": null,
            "suffixFromNow": null,
            "second": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629",
                    "\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",
                    "\u062b\u0627\u0646\u064a\u062a\u064a\u0646",
                    "%d \u062b\u0648\u0627\u0646\u064d",
                    "%d \u062b\u0627\u0646\u064a\u0629",
                    "%d \u062b\u0627\u0646\u064a\u0629"
                ])
            },
            "seconds": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629",
                    "\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",
                    "\u062b\u0627\u0646\u064a\u062a\u064a\u0646",
                    "%d \u062b\u0648\u0627\u0646\u064d",
                    "%d \u062b\u0627\u0646\u064a\u0629",
                    "%d \u062b\u0627\u0646\u064a\u0629"
                ])
            },
            "minute": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629",
                    "\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",
                    "\u062f\u0642\u064a\u0642\u062a\u064a\u0646",
                    "%d \u062f\u0642\u0627\u0626\u0642",
                    "%d \u062f\u0642\u064a\u0642\u0629",
                    "\u062f\u0642\u064a\u0642\u0629"
                ])
            },
            "minutes": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629",
                    "\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",
                    "\u062f\u0642\u064a\u0642\u062a\u064a\u0646",
                    "%d \u062f\u0642\u0627\u0626\u0642",
                    "%d \u062f\u0642\u064a\u0642\u0629",
                    "\u062f\u0642\u064a\u0642\u0629"
                ])
            },
            "hour": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629",
                    "\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",
                    "\u0633\u0627\u0639\u062a\u064a\u0646",
                    "%d \u0633\u0627\u0639\u0627\u062a",
                    "%d \u0633\u0627\u0639\u0629",
                    "%d \u0633\u0627\u0639\u0629"
                ])
            },
            "hours": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629",
                    "\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",
                    "\u0633\u0627\u0639\u062a\u064a\u0646",
                    "%d \u0633\u0627\u0639\u0627\u062a",
                    "%d \u0633\u0627\u0639\u0629",
                    "%d \u0633\u0627\u0639\u0629"
                ])
            },
            "day": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645",
                    "\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",
                    "\u064a\u0648\u0645\u064a\u0646",
                    "%d \u0623\u064a\u0627\u0645",
                    "%d \u064a\u0648\u0645\u064b\u0627",
                    "%d \u064a\u0648\u0645"
                ])
            },
            "days": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645",
                    "\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",
                    "\u064a\u0648\u0645\u064a\u0646",
                    "%d \u0623\u064a\u0627\u0645",
                    "%d \u064a\u0648\u0645\u064b\u0627",
                    "%d \u064a\u0648\u0645"
                ])
            },
            "month": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631",
                    "\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",
                    "\u0634\u0647\u0631\u064a\u0646",
                    "%d \u0623\u0634\u0647\u0631",
                    "%d \u0634\u0647\u0631\u064b\u0627",
                    "%d \u0634\u0647\u0631"
                ])
            },
            "months": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631",
                    "\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",
                    "\u0634\u0647\u0631\u064a\u0646",
                    "%d \u0623\u0634\u0647\u0631",
                    "%d \u0634\u0647\u0631\u064b\u0627",
                    "%d \u0634\u0647\u0631"
                ])
            },
            "year": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645",
                    "\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",
                    "%d \u0639\u0627\u0645\u064a\u0646",
                    "%d \u0623\u0639\u0648\u0627\u0645",
                    "%d \u0639\u0627\u0645\u064b\u0627"
                ])
            },
            "years": function(
                value) {
                return numpf(value, [
                    "\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645",
                    "\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",
                    "\u0639\u0627\u0645\u064a\u0646",
                    "%d \u0623\u0639\u0648\u0627\u0645",
                    "%d \u0639\u0627\u0645\u064b\u0627",
                    "%d \u0639\u0627\u0645"
                ])
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["az-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1 d\u0259q",
            "minute": "1 d\u0259q",
            "minutes": "%d d\u0259q",
            "hour": "1 saat",
            "hours": "%d saat",
            "day": "1 g\xfcn",
            "days": "%d g\xfcn",
            "month": "1 ay",
            "months": "%d ay",
            "year": "1 il",
            "years": "%d il",
            "wordSeparator": "",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.az = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u0259vv\u0259l",
            "suffixFromNow": "sonra",
            "seconds": "saniy\u0259l\u0259r",
            "minute": "1 d\u0259qiq\u0259",
            "minutes": "%d d\u0259qiq\u0259",
            "hour": "1 saat",
            "hours": "%d saat",
            "day": "1 g\xfcn",
            "days": "%d g\xfcn",
            "month": "1 ay",
            "months": "%d ay",
            "year": "1 il",
            "years": "%d il",
            "wordSeparator": "",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        function numpf(n, f, s, t) {
            var n10 = (n %= 100) % 10;
            return 1 === n10 && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        jQuery.timeago.settings.strings.be = {
            "prefixAgo": null,
            "prefixFromNow": "\u043f\u0440\u0430\u0437",
            "suffixAgo": "\u0442\u0430\u043c\u0443",
            "suffixFromNow": null,
            "seconds": "\u043c\u0435\u043d\u0448 \u0445\u0432\u0456\u043b\u0456\u043d\u044b",
            "minute": "\u0445\u0432\u0456\u043b\u0456\u043d\u0443",
            "minutes": function(
                value) {
                return numpf(value, "%d \u0445\u0432\u0456\u043b\u0456\u043d\u0430", "%d \u0445\u0432\u0456\u043b\u0456\u043d\u044b", "%d \u0445\u0432\u0456\u043b\u0456\u043d")
            },
            "hour": "\u0433\u0430\u0434\u0437\u0456\u043d\u0443",
            "hours": function(
                value) {
                return numpf(value, "%d \u0433\u0430\u0434\u0437\u0456\u043d\u0430", "%d \u0433\u0430\u0434\u0437\u0456\u043d\u044b", "%d \u0433\u0430\u0434\u0437\u0456\u043d")
            },
            "day": "\u0434\u0437\u0435\u043d\u044c",
            "days": function(
                value) {
                return numpf(value, "%d \u0434\u0437\u0435\u043d\u044c", "%d \u0434\u043d\u0456", "%d \u0434\u0437\u0451\u043d")
            },
            "month": "\u043c\u0435\u0441\u044f\u0446",
            "months": function(
                value) {
                return numpf(value, "%d \u043c\u0435\u0441\u044f\u0446", "%d \u043c\u0435\u0441\u044f\u0446\u044b", "%d \u043c\u0435\u0441\u044f\u0446\u0430\u045e")
            },
            "year": "\u0433\u043e\u0434",
            "years": function(
                value) {
                return numpf(value, "%d \u0433\u043e\u0434", "%d \u0433\u0430\u0434\u044b", "%d \u0433\u0430\u0434\u043e\u045e")
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.bg = {
            "prefixAgo": "\u043f\u0440\u0435\u0434\u0438",
            "prefixFromNow": "\u0441\u043b\u0435\u0434",
            "suffixAgo": null,
            "suffixFromNow": null,
            "seconds": "\u043f\u043e-\u043c\u0430\u043b\u043a\u043e \u043e\u0442 \u043c\u0438\u043d\u0443\u0442\u0430",
            "minute": "\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",
            "minutes": "%d \u043c\u0438\u043d\u0443\u0442\u0438",
            "hour": "\u0435\u0434\u0438\u043d \u0447\u0430\u0441",
            "hours": "%d \u0447\u0430\u0441\u0430",
            "day": "\u0435\u0434\u0438\u043d \u0434\u0435\u043d",
            "days": "%d \u0434\u043d\u0438",
            "month": "\u0435\u0434\u0438\u043d \u043c\u0435\u0441\u0435\u0446",
            "months": "%d \u043c\u0435\u0441\u0435\u0446\u0430",
            "year": "\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",
            "years": "%d \u0433\u043e\u0434\u0438\u043d\u0438"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        var numpf = function(n, f, s, t) {
            var n10
            ;
            return 1 === (n10 = n % 10) && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        ;
        jQuery.timeago.settings.strings.bs = {
            "prefixAgo": "prije",
            "prefixFromNow": "za",
            "suffixAgo": null,
            "suffixFromNow": null,
            "second": "sekund",
            "seconds": function(
                value) {
                return numpf(value, "%d sekund", "%d sekunde", "%d sekundi")
            },
            "minute": "oko minut",
            "minutes": function(
                value) {
                return numpf(value, "%d minut", "%d minute", "%d minuta")
            },
            "hour": "oko sat",
            "hours": function(
                value) {
                return numpf(value, "%d sat", "%d sata", "%d sati")
            },
            "day": "oko jednog dana",
            "days": function(
                value) {
                return numpf(value, "%d dan", "%d dana", "%d dana")
            },
            "month": "mjesec dana",
            "months": function(
                value) {
                return numpf(value, "%d mjesec", "%d mjeseca", "%d mjeseci")
            },
            "year": "prije godinu dana ",
            "years": function(
                value) {
                return numpf(value, "%d godinu", "%d godine", "%d godina")
            },
            "wordSeparator": " "
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.ca = {
            "prefixAgo": "fa",
            "prefixFromNow": "d'aqu\xed",
            "suffixAgo": null,
            "suffixFromNow": null,
            "seconds": "menys d'un minut",
            "minute": "un minut",
            "minutes": "%d minuts",
            "hour": "una hora",
            "hours": "%d hores",
            "day": "un dia",
            "days": "%d dies",
            "month": "un mes",
            "months": "%d mesos",
            "year": "un any",
            "years": "%d anys",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        ! function() {
            function f(n, d, a) {
                return a[0 <= d ? 0 : 2 === a.length || n < 5 ? 1 : 2]
            }
            jQuery.timeago.settings.strings.cs = {
                "prefixAgo": "p\u0159ed",
                "prefixFromNow": "za",
                "suffixAgo": null,
                "suffixFromNow": null,
                "seconds": function(
                    n, d) {
                    return f(n, d, ["m\xe9n\u011b ne\u017e minutou", "m\xe9n\u011b ne\u017e minutu"])
                },
                "minute": function(
                    n, d) {
                    return f(n, d, ["minutou", "minutu"])
                },
                "minutes": function(
                    n, d) {
                    return f(n, d, ["%d minutami", "%d minuty", "%d minut"])
                },
                "hour": function(
                    n, d) {
                    return f(n, d, ["hodinou", "hodinu"])
                },
                "hours": function(
                    n, d) {
                    return f(n, d, ["%d hodinami", "%d hodiny", "%d hodin"])
                },
                "day": function(
                    n, d) {
                    return f(n, d, ["%d dnem", "%d den"])
                },
                "days": function(
                    n, d) {
                    return f(n, d, ["%d dny", "%d dny", "%d dn\xed"])
                },
                "month": function(
                    n, d) {
                    return f(n, d, ["%d m\u011bs\xedcem", "%d m\u011bs\xedc"])
                },
                "months": function(
                    n, d) {
                    return f(n, d, ["%d m\u011bs\xedci", "%d m\u011bs\xedce", "%d m\u011bs\xedc\u016f"])
                },
                "year": function(
                    n, d) {
                    return f(n, d, ["%d rokem", "%d rok"])
                },
                "years": function(
                    n, d) {
                    return f(n, d, ["%d lety", "%d roky", "%d let"])
                }
            }
        }()
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.cy = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "yn \xf4l",
            "suffixFromNow": "o hyn",
            "seconds": "llai na munud",
            "minute": "am funud",
            "minutes": "%d munud",
            "hour": "tua awr",
            "hours": "am %d awr",
            "day": "y dydd",
            "days": "%d diwrnod",
            "month": "tua mis",
            "months": "%d mis",
            "year": "am y flwyddyn",
            "years": "%d blynedd",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.da = {
            "prefixAgo": "for",
            "prefixFromNow": "om",
            "suffixAgo": "siden",
            "suffixFromNow": "",
            "seconds": "mindre end et minut",
            "minute": "ca. et minut",
            "minutes": "%d minutter",
            "hour": "ca. en time",
            "hours": "ca. %d timer",
            "day": "en dag",
            "days": "%d dage",
            "month": "ca. en m\xe5ned",
            "months": "%d m\xe5neder",
            "year": "ca. et \xe5r",
            "years": "%d \xe5r"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["de-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "s",
            "minute": "1m",
            "minutes": "%dm",
            "hour": "1h",
            "hours": "%dh",
            "day": "1T.",
            "days": "%dT.",
            "month": "1Mt.",
            "months": "%dMt.",
            "year": "1J.",
            "years": "%dJ.",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.de = {
            "prefixAgo": "vor",
            "prefixFromNow": "in",
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "wenigen Sekunden",
            "minute": "etwa einer Minute",
            "minutes": "%d Minuten",
            "hour": "etwa einer Stunde",
            "hours": "%d Stunden",
            "day": "etwa einem Tag",
            "days": "%d Tagen",
            "month": "etwa einem Monat",
            "months": "%d Monaten",
            "year": "etwa einem Jahr",
            "years": "%d Jahren"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.dv = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u0786\u07aa\u0783\u07a8\u0782\u07b0",
            "suffixFromNow": "\u078a\u07a6\u0780\u07aa\u0782\u07b0",
            "seconds": "\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",
            "minute": "\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0\u0788\u07a6\u0783\u07aa",
            "minutes": "%d \u0789\u07a8\u0782\u07a8\u0793\u07aa",
            "hour": "\u078e\u07a6\u0791\u07a8\u0787\u07ac\u0787\u07b0\u0788\u07a6\u0783\u07aa",
            "hours": "\u078e\u07a7\u078c\u07b0\u078e\u07a6\u0782\u0791\u07a6\u0786\u07a6\u0781\u07b0 %d \u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa",
            "day": "\u0787\u07ac\u0787\u07b0 \u078b\u07aa\u0788\u07a6\u0790\u07b0",
            "days": "\u0789\u07a9\u078e\u07ac %d \u078b\u07aa\u0788\u07a6\u0790\u07b0",
            "month": "\u0789\u07a6\u0780\u07ac\u0787\u07b0\u0788\u07a6\u0783\u07aa",
            "months": "\u0789\u07a9\u078e\u07ac %d \u0789\u07a6\u0790\u07b0",
            "year": "\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0\u0788\u07a6\u0783\u07aa",
            "years": "\u0789\u07a9\u078e\u07ac %d \u0787\u07a6\u0780\u07a6\u0783\u07aa",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.el = {
            "prefixAgo": "\u03c0\u03c1\u03b9\u03bd",
            "prefixFromNow": "\u03c3\u03b5",
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "\u03bb\u03b9\u03b3\u03cc\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",
            "minute": "\u03c0\u03b5\u03c1\u03af\u03c0\u03bf\u03c5 \u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",
            "minutes": "%d \u03bb\u03b5\u03c0\u03c4\u03ac",
            "hour": "\u03c0\u03b5\u03c1\u03af\u03c0\u03bf\u03c5 \u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",
            "hours": "\u03c0\u03b5\u03c1\u03af\u03c0\u03bf\u03c5 %d \u03ce\u03c1\u03b5\u03c2",
            "day": "\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",
            "days": "%d \u03bc\u03ad\u03c1\u03b5\u03c2",
            "month": "\u03c0\u03b5\u03c1\u03af\u03c0\u03bf\u03c5 \u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",
            "months": "%d \u03bc\u03ae\u03bd\u03b5\u03c2",
            "year": "\u03c0\u03b5\u03c1\u03af\u03c0\u03bf\u03c5 \u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",
            "years": "%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["en-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1m",
            "minute": "1m",
            "minutes": "%dm",
            "hour": "1h",
            "hours": "%dh",
            "day": "1d",
            "days": "%dd",
            "month": "1mo",
            "months": "%dmo",
            "year": "1yr",
            "years": "%dyr",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["es-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1m",
            "minute": "1m",
            "minutes": "%dm",
            "hour": "1h",
            "hours": "%dh",
            "day": "1d",
            "days": "%dd",
            "month": "1me",
            "months": "%dme",
            "year": "1a",
            "years": "%da",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.es = {
            "prefixAgo": "hace",
            "prefixFromNow": "dentro de",
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "menos de un minuto",
            "minute": "un minuto",
            "minutes": "unos %d minutos",
            "hour": "una hora",
            "hours": "%d horas",
            "day": "un d\xeda",
            "days": "%d d\xedas",
            "month": "un mes",
            "months": "%d meses",
            "year": "un a\xf1o",
            "years": "%d a\xf1os"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.et = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "tagasi",
            "suffixFromNow": "p\xe4rast",
            "seconds": function(
                n, d) {
                return d < 0 ? "v\xe4hem kui minuti aja" : "v\xe4hem kui minut aega"
            },
            "minute": function(
                n, d) {
                return d < 0 ? "umbes minuti aja" : "umbes minut aega"
            },
            "minutes": function(
                n, d) {
                return d < 0 ? "%d minuti" : "%d minutit"
            },
            "hour": function(
                n, d) {
                return d < 0 ? "umbes tunni aja" : "umbes tund aega"
            },
            "hours": function(
                n, d) {
                return d < 0 ? "%d tunni" : "%d tundi"
            },
            "day": function(
                n, d) {
                return d < 0 ? "umbes p\xe4eva" : "umbes p\xe4ev"
            },
            "days": "%d p\xe4eva",
            "month": function(
                n, d) {
                return d < 0 ? "umbes kuu aja" : "umbes kuu aega"
            },
            "months": function(
                n, d) {
                return d < 0 ? "%d kuu" : "%d kuud"
            },
            "year": function(
                n, d) {
                return d < 0 ? "umbes aasta aja" : "umbes aasta aega"
            },
            "years": function(
                n, d) {
                return d < 0 ? "%d aasta" : "%d aastat"
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.eu = {
            "prefixAgo": "duela",
            "prefixFromNow": "hemendik",
            "suffixAgo": "",
            "suffixFromNow": "barru",
            "seconds": "minutu bat bainu gutxiago",
            "minute": "minutu bat",
            "minutes": "%d minutu inguru",
            "hour": "ordu bat",
            "hours": "%d ordu",
            "day": "egun bat",
            "days": "%d egun",
            "month": "hilabete bat",
            "months": "%d hilabete",
            "year": "urte bat",
            "years": "%d urte"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["fa-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1\u062f\u0642\u06cc\u0642\u0647",
            "minute": "1\u062f\u0642\u06cc\u0642\u0647",
            "minutes": "%d\u062f\u0642\u06cc\u0642\u0647",
            "hour": "1\u0633\u0627\u0639\u062a",
            "hours": "%d\u0633\u0627\u0639\u062a",
            "day": "1\u0631\u0648\u0632",
            "days": "%d\u0631\u0648\u0632",
            "month": "1\u0645\u0627\u0647",
            "months": "%d\u0645\u0627\u0647",
            "year": "1\u0633\u0627\u0644",
            "years": "%d\u0633\u0627\u0644",
            "wordSeparator": " ",
            "numbers": [
                "\u06f0", "\u06f1", "\u06f2", "\u06f3", "\u06f4", "\u06f5", "\u06f6", "\u06f7", "\u06f8", "\u06f9"
            ]
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.fa = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u067e\u06cc\u0634",
            "suffixFromNow": "\u0627\u0632 \u062d\u0627\u0644",
            "seconds": "\u06a9\u0645\u062a\u0631 \u0627\u0632 \u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",
            "minute": "\u062d\u062f\u0648\u062f \u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",
            "minutes": "%d \u062f\u0642\u06cc\u0642\u0647",
            "hour": "\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0633\u0627\u0639\u062a",
            "hours": "\u062d\u062f\u0648\u062f %d \u0633\u0627\u0639\u062a",
            "day": "\u06cc\u06a9 \u0631\u0648\u0632",
            "days": "%d \u0631\u0648\u0632",
            "month": "\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0645\u0627\u0647",
            "months": "%d \u0645\u0627\u0647",
            "year": "\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0633\u0627\u0644",
            "years": "%d \u0633\u0627\u0644",
            "wordSeparator": " ",
            "numbers": [
                "\u06f0", "\u06f1", "\u06f2", "\u06f3", "\u06f4", "\u06f5", "\u06f6", "\u06f7", "\u06f8", "\u06f9"
            ]
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.fi = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "sitten",
            "suffixFromNow": "tulevaisuudessa",
            "seconds": "alle minuutti",
            "minute": "minuutti",
            "minutes": "%d minuuttia",
            "hour": "tunti",
            "hours": "%d tuntia",
            "day": "p\xe4iv\xe4",
            "days": "%d p\xe4iv\xe4\xe4",
            "month": "kuukausi",
            "months": "%d kuukautta",
            "year": "vuosi",
            "years": "%d vuotta"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["fr-short"] = {
            "prefixAgo": "il y a",
            "prefixFromNow": "d'ici",
            "seconds": "moins d'une minute",
            "minute": "une minute",
            "minutes": "%d minutes",
            "hour": "une heure",
            "hours": "%d heures",
            "day": "un jour",
            "days": "%d jours",
            "month": "un mois",
            "months": "%d mois",
            "year": "un an",
            "years": "%d ans"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.fr = {
            "prefixAgo": "il y a",
            "prefixFromNow": "d'ici",
            "seconds": "moins d'une minute",
            "minute": "environ une minute",
            "minutes": "environ %d minutes",
            "hour": "environ une heure",
            "hours": "environ %d heures",
            "day": "environ un jour",
            "days": "environ %d jours",
            "month": "environ un mois",
            "months": "environ %d mois",
            "year": "un an",
            "years": "%d ans"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.gl = {
            "prefixAgo": "hai",
            "prefixFromNow": "dentro de",
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "menos dun minuto",
            "minute": "un minuto",
            "minutes": "uns %d minutos",
            "hour": "unha hora",
            "hours": "%d horas",
            "day": "un d\xeda",
            "days": "%d d\xedas",
            "month": "un mes",
            "months": "%d meses",
            "year": "un ano",
            "years": "%d anos"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.he = {
            "prefixAgo": "\u05dc\u05e4\u05e0\u05d9",
            "prefixFromNow": "\u05e2\u05d5\u05d3",
            "seconds": "\u05e4\u05d7\u05d5\u05ea \u05de\u05d3\u05e7\u05d4",
            "minute": "\u05d3\u05e7\u05d4",
            "minutes": "%d \u05d3\u05e7\u05d5\u05ea",
            "hour": "\u05e9\u05e2\u05d4",
            "hours": function(
                number) {
                return 2 === number ? "\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd" : "%d \u05e9\u05e2\u05d5\u05ea"
            },
            "day": "\u05d9\u05d5\u05dd",
            "days": function(
                number) {
                return 2 === number ? "\u05d9\u05d5\u05de\u05d9\u05d9\u05dd" : "%d \u05d9\u05de\u05d9\u05dd"
            },
            "month": "\u05d7\u05d5\u05d3\u05e9",
            "months": function(
                number) {
                return 2 === number ? "\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd" : "%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"
            },
            "year": "\u05e9\u05e0\u05d4",
            "years": function(
                number) {
                return 2 === number ? "\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd" : "%d \u05e9\u05e0\u05d9\u05dd"
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        var numpf = function(n, f, s, t) {
            var n10
            ;
            return 1 === (n10 = n % 10) && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        ;
        jQuery.timeago.settings.strings.hr = {
            "prefixAgo": "prije",
            "prefixFromNow": "za",
            "suffixAgo": null,
            "suffixFromNow": null,
            "second": "sekundu",
            "seconds": function(
                value) {
                return numpf(value, "%d sekundu", "%d sekunde", "%d sekundi")
            },
            "minute": "oko minutu",
            "minutes": function(
                value) {
                return numpf(value, "%d minutu", "%d minute", "%d minuta")
            },
            "hour": "oko jedan sat",
            "hours": function(
                value) {
                return numpf(value, "%d sat", "%d sata", "%d sati")
            },
            "day": "jedan dan",
            "days": function(
                value) {
                return numpf(value, "%d dan", "%d dana", "%d dana")
            },
            "month": "mjesec dana",
            "months": function(
                value) {
                return numpf(value, "%d mjesec", "%d mjeseca", "%d mjeseci")
            },
            "year": "prije godinu dana",
            "years": function(
                value) {
                return numpf(value, "%d godinu", "%d godine", "%d godina")
            },
            "wordSeparator": " "
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.hu = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": null,
            "suffixFromNow": null,
            "seconds": "kevesebb mint egy perce",
            "minute": "k\xf6r\xfclbel\xfcl egy perce",
            "minutes": "%d perce",
            "hour": "k\xf6r\xfclbel\xfcl egy \xf3r\xe1ja",
            "hours": "k\xf6r\xfclbel\xfcl %d \xf3r\xe1ja",
            "day": "k\xf6r\xfclbel\xfcl egy napja",
            "days": "%d napja",
            "month": "k\xf6r\xfclbel\xfcl egy h\xf3napja",
            "months": "%d h\xf3napja",
            "year": "k\xf6r\xfclbel\xfcl egy \xe9ve",
            "years": "%d \xe9ve"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.hy = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u0561\u057c\u0561\u057b",
            "suffixFromNow": "\u0570\u0565\u057f\u0578",
            "seconds": "\u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576\u0576\u0565\u0580",
            "minute": "\u0574\u0565\u056f \u0580\u0578\u057a\u0565",
            "minutes": "%d \u0580\u0578\u057a\u0565",
            "hour": "\u0574\u0565\u056f \u056a\u0561\u0574",
            "hours": "%d \u056a\u0561\u0574",
            "day": "\u0574\u0565\u056f \u0585\u0580",
            "days": "%d \u0585\u0580",
            "month": "\u0574\u0565\u056f \u0561\u0574\u056b\u057d",
            "months": "%d \u0561\u0574\u056b\u057d",
            "year": "\u0574\u0565\u056f \u057f\u0561\u0580\u056b",
            "years": "%d \u057f\u0561\u0580\u056b"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.id = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "yang lalu",
            "suffixFromNow": "dari sekarang",
            "seconds": "kurang dari semenit",
            "minute": "sekitar satu menit",
            "minutes": "%d menit",
            "hour": "sekitar sejam",
            "hours": "sekitar %d jam",
            "day": "sehari",
            "days": "%d hari",
            "month": "sekitar sebulan",
            "months": "%d bulan",
            "year": "sekitar setahun",
            "years": "%d tahun"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.is = {
            "prefixAgo": "fyrir",
            "prefixFromNow": "eftir",
            "suffixAgo": "s\xed\xf0an",
            "suffixFromNow": null,
            "seconds": "minna en m\xedn\xfatu",
            "minute": "m\xedn\xfatu",
            "minutes": "%d m\xedn\xfatum",
            "hour": "klukkut\xedma",
            "hours": "um %d klukkut\xedmum",
            "day": "degi",
            "days": "%d d\xf6gum",
            "month": "m\xe1nu\xf0i",
            "months": "%d m\xe1nu\xf0um",
            "year": "\xe1ri",
            "years": "%d \xe1rum",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["it-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1m",
            "minute": "1m",
            "minutes": "%dm",
            "hour": "1h",
            "hours": "%dh",
            "day": "1g",
            "days": "%dg",
            "month": "1me",
            "months": "%dme",
            "year": "1a",
            "years": "%da",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.it = {
            "prefixAgo": null,
            "prefixFromNow": "fra",
            "suffixAgo": "fa",
            "suffixFromNow": null,
            "seconds": "meno di un minuto",
            "minute": "circa un minuto",
            "minutes": "%d minuti",
            "hour": "circa un'ora",
            "hours": "circa %d ore",
            "day": "un giorno",
            "days": "%d giorni",
            "month": "circa un mese",
            "months": "%d mesi",
            "year": "circa un anno",
            "years": "%d anni"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.ja = {
            "prefixAgo": "",
            "prefixFromNow": "\u4eca\u304b\u3089",
            "suffixAgo": "\u524d",
            "suffixFromNow": "\u5f8c",
            "seconds": "1 \u5206\u672a\u6e80",
            "minute": "\u7d04 1 \u5206",
            "minutes": "%d \u5206",
            "hour": "\u7d04 1 \u6642\u9593",
            "hours": "\u7d04 %d \u6642\u9593",
            "day": "\u7d04 1 \u65e5",
            "days": "\u7d04 %d \u65e5",
            "month": "\u7d04 1 \u30f6\u6708",
            "months": "\u7d04 %d \u30f6\u6708",
            "year": "\u7d04 1 \u5e74",
            "years": "\u7d04 %d \u5e74",
            "wordSeparator": ""
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.jv = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "kepungkur",
            "suffixFromNow": "seko saiki",
            "seconds": "kurang seko sakmenit",
            "minute": "kurang luwih sakmenit",
            "minutes": "%d menit",
            "hour": "kurang luwih sakjam",
            "hours": "kurang luwih %d jam",
            "day": "sedina",
            "days": "%d dina",
            "month": "kurang luwih sewulan",
            "months": "%d wulan",
            "year": "kurang luwih setahun",
            "years": "%d tahun"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.ko = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\uc804",
            "suffixFromNow": "\ud6c4",
            "seconds": "1\ubd84",
            "minute": "\uc57d 1\ubd84",
            "minutes": "%d\ubd84",
            "hour": "\uc57d 1\uc2dc\uac04",
            "hours": "\uc57d %d\uc2dc\uac04",
            "day": "\ud558\ub8e8",
            "days": "%d\uc77c",
            "month": "\uc57d 1\uac1c\uc6d4",
            "months": "%d\uac1c\uc6d4",
            "year": "\uc57d 1\ub144",
            "years": "%d\ub144",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        function numpf(n, f, s, t) {
            var n10 = n % 10;
            return 1 === n10 && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        jQuery.timeago.settings.strings.ky = {
            "prefixAgo": null,
            "prefixFromNow": "\u0447\u0435\u0440\u0435\u0437",
            "suffixAgo": "\u043c\u0443\u0440\u0443\u043d",
            "suffixFromNow": null,
            "seconds": "1 \u043c\u0438\u043d\u0443\u0442\u0442\u0430\u043d \u0430\u0437",
            "minute": "\u043c\u0438\u043d\u0443\u0442\u0430",
            "minutes": function(
                value) {
                return numpf(value, "%d \u043c\u0438\u043d\u0443\u0442\u0430", "%d \u043c\u0438\u043d\u0443\u0442\u0430", "%d \u043c\u0438\u043d\u0443\u0442")
            },
            "hour": "\u0441\u0430\u0430\u0442",
            "hours": function(
                value) {
                return numpf(value, "%d \u0441\u0430\u0430\u0442", "%d \u0441\u0430\u0430\u0442", "%d \u0441\u0430\u0430\u0442")
            },
            "day": "\u043a\u04af\u043d",
            "days": function(
                value) {
                return numpf(value, "%d \u043a\u04af\u043d", "%d \u043a\u04af\u043d", "%d \u043a\u04af\u043d")
            },
            "month": "\u0430\u0439",
            "months": function(
                value) {
                return numpf(value, "%d \u0430\u0439", "%d \u0430\u0439", "%d \u0430\u0439")
            },
            "year": "\u0436\u044b\u043b",
            "years": function(
                value) {
                return numpf(value, "%d \u0436\u044b\u043b", "%d \u0436\u044b\u043b", "%d \u0436\u044b\u043b")
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.lt = {
            "prefixAgo": "prie\u0161",
            "prefixFromNow": null,
            "suffixAgo": null,
            "suffixFromNow": "nuo dabar",
            "seconds": "%d sek.",
            "minute": "min.",
            "minutes": "%d min.",
            "hour": "val.",
            "hours": "%d val.",
            "day": "1 d.",
            "days": "%d d.",
            "month": "m\u0117n.",
            "months": "%d m\u0117n.",
            "year": "metus",
            "years": "%d metus",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.lv = {
            "prefixAgo": "pirms",
            "prefixFromNow": null,
            "suffixAgo": null,
            "suffixFromNow": "no \u0161\u012b br\u012b\u017ea",
            "seconds": "%d sek.",
            "minute": "min.",
            "minutes": "%d min.",
            "hour": "st.",
            "hours": "%d st.",
            "day": "1 d.",
            "days": "%d d.",
            "month": "m\u0113nesis.",
            "months": "%d m\u0113nesis.",
            "year": "gads",
            "years": "%d gads",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.mk = {
            "prefixAgo": "\u043f\u0440\u0435\u0434",
            "prefixFromNow": "\u0437\u0430",
            "suffixAgo": null,
            "suffixFromNow": null,
            "seconds": "%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",
            "minute": "%d \u043c\u0438\u043d\u0443\u0442\u0430",
            "minutes": "%d \u043c\u0438\u043d\u0443\u0442\u0438",
            "hour": "%d \u0447\u0430\u0441",
            "hours": "%d \u0447\u0430\u0441\u0430",
            "day": "%d \u0434\u0435\u043d",
            "days": "%d \u0434\u0435\u043d\u043e\u0432\u0438",
            "month": "%d \u043c\u0435\u0441\u0435\u0446",
            "months": "%d \u043c\u0435\u0441\u0435\u0446\u0438",
            "year": "%d \u0433\u043e\u0434\u0438\u043d\u0430",
            "years": "%d \u0433\u043e\u0434\u0438\u043d\u0438"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.nl = {
            "prefixAgo": null,
            "prefixFromNow": "over",
            "suffixAgo": "geleden",
            "suffixFromNow": null,
            "seconds": "minder dan een minuut",
            "minute": "ongeveer een minuut",
            "minutes": "%d minuten",
            "hour": "ongeveer een uur",
            "hours": "ongeveer %d uur",
            "day": "een dag",
            "days": "%d dagen",
            "month": "ongeveer een maand",
            "months": "%d maanden",
            "year": "ongeveer een jaar",
            "years": "%d jaar",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.no = {
            "prefixAgo": "for",
            "prefixFromNow": "om",
            "suffixAgo": "siden",
            "suffixFromNow": "",
            "seconds": "mindre enn et minutt",
            "minute": "ca. et minutt",
            "minutes": "%d minutter",
            "hour": "ca. en time",
            "hours": "ca. %d timer",
            "day": "en dag",
            "days": "%d dager",
            "month": "ca. en m\xe5ned",
            "months": "%d m\xe5neder",
            "year": "ca. et \xe5r",
            "years": "%d \xe5r"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        function numpf(n, s, t) {
            var n10 = n % 10;
            return 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        jQuery.timeago.settings.strings.pl = {
            "prefixAgo": null,
            "prefixFromNow": "za",
            "suffixAgo": "temu",
            "suffixFromNow": null,
            "seconds": "mniej ni\u017c minut\u0119",
            "minute": "minut\u0119",
            "minutes": function(
                value) {
                return numpf(value, "%d minuty", "%d minut")
            },
            "hour": "godzin\u0119",
            "hours": function(
                value) {
                return numpf(value, "%d godziny", "%d godzin")
            },
            "day": "dzie\u0144",
            "days": "%d dni",
            "month": "miesi\u0105c",
            "months": function(
                value) {
                return numpf(value, "%d miesi\u0105ce", "%d miesi\u0119cy")
            },
            "year": "rok",
            "years": function(
                value) {
                return numpf(value, "%d lata", "%d lat")
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["pt-br-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1m",
            "minute": "1m",
            "minutes": "%dm",
            "hour": "1h",
            "hours": "%dh",
            "day": "1d",
            "days": "%dd",
            "month": "1M",
            "months": "%dM",
            "year": "1a",
            "years": "%da",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["pt-br"] = {
            "prefixAgo": "h\xe1",
            "prefixFromNow": "em",
            "suffixAgo": null,
            "suffixFromNow": null,
            "seconds": "alguns segundos",
            "minute": "um minuto",
            "minutes": "%d minutos",
            "hour": "uma hora",
            "hours": "%d horas",
            "day": "um dia",
            "days": "%d dias",
            "month": "um m\xeas",
            "months": "%d meses",
            "year": "um ano",
            "years": "%d anos"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["pt-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1m",
            "minute": "1m",
            "minutes": "%dm",
            "hour": "1h",
            "hours": "%dh",
            "day": "1d",
            "days": "%dd",
            "month": "1M",
            "months": "%dM",
            "year": "1a",
            "years": "%da",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.pt = {
            "suffixAgo": "atr\xe1s",
            "suffixFromNow": "a partir de agora",
            "seconds": "menos de um minuto",
            "minute": "cerca de um minuto",
            "minutes": "%d minutos",
            "hour": "cerca de uma hora",
            "hours": "cerca de %d horas",
            "day": "um dia",
            "days": "%d dias",
            "month": "cerca de um m\xeas",
            "months": "%d meses",
            "year": "cerca de um ano",
            "years": "%d anos"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.ro = {
            "prefixAgo": "acum",
            "prefixFromNow": "in timp de",
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "mai putin de un minut",
            "minute": "un minut",
            "minutes": "%d minute",
            "hour": "o ora",
            "hours": "%d ore",
            "day": "o zi",
            "days": "%d zile",
            "month": "o luna",
            "months": "%d luni",
            "year": "un an",
            "years": "%d ani"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        var numpf = function(n, f, s, t) {
            var n10
            ;
            return 1 === (n10 = n % 10) && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        ;
        jQuery.timeago.settings.strings.rs = {
            "prefixAgo": "pre",
            "prefixFromNow": "za",
            "suffixAgo": null,
            "suffixFromNow": null,
            "second": "sekund",
            "seconds": function(
                value) {
                return numpf(value, "%d sekund", "%d sekunde", "%d sekundi")
            },
            "minute": "oko minut",
            "minutes": function(
                value) {
                return numpf(value, "%d minut", "%d minuta", "%d minuta")
            },
            "hour": "oko jedan sat",
            "hours": function(
                value) {
                return numpf(value, "%d sat", "%d sata", "%d sati")
            },
            "day": "jedan dan",
            "days": function(
                value) {
                return numpf(value, "%d dan", "%d dana", "%d dana")
            },
            "month": "mesec dana",
            "months": function(
                value) {
                return numpf(value, "%d mesec", "%d meseca", "%d meseci")
            },
            "year": "godinu dana",
            "years": function(
                value) {
                return numpf(value, "%d godinu", "%d godine", "%d godina")
            },
            "wordSeparator": " "
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        function numpf(n, f, s, t) {
            var n10 = (n %= 100) % 10;
            return 1 === n10 && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        jQuery.timeago.settings.strings.ru = {
            "prefixAgo": null,
            "prefixFromNow": "\u0447\u0435\u0440\u0435\u0437",
            "suffixAgo": "\u043d\u0430\u0437\u0430\u0434",
            "suffixFromNow": null,
            "seconds": "\u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b",
            "minute": "\u043c\u0438\u043d\u0443\u0442\u0443",
            "minutes": function(
                value) {
                return numpf(value, "%d \u043c\u0438\u043d\u0443\u0442\u0443", "%d \u043c\u0438\u043d\u0443\u0442\u044b", "%d \u043c\u0438\u043d\u0443\u0442")
            },
            "hour": "\u0447\u0430\u0441",
            "hours": function(
                value) {
                return numpf(value, "%d \u0447\u0430\u0441", "%d \u0447\u0430\u0441\u0430", "%d \u0447\u0430\u0441\u043e\u0432")
            },
            "day": "\u0434\u0435\u043d\u044c",
            "days": function(
                value) {
                return numpf(value, "%d \u0434\u0435\u043d\u044c", "%d \u0434\u043d\u044f", "%d \u0434\u043d\u0435\u0439")
            },
            "month": "\u043c\u0435\u0441\u044f\u0446",
            "months": function(
                value) {
                return numpf(value, "%d \u043c\u0435\u0441\u044f\u0446", "%d \u043c\u0435\u0441\u044f\u0446\u0430", "%d \u043c\u0435\u0441\u044f\u0446\u0435\u0432")
            },
            "year": "\u0433\u043e\u0434",
            "years": function(
                value) {
                return numpf(value, "%d \u0433\u043e\u0434", "%d \u0433\u043e\u0434\u0430", "%d \u043b\u0435\u0442")
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.rw = {
            "prefixAgo": "hashize",
            "prefixFromNow": "mu",
            "suffixAgo": null,
            "suffixFromNow": null,
            "seconds": "amasegonda macye",
            "minute": "umunota",
            "minutes": "iminota %d",
            "hour": "isaha",
            "hours": "amasaha %d",
            "day": "umunsi",
            "days": "iminsi %d",
            "month": "ukwezi",
            "months": "amezi %d",
            "year": "umwaka",
            "years": "imyaka %d",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.si = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u0db4\u0dd9\u0dbb",
            "suffixFromNow": "\u0db4\u0dc3\u0dd4\u0dc0",
            "seconds": "\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba\u0d9a\u0da7",
            "minute": "\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0\u0d9a\u0da7 \u0db4\u0db8\u0dab",
            "minutes": "\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d \u0d9a\u0da7",
            "hour": "\u0db4\u0dd0\u0dba\u0d9a\u0dca \u0db4\u0db8\u0dab ",
            "hours": "\u0db4\u0dd0\u0dba %d \u0d9a\u0da7  \u0db4\u0db8\u0dab",
            "day": "\u0daf\u0dc0\u0dc3\u0d9a \u0da7",
            "days": "\u0daf\u0dc0\u0dc3\u0dca %d \u0d9a\u0da7 ",
            "month": "\u0db8\u0dcf\u0dc3\u0dba\u0d9a\u0dca \u0db4\u0db8\u0dab",
            "months": "\u0db8\u0dcf\u0dc3 %d \u0d9a\u0da7",
            "year": "\u0dc0\u0dc3\u0dbb\u0d9a\u0dca \u0db4\u0db8\u0dab",
            "years": "\u0dc0\u0dc3\u0dbb\u0d9a\u0dca %d \u0d9a\u0da7 \u0db4\u0db8\u0dab"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        ! function() {
            function f(n, d, a) {
                return a[0 <= d ? 0 : 2 === a.length || n < 5 ? 1 : 2]
            }
            jQuery.timeago.settings.strings.sk = {
                "prefixAgo": "pred",
                "prefixFromNow": "o",
                "suffixAgo": null,
                "suffixFromNow": null,
                "seconds": function(
                    n, d) {
                    return f(n, d, ["menej ako min\xfatou", "menej ako min\xfatu"])
                },
                "minute": function(
                    n, d) {
                    return f(n, d, ["min\xfatou", "min\xfatu"])
                },
                "minutes": function(
                    n, d) {
                    return f(n, d, ["%d min\xfatami", "%d min\xfaty", "%d min\xfat"])
                },
                "hour": function(
                    n, d) {
                    return f(n, d, ["hodinou", "hodinu"])
                },
                "hours": function(
                    n, d) {
                    return f(n, d, ["%d hodinami", "%d hodiny", "%d hod\xedn"])
                },
                "day": function(
                    n, d) {
                    return f(n, d, ["%d d\u0148om", "%d de\u0148"])
                },
                "days": function(
                    n, d) {
                    return f(n, d, ["%d d\u0148ami", "%d dni", "%d dn\xed"])
                },
                "month": function(
                    n, d) {
                    return f(n, d, ["%d mesiacom", "%d mesiac"])
                },
                "months": function(
                    n, d) {
                    return f(n, d, ["%d mesiacmi", "%d mesiace", "%d mesiacov"])
                },
                "year": function(
                    n, d) {
                    return f(n, d, ["%d rokom", "%d rok"])
                },
                "years": function(
                    n, d) {
                    return f(n, d, ["%d rokmi", "%d roky", "%d rokov"])
                }
            }
        }()
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        var numpf = function(n, a) {
            return a[n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0]
        }
        ;
        jQuery.timeago.settings.strings.sl = {
            "prefixAgo": null,
            "prefixFromNow": "\u010dez",
            "suffixAgo": "nazaj",
            "suffixFromNow": null,
            "second": "sekundo",
            "seconds": function(
                value) {
                return numpf(value, ["%d sekund", "%d sekundo", "%d sekundi", "%d sekunde"])
            },
            "minute": "minuto",
            "minutes": function(
                value) {
                return numpf(value, ["%d minut", "%d minuto", "%d minuti", "%d minute"])
            },
            "hour": "eno uro",
            "hours": function(
                value) {
                return numpf(value, ["%d ur", "%d uro", "%d uri", "%d ure"])
            },
            "day": "en dan",
            "days": function(
                value) {
                return numpf(value, ["%d dni", "%d dan", "%d dneva", "%d dni"])
            },
            "month": "en mesec",
            "months": function(
                value) {
                return numpf(value, ["%d mesecev", "%d mesec", "%d meseca", "%d mesece"])
            },
            "year": "eno leto",
            "years": function(
                value) {
                return numpf(value, ["%d let", "%d leto", "%d leti", "%d leta"])
            },
            "wordSeparator": " "
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.sq = {
            "suffixAgo": "m\xeb par\xeb",
            "suffixFromNow": "tani",
            "seconds": "m\xeb pak se nj\xeb minut\xeb",
            "minute": "rreth nj\xeb minut\xeb",
            "minutes": "%d minuta",
            "hour": "rreth nj\xeb or\xeb",
            "hours": "rreth %d or\xeb",
            "day": "nj\xeb dit\xeb",
            "days": "%d dit\xeb",
            "month": "rreth nj\xeb muaj",
            "months": "%d muaj",
            "year": "rreth nj\xeb vit",
            "years": "%d vjet"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        var numpf = function(n, f, s, t) {
            var n10
            ;
            return 1 === (n10 = n % 10) && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        ;
        jQuery.timeago.settings.strings.sr = {
            "prefixAgo": "\u043f\u0440\u0435",
            "prefixFromNow": "\u0437\u0430",
            "suffixAgo": null,
            "suffixFromNow": null,
            "second": "\u0441\u0435\u043a\u0443\u043d\u0434",
            "seconds": function(
                value) {
                return numpf(value, "%d \u0441\u0435\u043a\u0443\u043d\u0434", "%d \u0441\u0435\u043a\u0443\u043d\u0434\u0435", "%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438")
            },
            "minute": "\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442",
            "minutes": function(
                value) {
                return numpf(value, "%d \u043c\u0438\u043d\u0443\u0442", "%d \u043c\u0438\u043d\u0443\u0442\u0430", "%d \u043c\u0438\u043d\u0443\u0442\u0430")
            },
            "hour": "\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442",
            "hours": function(
                value) {
                return numpf(value, "%d \u0441\u0430\u0442", "%d \u0441\u0430\u0442\u0430", "%d \u0441\u0430\u0442\u0438")
            },
            "day": "\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d",
            "days": function(
                value) {
                return numpf(value, "%d \u0434\u0430\u043d", "%d \u0434\u0430\u043d\u0430", "%d \u0434\u0430\u043d\u0430")
            },
            "month": "\u043c\u0435\u0441\u0435\u0446 \u0434\u0430\u043d\u0430",
            "months": function(
                value) {
                return numpf(value, "%d \u043c\u0435\u0441\u0435\u0446", "%d \u043c\u0435\u0441\u0435\u0446\u0430", "%d \u043c\u0435\u0441\u0435\u0446\u0438")
            },
            "year": "\u0433\u043e\u0434\u0438\u043d\u0443 \u0434\u0430\u043d\u0430",
            "years": function(
                value) {
                return numpf(value, "%d \u0433\u043e\u0434\u0438\u043d\u0443", "%d \u0433\u043e\u0434\u0438\u043d\u0435", "%d \u0433\u043e\u0434\u0438\u043d\u0430")
            },
            "wordSeparator": " "
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.sv = {
            "prefixAgo": "f\xf6r",
            "prefixFromNow": "om",
            "suffixAgo": "sedan",
            "suffixFromNow": "",
            "seconds": "mindre \xe4n en minut",
            "minute": "ungef\xe4r en minut",
            "minutes": "%d minuter",
            "hour": "ungef\xe4r en timme",
            "hours": "ungef\xe4r %d timmar",
            "day": "en dag",
            "days": "%d dagar",
            "month": "ungef\xe4r en m\xe5nad",
            "months": "%d m\xe5nader",
            "year": "ungef\xe4r ett \xe5r",
            "years": "%d \xe5r"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.th = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",
            "suffixFromNow": "\u0e08\u0e32\u0e01\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49",
            "seconds": "\u0e19\u0e49\u0e2d\u0e22\u0e01\u0e27\u0e48\u0e32\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e19\u0e32\u0e17\u0e35",
            "minute": "\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e19\u0e32\u0e17\u0e35",
            "minutes": "%d \u0e19\u0e32\u0e17\u0e35",
            "hour": "\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",
            "hours": "\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13 %d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",
            "day": "\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e27\u0e31\u0e19",
            "days": "%d \u0e27\u0e31\u0e19",
            "month": "\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e40\u0e14\u0e37\u0e2d\u0e19",
            "months": "%d \u0e40\u0e14\u0e37\u0e2d\u0e19",
            "year": "\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e1b\u0e35",
            "years": "%d \u0e1b\u0e35",
            "wordSeparator": "",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["tr-short"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "",
            "suffixFromNow": "",
            "seconds": "1dk",
            "minute": "1dk",
            "minutes": "%ddk",
            "hour": "1s",
            "hours": "%ds",
            "day": "1g",
            "days": "%dg",
            "month": "1ay",
            "months": "%day",
            "year": "1y",
            "years": "%dy",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.tr = {
            "suffixAgo": "\xf6nce",
            "suffixFromNow": null,
            "seconds": "birka\xe7 saniye",
            "minute": "1 dakika",
            "minutes": "%d dakika",
            "hour": "1 saat",
            "hours": "%d saat",
            "day": "1 g\xfcn",
            "days": "%d g\xfcn",
            "month": "1 ay",
            "months": "%d ay",
            "year": "1 y\u0131l",
            "years": "%d y\u0131l"
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        function numpf(n, f, s, t) {
            var n10 = n % 10;
            return 1 === n10 && (1 === n || 20 < n
            ) ? f : 1 < n10 && n10 < 5 && (20 < n || n < 10
            ) ? s : t
        }
        jQuery.timeago.settings.strings.uk = {
            "prefixAgo": null,
            "prefixFromNow": "\u0447\u0435\u0440\u0435\u0437",
            "suffixAgo": "\u0442\u043e\u043c\u0443",
            "suffixFromNow": null,
            "seconds": "\u043c\u0435\u043d\u0448\u0435 \u0445\u0432\u0438\u043b\u0438\u043d\u0438",
            "minute": "\u0445\u0432\u0438\u043b\u0438\u043d\u0430",
            "minutes": function(
                value) {
                return numpf(value, "%d \u0445\u0432\u0438\u043b\u0438\u043d\u0430", "%d \u0445\u0432\u0438\u043b\u0438\u043d\u0438", "%d \u0445\u0432\u0438\u043b\u0438\u043d")
            },
            "hour": "\u0433\u043e\u0434\u0438\u043d\u0430",
            "hours": function(
                value) {
                return numpf(value, "%d \u0433\u043e\u0434\u0438\u043d\u0430", "%d \u0433\u043e\u0434\u0438\u043d\u0438", "%d \u0433\u043e\u0434\u0438\u043d")
            },
            "day": "\u0434\u0435\u043d\u044c",
            "days": function(
                value) {
                return numpf(value, "%d \u0434\u0435\u043d\u044c", "%d \u0434\u043d\u0456", "%d \u0434\u043d\u0456\u0432")
            },
            "month": "\u043c\u0456\u0441\u044f\u0446\u044c",
            "months": function(
                value) {
                return numpf(value, "%d \u043c\u0456\u0441\u044f\u0446\u044c", "%d \u043c\u0456\u0441\u044f\u0446\u0456", "%d \u043c\u0456\u0441\u044f\u0446\u0456\u0432")
            },
            "year": "\u0440\u0456\u043a",
            "years": function(
                value) {
                return numpf(value, "%d \u0440\u0456\u043a", "%d \u0440\u043e\u043a\u0438", "%d \u0440\u043e\u043a\u0456\u0432")
            }
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.ur = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u067e\u06c1\u0644\u06d2",
            "suffixFromNow": "\u0627\u0628 \u0633\u06d2",
            "seconds": "\u06a9\u0686\u06be \u0633\u06cc\u06a9\u0646\u0688\u0632",
            "minute": "\u062a\u0642\u0631\u06cc\u0628\u0627\u064b \u0627\u06cc\u06a9 \u0645\u0646\u0679",
            "minutes": "%d \u0645\u0646\u0679",
            "hour": "\u062a\u0642\u0631\u06cc\u0628\u0627\u064b \u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",
            "hours": "\u062a\u0642\u0631\u06cc\u0628\u0627\u064b  %d \u06af\u06be\u0646\u0679\u06d2",
            "day": "\u0627\u06cc\u06a9 \u062f\u0646",
            "days": "%d \u062f\u0646",
            "month": "\u062a\u0642\u0631\u06cc\u0628\u0627\u064b \u0627\u06cc\u06a9 \u0645\u06c1\u06cc\u0646\u06c1",
            "months": "%d \u0645\u06c1\u06cc\u0646\u06d2",
            "year": "\u062a\u0642\u0631\u06cc\u0628\u0627\u064b \u0627\u06cc\u06a9 \u0633\u0627\u0644",
            "years": "%d \u0633\u0627\u0644",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.uz = {
            "prefixAgo": null,
            "prefixFromNow": "keyin",
            "suffixAgo": "avval",
            "suffixFromNow": null,
            "seconds": "bir necha soniya",
            "minute": "1 daqiqa",
            "minutes": function() {
                return "%d daqiqa"
            },
            "hour": "1 soat",
            "hours": function() {
                return "%d soat"
            },
            "day": "1 kun",
            "days": function() {
                return "%d kun"
            },
            "month": "1 oy",
            "months": function() {
                return "%d oy"
            },
            "year": "1 yil",
            "years": function() {
                return "%d yil"
            },
            "wordSeparator": " "
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings.vi = {
            "prefixAgo": "c\xe1ch \u0111\xe2y",
            "prefixFromNow": null,
            "suffixAgo": "tr\u01b0\u1edbc",
            "suffixFromNow": "k\u1ec3 t\u1eeb b\xe2y gi\u1edd",
            "seconds": "ch\u01b0a \u0111\u1ebfn m\u1ed9t ph\xfat",
            "minute": "kho\u1ea3ng m\u1ed9t ph\xfat",
            "minutes": "%d ph\xfat",
            "hour": "kho\u1ea3ng m\u1ed9t ti\u1ebfng",
            "hours": "kho\u1ea3ng %d ti\u1ebfng",
            "day": "m\u1ed9t ng\xe0y",
            "days": "%d ng\xe0y",
            "month": "kho\u1ea3ng m\u1ed9t th\xe1ng",
            "months": "%d th\xe1ng",
            "year": "kho\u1ea3ng m\u1ed9t n\u0103m",
            "years": "%d n\u0103m",
            "wordSeparator": " ",
            "numbers": []
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["zh-CN"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u4e4b\u524d",
            "suffixFromNow": "\u4e4b\u540e",
            "seconds": "\u4e0d\u52301\u5206\u949f",
            "minute": "\u5927\u7ea61\u5206\u949f",
            "minutes": "%d\u5206\u949f",
            "hour": "\u5927\u7ea61\u5c0f\u65f6",
            "hours": "\u5927\u7ea6%d\u5c0f\u65f6",
            "day": "1\u5929",
            "days": "%d\u5929",
            "month": "\u5927\u7ea61\u4e2a\u6708",
            "months": "%d\u6708",
            "year": "\u5927\u7ea61\u5e74",
            "years": "%d\u5e74",
            "numbers": [],
            "wordSeparator": ""
        }
    }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof module && "object" == typeof module.exports ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        jQuery) {
        jQuery.timeago.settings.strings["zh-TW"] = {
            "prefixAgo": null,
            "prefixFromNow": null,
            "suffixAgo": "\u4e4b\u524d",
            "suffixFromNow": "\u4e4b\u5f8c",
            "seconds": "\u4e0d\u52301\u5206\u9418",
            "minute": "\u5927\u7d041\u5206\u9418",
            "minutes": "%d\u5206\u9418",
            "hour": "\u5927\u7d041\u5c0f\u6642",
            "hours": "%d\u5c0f\u6642",
            "day": "\u5927\u7d041\u5929",
            "days": "%d\u5929",
            "month": "\u5927\u7d041\u500b\u6708",
            "months": "%d\u500b\u6708",
            "year": "\u5927\u7d041\u5e74",
            "years": "%d\u5e74",
            "numbers": [],
            "wordSeparator": ""
        }
    }),
    function(
        $) {
        "undefined" == typeof $.fn.each2 && $.extend($.fn, {
            "each2": function(
                c) {
                for (
                    var j = $([0]), i = -1,
                        l = this.length; ++i < l && (
                        j.context = j[0] = this[i]
                    ) && !1 !== c.call(j[0], i, j););
                return this
            }
        })
    }(
        jQuery),
    function(
        $, undefined) {
        "use strict"
        ;
        function reinsertElement(element) {
            var placeholder = $(document.createTextNode(""))
            ;
            element.before(placeholder),
                placeholder.before(element),
                placeholder.remove()
        }
        function stripDiacritics(str) {
            function match(a) {
                return DIACRITICS[a] || a
            }
            return str.replace(/[^\u0000-\u007E]/g, match)
        }
        function indexOf(value, array) {
            for (
                var i = 0,
                    l = array.length; i < l; i += 1)
                if (
                    equal(value, array[i])) return i
                ;
            return -1
        }
        function measureScrollbar() {
            var $template = $(MEASURE_SCROLLBAR_TEMPLATE);
            $template.appendTo(document.body)
            ;
            var dim = {
                "width": $template.width() - $template[0].clientWidth,
                "height": $template.height() - $template[0].clientHeight
            }
            ;
            return $template.remove(),
                dim
        }
        function equal(a, b) {
            return a === b || a !== undefined && b !== undefined && (
                null !== a && null !== b && (
                    a.constructor === String ? a + "" == b + "" : b.constructor === String && b + "" == a + ""))
        }
        function splitVal(string, separator, transform) {
            var val, i, l;
            if (
                null === string || string.length < 1) return [];
            for (
                i = 0, l = (val = string.split(separator)).length; i < l; i += 1) val[i] = transform(val[i]);
            return val
        }
        function getSideBorderPadding(element) {
            return element.outerWidth(!1) - element.width()
        }
        function installKeyUpChangeEvent(element) {
            var key = "keyup-change-value";
            element.on("keydown", function() {
                    $.data(element, key) === undefined && $.data(element, key, element.val())
                }),
                element.on("keyup", function() {
                    var val = $.data(element, key);
                    val !== undefined && element.val() !== val && (
                        $.removeData(element, key),
                        element.trigger("keyup-change"))
                })
        }
        function installFilteredMouseMove(element) {
            element.on("mousemove", function(e) {
                var lastpos = lastMousePosition
                ;
                lastpos !== undefined && lastpos.x === e.pageX && lastpos.y === e.pageY || $(e.target).trigger("mousemove-filtered", e)
            })
        }
        function debounce(quietMillis, fn, ctx) {
            var timeout;
            return ctx = ctx || undefined,
                function() {
                    var args = arguments;
                    window.clearTimeout(timeout),
                        timeout = window.setTimeout(function() {
                                fn.apply(ctx, args)
                            },
                            quietMillis)
                }
        }
        function installDebouncedScroll(threshold, element) {
            var notify = debounce(threshold, function(e) {
                element.trigger("scroll-debounced", e)
            });
            element.on("scroll", function(e) {
                0 <= indexOf(e.target, element.get()) && notify(e)
            })
        }
        function focus($el) {
            $el[0] !== document.activeElement && window.setTimeout(function() {
                    var range, el = $el[0],
                        pos = $el.val().length
                    ;
                    $el.focus(), (
                        0 < el.offsetWidth || 0 < el.offsetHeight
                    ) && el === document.activeElement && (
                        el.setSelectionRange ? el.setSelectionRange(pos, pos
                        ) : el.createTextRange && ((
                                range = el.createTextRange()
                            ).collapse(!1),
                            range.select()))
                },
                0)
        }
        function getCursorInfo(el) {
            var offset = 0,
                length = 0;
            if (
                "selectionStart" in (el = $(el)[0])
            ) offset = el.selectionStart,
                length = el.selectionEnd - offset;
            else if (
                "selection" in document) {
                el.focus();
                var sel = document.selection.createRange();
                length = document.selection.createRange().text.length,
                    sel.moveStart("character", -el.value.length),
                    offset = sel.text.length - length
            }
            return {
                "offset": offset,
                "length": length
            }
        }
        function killEvent(event) {
            event.preventDefault(),
                event.stopPropagation()
        }
        function killEventImmediately(event) {
            event.preventDefault(),
                event.stopImmediatePropagation()
        }
        function measureTextWidth(e) {
            if (!sizer) {
                var style = e[0].currentStyle || window.getComputedStyle(e[0], null);
                (
                    sizer = $(document.createElement("div")).css({
                        "position": "absolute",
                        "left": "-10000px",
                        "top": "-10000px",
                        "display": "none",
                        "fontSize": style.fontSize,
                        "fontFamily": style.fontFamily,
                        "fontStyle": style.fontStyle,
                        "fontWeight": style.fontWeight,
                        "letterSpacing": style.letterSpacing,
                        "textTransform": style.textTransform,
                        "whiteSpace": "nowrap"
                    })
                ).attr("class", "select2-sizer"),
                    $(document.body).append(sizer)
            }
            return sizer.text(e.val()),
                sizer.width()
        }
        function syncCssClasses(dest, src, adapter) {
            var classes, adapted, replacements = [];
            (
                classes = $.trim(dest.attr("class"))
            ) && $((classes = "" + classes).split(/\s+/)).each2(function() {
                    0 === this.indexOf("select2-") && replacements.push(this)
                }), (
                    classes = $.trim(src.attr("class"))
                ) && $((classes = "" + classes).split(/\s+/)).each2(function() {
                    0 !== this.indexOf("select2-") && (
                        adapted = adapter(this)
                    ) && replacements.push(adapted)
                }),
                dest.attr("class", replacements.join(" "))
        }
        function markMatch(text, term, markup, escapeMarkup) {
            var match = stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),
                tl = term.length
            ;
            match < 0 ? markup.push(escapeMarkup(text)) : (
                markup.push(escapeMarkup(text.substring(0, match))),
                markup.push("<span class='select2-match'>"),
                markup.push(escapeMarkup(text.substring(match, match + tl))),
                markup.push("</span>"),
                markup.push(escapeMarkup(text.substring(match + tl, text.length))))
        }
        function defaultEscapeMarkup(markup) {
            var replace_map = {
                "\\": "&#92;",
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "/": "&#47;"
            }
            ;
            return String(markup).replace(/[&<>"'\/\\]/g, function(match) {
                return replace_map[match]
            })
        }
        function ajax(options) {
            var timeout,
                handler = null,
                quietMillis = options.quietMillis || 100,
                ajaxUrl = options.url,
                self = this;
            return function(
                query) {
                window.clearTimeout(timeout),
                    timeout = window.setTimeout(function() {
                            var data = options.data,
                                url = ajaxUrl,
                                transport = options.transport || $.fn.select2.ajaxDefaults.transport,
                                deprecated = {
                                    "type": options.type || "GET",
                                    "cache": options.cache || !1,
                                    "jsonpCallback": options.jsonpCallback || undefined,
                                    "dataType": options.dataType || "json"
                                },
                                params = $.extend({}, $.fn.select2.ajaxDefaults.params, deprecated)
                            ;
                            data = data ? data.call(self, query.term, query.page, query.context) : null,
                                url = "function" == typeof url ? url.call(self, query.term, query.page, query.context) : url,
                                handler && "function" == typeof handler.abort && handler.abort(),
                                options.params && (
                                    $.isFunction(options.params) ? $.extend(params, options.params.call(self)
                                    ) : $.extend(params, options.params)),
                                $.extend(params, {
                                    "url": url,
                                    "dataType": options.dataType,
                                    "data": data,
                                    "success": function(
                                        data) {
                                        var results = options.results(data, query.page, query);
                                        query.callback(results)
                                    },
                                    "error": function(
                                        jqXHR, textStatus, errorThrown) {
                                        var results = {
                                            "hasError": !0,
                                            "jqXHR": jqXHR,
                                            "textStatus": textStatus,
                                            "errorThrown": errorThrown
                                        }
                                        ;
                                        query.callback(results)
                                    }
                                }),
                                handler = transport.call(self, params)
                        },
                        quietMillis)
            }
        }
        function local(options) {
            var dataText,
                tmp, data = options,
                text = function(item) {
                    return "" + item.text
                }
            ;
            $.isArray(data) && (
                    data = {
                        "results": tmp = data
                    }),
                !1 === $.isFunction(data) && (
                    tmp = data,
                    data = function() {
                        return tmp
                    })
            ;
            var dataItem = data();
            return dataItem.text && (
                    text = dataItem.text,
                    $.isFunction(text) || (
                        dataText = dataItem.text,
                        text = function(item) {
                            return item[dataText]
                        })),
                function(
                    query) {
                    var process, t = query.term,
                        filtered = {
                            "results": []
                        };
                    "" !== t ? (
                        process = function(datum, collection) {
                            var group, attr;
                            if ((
                                    datum = datum[0]
                                ).children) {
                                for (
                                    attr in group = {}, datum
                                ) datum.hasOwnProperty(attr) && (group[attr] = datum[attr])
                                ;
                                group.children = [],
                                    $(datum.children).each2(function(i, childDatum) {
                                        process(childDatum, group.children)
                                    }), (
                                        group.children.length || query.matcher(t, text(group), datum)
                                    ) && collection.push(group)
                            } else query.matcher(t, text(datum), datum) && collection.push(datum)
                        },
                        $(data().results).each2(function(i, datum) {
                            process(datum, filtered.results)
                        }),
                        query.callback(filtered)) : query.callback(data())
                }
        }
        function tags(data) {
            var isFunc = $.isFunction(data);
            return function(
                query) {
                var t = query.term,
                    filtered = {
                        "results": []
                    },
                    result = isFunc ? data(query) : data;
                $.isArray(result) && (
                    $(result).each(function() {
                        var isObject = this.text !== undefined,
                            text = isObject ? this.text : this;
                        (
                            "" === t || query.matcher(t, text)
                        ) && filtered.results.push(isObject ? this : {
                            "id": this,
                            "text": this
                        })
                    }),
                    query.callback(filtered))
            }
        }
        function checkFormatter(formatter, formatterName) {
            if (
                $.isFunction(formatter)) return !0;
            if (!formatter) return !1;
            if (
                "string" == typeof formatter) return !0;
            throw new Error(formatterName + " must be a string, function, or falsy value")
        }
        function evaluate(val, context) {
            if (
                $.isFunction(val)) {
                var args = Array.prototype.slice.call(arguments, 2);
                return val.apply(context, args)
            }
            return val
        }
        function countResults(results) {
            var count = 0;
            return $.each(results, function(i, item) {
                    item.children ? count += countResults(item.children
                    ) : count++
                }),
                count
        }
        function defaultTokenizer(input, selection, selectCallback, opts) {
            var token,
                index,
                i, l,
                separator, original = input,
                dupe = !1;
            if (
                !opts.createSearchChoice || !opts.tokenSeparators || opts.tokenSeparators.length < 1) return undefined;
            for (;;) {
                for (
                    index = -1,
                    i = 0, l = opts.tokenSeparators.length; i < l && (
                        separator = opts.tokenSeparators[i], !(
                            0 <= (index = input.indexOf(separator)))); i++);
                if (
                    index < 0) break;
                if (
                    token = input.substring(0, index),
                    input = input.substring(index + separator.length),
                    0 < token.length && (
                        token = opts.createSearchChoice.call(this, token, selection)
                    ) !== undefined && null !== token && opts.id(token) !== undefined && null !== opts.id(token)) {
                    for (
                        dupe = !1,
                        i = 0, l = selection.length; i < l; i++)
                        if (
                            equal(opts.id(token), opts.id(selection[i]))) {
                            dupe = !0;
                            break
                        }
                    dupe || selectCallback(token)
                }
            }
            return original !== input ? input : void 0
        }
        function cleanupJQueryElements() {
            var self = this
            ;
            $.each(arguments, function(i, element) {
                self[element].remove(),
                    self[element] = null
            })
        }
        function clazz(SuperClass, methods) {
            var constructor = function() {};
            return constructor.prototype = new SuperClass, (
                    constructor.prototype.constructor = constructor
                ).prototype.parent = SuperClass.prototype,
                constructor.prototype = $.extend(constructor.prototype, methods),
                constructor
        }
        if (window.Select2 === undefined) {
            var AbstractSelect2, SingleSelect2, MultiSelect2, nextUid, sizer, $document, scrollBarDimensions, counter, lastMousePosition = {
                    "x": 0,
                    "y": 0
                },
                KEY = {
                    "TAB": 9,
                    "ENTER": 13,
                    "ESC": 27,
                    "SPACE": 32,
                    "LEFT": 37,
                    "UP": 38,
                    "RIGHT": 39,
                    "DOWN": 40,
                    "SHIFT": 16,
                    "CTRL": 17,
                    "ALT": 18,
                    "PAGE_UP": 33,
                    "PAGE_DOWN": 34,
                    "HOME": 36,
                    "END": 35,
                    "BACKSPACE": 8,
                    "DELETE": 46,
                    "isArrow": function(k) {
                        switch (k = k.which ? k.which : k) {
                            case KEY.LEFT:
                            case KEY.RIGHT:
                            case KEY.UP:
                            case KEY.DOWN:
                                return !0
                        }
                        return !1
                    },
                    "isControl": function(e) {
                        switch (e.which) {
                            case KEY.SHIFT:
                            case KEY.CTRL:
                            case KEY.ALT:
                                return !0
                        }
                        return !!e.metaKey
                    },
                    "isFunctionKey": function(k) {
                        return 112 <= (k = k.which ? k.which : k) && k <= 123
                    }
                },
                MEASURE_SCROLLBAR_TEMPLATE = "<div class='select2-measure-scrollbar'></div>",
                DIACRITICS = {
                    "\u24b6": "A",
                    "\uff21": "A",
                    "\xc0": "A",
                    "\xc1": "A",
                    "\xc2": "A",
                    "\u1ea6": "A",
                    "\u1ea4": "A",
                    "\u1eaa": "A",
                    "\u1ea8": "A",
                    "\xc3": "A",
                    "\u0100": "A",
                    "\u0102": "A",
                    "\u1eb0": "A",
                    "\u1eae": "A",
                    "\u1eb4": "A",
                    "\u1eb2": "A",
                    "\u0226": "A",
                    "\u01e0": "A",
                    "\xc4": "A",
                    "\u01de": "A",
                    "\u1ea2": "A",
                    "\xc5": "A",
                    "\u01fa": "A",
                    "\u01cd": "A",
                    "\u0200": "A",
                    "\u0202": "A",
                    "\u1ea0": "A",
                    "\u1eac": "A",
                    "\u1eb6": "A",
                    "\u1e00": "A",
                    "\u0104": "A",
                    "\u023a": "A",
                    "\u2c6f": "A",
                    "\ua732": "AA",
                    "\xc6": "AE",
                    "\u01fc": "AE",
                    "\u01e2": "AE",
                    "\ua734": "AO",
                    "\ua736": "AU",
                    "\ua738": "AV",
                    "\ua73a": "AV",
                    "\ua73c": "AY",
                    "\u24b7": "B",
                    "\uff22": "B",
                    "\u1e02": "B",
                    "\u1e04": "B",
                    "\u1e06": "B",
                    "\u0243": "B",
                    "\u0182": "B",
                    "\u0181": "B",
                    "\u24b8": "C",
                    "\uff23": "C",
                    "\u0106": "C",
                    "\u0108": "C",
                    "\u010a": "C",
                    "\u010c": "C",
                    "\xc7": "C",
                    "\u1e08": "C",
                    "\u0187": "C",
                    "\u023b": "C",
                    "\ua73e": "C",
                    "\u24b9": "D",
                    "\uff24": "D",
                    "\u1e0a": "D",
                    "\u010e": "D",
                    "\u1e0c": "D",
                    "\u1e10": "D",
                    "\u1e12": "D",
                    "\u1e0e": "D",
                    "\u0110": "D",
                    "\u018b": "D",
                    "\u018a": "D",
                    "\u0189": "D",
                    "\ua779": "D",
                    "\u01f1": "DZ",
                    "\u01c4": "DZ",
                    "\u01f2": "Dz",
                    "\u01c5": "Dz",
                    "\u24ba": "E",
                    "\uff25": "E",
                    "\xc8": "E",
                    "\xc9": "E",
                    "\xca": "E",
                    "\u1ec0": "E",
                    "\u1ebe": "E",
                    "\u1ec4": "E",
                    "\u1ec2": "E",
                    "\u1ebc": "E",
                    "\u0112": "E",
                    "\u1e14": "E",
                    "\u1e16": "E",
                    "\u0114": "E",
                    "\u0116": "E",
                    "\xcb": "E",
                    "\u1eba": "E",
                    "\u011a": "E",
                    "\u0204": "E",
                    "\u0206": "E",
                    "\u1eb8": "E",
                    "\u1ec6": "E",
                    "\u0228": "E",
                    "\u1e1c": "E",
                    "\u0118": "E",
                    "\u1e18": "E",
                    "\u1e1a": "E",
                    "\u0190": "E",
                    "\u018e": "E",
                    "\u24bb": "F",
                    "\uff26": "F",
                    "\u1e1e": "F",
                    "\u0191": "F",
                    "\ua77b": "F",
                    "\u24bc": "G",
                    "\uff27": "G",
                    "\u01f4": "G",
                    "\u011c": "G",
                    "\u1e20": "G",
                    "\u011e": "G",
                    "\u0120": "G",
                    "\u01e6": "G",
                    "\u0122": "G",
                    "\u01e4": "G",
                    "\u0193": "G",
                    "\ua7a0": "G",
                    "\ua77d": "G",
                    "\ua77e": "G",
                    "\u24bd": "H",
                    "\uff28": "H",
                    "\u0124": "H",
                    "\u1e22": "H",
                    "\u1e26": "H",
                    "\u021e": "H",
                    "\u1e24": "H",
                    "\u1e28": "H",
                    "\u1e2a": "H",
                    "\u0126": "H",
                    "\u2c67": "H",
                    "\u2c75": "H",
                    "\ua78d": "H",
                    "\u24be": "I",
                    "\uff29": "I",
                    "\xcc": "I",
                    "\xcd": "I",
                    "\xce": "I",
                    "\u0128": "I",
                    "\u012a": "I",
                    "\u012c": "I",
                    "\u0130": "I",
                    "\xcf": "I",
                    "\u1e2e": "I",
                    "\u1ec8": "I",
                    "\u01cf": "I",
                    "\u0208": "I",
                    "\u020a": "I",
                    "\u1eca": "I",
                    "\u012e": "I",
                    "\u1e2c": "I",
                    "\u0197": "I",
                    "\u24bf": "J",
                    "\uff2a": "J",
                    "\u0134": "J",
                    "\u0248": "J",
                    "\u24c0": "K",
                    "\uff2b": "K",
                    "\u1e30": "K",
                    "\u01e8": "K",
                    "\u1e32": "K",
                    "\u0136": "K",
                    "\u1e34": "K",
                    "\u0198": "K",
                    "\u2c69": "K",
                    "\ua740": "K",
                    "\ua742": "K",
                    "\ua744": "K",
                    "\ua7a2": "K",
                    "\u24c1": "L",
                    "\uff2c": "L",
                    "\u013f": "L",
                    "\u0139": "L",
                    "\u013d": "L",
                    "\u1e36": "L",
                    "\u1e38": "L",
                    "\u013b": "L",
                    "\u1e3c": "L",
                    "\u1e3a": "L",
                    "\u0141": "L",
                    "\u023d": "L",
                    "\u2c62": "L",
                    "\u2c60": "L",
                    "\ua748": "L",
                    "\ua746": "L",
                    "\ua780": "L",
                    "\u01c7": "LJ",
                    "\u01c8": "Lj",
                    "\u24c2": "M",
                    "\uff2d": "M",
                    "\u1e3e": "M",
                    "\u1e40": "M",
                    "\u1e42": "M",
                    "\u2c6e": "M",
                    "\u019c": "M",
                    "\u24c3": "N",
                    "\uff2e": "N",
                    "\u01f8": "N",
                    "\u0143": "N",
                    "\xd1": "N",
                    "\u1e44": "N",
                    "\u0147": "N",
                    "\u1e46": "N",
                    "\u0145": "N",
                    "\u1e4a": "N",
                    "\u1e48": "N",
                    "\u0220": "N",
                    "\u019d": "N",
                    "\ua790": "N",
                    "\ua7a4": "N",
                    "\u01ca": "NJ",
                    "\u01cb": "Nj",
                    "\u24c4": "O",
                    "\uff2f": "O",
                    "\xd2": "O",
                    "\xd3": "O",
                    "\xd4": "O",
                    "\u1ed2": "O",
                    "\u1ed0": "O",
                    "\u1ed6": "O",
                    "\u1ed4": "O",
                    "\xd5": "O",
                    "\u1e4c": "O",
                    "\u022c": "O",
                    "\u1e4e": "O",
                    "\u014c": "O",
                    "\u1e50": "O",
                    "\u1e52": "O",
                    "\u014e": "O",
                    "\u022e": "O",
                    "\u0230": "O",
                    "\xd6": "O",
                    "\u022a": "O",
                    "\u1ece": "O",
                    "\u0150": "O",
                    "\u01d1": "O",
                    "\u020c": "O",
                    "\u020e": "O",
                    "\u01a0": "O",
                    "\u1edc": "O",
                    "\u1eda": "O",
                    "\u1ee0": "O",
                    "\u1ede": "O",
                    "\u1ee2": "O",
                    "\u1ecc": "O",
                    "\u1ed8": "O",
                    "\u01ea": "O",
                    "\u01ec": "O",
                    "\xd8": "O",
                    "\u01fe": "O",
                    "\u0186": "O",
                    "\u019f": "O",
                    "\ua74a": "O",
                    "\ua74c": "O",
                    "\u01a2": "OI",
                    "\ua74e": "OO",
                    "\u0222": "OU",
                    "\u24c5": "P",
                    "\uff30": "P",
                    "\u1e54": "P",
                    "\u1e56": "P",
                    "\u01a4": "P",
                    "\u2c63": "P",
                    "\ua750": "P",
                    "\ua752": "P",
                    "\ua754": "P",
                    "\u24c6": "Q",
                    "\uff31": "Q",
                    "\ua756": "Q",
                    "\ua758": "Q",
                    "\u024a": "Q",
                    "\u24c7": "R",
                    "\uff32": "R",
                    "\u0154": "R",
                    "\u1e58": "R",
                    "\u0158": "R",
                    "\u0210": "R",
                    "\u0212": "R",
                    "\u1e5a": "R",
                    "\u1e5c": "R",
                    "\u0156": "R",
                    "\u1e5e": "R",
                    "\u024c": "R",
                    "\u2c64": "R",
                    "\ua75a": "R",
                    "\ua7a6": "R",
                    "\ua782": "R",
                    "\u24c8": "S",
                    "\uff33": "S",
                    "\u1e9e": "S",
                    "\u015a": "S",
                    "\u1e64": "S",
                    "\u015c": "S",
                    "\u1e60": "S",
                    "\u0160": "S",
                    "\u1e66": "S",
                    "\u1e62": "S",
                    "\u1e68": "S",
                    "\u0218": "S",
                    "\u015e": "S",
                    "\u2c7e": "S",
                    "\ua7a8": "S",
                    "\ua784": "S",
                    "\u24c9": "T",
                    "\uff34": "T",
                    "\u1e6a": "T",
                    "\u0164": "T",
                    "\u1e6c": "T",
                    "\u021a": "T",
                    "\u0162": "T",
                    "\u1e70": "T",
                    "\u1e6e": "T",
                    "\u0166": "T",
                    "\u01ac": "T",
                    "\u01ae": "T",
                    "\u023e": "T",
                    "\ua786": "T",
                    "\ua728": "TZ",
                    "\u24ca": "U",
                    "\uff35": "U",
                    "\xd9": "U",
                    "\xda": "U",
                    "\xdb": "U",
                    "\u0168": "U",
                    "\u1e78": "U",
                    "\u016a": "U",
                    "\u1e7a": "U",
                    "\u016c": "U",
                    "\xdc": "U",
                    "\u01db": "U",
                    "\u01d7": "U",
                    "\u01d5": "U",
                    "\u01d9": "U",
                    "\u1ee6": "U",
                    "\u016e": "U",
                    "\u0170": "U",
                    "\u01d3": "U",
                    "\u0214": "U",
                    "\u0216": "U",
                    "\u01af": "U",
                    "\u1eea": "U",
                    "\u1ee8": "U",
                    "\u1eee": "U",
                    "\u1eec": "U",
                    "\u1ef0": "U",
                    "\u1ee4": "U",
                    "\u1e72": "U",
                    "\u0172": "U",
                    "\u1e76": "U",
                    "\u1e74": "U",
                    "\u0244": "U",
                    "\u24cb": "V",
                    "\uff36": "V",
                    "\u1e7c": "V",
                    "\u1e7e": "V",
                    "\u01b2": "V",
                    "\ua75e": "V",
                    "\u0245": "V",
                    "\ua760": "VY",
                    "\u24cc": "W",
                    "\uff37": "W",
                    "\u1e80": "W",
                    "\u1e82": "W",
                    "\u0174": "W",
                    "\u1e86": "W",
                    "\u1e84": "W",
                    "\u1e88": "W",
                    "\u2c72": "W",
                    "\u24cd": "X",
                    "\uff38": "X",
                    "\u1e8a": "X",
                    "\u1e8c": "X",
                    "\u24ce": "Y",
                    "\uff39": "Y",
                    "\u1ef2": "Y",
                    "\xdd": "Y",
                    "\u0176": "Y",
                    "\u1ef8": "Y",
                    "\u0232": "Y",
                    "\u1e8e": "Y",
                    "\u0178": "Y",
                    "\u1ef6": "Y",
                    "\u1ef4": "Y",
                    "\u01b3": "Y",
                    "\u024e": "Y",
                    "\u1efe": "Y",
                    "\u24cf": "Z",
                    "\uff3a": "Z",
                    "\u0179": "Z",
                    "\u1e90": "Z",
                    "\u017b": "Z",
                    "\u017d": "Z",
                    "\u1e92": "Z",
                    "\u1e94": "Z",
                    "\u01b5": "Z",
                    "\u0224": "Z",
                    "\u2c7f": "Z",
                    "\u2c6b": "Z",
                    "\ua762": "Z",
                    "\u24d0": "a",
                    "\uff41": "a",
                    "\u1e9a": "a",
                    "\xe0": "a",
                    "\xe1": "a",
                    "\xe2": "a",
                    "\u1ea7": "a",
                    "\u1ea5": "a",
                    "\u1eab": "a",
                    "\u1ea9": "a",
                    "\xe3": "a",
                    "\u0101": "a",
                    "\u0103": "a",
                    "\u1eb1": "a",
                    "\u1eaf": "a",
                    "\u1eb5": "a",
                    "\u1eb3": "a",
                    "\u0227": "a",
                    "\u01e1": "a",
                    "\xe4": "a",
                    "\u01df": "a",
                    "\u1ea3": "a",
                    "\xe5": "a",
                    "\u01fb": "a",
                    "\u01ce": "a",
                    "\u0201": "a",
                    "\u0203": "a",
                    "\u1ea1": "a",
                    "\u1ead": "a",
                    "\u1eb7": "a",
                    "\u1e01": "a",
                    "\u0105": "a",
                    "\u2c65": "a",
                    "\u0250": "a",
                    "\ua733": "aa",
                    "\xe6": "ae",
                    "\u01fd": "ae",
                    "\u01e3": "ae",
                    "\ua735": "ao",
                    "\ua737": "au",
                    "\ua739": "av",
                    "\ua73b": "av",
                    "\ua73d": "ay",
                    "\u24d1": "b",
                    "\uff42": "b",
                    "\u1e03": "b",
                    "\u1e05": "b",
                    "\u1e07": "b",
                    "\u0180": "b",
                    "\u0183": "b",
                    "\u0253": "b",
                    "\u24d2": "c",
                    "\uff43": "c",
                    "\u0107": "c",
                    "\u0109": "c",
                    "\u010b": "c",
                    "\u010d": "c",
                    "\xe7": "c",
                    "\u1e09": "c",
                    "\u0188": "c",
                    "\u023c": "c",
                    "\ua73f": "c",
                    "\u2184": "c",
                    "\u24d3": "d",
                    "\uff44": "d",
                    "\u1e0b": "d",
                    "\u010f": "d",
                    "\u1e0d": "d",
                    "\u1e11": "d",
                    "\u1e13": "d",
                    "\u1e0f": "d",
                    "\u0111": "d",
                    "\u018c": "d",
                    "\u0256": "d",
                    "\u0257": "d",
                    "\ua77a": "d",
                    "\u01f3": "dz",
                    "\u01c6": "dz",
                    "\u24d4": "e",
                    "\uff45": "e",
                    "\xe8": "e",
                    "\xe9": "e",
                    "\xea": "e",
                    "\u1ec1": "e",
                    "\u1ebf": "e",
                    "\u1ec5": "e",
                    "\u1ec3": "e",
                    "\u1ebd": "e",
                    "\u0113": "e",
                    "\u1e15": "e",
                    "\u1e17": "e",
                    "\u0115": "e",
                    "\u0117": "e",
                    "\xeb": "e",
                    "\u1ebb": "e",
                    "\u011b": "e",
                    "\u0205": "e",
                    "\u0207": "e",
                    "\u1eb9": "e",
                    "\u1ec7": "e",
                    "\u0229": "e",
                    "\u1e1d": "e",
                    "\u0119": "e",
                    "\u1e19": "e",
                    "\u1e1b": "e",
                    "\u0247": "e",
                    "\u025b": "e",
                    "\u01dd": "e",
                    "\u24d5": "f",
                    "\uff46": "f",
                    "\u1e1f": "f",
                    "\u0192": "f",
                    "\ua77c": "f",
                    "\u24d6": "g",
                    "\uff47": "g",
                    "\u01f5": "g",
                    "\u011d": "g",
                    "\u1e21": "g",
                    "\u011f": "g",
                    "\u0121": "g",
                    "\u01e7": "g",
                    "\u0123": "g",
                    "\u01e5": "g",
                    "\u0260": "g",
                    "\ua7a1": "g",
                    "\u1d79": "g",
                    "\ua77f": "g",
                    "\u24d7": "h",
                    "\uff48": "h",
                    "\u0125": "h",
                    "\u1e23": "h",
                    "\u1e27": "h",
                    "\u021f": "h",
                    "\u1e25": "h",
                    "\u1e29": "h",
                    "\u1e2b": "h",
                    "\u1e96": "h",
                    "\u0127": "h",
                    "\u2c68": "h",
                    "\u2c76": "h",
                    "\u0265": "h",
                    "\u0195": "hv",
                    "\u24d8": "i",
                    "\uff49": "i",
                    "\xec": "i",
                    "\xed": "i",
                    "\xee": "i",
                    "\u0129": "i",
                    "\u012b": "i",
                    "\u012d": "i",
                    "\xef": "i",
                    "\u1e2f": "i",
                    "\u1ec9": "i",
                    "\u01d0": "i",
                    "\u0209": "i",
                    "\u020b": "i",
                    "\u1ecb": "i",
                    "\u012f": "i",
                    "\u1e2d": "i",
                    "\u0268": "i",
                    "\u0131": "i",
                    "\u24d9": "j",
                    "\uff4a": "j",
                    "\u0135": "j",
                    "\u01f0": "j",
                    "\u0249": "j",
                    "\u24da": "k",
                    "\uff4b": "k",
                    "\u1e31": "k",
                    "\u01e9": "k",
                    "\u1e33": "k",
                    "\u0137": "k",
                    "\u1e35": "k",
                    "\u0199": "k",
                    "\u2c6a": "k",
                    "\ua741": "k",
                    "\ua743": "k",
                    "\ua745": "k",
                    "\ua7a3": "k",
                    "\u24db": "l",
                    "\uff4c": "l",
                    "\u0140": "l",
                    "\u013a": "l",
                    "\u013e": "l",
                    "\u1e37": "l",
                    "\u1e39": "l",
                    "\u013c": "l",
                    "\u1e3d": "l",
                    "\u1e3b": "l",
                    "\u017f": "l",
                    "\u0142": "l",
                    "\u019a": "l",
                    "\u026b": "l",
                    "\u2c61": "l",
                    "\ua749": "l",
                    "\ua781": "l",
                    "\ua747": "l",
                    "\u01c9": "lj",
                    "\u24dc": "m",
                    "\uff4d": "m",
                    "\u1e3f": "m",
                    "\u1e41": "m",
                    "\u1e43": "m",
                    "\u0271": "m",
                    "\u026f": "m",
                    "\u24dd": "n",
                    "\uff4e": "n",
                    "\u01f9": "n",
                    "\u0144": "n",
                    "\xf1": "n",
                    "\u1e45": "n",
                    "\u0148": "n",
                    "\u1e47": "n",
                    "\u0146": "n",
                    "\u1e4b": "n",
                    "\u1e49": "n",
                    "\u019e": "n",
                    "\u0272": "n",
                    "\u0149": "n",
                    "\ua791": "n",
                    "\ua7a5": "n",
                    "\u01cc": "nj",
                    "\u24de": "o",
                    "\uff4f": "o",
                    "\xf2": "o",
                    "\xf3": "o",
                    "\xf4": "o",
                    "\u1ed3": "o",
                    "\u1ed1": "o",
                    "\u1ed7": "o",
                    "\u1ed5": "o",
                    "\xf5": "o",
                    "\u1e4d": "o",
                    "\u022d": "o",
                    "\u1e4f": "o",
                    "\u014d": "o",
                    "\u1e51": "o",
                    "\u1e53": "o",
                    "\u014f": "o",
                    "\u022f": "o",
                    "\u0231": "o",
                    "\xf6": "o",
                    "\u022b": "o",
                    "\u1ecf": "o",
                    "\u0151": "o",
                    "\u01d2": "o",
                    "\u020d": "o",
                    "\u020f": "o",
                    "\u01a1": "o",
                    "\u1edd": "o",
                    "\u1edb": "o",
                    "\u1ee1": "o",
                    "\u1edf": "o",
                    "\u1ee3": "o",
                    "\u1ecd": "o",
                    "\u1ed9": "o",
                    "\u01eb": "o",
                    "\u01ed": "o",
                    "\xf8": "o",
                    "\u01ff": "o",
                    "\u0254": "o",
                    "\ua74b": "o",
                    "\ua74d": "o",
                    "\u0275": "o",
                    "\u01a3": "oi",
                    "\u0223": "ou",
                    "\ua74f": "oo",
                    "\u24df": "p",
                    "\uff50": "p",
                    "\u1e55": "p",
                    "\u1e57": "p",
                    "\u01a5": "p",
                    "\u1d7d": "p",
                    "\ua751": "p",
                    "\ua753": "p",
                    "\ua755": "p",
                    "\u24e0": "q",
                    "\uff51": "q",
                    "\u024b": "q",
                    "\ua757": "q",
                    "\ua759": "q",
                    "\u24e1": "r",
                    "\uff52": "r",
                    "\u0155": "r",
                    "\u1e59": "r",
                    "\u0159": "r",
                    "\u0211": "r",
                    "\u0213": "r",
                    "\u1e5b": "r",
                    "\u1e5d": "r",
                    "\u0157": "r",
                    "\u1e5f": "r",
                    "\u024d": "r",
                    "\u027d": "r",
                    "\ua75b": "r",
                    "\ua7a7": "r",
                    "\ua783": "r",
                    "\u24e2": "s",
                    "\uff53": "s",
                    "\xdf": "s",
                    "\u015b": "s",
                    "\u1e65": "s",
                    "\u015d": "s",
                    "\u1e61": "s",
                    "\u0161": "s",
                    "\u1e67": "s",
                    "\u1e63": "s",
                    "\u1e69": "s",
                    "\u0219": "s",
                    "\u015f": "s",
                    "\u023f": "s",
                    "\ua7a9": "s",
                    "\ua785": "s",
                    "\u1e9b": "s",
                    "\u24e3": "t",
                    "\uff54": "t",
                    "\u1e6b": "t",
                    "\u1e97": "t",
                    "\u0165": "t",
                    "\u1e6d": "t",
                    "\u021b": "t",
                    "\u0163": "t",
                    "\u1e71": "t",
                    "\u1e6f": "t",
                    "\u0167": "t",
                    "\u01ad": "t",
                    "\u0288": "t",
                    "\u2c66": "t",
                    "\ua787": "t",
                    "\ua729": "tz",
                    "\u24e4": "u",
                    "\uff55": "u",
                    "\xf9": "u",
                    "\xfa": "u",
                    "\xfb": "u",
                    "\u0169": "u",
                    "\u1e79": "u",
                    "\u016b": "u",
                    "\u1e7b": "u",
                    "\u016d": "u",
                    "\xfc": "u",
                    "\u01dc": "u",
                    "\u01d8": "u",
                    "\u01d6": "u",
                    "\u01da": "u",
                    "\u1ee7": "u",
                    "\u016f": "u",
                    "\u0171": "u",
                    "\u01d4": "u",
                    "\u0215": "u",
                    "\u0217": "u",
                    "\u01b0": "u",
                    "\u1eeb": "u",
                    "\u1ee9": "u",
                    "\u1eef": "u",
                    "\u1eed": "u",
                    "\u1ef1": "u",
                    "\u1ee5": "u",
                    "\u1e73": "u",
                    "\u0173": "u",
                    "\u1e77": "u",
                    "\u1e75": "u",
                    "\u0289": "u",
                    "\u24e5": "v",
                    "\uff56": "v",
                    "\u1e7d": "v",
                    "\u1e7f": "v",
                    "\u028b": "v",
                    "\ua75f": "v",
                    "\u028c": "v",
                    "\ua761": "vy",
                    "\u24e6": "w",
                    "\uff57": "w",
                    "\u1e81": "w",
                    "\u1e83": "w",
                    "\u0175": "w",
                    "\u1e87": "w",
                    "\u1e85": "w",
                    "\u1e98": "w",
                    "\u1e89": "w",
                    "\u2c73": "w",
                    "\u24e7": "x",
                    "\uff58": "x",
                    "\u1e8b": "x",
                    "\u1e8d": "x",
                    "\u24e8": "y",
                    "\uff59": "y",
                    "\u1ef3": "y",
                    "\xfd": "y",
                    "\u0177": "y",
                    "\u1ef9": "y",
                    "\u0233": "y",
                    "\u1e8f": "y",
                    "\xff": "y",
                    "\u1ef7": "y",
                    "\u1e99": "y",
                    "\u1ef5": "y",
                    "\u01b4": "y",
                    "\u024f": "y",
                    "\u1eff": "y",
                    "\u24e9": "z",
                    "\uff5a": "z",
                    "\u017a": "z",
                    "\u1e91": "z",
                    "\u017c": "z",
                    "\u017e": "z",
                    "\u1e93": "z",
                    "\u1e95": "z",
                    "\u01b6": "z",
                    "\u0225": "z",
                    "\u0240": "z",
                    "\u2c6c": "z",
                    "\ua763": "z",
                    "\u0386": "\u0391",
                    "\u0388": "\u0395",
                    "\u0389": "\u0397",
                    "\u038a": "\u0399",
                    "\u03aa": "\u0399",
                    "\u038c": "\u039f",
                    "\u038e": "\u03a5",
                    "\u03ab": "\u03a5",
                    "\u038f": "\u03a9",
                    "\u03ac": "\u03b1",
                    "\u03ad": "\u03b5",
                    "\u03ae": "\u03b7",
                    "\u03af": "\u03b9",
                    "\u03ca": "\u03b9",
                    "\u0390": "\u03b9",
                    "\u03cc": "\u03bf",
                    "\u03cd": "\u03c5",
                    "\u03cb": "\u03c5",
                    "\u03b0": "\u03c5",
                    "\u03c9": "\u03c9",
                    "\u03c2": "\u03c3"
                };
            $document = $(document), counter = 1, nextUid = function() {
                    return counter++
                },
                SingleSelect2 = clazz(AbstractSelect2 = clazz(Object, {
                    "bind": function(func) {
                        var self = this;
                        return function() {
                            func.apply(self, arguments)
                        }
                    },
                    "init": function(opts) {
                        var results, search, resultsSelector = ".select2-results";
                        this.opts = opts = this.prepareOpts(opts), this.id = opts.id, opts.element.data("select2") !== undefined && null !== opts.element.data("select2") && opts.element.data("select2").destroy(), this.container = this.createContainer(), this.liveRegion = $(".select2-hidden-accessible"), 0 == this.liveRegion.length && (this.liveRegion = $("<span>", {
                            "role": "status",
                            "aria-live": "polite"
                        }).addClass("select2-hidden-accessible").appendTo(document.body)), this.containerId = "s2id_" + (opts.element.attr("id") || "autogen" + nextUid()), this.containerEventName = this.containerId.replace(/([.])/g, "_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, "\\$1"), this.container.attr("id", this.containerId), this.container.attr("title", opts.element.attr("title")), this.body = $(document.body), syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.attr("style", opts.element.attr("style")), this.container.css(evaluate(opts.containerCss, this.opts.element)), this.container.addClass(evaluate(opts.containerCssClass, this.opts.element)), this.elementTabIndex = this.opts.element.attr("tabindex"), this.opts.element.data("select2", this).attr("tabindex", "-1").before(this.container).on("click.select2", killEvent), this.container.data("select2", this), this.dropdown = this.container.find(".select2-drop"), syncCssClasses(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(evaluate(opts.dropdownCssClass, this.opts.element)), this.dropdown.data("select2", this), this.dropdown.on("click", killEvent), this.results = results = this.container.find(resultsSelector), this.search = search = this.container.find("input.select2-input"), this.queryCount = 0, this.resultsPage = 0, this.context = null, this.initContainer(), this.container.on("click", killEvent), installFilteredMouseMove(this.results), this.dropdown.on("mousemove-filtered", resultsSelector, this.bind(this.highlightUnderEvent)), this.dropdown.on("touchstart touchmove touchend", resultsSelector, this.bind(function(event) {
                            this._touchEvent = !0, this.highlightUnderEvent(event)
                        })), this.dropdown.on("touchmove", resultsSelector, this.bind(this.touchMoved)), this.dropdown.on("touchstart touchend", resultsSelector, this.bind(this.clearTouchMoved)), this.dropdown.on("click", this.bind(function() {
                            this._touchEvent && (this._touchEvent = !1, this.selectHighlighted())
                        })), installDebouncedScroll(80, this.results), this.dropdown.on("scroll-debounced", resultsSelector, this.bind(this.loadMoreIfNeeded)), $(this.container).on("change", ".select2-input", function(e) {
                            e.stopPropagation()
                        }), $(this.dropdown).on("change", ".select2-input", function(e) {
                            e.stopPropagation()
                        }), $.fn.mousewheel && results.mousewheel(function(e, delta, deltaX, deltaY) {
                            var top = results.scrollTop();
                            0 < deltaY && top - deltaY <= 0 ? (results.scrollTop(0), killEvent(e)) : deltaY < 0 && results.get(0).scrollHeight - results.scrollTop() + deltaY <= results.height() && (results.scrollTop(results.get(0).scrollHeight - results.height()), killEvent(e))
                        }), installKeyUpChangeEvent(search), search.on("keyup-change input paste", this.bind(this.updateResults)), search.on("focus", function() {
                            search.addClass("select2-focused")
                        }), search.on("blur", function() {
                            search.removeClass("select2-focused")
                        }), this.dropdown.on("mouseup", resultsSelector, this.bind(function(e) {
                            0 < $(e.target).closest(".select2-result-selectable").length && (this.highlightUnderEvent(e), this.selectHighlighted(e))
                        })), this.dropdown.on("click mouseup mousedown touchstart touchend focusin", function(e) {
                            e.stopPropagation()
                        }), this.nextSearchTerm = undefined, $.isFunction(this.opts.initSelection) && (this.initSelection(), this.monitorSource()), null !== opts.maximumInputLength && this.search.attr("maxlength", opts.maximumInputLength);
                        var disabled = opts.element.prop("disabled");
                        disabled === undefined && (disabled = !1), this.enable(!disabled);
                        var readonly = opts.element.prop("readonly");
                        readonly === undefined && (readonly = !1), this.readonly(readonly), scrollBarDimensions = scrollBarDimensions || measureScrollbar(), this.autofocus = opts.element.prop("autofocus"), opts.element.prop("autofocus", !1), this.autofocus && this.focus(), this.search.attr("placeholder", opts.searchInputPlaceholder)
                    },
                    "destroy": function() {
                        var element = this.opts.element,
                            select2 = element.data("select2"),
                            self = this;
                        this.close(), element.length && element[0].detachEvent && self._sync && element.each(function() {
                            self._sync && this.detachEvent("onpropertychange", self._sync)
                        }), this.propertyObserver && (this.propertyObserver.disconnect(), this.propertyObserver = null), this._sync = null, select2 !== undefined && (select2.container.remove(), select2.liveRegion.remove(), select2.dropdown.remove(), element.show().removeData("select2").off(".select2").prop("autofocus", this.autofocus || !1), this.elementTabIndex ? element.attr({
                            "tabindex": this.elementTabIndex
                        }) : element.removeAttr("tabindex"), element.show()), cleanupJQueryElements.call(this, "container", "liveRegion", "dropdown", "results", "search")
                    },
                    "optionToData": function(element) {
                        return element.is("option") ? {
                            "id": element.prop("value"),
                            "text": element.text(),
                            "element": element.get(),
                            "css": element.attr("class"),
                            "disabled": element.prop("disabled"),
                            "locked": equal(element.attr("locked"), "locked") || equal(element.data("locked"), !0)
                        } : element.is("optgroup") ? {
                            "text": element.attr("label"),
                            "children": [],
                            "element": element.get(),
                            "css": element.attr("class")
                        } : void 0
                    },
                    "prepareOpts": function(opts) {
                        var element, select, idKey, ajaxUrl, self = this;
                        if ("select" === (element = opts.element).get(0).tagName.toLowerCase() && (this.select = select = opts.element), select && $.each(["id", "multiple", "ajax", "query", "createSearchChoice", "initSelection", "data", "tags"], function() {
                                if (this in opts) throw new Error("Option '" + this + "' is not allowed for Select2 when attached to a <select> element.")
                            }), "function" != typeof(opts = $.extend({}, {
                                "populateResults": function(container, results, query) {
                                    var populate, id = this.opts.id,
                                        liveRegion = this.liveRegion;
                                    (populate = function(results, container, depth) {
                                        var i, l, result, selectable, disabled, compound, node, label, innerContainer, formatted, nodes = [];
                                        for (i = 0, l = (results = opts.sortResults(results, container, query)).length; i < l; i += 1) selectable = !(disabled = !0 === (result = results[i]).disabled) && id(result) !== undefined, compound = result.children && 0 < result.children.length, (node = $("<li></li>")).addClass("select2-results-dept-" + depth), node.addClass("select2-result"), node.addClass(selectable ? "select2-result-selectable" : "select2-result-unselectable"), disabled && node.addClass("select2-disabled"), compound && node.addClass("select2-result-with-children"), node.addClass(self.opts.formatResultCssClass(result)), node.attr("role", "presentation"), (label = $(document.createElement("div"))).addClass("select2-result-label"), label.attr("id", "select2-result-label-" + nextUid()), label.attr("role", "option"), (formatted = opts.formatResult(result, label, query, self.opts.escapeMarkup)) !== undefined && (label.html(formatted), node.append(label)), compound && ((innerContainer = $("<ul></ul>")).addClass("select2-result-sub"), populate(result.children, innerContainer, depth + 1), node.append(innerContainer)), node.data("select2-data", result), nodes.push(node[0]);
                                        container.append(nodes), liveRegion.text(opts.formatMatches(results.length))
                                    })(results, container, 0)
                                }
                            }, $.fn.select2.defaults, opts)).id && (idKey = opts.id, opts.id = function(e) {
                                return e[idKey]
                            }), $.isArray(opts.element.data("select2Tags"))) {
                            if ("tags" in opts) throw "tags specified as both an attribute 'data-select2-tags' and in options of Select2 " + opts.element.attr("id");
                            opts.tags = opts.element.data("select2Tags")
                        }
                        if (select ? (opts.query = this.bind(function(query) {
                                var children, placeholderOption, process, data = {
                                        "results": [],
                                        "more": !1
                                    },
                                    term = query.term;
                                process = function(element, collection) {
                                    var group;
                                    element.is("option") ? query.matcher(term, element.text(), element) && collection.push(self.optionToData(element)) : element.is("optgroup") && (group = self.optionToData(element), element.children().each2(function(i, elm) {
                                        process(elm, group.children)
                                    }), 0 < group.children.length && collection.push(group))
                                }, children = element.children(), this.getPlaceholder() !== undefined && 0 < children.length && (placeholderOption = this.getPlaceholderOption()) && (children = children.not(placeholderOption)), children.each2(function(i, elm) {
                                    process(elm, data.results)
                                }), query.callback(data)
                            }), opts.id = function(e) {
                                return e.id
                            }) : "query" in opts || ("ajax" in opts ? ((ajaxUrl = opts.element.data("ajax-url")) && 0 < ajaxUrl.length && (opts.ajax.url = ajaxUrl), opts.query = ajax.call(opts.element, opts.ajax)) : "data" in opts ? opts.query = local(opts.data) : "tags" in opts && (opts.query = tags(opts.tags), opts.createSearchChoice === undefined && (opts.createSearchChoice = function(term) {
                                return {
                                    "id": $.trim(term),
                                    "text": $.trim(term)
                                }
                            }), opts.initSelection === undefined && (opts.initSelection = function(element, callback) {
                                var data = [];
                                $(splitVal(element.val(), opts.separator, opts.transformVal)).each(function() {
                                    var obj = {
                                            "id": this,
                                            "text": this
                                        },
                                        tags = opts.tags;
                                    $.isFunction(tags) && (tags = tags()), $(tags).each(function() {
                                        if (equal(this.id, obj.id)) return obj = this, !1
                                    }), data.push(obj)
                                }), callback(data)
                            }))), "function" != typeof opts.query) throw "query function not defined for Select2 " + opts.element.attr("id");
                        if ("top" === opts.createSearchChoicePosition) opts.createSearchChoicePosition = function(list, item) {
                            list.unshift(item)
                        };
                        else if ("bottom" === opts.createSearchChoicePosition) opts.createSearchChoicePosition = function(list, item) {
                            list.push(item)
                        };
                        else if ("function" != typeof opts.createSearchChoicePosition) throw "invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";
                        return opts
                    },
                    "monitorSource": function() {
                        var observer, el = this.opts.element,
                            self = this;
                        el.on("change.select2", this.bind(function() {
                            !0 !== this.opts.element.data("select2-change-triggered") && this.initSelection()
                        })), this._sync = this.bind(function() {
                            var disabled = el.prop("disabled");
                            disabled === undefined && (disabled = !1), this.enable(!disabled);
                            var readonly = el.prop("readonly");
                            readonly === undefined && (readonly = !1), this.readonly(readonly), this.container && (syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.addClass(evaluate(this.opts.containerCssClass, this.opts.element))), this.dropdown && (syncCssClasses(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(evaluate(this.opts.dropdownCssClass, this.opts.element)))
                        }), el.length && el[0].attachEvent && el.each(function() {
                            this.attachEvent("onpropertychange", self._sync)
                        }), (observer = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver) !== undefined && (this.propertyObserver && (delete this.propertyObserver, this.propertyObserver = null), this.propertyObserver = new observer(function(mutations) {
                            $.each(mutations, self._sync)
                        }), this.propertyObserver.observe(el.get(0), {
                            "attributes": !0,
                            "subtree": !1
                        }))
                    },
                    "triggerSelect": function(data) {
                        var evt = $.Event("select2-selecting", {
                            "val": this.id(data),
                            "object": data,
                            "choice": data
                        });
                        return this.opts.element.trigger(evt), !evt.isDefaultPrevented()
                    },
                    "triggerChange": function(details) {
                        details = details || {}, details = $.extend({}, details, {
                            "type": "change",
                            "val": this.val()
                        }), this.opts.element.data("select2-change-triggered", !0), this.opts.element.trigger(details), this.opts.element.data("select2-change-triggered", !1), this.opts.element.click(), this.opts.blurOnChange && this.opts.element.blur()
                    },
                    "isInterfaceEnabled": function() {
                        return !0 === this.enabledInterface
                    },
                    "enableInterface": function() {
                        var enabled = this._enabled && !this._readonly,
                            disabled = !enabled;
                        return enabled !== this.enabledInterface && (this.container.toggleClass("select2-container-disabled", disabled), this.close(), this.enabledInterface = enabled, !0)
                    },
                    "enable": function(enabled) {
                        enabled === undefined && (enabled = !0), this._enabled !== enabled && (this._enabled = enabled, this.opts.element.prop("disabled", !enabled), this.enableInterface())
                    },
                    "disable": function() {
                        this.enable(!1)
                    },
                    "readonly": function(enabled) {
                        enabled === undefined && (enabled = !1), this._readonly !== enabled && (this._readonly = enabled, this.opts.element.prop("readonly", enabled), this.enableInterface())
                    },
                    "opened": function() {
                        return !!this.container && this.container.hasClass("select2-dropdown-open")
                    },
                    "positionDropdown": function() {
                        var bodyOffset, above, changeDirection, css, resultsListNode, $dropdown = this.dropdown,
                            container = this.container,
                            offset = container.offset(),
                            height = container.outerHeight(!1),
                            width = container.outerWidth(!1),
                            dropHeight = $dropdown.outerHeight(!1),
                            $window = $(window),
                            windowWidth = $window.width(),
                            windowHeight = $window.height(),
                            viewPortRight = $window.scrollLeft() + windowWidth,
                            viewportBottom = $window.scrollTop() + windowHeight,
                            dropTop = offset.top + height,
                            dropLeft = offset.left,
                            enoughRoomBelow = dropTop + dropHeight <= viewportBottom,
                            enoughRoomAbove = offset.top - dropHeight >= $window.scrollTop(),
                            dropWidth = $dropdown.outerWidth(!1),
                            enoughRoomOnRight = function() {
                                return dropLeft + dropWidth <= viewPortRight
                            },
                            enoughRoomOnLeft = function() {
                                return offset.left + viewPortRight + container.outerWidth(!1) > dropWidth
                            };
                        $dropdown.hasClass("select2-drop-above") ? (above = !0, !enoughRoomAbove && enoughRoomBelow && (above = !(changeDirection = !0))) : (above = !1, !enoughRoomBelow && enoughRoomAbove && (above = changeDirection = !0)), changeDirection && ($dropdown.hide(), offset = this.container.offset(), height = this.container.outerHeight(!1), width = this.container.outerWidth(!1), dropHeight = $dropdown.outerHeight(!1), viewPortRight = $window.scrollLeft() + windowWidth, viewportBottom = $window.scrollTop() + windowHeight, dropTop = offset.top + height, dropLeft = offset.left, dropWidth = $dropdown.outerWidth(!1), $dropdown.show(), this.focusSearch()), this.opts.dropdownAutoWidth ? (resultsListNode = $(".select2-results", $dropdown)[0], $dropdown.addClass("select2-drop-auto-width"), $dropdown.css("width", ""), width < (dropWidth = $dropdown.outerWidth(!1) + (resultsListNode.scrollHeight === resultsListNode.clientHeight ? 0 : scrollBarDimensions.width)) ? width = dropWidth : dropWidth = width, dropHeight = $dropdown.outerHeight(!1)) : this.container.removeClass("select2-drop-auto-width"), "static" !== this.body.css("position") && (dropTop -= (bodyOffset = this.body.offset()).top, dropLeft -= bodyOffset.left), !enoughRoomOnRight() && enoughRoomOnLeft() && (dropLeft = offset.left + this.container.outerWidth(!1) - dropWidth), css = {
                            "left": dropLeft,
                            "width": width
                        }, above ? (css.top = offset.top - dropHeight, css.bottom = "auto", this.container.addClass("select2-drop-above"), $dropdown.addClass("select2-drop-above")) : (css.top = dropTop, css.bottom = "auto", this.container.removeClass("select2-drop-above"), $dropdown.removeClass("select2-drop-above")), css = $.extend(css, evaluate(this.opts.dropdownCss, this.opts.element)), $dropdown.css(css)
                    },
                    "shouldOpen": function() {
                        var event;
                        return !this.opened() && (!1 !== this._enabled && !0 !== this._readonly && (event = $.Event("select2-opening"), this.opts.element.trigger(event), !event.isDefaultPrevented()))
                    },
                    "clearDropdownAlignmentPreference": function() {
                        this.container.removeClass("select2-drop-above"), this.dropdown.removeClass("select2-drop-above")
                    },
                    "open": function() {
                        return !!this.shouldOpen() && (this.opening(), $document.on("mousemove.select2Event", function(e) {
                            lastMousePosition.x = e.pageX, lastMousePosition.y = e.pageY
                        }), !0)
                    },
                    "opening": function() {
                        var mask, cid = this.containerEventName,
                            scroll = "scroll." + cid,
                            resize = "resize." + cid,
                            orient = "orientationchange." + cid;
                        this.container.addClass("select2-dropdown-open").addClass("select2-container-active"), this.clearDropdownAlignmentPreference(), this.dropdown[0] !== this.body.children().last()[0] && this.dropdown.detach().appendTo(this.body), 0 === (mask = $("#select2-drop-mask")).length && ((mask = $(document.createElement("div"))).attr("id", "select2-drop-mask").attr("class", "select2-drop-mask"), mask.hide(), mask.appendTo(this.body), mask.on("mousedown touchstart click", function(e) {
                            reinsertElement(mask);
                            var self, dropdown = $("#select2-drop");
                            0 < dropdown.length && ((self = dropdown.data("select2")).opts.selectOnBlur && self.selectHighlighted({
                                "noFocus": !0
                            }), self.close(), e.preventDefault(), e.stopPropagation())
                        })), this.dropdown.prev()[0] !== mask[0] && this.dropdown.before(mask), $("#select2-drop").removeAttr("id"), this.dropdown.attr("id", "select2-drop"), mask.show(), this.positionDropdown(), this.dropdown.show(), this.positionDropdown(), this.dropdown.addClass("select2-drop-active");
                        var that = this;
                        this.container.parents().add(window).each(function() {
                            $(this).on(resize + " " + scroll + " " + orient, function() {
                                that.opened() && that.positionDropdown()
                            })
                        })
                    },
                    "close": function() {
                        if (this.opened()) {
                            var cid = this.containerEventName,
                                scroll = "scroll." + cid,
                                resize = "resize." + cid,
                                orient = "orientationchange." + cid;
                            this.container.parents().add(window).each(function() {
                                $(this).off(scroll).off(resize).off(orient)
                            }), this.clearDropdownAlignmentPreference(), $("#select2-drop-mask").hide(), this.dropdown.removeAttr("id"), this.dropdown.hide(), this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"), this.results.empty(), $document.off("mousemove.select2Event"), this.clearSearch(), this.search.removeClass("select2-active"), this.opts.element.trigger($.Event("select2-close"))
                        }
                    },
                    "externalSearch": function(term) {
                        this.open(), this.search.val(term), this.updateResults(!1)
                    },
                    "clearSearch": function() {},
                    "getMaximumSelectionSize": function() {
                        return evaluate(this.opts.maximumSelectionSize, this.opts.element)
                    },
                    "ensureHighlightVisible": function() {
                        var children, index, child, hb, rb, y, more, topOffset, results = this.results;
                        (index = this.highlight()) < 0 || (0 != index ? (children = this.findHighlightableChoices().find(".select2-result-label"), hb = (topOffset = ((child = $(children[index])).offset() || {}).top || 0) + child.outerHeight(!0), index === children.length - 1 && 0 < (more = results.find("li.select2-more-results")).length && (hb = more.offset().top + more.outerHeight(!0)), (rb = results.offset().top + results.outerHeight(!1)) < hb && results.scrollTop(results.scrollTop() + (hb - rb)), (y = topOffset - results.offset().top) < 0 && "none" != child.css("display") && results.scrollTop(results.scrollTop() + y)) : results.scrollTop(0))
                    },
                    "findHighlightableChoices": function() {
                        return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")
                    },
                    "moveHighlight": function(delta) {
                        for (var choices = this.findHighlightableChoices(), index = this.highlight(); - 1 < index && index < choices.length;) {
                            var choice = $(choices[index += delta]);
                            if (choice.hasClass("select2-result-selectable") && !choice.hasClass("select2-disabled") && !choice.hasClass("select2-selected")) {
                                this.highlight(index);
                                break
                            }
                        }
                    },
                    "highlight": function(index) {
                        var choice, data, choices = this.findHighlightableChoices();
                        if (0 === arguments.length) return indexOf(choices.filter(".select2-highlighted")[0], choices.get());
                        index >= choices.length && (index = choices.length - 1), index < 0 && (index = 0), this.removeHighlight(), (choice = $(choices[index])).addClass("select2-highlighted"), this.search.attr("aria-activedescendant", choice.find(".select2-result-label").attr("id")), this.ensureHighlightVisible(), this.liveRegion.text(choice.text()), (data = choice.data("select2-data")) && this.opts.element.trigger({
                            "type": "select2-highlight",
                            "val": this.id(data),
                            "choice": data
                        })
                    },
                    "removeHighlight": function() {
                        this.results.find(".select2-highlighted").removeClass("select2-highlighted")
                    },
                    "touchMoved": function() {
                        this._touchMoved = !0
                    },
                    "clearTouchMoved": function() {
                        this._touchMoved = !1
                    },
                    "countSelectableResults": function() {
                        return this.findHighlightableChoices().length
                    },
                    "highlightUnderEvent": function(event) {
                        var el = $(event.target).closest(".select2-result-selectable");
                        if (0 < el.length && !el.is(".select2-highlighted")) {
                            var choices = this.findHighlightableChoices();
                            this.highlight(choices.index(el))
                        } else 0 == el.length && this.removeHighlight()
                    },
                    "loadMoreIfNeeded": function() {
                        var results = this.results,
                            more = results.find("li.select2-more-results"),
                            page = this.resultsPage + 1,
                            self = this,
                            term = this.search.val(),
                            context = this.context;
                        0 !== more.length && more.offset().top - results.offset().top - results.height() <= this.opts.loadMorePadding && (more.addClass("select2-active"), this.opts.query({
                            "element": this.opts.element,
                            "term": term,
                            "page": page,
                            "context": context,
                            "matcher": this.opts.matcher,
                            "callback": this.bind(function(data) {
                                self.opened() && (self.opts.populateResults.call(this, results, data.results, {
                                    "term": term,
                                    "page": page,
                                    "context": context
                                }), self.postprocessResults(data, !1, !1), !0 === data.more ? (more.detach().appendTo(results).html(self.opts.escapeMarkup(evaluate(self.opts.formatLoadMore, self.opts.element, page + 1))), window.setTimeout(function() {
                                    self.loadMoreIfNeeded()
                                }, 10)) : more.remove(), self.positionDropdown(), self.resultsPage = page, self.context = data.context, this.opts.element.trigger({
                                    "type": "select2-loaded",
                                    "items": data
                                }))
                            })
                        }))
                    },
                    "tokenize": function() {},
                    "updateResults": function(initial) {
                        function postRender() {
                            search.removeClass("select2-active"), self.positionDropdown(), results.find(".select2-no-results,.select2-selection-limit,.select2-searching").length ? self.liveRegion.text(results.text()) : self.liveRegion.text(self.opts.formatMatches(results.find('.select2-result-selectable:not(".select2-selected")').length))
                        }
                        function render(html) {
                            results.html(html), postRender()
                        }
                        var data, input, queryNumber, search = this.search,
                            results = this.results,
                            opts = this.opts,
                            self = this,
                            term = search.val(),
                            lastTerm = $.data(this.container, "select2-last-term");
                        if ((!0 === initial || !lastTerm || !equal(term, lastTerm)) && ($.data(this.container, "select2-last-term", term), !0 === initial || !1 !== this.showSearchInput && this.opened())) {
                            queryNumber = ++this.queryCount;
                            var maxSelSize = this.getMaximumSelectionSize();
                            if (!(1 <= maxSelSize && (data = this.data(), $.isArray(data) && data.length >= maxSelSize && checkFormatter(opts.formatSelectionTooBig, "formatSelectionTooBig")))) return search.val().length < opts.minimumInputLength ? (checkFormatter(opts.formatInputTooShort, "formatInputTooShort") ? render("<li class='select2-no-results'>" + evaluate(opts.formatInputTooShort, opts.element, search.val(), opts.minimumInputLength) + "</li>") : render(""), void(initial && this.showSearch && this.showSearch(!0))) : void(opts.maximumInputLength && search.val().length > opts.maximumInputLength ? checkFormatter(opts.formatInputTooLong, "formatInputTooLong") ? render("<li class='select2-no-results'>" + evaluate(opts.formatInputTooLong, opts.element, search.val(), opts.maximumInputLength) + "</li>") : render("") : (opts.formatSearching && 0 === this.findHighlightableChoices().length && render("<li class='select2-searching'>" + evaluate(opts.formatSearching, opts.element) + "</li>"), search.addClass("select2-active"), this.removeHighlight(), (input = this.tokenize()) != undefined && null != input && search.val(input), this.resultsPage = 1, opts.query({
                                "element": opts.element,
                                "term": search.val(),
                                "page": this.resultsPage,
                                "context": null,
                                "matcher": opts.matcher,
                                "callback": this.bind(function(data) {
                                    var def;
                                    queryNumber == this.queryCount && (this.opened() ? data.hasError !== undefined && checkFormatter(opts.formatAjaxError, "formatAjaxError") ? render("<li class='select2-ajax-error'>" + evaluate(opts.formatAjaxError, opts.element, data.jqXHR, data.textStatus, data.errorThrown) + "</li>") : (this.context = data.context === undefined ? null : data.context, this.opts.createSearchChoice && "" !== search.val() && (def = this.opts.createSearchChoice.call(self, search.val(), data.results)) !== undefined && null !== def && self.id(def) !== undefined && null !== self.id(def) && 0 === $(data.results).filter(function() {
                                        return equal(self.id(this), self.id(def))
                                    }).length && this.opts.createSearchChoicePosition(data.results, def), 0 === data.results.length && checkFormatter(opts.formatNoMatches, "formatNoMatches") ? render("<li class='select2-no-results'>" + evaluate(opts.formatNoMatches, opts.element, search.val()) + "</li>") : (results.empty(), self.opts.populateResults.call(this, results, data.results, {
                                        "term": search.val(),
                                        "page": this.resultsPage,
                                        "context": null
                                    }), !0 === data.more && checkFormatter(opts.formatLoadMore, "formatLoadMore") && (results.append("<li class='select2-more-results'>" + opts.escapeMarkup(evaluate(opts.formatLoadMore, opts.element, this.resultsPage)) + "</li>"), window.setTimeout(function() {
                                        self.loadMoreIfNeeded()
                                    }, 10)), this.postprocessResults(data, initial), postRender(), this.opts.element.trigger({
                                        "type": "select2-loaded",
                                        "items": data
                                    }))) : this.search.removeClass("select2-active"))
                                })
                            })));
                            render("<li class='select2-selection-limit'>" + evaluate(opts.formatSelectionTooBig, opts.element, maxSelSize) + "</li>")
                        }
                    },
                    "cancel": function() {
                        this.close()
                    },
                    "blur": function() {
                        this.opts.selectOnBlur && this.selectHighlighted({
                            "noFocus": !0
                        }), this.close(), this.container.removeClass("select2-container-active"), this.search[0] === document.activeElement && this.search.blur(), this.clearSearch(), this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")
                    },
                    "focusSearch": function() {
                        focus(this.search)
                    },
                    "selectHighlighted": function(options) {
                        if (this._touchMoved) this.clearTouchMoved();
                        else {
                            var index = this.highlight(),
                                data = this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");
                            data ? (this.highlight(index), this.onSelect(data, options)) : options && options.noFocus && this.close()
                        }
                    },
                    "getPlaceholder": function() {
                        var placeholderOption;
                        return this.opts.element.attr("placeholder") || this.opts.element.attr("data-placeholder") || this.opts.element.data("placeholder") || this.opts.placeholder || ((placeholderOption = this.getPlaceholderOption()) !== undefined ? placeholderOption.text() : undefined)
                    },
                    "getPlaceholderOption": function() {
                        if (this.select) {
                            var firstOption = this.select.children("option").first();
                            if (this.opts.placeholderOption !== undefined) return "first" === this.opts.placeholderOption && firstOption || "function" == typeof this.opts.placeholderOption && this.opts.placeholderOption(this.select);
                            if ("" === $.trim(firstOption.text()) && "" === firstOption.val()) return firstOption
                        }
                    },
                    "initContainerWidth": function() {
                        function resolveContainerWidth() {
                            var style, attrs, matches, i, l;
                            if ("off" === this.opts.width) return null;
                            if ("element" === this.opts.width) return 0 === this.opts.element.outerWidth(!1) ? "auto" : this.opts.element.outerWidth(!1) + "px";
                            if ("copy" !== this.opts.width && "resolve" !== this.opts.width) return $.isFunction(this.opts.width) ? this.opts.width() : this.opts.width;
                            if ((style = this.opts.element.attr("style")) !== undefined)
                                for (i = 0, l = (attrs = style.split(";")).length; i < l; i += 1)
                                    if (null !== (matches = attrs[i].replace(/\s/g, "").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i)) && 1 <= matches.length) return matches[1];
                            return "resolve" === this.opts.width ? 0 < (style = this.opts.element.css("width")).indexOf("%") ? style : 0 === this.opts.element.outerWidth(!1) ? "auto" : this.opts.element.outerWidth(!1) + "px" : null
                        }
                        var width = resolveContainerWidth.call(this);
                        null !== width && this.container.css("width", width)
                    }
                }), {
                    "createContainer": function() {
                        return $(document.createElement("div")).attr({
                            "class": "select2-container"
                        }).html([
                            "<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>",
                            "   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>",
                            "   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>",
                            "</a>",
                            "<label for='' class='select2-offscreen'></label>",
                            "<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />",
                            "<div class='select2-drop select2-display-none'>",
                            "   <div class='select2-search'>",
                            "       <label for='' class='select2-offscreen'></label>",
                            "       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'",
                            "       aria-autocomplete='list' />",
                            "   </div>",
                            "   <ul class='select2-results' role='listbox'>",
                            "   </ul>",
                            "</div>"
                        ].join(""))
                    },
                    "enableInterface": function() {
                        this.parent.enableInterface.apply(this, arguments) && this.focusser.prop("disabled", !this.isInterfaceEnabled())
                    },
                    "opening": function() {
                        var el, range, len
                        ;
                        0 <= this.opts.minimumResultsForSearch && this.showSearch(!0),
                            this.parent.opening.apply(this, arguments),
                            !1 !== this.showSearchInput && this.search.val(this.focusser.val()),
                            this.opts.shouldFocusInput(this) && (
                                this.search.focus(), (
                                    el = this.search.get(0)
                                ).createTextRange ? ((
                                        range = el.createTextRange()
                                    ).collapse(!1),
                                    range.select()
                                ) : el.setSelectionRange && (
                                    len = this.search.val().length,
                                    el.setSelectionRange(len, len))),
                            "" === this.search.val() && this.nextSearchTerm != undefined && (
                                this.search.val(this.nextSearchTerm),
                                this.search.select()),
                            this.focusser.prop("disabled", !0).val(""),
                            this.updateResults(!0),
                            this.opts.element.trigger($.Event("select2-open"))
                    },
                    "close": function() {
                        this.opened() && (
                            this.parent.close.apply(this, arguments),
                            this.focusser.prop("disabled", !1),
                            this.opts.shouldFocusInput(this) && this.focusser.focus())
                    },
                    "focus": function() {
                        this.opened() ? this.close() : (
                            this.focusser.prop("disabled", !1),
                            this.opts.shouldFocusInput(this) && this.focusser.focus())
                    },
                    "isFocused": function() {
                        return this.container.hasClass("select2-container-active")
                    },
                    "cancel": function() {
                        this.parent.cancel.apply(this, arguments),
                            this.focusser.prop("disabled", !1),
                            this.opts.shouldFocusInput(this) && this.focusser.focus()
                    },
                    "destroy": function() {
                        $("label[for='" + this.focusser.attr("id") + "']").attr(
                                "for", this.opts.element.attr("id")),
                            this.parent.destroy.apply(this, arguments),
                            cleanupJQueryElements.call(this,
                                "selection",
                                "focusser")
                    },
                    "initContainer": function() {
                        var selection,
                            elementLabel, container = this.container,
                            dropdown = this.dropdown,
                            idSuffix = nextUid()
                        ;
                        this.opts.minimumResultsForSearch < 0 ? this.showSearch(!1
                            ) : this.showSearch(!0),
                            this.selection = selection = container.find(".select2-choice"),
                            this.focusser = container.find(".select2-focusser"),
                            selection.find(".select2-chosen").attr("id", "select2-chosen-" + idSuffix),
                            this.focusser.attr("aria-labelledby", "select2-chosen-" + idSuffix),
                            this.results.attr("id", "select2-results-" + idSuffix),
                            this.search.attr("aria-owns", "select2-results-" + idSuffix),
                            this.focusser.attr("id", "s2id_autogen" + idSuffix),
                            elementLabel = $("label[for='" + this.opts.element.attr("id") + "']"),
                            this.opts.element.focus(this.bind(function() {
                                this.focus()
                            })),
                            this.focusser.prev().text(
                                elementLabel.text()).attr(
                                "for", this.focusser.attr("id"))
                        ;
                        var originalTitle = this.opts.element.attr("title");
                        this.opts.element.attr("title", originalTitle || elementLabel.text()),
                            this.focusser.attr("tabindex", this.elementTabIndex),
                            this.search.attr("id", this.focusser.attr("id") + "_search"),
                            this.search.prev().text(
                                $("label[for='" + this.focusser.attr("id") + "']").text()).attr(
                                "for", this.search.attr("id")),
                            this.search.on("keydown", this.bind(function(e) {
                                if (
                                    this.isInterfaceEnabled(
                                    ) && 229 != e.keyCode)
                                    if (
                                        e.which !== KEY.PAGE_UP && e.which !== KEY.PAGE_DOWN) switch (
                                        e.which) {
                                        case KEY.UP:
                                        case KEY.DOWN:
                                            return this.moveHighlight(e.which === KEY.UP ? -1 : 1),
                                                void killEvent(e);
                                        case KEY.ENTER:
                                            return this.selectHighlighted(),
                                                void killEvent(e);
                                        case KEY.TAB:
                                            return void this.selectHighlighted({
                                                "noFocus": !0
                                            });
                                        case KEY.ESC:
                                            return this.cancel(e),
                                                void killEvent(e)
                                    } else killEvent(e)
                            })),
                            this.search.on("blur", this.bind(function() {
                                document.activeElement === this.body.get(0) && window.setTimeout(this.bind(function() {
                                        this.opened() && this.search.focus()
                                    }),
                                    0)
                            })),
                            this.focusser.on("keydown", this.bind(function(e) {
                                if (
                                    this.isInterfaceEnabled(
                                    ) && e.which !== KEY.TAB && !KEY.isControl(e) && !KEY.isFunctionKey(e) && e.which !== KEY.ESC) {
                                    if (
                                        !1 !== this.opts.openOnEnter || e.which !== KEY.ENTER) {
                                        if (
                                            e.which == KEY.DOWN || e.which == KEY.UP || e.which == KEY.ENTER && this.opts.openOnEnter) {
                                            if (
                                                e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) return
                                            ;
                                            return this.open(),
                                                void killEvent(e)
                                        }
                                        return e.which == KEY.DELETE || e.which == KEY.BACKSPACE ? (
                                            this.opts.allowClear && this.clear(),
                                            void killEvent(e)) : void 0
                                    }
                                    killEvent(e)
                                }
                            })),
                            installKeyUpChangeEvent(this.focusser),
                            this.focusser.on("keyup-change input", this.bind(function(e) {
                                if (
                                    0 <= this.opts.minimumResultsForSearch) {
                                    if (
                                        e.stopPropagation(),
                                        this.opened()) return;
                                    this.open()
                                }
                            })),
                            selection.on("mousedown touchstart", "abbr", this.bind(function(e) {
                                this.isInterfaceEnabled() && (
                                    this.clear(),
                                    killEventImmediately(e),
                                    this.close(),
                                    this.selection && this.selection.focus())
                            })),
                            selection.on("mousedown touchstart", this.bind(function(e) {
                                reinsertElement(selection),
                                    this.container.hasClass("select2-container-active") || this.opts.element.trigger($.Event("select2-focus")),
                                    this.opened() ? this.close() : this.isInterfaceEnabled() && this.open(),
                                    killEvent(e)
                            })),
                            dropdown.on("mousedown touchstart", this.bind(function() {
                                this.opts.shouldFocusInput(this) && this.search.focus()
                            })),
                            selection.on("focus", this.bind(function(e) {
                                killEvent(e)
                            })),
                            this.focusser.on("focus", this.bind(function() {
                                this.container.hasClass("select2-container-active") || this.opts.element.trigger($.Event("select2-focus")),
                                    this.container.addClass("select2-container-active")
                            })).on(
                                "blur", this.bind(function() {
                                    this.opened() || (
                                        this.container.removeClass("select2-container-active"),
                                        this.opts.element.trigger($.Event("select2-blur")))
                                })),
                            this.search.on("focus", this.bind(function() {
                                this.container.hasClass("select2-container-active") || this.opts.element.trigger($.Event("select2-focus")),
                                    this.container.addClass("select2-container-active")
                            })),
                            this.initContainerWidth(),
                            this.opts.element.hide(),
                            this.setPlaceholder()
                    },
                    "clear": function(
                        triggerChange) {
                        var data = this.selection.data("select2-data");
                        if (
                            data) {
                            var evt = $.Event("select2-clearing");
                            if (
                                this.opts.element.trigger(evt),
                                evt.isDefaultPrevented()
                            ) return
                            ;
                            var placeholderOption = this.getPlaceholderOption();
                            this.opts.element.val(placeholderOption ? placeholderOption.val() : ""),
                                this.selection.find(".select2-chosen").empty(),
                                this.selection.removeData("select2-data"),
                                this.setPlaceholder(),
                                !1 !== triggerChange && (
                                    this.opts.element.trigger({
                                        "type": "select2-removed",
                                        "val": this.id(data),
                                        "choice": data
                                    }),
                                    this.triggerChange({
                                        "removed": data
                                    }))
                        }
                    },
                    "initSelection": function() {
                        if (
                            this.isPlaceholderOptionSelected()
                        ) this.updateSelection(null),
                            this.close(),
                            this.setPlaceholder();
                        else {
                            var self = this;
                            this.opts.initSelection.call(null, this.opts.element, function(selected) {
                                selected !== undefined && null !== selected && (
                                    self.updateSelection(selected),
                                    self.close(),
                                    self.setPlaceholder(),
                                    self.nextSearchTerm = self.opts.nextSearchTerm(selected, self.search.val()))
                            })
                        }
                    },
                    "isPlaceholderOptionSelected": function() {
                        var placeholderOption;
                        return this.getPlaceholder() !== undefined && ((
                            placeholderOption = this.getPlaceholderOption()) !== undefined && placeholderOption.prop("selected") || "" === this.opts.element.val() || this.opts.element.val() === undefined || null === this.opts.element.val())
                    },
                    "prepareOpts": function() {
                        var opts = this.parent.prepareOpts.apply(this, arguments),
                            self = this
                        ;
                        return "select" === opts.element.get(0).tagName.toLowerCase(
                            ) ? opts.initSelection = function(element, callback) {
                                var selected = element.find("option").filter(function() {
                                    return this.selected && !this.disabled
                                })
                                ;
                                callback(self.optionToData(selected))
                            } : "data" in opts && (
                                opts.initSelection = opts.initSelection || function(element, callback) {
                                    var id = element.val(),
                                        match = null;
                                    opts.query({
                                        "matcher": function(
                                            term, text, el) {
                                            var is_match = equal(id, opts.id(el));
                                            return is_match && (
                                                    match = el),
                                                is_match
                                        },
                                        "callback": $.isFunction(callback) ? function() {
                                            callback(match)
                                        } : $.noop
                                    })
                                }),
                            opts
                    },
                    "getPlaceholder": function() {
                        return this.select && this.getPlaceholderOption(
                        ) === undefined ? undefined : this.parent.getPlaceholder.apply(this, arguments)
                    },
                    "setPlaceholder": function() {
                        var placeholder = this.getPlaceholder();
                        if (
                            this.isPlaceholderOptionSelected() && placeholder !== undefined) {
                            if (
                                this.select && this.getPlaceholderOption() === undefined) return
                            ;
                            this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(placeholder)),
                                this.selection.addClass("select2-default"),
                                this.container.removeClass("select2-allowclear")
                        }
                    },
                    "postprocessResults": function(
                        data, initial, noHighlightUpdate) {
                        var selected = 0,
                            self = this;
                        if (
                            this.findHighlightableChoices().each2(function(i, elm) {
                                if (
                                    equal(self.id(elm.data("select2-data")), self.opts.element.val())
                                ) return selected = i, !1
                            }),
                            !1 !== noHighlightUpdate && (
                                !0 === initial && 0 <= selected ? this.highlight(selected
                                ) : this.highlight(0)),
                            !0 === initial) {
                            var min = this.opts.minimumResultsForSearch
                            ;
                            0 <= min && this.showSearch(countResults(data.results) >= min)
                        }
                    },
                    "showSearch": function(
                        showSearchInput) {
                        this.showSearchInput !== showSearchInput && (
                            this.showSearchInput = showSearchInput,
                            this.dropdown.find(".select2-search").toggleClass("select2-search-hidden", !showSearchInput),
                            this.dropdown.find(".select2-search").toggleClass("select2-offscreen", !showSearchInput),
                            $(this.dropdown, this.container).toggleClass("select2-with-searchbox", showSearchInput))
                    },
                    "onSelect": function(
                        data, options) {
                        if (
                            this.triggerSelect(data)) {
                            var old = this.opts.element.val(),
                                oldData = this.data()
                            ;
                            this.opts.element.val(this.id(data)),
                                this.updateSelection(data),
                                this.opts.element.trigger({
                                    "type": "select2-selected",
                                    "val": this.id(data),
                                    "choice": data
                                }),
                                this.nextSearchTerm = this.opts.nextSearchTerm(data, this.search.val()),
                                this.close(),
                                options && options.noFocus || !this.opts.shouldFocusInput(this) || this.focusser.focus(),
                                equal(old, this.id(data)) || this.triggerChange({
                                    "added": data,
                                    "removed": oldData
                                })
                        }
                    },
                    "updateSelection": function(
                        data) {
                        var formatted, cssClass, container = this.selection.find(".select2-chosen")
                        ;
                        this.selection.data("select2-data", data),
                            container.empty(),
                            null !== data && (
                                formatted = this.opts.formatSelection(data, container, this.opts.escapeMarkup)),
                            formatted !== undefined && container.append(formatted), (
                                cssClass = this.opts.formatSelectionCssClass(data, container)
                            ) !== undefined && container.addClass(cssClass),
                            this.selection.removeClass("select2-default"),
                            this.opts.allowClear && this.getPlaceholder() !== undefined && this.container.addClass("select2-allowclear")
                    },
                    "val": function(
                        argument_0, argument_1) {
                        var val,
                            triggerChange = !1,
                            data = null,
                            self = this,
                            oldData = this.data();
                        if (
                            0 === arguments.length
                        ) return this.opts.element.val();
                        if (
                            val = argument_0,
                            1 < arguments.length && (
                                triggerChange = argument_1),
                            this.select
                        ) this.select.val(
                                val).find(
                                "option").filter(function() {
                                return this.selected
                            }).each2(function(i, elm) {
                                return data = self.optionToData(elm), !1
                            }),
                            this.updateSelection(data),
                            this.setPlaceholder(),
                            triggerChange && this.triggerChange({
                                "added": data,
                                "removed": oldData
                            });
                        else {
                            if (
                                !val && 0 !== val
                            ) return void this.clear(triggerChange);
                            if (
                                this.opts.initSelection === undefined
                            ) throw new Error("cannot call val() if initSelection() is not defined")
                            ;
                            this.opts.element.val(val),
                                this.opts.initSelection(this.opts.element, function(data) {
                                    self.opts.element.val(data ? self.id(data) : ""),
                                        self.updateSelection(data),
                                        self.setPlaceholder(),
                                        triggerChange && self.triggerChange({
                                            "added": data,
                                            "removed": oldData
                                        })
                                })
                        }
                    },
                    "clearSearch": function() {
                        this.search.val(""),
                            this.focusser.val("")
                    },
                    "data": function(
                        value, argument_1) {
                        var data,
                            triggerChange = !1;
                        if (
                            0 === arguments.length) return (
                                data = this.selection.data("select2-data")
                            ) == undefined && (data = null),
                            data
                        ;
                        1 < arguments.length && (
                                triggerChange = argument_1),
                            value ? (
                                data = this.data(),
                                this.opts.element.val(value ? this.id(value) : ""),
                                this.updateSelection(value),
                                triggerChange && this.triggerChange({
                                    "added": value,
                                    "removed": data
                                })) : this.clear(triggerChange)
                    }
                }),
                MultiSelect2 = clazz(AbstractSelect2, {
                    "createContainer": function() {
                        return $(document.createElement("div")).attr({
                            "class": "select2-container select2-container-multi"
                        }).html([
                            "<ul class='select2-choices'>",
                            "  <li class='select2-search-field'>",
                            "    <label for='' class='select2-offscreen'></label>",
                            "    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>",
                            "  </li>",
                            "</ul>",
                            "<div class='select2-drop select2-drop-multi select2-display-none'>",
                            "   <ul class='select2-results'>",
                            "   </ul>",
                            "</div>"
                        ].join(""))
                    },
                    "prepareOpts": function() {
                        var opts = this.parent.prepareOpts.apply(this, arguments),
                            self = this
                        ;
                        return "select" === opts.element.get(0).tagName.toLowerCase(
                            ) ? opts.initSelection = function(element, callback) {
                                var data = []
                                ;
                                element.find("option").filter(function() {
                                        return this.selected && !this.disabled
                                    }).each2(function(i, elm) {
                                        data.push(self.optionToData(elm))
                                    }),
                                    callback(data)
                            } : "data" in opts && (
                                opts.initSelection = opts.initSelection || function(element, callback) {
                                    var ids = splitVal(element.val(), opts.separator, opts.transformVal),
                                        matches = [];
                                    opts.query({
                                        "matcher": function(
                                            term, text, el) {
                                            var is_match = $.grep(ids, function(id) {
                                                return equal(id, opts.id(el))
                                            }).length
                                            ;
                                            return is_match && matches.push(el),
                                                is_match
                                        },
                                        "callback": $.isFunction(callback) ? function() {
                                            for (
                                                var ordered = [],
                                                    i = 0; i < ids.length; i++)
                                                for (
                                                    var id = ids[i],
                                                        j = 0; j < matches.length; j++) {
                                                    var match = matches[j];
                                                    if (
                                                        equal(id, opts.id(match))) {
                                                        ordered.push(match),
                                                            matches.splice(j, 1);
                                                        break
                                                    }
                                                }
                                            callback(ordered)
                                        } : $.noop
                                    })
                                }),
                            opts
                    },
                    "selectChoice": function(
                        choice) {
                        var selected = this.container.find(".select2-search-choice-focus");
                        selected.length && choice && choice[0] == selected[0] || (
                            selected.length && this.opts.element.trigger("choice-deselected", selected),
                            selected.removeClass("select2-search-choice-focus"),
                            choice && choice.length && (
                                this.close(),
                                choice.addClass("select2-search-choice-focus"),
                                this.opts.element.trigger("choice-selected", choice)))
                    },
                    "destroy": function() {
                        $("label[for='" + this.search.attr("id") + "']").attr(
                                "for", this.opts.element.attr("id")),
                            this.parent.destroy.apply(this, arguments),
                            cleanupJQueryElements.call(this,
                                "searchContainer",
                                "selection")
                    },
                    "initContainer": function() {
                        var selection, selector = ".select2-choices"
                        ;
                        this.searchContainer = this.container.find(".select2-search-field"),
                            this.selection = selection = this.container.find(selector)
                        ;
                        var _this = this;
                        this.selection.on("click", ".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)", function() {
                                _this.search[0].focus(),
                                    _this.selectChoice($(this))
                            }),
                            this.search.attr("id", "s2id_autogen" + nextUid()),
                            this.search.prev().text(
                                $("label[for='" + this.opts.element.attr("id") + "']").text()).attr(
                                "for", this.search.attr("id")),
                            this.opts.element.focus(this.bind(function() {
                                this.focus()
                            })),
                            this.search.on("input paste", this.bind(function() {
                                this.search.attr("placeholder") && 0 == this.search.val().length || this.isInterfaceEnabled() && (
                                    this.opened() || this.open())
                            })),
                            this.search.attr("tabindex", this.elementTabIndex),
                            this.keydowns = 0,
                            this.search.on("keydown", this.bind(function(e) {
                                if (
                                    this.isInterfaceEnabled()) {
                                    ++this.keydowns;
                                    var selected = selection.find(".select2-search-choice-focus"),
                                        prev = selected.prev(".select2-search-choice:not(.select2-locked)"),
                                        next = selected.next(".select2-search-choice:not(.select2-locked)"),
                                        pos = getCursorInfo(this.search);
                                    if (
                                        selected.length && (
                                            e.which == KEY.LEFT || e.which == KEY.RIGHT || e.which == KEY.BACKSPACE || e.which == KEY.DELETE || e.which == KEY.ENTER)) {
                                        var selectedChoice = selected
                                        ;
                                        return e.which == KEY.LEFT && prev.length ? selectedChoice = prev : e.which == KEY.RIGHT ? selectedChoice = next.length ? next : null : e.which === KEY.BACKSPACE ? this.unselect(selected.first()) && (
                                                this.search.width(10),
                                                selectedChoice = prev.length ? prev : next
                                            ) : e.which == KEY.DELETE ? this.unselect(selected.first()) && (
                                                this.search.width(10),
                                                selectedChoice = next.length ? next : null
                                            ) : e.which == KEY.ENTER && (
                                                selectedChoice = null),
                                            this.selectChoice(selectedChoice),
                                            killEvent(e), void(
                                                selectedChoice && selectedChoice.length || this.open()
                                            )
                                    }
                                    if ((
                                            e.which === KEY.BACKSPACE && 1 == this.keydowns || e.which == KEY.LEFT) && 0 == pos.offset && !pos.length
                                    ) return this.selectChoice(selection.find(".select2-search-choice:not(.select2-locked)").last()),
                                        void killEvent(e);
                                    if (
                                        this.selectChoice(null),
                                        this.opened()) switch (
                                        e.which) {
                                        case KEY.UP:
                                        case KEY.DOWN:
                                            return this.moveHighlight(e.which === KEY.UP ? -1 : 1),
                                                void killEvent(e);
                                        case KEY.ENTER:
                                            return this.selectHighlighted(),
                                                void killEvent(e);
                                        case KEY.TAB:
                                            return this.selectHighlighted({
                                                    "noFocus": !0
                                                }),
                                                void this.close();
                                        case KEY.ESC:
                                            return this.cancel(e),
                                                void killEvent(e)
                                    }
                                    if (
                                        e.which !== KEY.TAB && !KEY.isControl(e) && !KEY.isFunctionKey(e) && e.which !== KEY.BACKSPACE && e.which !== KEY.ESC) {
                                        if (
                                            e.which === KEY.ENTER) {
                                            if (!1 === this.opts.openOnEnter) return;
                                            if (
                                                e.altKey || e.ctrlKey || e.shiftKey || e.metaKey
                                            ) return
                                        }
                                        this.open(),
                                            e.which !== KEY.PAGE_UP && e.which !== KEY.PAGE_DOWN || killEvent(e),
                                            e.which === KEY.ENTER && killEvent(e)
                                    }
                                }
                            })),
                            this.search.on("keyup", this.bind(function() {
                                this.keydowns = 0,
                                    this.resizeSearch()
                            })),
                            this.search.on("blur", this.bind(function(e) {
                                this.container.removeClass("select2-container-active"),
                                    this.search.removeClass("select2-focused"),
                                    this.selectChoice(null),
                                    this.opened() || this.clearSearch(),
                                    e.stopImmediatePropagation(),
                                    this.opts.element.trigger($.Event("select2-blur"))
                            })),
                            this.container.on("click", selector, this.bind(function(e) {
                                this.isInterfaceEnabled() && (
                                    0 < $(e.target).closest(".select2-search-choice").length || (
                                        this.selectChoice(null),
                                        this.clearPlaceholder(),
                                        this.container.hasClass("select2-container-active") || this.opts.element.trigger($.Event("select2-focus")),
                                        this.open(),
                                        this.focusSearch(),
                                        e.preventDefault()))
                            })),
                            this.container.on("focus", selector, this.bind(function() {
                                this.isInterfaceEnabled() && (
                                    this.container.hasClass("select2-container-active") || this.opts.element.trigger($.Event("select2-focus")),
                                    this.container.addClass("select2-container-active"),
                                    this.dropdown.addClass("select2-drop-active"),
                                    this.clearPlaceholder())
                            })),
                            this.initContainerWidth(),
                            this.opts.element.hide(),
                            this.clearSearch()
                    },
                    "enableInterface": function() {
                        this.parent.enableInterface.apply(this, arguments) && this.search.prop("disabled", !this.isInterfaceEnabled())
                    },
                    "initSelection": function() {
                        if (
                            "" === this.opts.element.val() && "" === this.opts.element.text() && (
                                this.updateSelection([]),
                                this.close(),
                                this.clearSearch()),
                            this.select || "" !== this.opts.element.val()) {
                            var self = this;
                            this.opts.initSelection.call(null, this.opts.element, function(data) {
                                data !== undefined && null !== data && (
                                    self.updateSelection(data),
                                    self.close(),
                                    self.clearSearch())
                            })
                        }
                    },
                    "clearSearch": function() {
                        var placeholder = this.getPlaceholder(),
                            maxWidth = this.getMaxSearchWidth()
                        ;
                        placeholder !== undefined && 0 === this.getVal().length && !1 === this.search.hasClass("select2-focused") ? (
                            this.search.val(placeholder).addClass("select2-default"),
                            this.search.width(0 < maxWidth ? maxWidth : this.container.css("width"))
                        ) : this.search.val("").width(10)
                    },
                    "clearPlaceholder": function() {
                        this.search.hasClass("select2-default") && this.search.val("").removeClass("select2-default")
                    },
                    "opening": function() {
                        this.clearPlaceholder(),
                            this.resizeSearch(),
                            this.parent.opening.apply(this, arguments),
                            this.focusSearch(),
                            "" === this.search.val() && this.nextSearchTerm != undefined && (
                                this.search.val(this.nextSearchTerm),
                                this.search.select()),
                            this.updateResults(!0),
                            this.opts.shouldFocusInput(this) && this.search.focus(),
                            this.opts.element.trigger($.Event("select2-open"))
                    },
                    "close": function() {
                        this.opened() && this.parent.close.apply(this, arguments)
                    },
                    "focus": function() {
                        this.close(),
                            this.search.focus()
                    },
                    "isFocused": function() {
                        return this.search.hasClass("select2-focused")
                    },
                    "updateSelection": function(
                        data) {
                        var ids = [],
                            filtered = [],
                            self = this
                        ;
                        $(data).each(function() {
                                indexOf(self.id(this), ids) < 0 && (
                                    ids.push(self.id(this)),
                                    filtered.push(this))
                            }),
                            data = filtered,
                            this.selection.find(".select2-search-choice").remove(),
                            $(data).each(function() {
                                self.addSelectedChoice(this)
                            }),
                            self.postprocessResults()
                    },
                    "tokenize": function() {
                        var input = this.search.val()
                        ;
                        null != (input = this.opts.tokenizer.call(this, input, this.data(), this.bind(this.onSelect), this.opts)) && input != undefined && (
                            this.search.val(input),
                            0 < input.length && this.open())
                    },
                    "onSelect": function(
                        data, options) {
                        this.triggerSelect(data) && "" !== data.text && (
                            this.addSelectedChoice(data),
                            this.opts.element.trigger({
                                "type": "selected",
                                "val": this.id(data),
                                "choice": data
                            }),
                            this.nextSearchTerm = this.opts.nextSearchTerm(data, this.search.val()),
                            this.clearSearch(),
                            this.updateResults(),
                            !this.select && this.opts.closeOnSelect || this.postprocessResults(data, !1, !0 === this.opts.closeOnSelect),
                            this.opts.closeOnSelect ? (
                                this.close(),
                                this.search.width(10)
                            ) : 0 < this.countSelectableResults() ? (
                                this.search.width(10),
                                this.resizeSearch(),
                                0 < this.getMaximumSelectionSize() && this.val().length >= this.getMaximumSelectionSize(
                                ) ? this.updateResults(!0
                                ) : this.nextSearchTerm != undefined && (
                                    this.search.val(this.nextSearchTerm),
                                    this.updateResults(),
                                    this.search.select()),
                                this.positionDropdown()) : (
                                this.close(),
                                this.search.width(10)),
                            this.triggerChange({
                                "added": data
                            }),
                            options && options.noFocus || this.focusSearch())
                    },
                    "cancel": function() {
                        this.close(),
                            this.focusSearch()
                    },
                    "addSelectedChoice": function(
                        data) {
                        var formatted,
                            cssClass, enableChoice = !data.locked,
                            enabledItem = $("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),
                            disabledItem = $("<li class='select2-search-choice select2-locked'><div></div></li>"),
                            choice = enableChoice ? enabledItem : disabledItem,
                            id = this.id(data),
                            val = this.getVal();
                        (
                            formatted = this.opts.formatSelection(data, choice.find("div"), this.opts.escapeMarkup)
                        ) != undefined && choice.find("div").replaceWith($("<div></div>").html(formatted)), (
                                cssClass = this.opts.formatSelectionCssClass(data, choice.find("div"))
                            ) != undefined && choice.addClass(cssClass),
                            enableChoice && choice.find(".select2-search-choice-close").on(
                                "mousedown", killEvent).on(
                                "click dblclick", this.bind(function(e) {
                                    this.isInterfaceEnabled() && (
                                        this.unselect($(e.target)),
                                        this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),
                                        killEvent(e),
                                        this.close(),
                                        this.focusSearch())
                                })).on(
                                "focus", this.bind(function() {
                                    this.isInterfaceEnabled() && (
                                        this.container.addClass("select2-container-active"),
                                        this.dropdown.addClass("select2-drop-active"))
                                })),
                            choice.data("select2-data", data),
                            choice.insertBefore(this.searchContainer),
                            val.push(id),
                            this.setVal(val)
                    },
                    "unselect": function(
                        selected) {
                        var data,
                            index, val = this.getVal();
                        if (
                            0 === (selected = selected.closest(".select2-search-choice")).length
                        ) throw "Invalid argument: " + selected + ". Must be .select2-search-choice";
                        if (
                            data = selected.data("select2-data")) {
                            var evt = $.Event("select2-removing");
                            if (
                                evt.val = this.id(data),
                                evt.choice = data,
                                this.opts.element.trigger(evt),
                                evt.isDefaultPrevented()
                            ) return !1;
                            for (
                                ; 0 <= (index = indexOf(this.id(data), val));
                            ) val.splice(index, 1),
                                this.setVal(val),
                                this.select && this.postprocessResults()
                            ;
                            return selected.remove(),
                                this.opts.element.trigger({
                                    "type": "select2-removed",
                                    "val": this.id(data),
                                    "choice": data
                                }),
                                this.triggerChange({
                                    "removed": data
                                }),
                                !0
                        }
                    },
                    "postprocessResults": function(
                        data, initial, noHighlightUpdate) {
                        var val = this.getVal(),
                            choices = this.results.find(".select2-result"),
                            compound = this.results.find(".select2-result-with-children"),
                            self = this
                        ;
                        choices.each2(function(i, choice) {
                                0 <= indexOf(self.id(choice.data("select2-data")), val) && (
                                    choice.addClass("select2-selected"),
                                    choice.find(".select2-result-selectable").addClass("select2-selected"))
                            }),
                            compound.each2(function(i, choice) {
                                choice.is(".select2-result-selectable") || 0 !== choice.find(".select2-result-selectable:not(.select2-selected)").length || choice.addClass("select2-selected")
                            }),
                            -1 == this.highlight() && !1 !== noHighlightUpdate && !0 === this.opts.closeOnSelect && self.highlight(0),
                            !this.opts.createSearchChoice && 0 < !choices.filter(".select2-result:not(.select2-selected)").length && (!data || data && !data.more && 0 === this.results.find(".select2-no-results").length) && checkFormatter(self.opts.formatNoMatches, "formatNoMatches") && this.results.append("<li class='select2-no-results'>" + evaluate(self.opts.formatNoMatches, self.opts.element, self.search.val()) + "</li>")
                    },
                    "getMaxSearchWidth": function() {
                        return this.selection.width() - getSideBorderPadding(this.search)
                    },
                    "resizeSearch": function() {
                        var minimumWidth, left, maxWidth, searchWidth,
                            sideBorderPadding = getSideBorderPadding(this.search)
                        ;
                        minimumWidth = measureTextWidth(this.search) + 10,
                            left = this.search.offset().left, (
                                searchWidth = (maxWidth = this.selection.width()) - (left - this.selection.offset().left) - sideBorderPadding
                            ) < minimumWidth && (
                                searchWidth = maxWidth - sideBorderPadding),
                            searchWidth < 40 && (
                                searchWidth = maxWidth - sideBorderPadding),
                            searchWidth <= 0 && (
                                searchWidth = minimumWidth),
                            this.search.width(Math.floor(searchWidth))
                    },
                    "getVal": function() {
                        var val
                        ;
                        return this.select ? null === (val = this.select.val()) ? [
                        ] : val : splitVal(val = this.opts.element.val(), this.opts.separator, this.opts.transformVal)
                    },
                    "setVal": function(
                        val) {
                        var unique
                        ;
                        this.select ? this.select.val(val) : (
                            unique = [],
                            $(val).each(function() {
                                indexOf(this, unique) < 0 && unique.push(this)
                            }),
                            this.opts.element.val(0 === unique.length ? "" : unique.join(this.opts.separator)))
                    },
                    "buildChangeDetails": function(
                        old, current) {
                        current = current.slice(0),
                            old = old.slice(0);
                        for (
                            var i = 0; i < current.length; i++)
                            for (
                                var j = 0; j < old.length; j++
                            ) equal(this.opts.id(current[i]), this.opts.id(old[j])) && (
                                current.splice(i, 1),
                                0 < i && i--,
                                old.splice(j, 1),
                                j--);
                        return {
                            "added": current,
                            "removed": old
                        }
                    },
                    "val": function(
                        val, triggerChange) {
                        var oldData, self = this;
                        if (
                            0 === arguments.length
                        ) return this.getVal();
                        if ((
                                oldData = this.data()
                            ).length || (oldData = []),
                            !val && 0 !== val
                        ) return this.opts.element.val(""),
                            this.updateSelection([]),
                            this.clearSearch(), void(
                                triggerChange && this.triggerChange({
                                    "added": this.data(),
                                    "removed": oldData
                                })
                            );
                        if (
                            this.setVal(val),
                            this.select
                        ) this.opts.initSelection(this.select, this.bind(this.updateSelection)),
                            triggerChange && this.triggerChange(this.buildChangeDetails(oldData, this.data()));
                        else {
                            if (
                                this.opts.initSelection === undefined
                            ) throw new Error("val() cannot be called if initSelection() is not defined")
                            ;
                            this.opts.initSelection(this.opts.element, function(data) {
                                var ids = $.map(data, self.id);
                                self.setVal(ids),
                                    self.updateSelection(data),
                                    self.clearSearch(),
                                    triggerChange && self.triggerChange(self.buildChangeDetails(oldData, self.data()))
                            })
                        }
                        this.clearSearch()
                    },
                    "onSortStart": function() {
                        if (
                            this.select
                        ) throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")
                        ;
                        this.search.width(0),
                            this.searchContainer.hide()
                    },
                    "onSortEnd": function() {
                        var val = [],
                            self = this
                        ;
                        this.searchContainer.show(),
                            this.searchContainer.appendTo(this.searchContainer.parent()),
                            this.resizeSearch(),
                            this.selection.find(".select2-search-choice").each(function() {
                                val.push(self.opts.id($(this).data("select2-data")))
                            }),
                            this.setVal(val),
                            this.triggerChange()
                    },
                    "data": function(
                        values, triggerChange) {
                        var ids, old, self = this;
                        if (
                            0 === arguments.length
                        ) return this.selection.children(
                            ".select2-search-choice").map(function() {
                            return $(this).data("select2-data")
                        }).get()
                        ;
                        old = this.data(),
                            values || (values = []),
                            ids = $.map(values, function(e) {
                                return self.opts.id(e)
                            }),
                            this.setVal(ids),
                            this.updateSelection(values),
                            this.clearSearch(),
                            triggerChange && this.triggerChange(this.buildChangeDetails(old, this.data()))
                    }
                }),
                $.fn.select2 = function() {
                    var opts,
                        select2,
                        method, value, multiple, args = Array.prototype.slice.call(arguments, 0),
                        allowedMethods = ["val", "destroy", "opened", "open", "close", "focus", "isFocused", "container", "dropdown", "onSortStart", "onSortEnd", "enable", "disable", "readonly", "positionDropdown", "data", "search"],
                        valueMethods = ["opened", "isFocused", "container", "dropdown"],
                        propertyMethods = ["val", "data"],
                        methodsMap = {
                            "search": "externalSearch"
                        }
                    ;
                    return this.each(function() {
                            if (
                                0 === args.length || "object" == typeof args[0])(
                                    opts = 0 === args.length ? {} : $.extend({}, args[0])
                                ).element = $(this),
                                "select" === opts.element.get(0).tagName.toLowerCase() ? multiple = opts.element.prop("multiple") : (
                                    multiple = opts.multiple || !1,
                                    "tags" in opts && (opts.multiple = multiple = !0)), (
                                    select2 = multiple ? new window.Select2["class"].multi : new window.Select2["class"].single
                                ).init(opts);
                            else {
                                if (
                                    "string" != typeof args[0]
                                ) throw "Invalid arguments to select2 plugin: " + args;
                                if (indexOf(args[0], allowedMethods) < 0) throw "Unknown method: " + args[0];
                                if (value = undefined, (select2 = $(this).data("select2")) === undefined) return;
                                if ("container" === (method = args[0]) ? value = select2.container : "dropdown" === method ? value = select2.dropdown : (methodsMap[method] && (method = methodsMap[method]), value = select2[method].apply(select2, args.slice(1))), 0 <= indexOf(args[0], valueMethods) || 0 <= indexOf(args[0], propertyMethods) && 1 == args.length) return !1
                            }
                        }),
                        value === undefined ? this : value
                },
                $.fn.select2.defaults = {
                    "width": "copy",
                    "loadMorePadding": 0,
                    "closeOnSelect": !0,
                    "openOnEnter": !0,
                    "containerCss": {},
                    "dropdownCss": {},
                    "containerCssClass": "",
                    "dropdownCssClass": "",
                    "formatResult": function(
                        result, container, query, escapeMarkup) {
                        var markup = [];
                        return markMatch(this.text(result), query.term, markup, escapeMarkup),
                            markup.join("")
                    },
                    "transformVal": function(
                        val) {
                        return $.trim(val)
                    },
                    "formatSelection": function(
                        data, container, escapeMarkup) {
                        return data ? escapeMarkup(this.text(data)) : undefined
                    },
                    "sortResults": function(
                        results) {
                        return results
                    },
                    "formatResultCssClass": function(
                        data) {
                        return data.css
                    },
                    "formatSelectionCssClass": function() {
                        return undefined
                    },
                    "minimumResultsForSearch": 0,
                    "minimumInputLength": 0,
                    "maximumInputLength": null,
                    "maximumSelectionSize": 0,
                    "id": function(
                        e) {
                        return e == undefined ? null : e.id
                    },
                    "text": function(
                        e) {
                        return e && this.data && this.data.text ? $.isFunction(this.data.text) ? this.data.text(e
                        ) : e[this.data.text] : e.text
                    },
                    "matcher": function(
                        term, text) {
                        return 0 <= stripDiacritics("" + text).toUpperCase().indexOf(stripDiacritics("" + term).toUpperCase())
                    },
                    "separator": ",",
                    "tokenSeparators": [],
                    "tokenizer": defaultTokenizer,
                    "escapeMarkup": defaultEscapeMarkup,
                    "blurOnChange": !1,
                    "selectOnBlur": !1,
                    "adaptContainerCssClass": function(
                        c) {
                        return c
                    },
                    "adaptDropdownCssClass": function() {
                        return null
                    },
                    "nextSearchTerm": function() {
                        return undefined
                    },
                    "searchInputPlaceholder": "",
                    "createSearchChoicePosition": "top",
                    "shouldFocusInput": function(
                        instance) {
                        return !(
                            "ontouchstart" in window || 0 < navigator.msMaxTouchPoints
                        ) || !(
                            instance.opts.minimumResultsForSearch < 0)
                    }
                },
                $.fn.select2.locales = [],
                $.fn.select2.locales.en = {
                    "formatMatches": function(
                        matches) {
                        return 1 === matches ? "One result is available, press enter to select it." : matches + " results are available, use up and down arrow keys to navigate."
                    },
                    "formatNoMatches": function() {
                        return "No matches found"
                    },
                    "formatAjaxError": function() {
                        return "Loading failed"
                    },
                    "formatInputTooShort": function(
                        input, min) {
                        var n = min - input.length;
                        return "Please enter " + n + " or more character" + (1 == n ? "" : "s")
                    },
                    "formatInputTooLong": function(
                        input, max) {
                        var n = input.length - max;
                        return "Please delete " + n + " character" + (1 == n ? "" : "s")
                    },
                    "formatSelectionTooBig": function(
                        limit) {
                        return "You can only select " + limit + " item" + (1 == limit ? "" : "s")
                    },
                    "formatLoadMore": function() {
                        return "Loading more results\u2026"
                    },
                    "formatSearching": function() {
                        return "Searching\u2026"
                    }
                },
                $.extend($.fn.select2.defaults, $.fn.select2.locales.en),
                $.fn.select2.ajaxDefaults = {
                    "transport": $.ajax,
                    "params": {
                        "type": "GET",
                        "cache": !1,
                        "dataType": "json"
                    }
                },
                window.Select2 = {
                    "query": {
                        "ajax": ajax,
                        "local": local,
                        "tags": tags
                    },
                    "util": {
                        "debounce": debounce,
                        "markMatch": markMatch,
                        "escapeMarkup": defaultEscapeMarkup,
                        "stripDiacritics": stripDiacritics
                    },
                    "class": {
                        "abstract": AbstractSelect2,
                        "single": SingleSelect2,
                        "multi": MultiSelect2
                    }
                }
        }
    }(
        jQuery),
    function(
        factory) {
        "use strict"
        ;
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "object" == typeof exports && "function" == typeof require ? factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        $) {
        "use strict"
        ;
        function Autocomplete(el, options) {
            var that = this
            ;
            that.element = el,
                that.el = $(el),
                that.suggestions = [],
                that.badQueries = [],
                that.selectedIndex = -1,
                that.currentValue = that.element.value,
                that.timeoutId = null,
                that.cachedResponse = {},
                that.onChangeTimeout = null,
                that.onChange = null,
                that.isLocal = !1,
                that.suggestionsContainer = null,
                that.noSuggestionsContainer = null,
                that.options = $.extend(!0, {}, Autocomplete.defaults, options),
                that.classes = {
                    "selected": "autocomplete-selected",
                    "suggestion": "autocomplete-suggestion"
                },
                that.hint = null,
                that.hintValue = "",
                that.selection = null,
                that.initialize(),
                that.setOptions(options)
        }
        function _lookupFilter(suggestion, originalQuery, queryLowerCase) {
            return -1 !== suggestion.value.toLowerCase().indexOf(queryLowerCase)
        }
        function _transformResult(response) {
            return "string" == typeof response ? $.parseJSON(response) : response
        }
        function _formatResult(suggestion, currentValue) {
            if (
                !currentValue
            ) return suggestion.value
            ;
            var pattern = "(" + utils.escapeRegExChars(currentValue) + ")"
            ;
            return suggestion.value.replace(
                new RegExp(pattern, "gi"), "<strong>$1</strong>").replace(
                /&/g, "&amp;").replace(
                /</g, "&lt;").replace(
                />/g, "&gt;").replace(
                /"/g, "&quot;").replace(
                /&lt;(\/?strong)&gt;/g, "<$1>")
        }
        function _formatGroup(suggestion, category) {
            return '<div class="autocomplete-group">' + category + "</div>"
        }
        var utils = {
                "escapeRegExChars": function(value) {
                    return value.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&")
                },
                "createNode": function(containerClass) {
                    var div = document.createElement("div");
                    return div.className = containerClass, div.style.position = "absolute", div.style.display = "none", div
                }
            },
            keys = {
                "ESC": 27,
                "TAB": 9,
                "RETURN": 13,
                "LEFT": 37,
                "UP": 38,
                "RIGHT": 39,
                "DOWN": 40
            },
            noop = $.noop;
        Autocomplete.utils = utils, ($.Autocomplete = Autocomplete).defaults = {
                "ajaxSettings": {},
                "autoSelectFirst": !1,
                "appendTo": "body",
                "serviceUrl": null,
                "lookup": null,
                "onSelect": null,
                "width": "auto",
                "minChars": 1,
                "maxHeight": 300,
                "deferRequestBy": 0,
                "params": {},
                "formatResult": _formatResult,
                "formatGroup": _formatGroup,
                "delimiter": null,
                "zIndex": 9999,
                "type": "GET",
                "noCache": !1,
                "onSearchStart": noop,
                "onSearchComplete": noop,
                "onSearchError": noop,
                "preserveInput": !1,
                "containerClass": "autocomplete-suggestions",
                "tabDisabled": !1,
                "dataType": "text",
                "currentRequest": null,
                "triggerSelectOnValidInput": !0,
                "preventBadQueries": !0,
                "lookupFilter": _lookupFilter,
                "paramName": "query",
                "transformResult": _transformResult,
                "showNoSuggestionNotice": !1,
                "noSuggestionNotice": "No results",
                "orientation": "bottom",
                "forceFixPosition": !1
            },
            Autocomplete.prototype = {
                "initialize": function() {
                    var container, that = this,
                        suggestionSelector = "." + that.classes.suggestion,
                        selected = that.classes.selected,
                        options = that.options
                    ;
                    that.element.setAttribute("autocomplete", "off"),
                        that.noSuggestionsContainer = $('<div class="autocomplete-no-suggestion"></div>').html(
                            this.options.noSuggestionNotice).get(0),
                        that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass), (
                            container = $(that.suggestionsContainer)
                        ).appendTo(options.appendTo || "body"),
                        "auto" !== options.width && container.css("width", options.width),
                        container.on("mouseover.autocomplete", suggestionSelector, function() {
                            that.activate($(this).data("index"))
                        }),
                        container.on("mouseout.autocomplete", function() {
                            that.selectedIndex = -1,
                                container.children("." + selected).removeClass(selected)
                        }),
                        container.on("click.autocomplete", suggestionSelector, function() {
                            that.select($(this).data("index"))
                        }),
                        container.on("click.autocomplete", function() {
                            clearTimeout(that.blurTimeoutId)
                        }),
                        that.fixPositionCapture = function() {
                            that.visible && that.fixPosition()
                        },
                        $(window).on("resize.autocomplete", that.fixPositionCapture),
                        that.el.on("keydown.autocomplete", function(e) {
                            that.onKeyPress(e)
                        }),
                        that.el.on("keyup.autocomplete", function(e) {
                            that.onKeyUp(e)
                        }),
                        that.el.on("blur.autocomplete", function() {
                            that.onBlur()
                        }),
                        that.el.on("focus.autocomplete", function() {
                            that.onFocus()
                        }),
                        that.el.on("change.autocomplete", function(e) {
                            that.onKeyUp(e)
                        }),
                        that.el.on("input.autocomplete", function(e) {
                            that.onKeyUp(e)
                        })
                },
                "onFocus": function() {
                    var that = this
                    ;
                    that.fixPosition(),
                        that.el.val().length >= that.options.minChars && that.onValueChange()
                },
                "onBlur": function() {
                    var that = this
                    ;
                    that.blurTimeoutId = setTimeout(function() {
                            that.hide()
                        },
                        200)
                },
                "abortAjax": function() {
                    var that = this;
                    that.currentRequest && (
                        that.currentRequest.abort(),
                        that.currentRequest = null)
                },
                "setOptions": function(
                    suppliedOptions) {
                    var that = this,
                        options = $.extend({}, that.options, suppliedOptions)
                    ;
                    that.isLocal = Array.isArray(options.lookup),
                        that.isLocal && (
                            options.lookup = that.verifySuggestionsFormat(options.lookup)),
                        options.orientation = that.validateOrientation(options.orientation, "bottom"),
                        $(that.suggestionsContainer).css({
                            "max-height": options.maxHeight + "px",
                            "width": options.width + "px",
                            "z-index": options.zIndex
                        }),
                        this.options = options
                },
                "clearCache": function() {
                    this.cachedResponse = {},
                        this.badQueries = []
                },
                "clear": function() {
                    this.clearCache(),
                        this.currentValue = "",
                        this.suggestions = []
                },
                "disable": function() {
                    var that = this;
                    that.disabled = !0,
                        clearTimeout(that.onChangeTimeout),
                        that.abortAjax()
                },
                "enable": function() {
                    this.disabled = !1
                },
                "fixPosition": function() {
                    var that = this,
                        $container = $(that.suggestionsContainer),
                        containerParent = $container.parent().get(0);
                    if (
                        containerParent === document.body || that.options.forceFixPosition) {
                        var orientation = that.options.orientation,
                            containerHeight = $container.outerHeight(),
                            height = that.el.outerHeight(),
                            offset = that.el.offset(),
                            styles = {
                                "top": offset.top,
                                "left": offset.left
                            };
                        if (
                            "auto" === orientation) {
                            var viewPortHeight = $(window).height(),
                                scrollTop = $(window).scrollTop(),
                                topOverflow = -scrollTop + offset.top - containerHeight,
                                bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight)
                            ;
                            orientation = Math.max(topOverflow, bottomOverflow) === topOverflow ? "top" : "bottom"
                        }
                        if (
                            styles.top += "top" === orientation ? -containerHeight : height,
                            containerParent !== document.body) {
                            var parentOffsetDiff, opacity = $container.css("opacity")
                            ;
                            that.visible || $container.css("opacity", 0).show(),
                                parentOffsetDiff = $container.offsetParent().offset(),
                                styles.top -= parentOffsetDiff.top,
                                styles.top += containerParent.scrollTop,
                                styles.left -= parentOffsetDiff.left,
                                that.visible || $container.css("opacity", opacity).hide()
                        }
                        "auto" === that.options.width && (
                                styles.width = that.el.outerWidth() + "px"),
                            $container.css(styles)
                    }
                },
                "isCursorAtEnd": function() {
                    var range, that = this,
                        valLength = that.el.val().length,
                        selectionStart = that.element.selectionStart
                    ;
                    return "number" == typeof selectionStart ? selectionStart === valLength : !document.selection || ((
                            range = document.selection.createRange()
                        ).moveStart("character", -valLength),
                        valLength === range.text.length)
                },
                "onKeyPress": function(
                    e) {
                    var that = this;
                    if (
                        that.disabled || that.visible || e.which !== keys.DOWN || !that.currentValue) {
                        if (
                            !that.disabled && that.visible) {
                            switch (
                                e.which) {
                                case keys.ESC:
                                    that.el.val(that.currentValue),
                                        that.hide();
                                    break;
                                case keys.RIGHT:
                                    if (
                                        that.hint && that.options.onHint && that.isCursorAtEnd()) {
                                        that.selectHint();
                                        break
                                    }
                                    return;
                                case keys.TAB:
                                    if (
                                        that.hint && that.options.onHint
                                    ) return void that.selectHint();
                                    if (
                                        -1 === that.selectedIndex
                                    ) return void that.hide();
                                    if (
                                        that.select(that.selectedIndex), !1 === that.options.tabDisabled
                                    ) return
                                    ;
                                    break;
                                case keys.RETURN:
                                    if (-1 === that.selectedIndex) return void that.hide()
                                    ;
                                    that.select(that.selectedIndex);
                                    break;
                                case keys.UP:
                                    that.moveUp();
                                    break;
                                case keys.DOWN:
                                    that.moveDown();
                                    break;
                                default:
                                    return
                            }
                            e.stopImmediatePropagation(),
                                e.preventDefault()
                        }
                    } else that.suggest()
                },
                "onKeyUp": function(
                    e) {
                    var that = this;
                    if (
                        !that.disabled) {
                        switch (
                            e.which) {
                            case keys.UP:
                            case keys.DOWN:
                                return
                        }
                        clearTimeout(that.onChangeTimeout),
                            that.currentValue !== that.el.val() && (
                                that.findBestHint(),
                                0 < that.options.deferRequestBy ? that.onChangeTimeout = setTimeout(function() {
                                        that.onValueChange()
                                    },
                                    that.options.deferRequestBy
                                ) : that.onValueChange())
                    }
                },
                "onValueChange": function() {
                    if (
                        this.ignoreValueChange
                    ) this.ignoreValueChange = !1;
                    else {
                        var that = this,
                            options = that.options,
                            value = that.el.val(),
                            query = that.getQuery(value)
                        ;
                        that.selection && that.currentValue !== query && (
                                that.selection = null, (
                                    options.onInvalidateSelection || $.noop).call(that.element)),
                            clearTimeout(that.onChangeTimeout),
                            that.currentValue = value,
                            that.selectedIndex = -1,
                            options.triggerSelectOnValidInput && that.isExactMatch(query) ? that.select(0
                            ) : query.length < options.minChars ? that.hide(
                            ) : that.getSuggestions(query)
                    }
                },
                "isExactMatch": function(
                    query) {
                    var suggestions = this.suggestions
                    ;
                    return 1 === suggestions.length && suggestions[0].value.toLowerCase() === query.toLowerCase()
                },
                "getQuery": function(
                    value) {
                    var parts, delimiter = this.options.delimiter
                    ;
                    return delimiter ? (
                        parts = value.split(delimiter),
                        $.trim(parts[parts.length - 1])) : value
                },
                "getSuggestionsLocal": function(
                    query) {
                    var data, options = this.options,
                        queryLowerCase = query.toLowerCase(),
                        filter = options.lookupFilter,
                        limit = parseInt(options.lookupLimit, 10)
                    ;
                    return data = {
                            "suggestions": $.grep(options.lookup, function(suggestion) {
                                return filter(suggestion, query, queryLowerCase)
                            })
                        },
                        limit && data.suggestions.length > limit && (
                            data.suggestions = data.suggestions.slice(0, limit)),
                        data
                },
                "getSuggestions": function(
                    q) {
                    var response,
                        params,
                        cacheKey,
                        ajaxSettings, that = this,
                        options = that.options,
                        serviceUrl = options.serviceUrl
                    ;
                    options.params[options.paramName] = q,
                        !1 !== options.onSearchStart.call(that.element, options.params) && (
                            params = options.ignoreParams ? null : options.params,
                            $.isFunction(options.lookup) ? options.lookup(q, function(data) {
                                that.suggestions = data.suggestions,
                                    that.suggest(),
                                    options.onSearchComplete.call(that.element, q, data.suggestions)
                            }) : (
                                that.isLocal ? response = that.getSuggestionsLocal(q) : (
                                    $.isFunction(serviceUrl) && (
                                        serviceUrl = serviceUrl.call(that.element, q)),
                                    cacheKey = serviceUrl + "?" + $.param(params || {}),
                                    response = that.cachedResponse[cacheKey]),
                                response && Array.isArray(response.suggestions) ? (
                                    that.suggestions = response.suggestions,
                                    that.suggest(),
                                    options.onSearchComplete.call(that.element, q, response.suggestions)
                                ) : that.isBadQuery(q
                                ) ? options.onSearchComplete.call(that.element, q, []) : (that.abortAjax(), ajaxSettings = {
                                    "url": serviceUrl,
                                    "data": params,
                                    "type": options.type,
                                    "dataType": options.dataType
                                }, $.extend(ajaxSettings, options.ajaxSettings), that.currentRequest = $.ajax(ajaxSettings).done(function(data) {
                                    var result;
                                    that.currentRequest = null, result = options.transformResult(data, q), that.processResponse(result, q, cacheKey), options.onSearchComplete.call(that.element, q, result.suggestions)
                                }).fail(function(jqXHR, textStatus, errorThrown) {
                                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown)
                                }))))
                },
                "isBadQuery": function(
                    q) {
                    if (!this.options.preventBadQueries) return !1;
                    for (
                        var badQueries = this.badQueries,
                            i = badQueries.length; i--;)
                        if (
                            0 === q.indexOf(badQueries[i])
                        ) return !0
                        ;
                    return !1
                },
                "hide": function() {
                    var that = this,
                        container = $(that.suggestionsContainer)
                    ;
                    $.isFunction(that.options.onHide) && that.visible && that.options.onHide.call(that.element, container),
                        that.visible = !1,
                        that.selectedIndex = -1,
                        clearTimeout(that.onChangeTimeout),
                        $(that.suggestionsContainer).hide(),
                        that.signalHint(null)
                },
                "suggest": function() {
                    if (
                        this.suggestions.length) {
                        var category, that = this,
                            options = that.options,
                            groupBy = options.groupBy,
                            formatResult = options.formatResult,
                            value = that.getQuery(that.currentValue),
                            className = that.classes.suggestion,
                            classSelected = that.classes.selected,
                            container = $(that.suggestionsContainer),
                            noSuggestionsContainer = $(that.noSuggestionsContainer),
                            beforeRender = options.beforeRender,
                            html = "",
                            formatGroup = function(suggestion) {
                                var currentCategory = suggestion.data[groupBy]
                                ;
                                return category === currentCategory ? "" : (
                                    category = currentCategory,
                                    options.formatGroup(suggestion, category))
                            }
                        ;
                        options.triggerSelectOnValidInput && that.isExactMatch(value) ? that.select(0) : (
                            $.each(that.suggestions, function(i, suggestion) {
                                groupBy && (
                                        html += formatGroup(suggestion, value, i)),
                                    html += '<div class="' + className + '" data-index="' + i + '">' + formatResult(suggestion, value, i) + "</div>"
                            }),
                            this.adjustContainerWidth(),
                            noSuggestionsContainer.detach(),
                            container.html(html),
                            $.isFunction(beforeRender) && beforeRender.call(that.element, container, that.suggestions),
                            that.fixPosition(),
                            container.show(),
                            options.autoSelectFirst && (
                                that.selectedIndex = 0,
                                container.scrollTop(0),
                                container.children("." + className).first().addClass(classSelected)),
                            that.visible = !0,
                            that.findBestHint())
                    } else this.options.showNoSuggestionNotice ? this.noSuggestions() : this.hide()
                },
                "noSuggestions": function() {
                    var that = this,
                        beforeRender = that.options.beforeRender,
                        container = $(that.suggestionsContainer),
                        noSuggestionsContainer = $(that.noSuggestionsContainer)
                    ;
                    this.adjustContainerWidth(),
                        noSuggestionsContainer.detach(),
                        container.empty(),
                        container.append(noSuggestionsContainer),
                        $.isFunction(beforeRender) && beforeRender.call(that.element, container, that.suggestions),
                        that.fixPosition(),
                        container.show(),
                        that.visible = !0
                },
                "adjustContainerWidth": function() {
                    var width, that = this,
                        options = that.options,
                        container = $(that.suggestionsContainer)
                    ;
                    "auto" === options.width ? (
                        width = that.el.outerWidth(),
                        container.css("width", 0 < width ? width : 300)
                    ) : "flex" === options.width && container.css("width", "")
                },
                "findBestHint": function() {
                    var that = this,
                        value = that.el.val().toLowerCase(),
                        bestMatch = null
                    ;
                    value && (
                        $.each(that.suggestions, function(i, suggestion) {
                            var foundMatch = 0 === suggestion.value.toLowerCase().indexOf(value);
                            return foundMatch && (
                                    bestMatch = suggestion),
                                !foundMatch
                        }),
                        that.signalHint(bestMatch))
                },
                "signalHint": function(
                    suggestion) {
                    var hintValue = "",
                        that = this;
                    suggestion && (
                            hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length)),
                        that.hintValue !== hintValue && (
                            that.hintValue = hintValue,
                            that.hint = suggestion, (
                                this.options.onHint || $.noop)(hintValue))
                },
                "verifySuggestionsFormat": function(
                    suggestions) {
                    return suggestions.length && "string" == typeof suggestions[0] ? $.map(suggestions, function(value) {
                            return {
                                "value": value,
                                "data": null
                            }
                        }
                    ) : suggestions
                },
                "validateOrientation": function(
                    orientation, fallback) {
                    return orientation = $.trim(orientation || "").toLowerCase(),
                        -1 === $.inArray(orientation, ["auto", "bottom", "top"]) && (
                            orientation = fallback),
                        orientation
                },
                "processResponse": function(
                    result, originalQuery, cacheKey) {
                    var that = this,
                        options = that.options
                    ;
                    result.suggestions = that.verifySuggestionsFormat(result.suggestions),
                        options.noCache || (
                            that.cachedResponse[cacheKey] = result,
                            options.preventBadQueries && !result.suggestions.length && that.badQueries.push(originalQuery)),
                        originalQuery === that.getQuery(that.currentValue) && (
                            that.suggestions = result.suggestions,
                            that.suggest())
                },
                "activate": function(
                    index) {
                    var activeItem, that = this,
                        selected = that.classes.selected,
                        container = $(that.suggestionsContainer),
                        children = container.find("." + that.classes.suggestion)
                    ;
                    return container.find("." + selected).removeClass(selected),
                        that.selectedIndex = index,
                        -1 !== that.selectedIndex && children.length > that.selectedIndex ? (
                            activeItem = children.get(that.selectedIndex),
                            $(activeItem).addClass(selected),
                            activeItem
                        ) : null
                },
                "selectHint": function() {
                    var that = this,
                        i = $.inArray(that.hint, that.suggestions)
                    ;
                    that.select(i)
                },
                "select": function(
                    i) {
                    var that = this;
                    that.hide(),
                        that.onSelect(i)
                },
                "moveUp": function() {
                    var that = this;
                    if (
                        -1 !== that.selectedIndex
                    ) return 0 === that.selectedIndex ? (
                        $(that.suggestionsContainer).children("." + that.classes.suggestion).first().removeClass(that.classes.selected),
                        that.selectedIndex = -1,
                        that.ignoreValueChange = !1,
                        that.el.val(that.currentValue),
                        void that.findBestHint()
                    ) : void that.adjustScroll(that.selectedIndex - 1)
                },
                "moveDown": function() {
                    var that = this
                    ;
                    that.selectedIndex !== that.suggestions.length - 1 && that.adjustScroll(that.selectedIndex + 1)
                },
                "adjustScroll": function(
                    index) {
                    var that = this,
                        activeItem = that.activate(index);
                    if (
                        activeItem) {
                        var offsetTop,
                            upperBound,
                            lowerBound,
                            heightDelta = $(activeItem).outerHeight()
                        ;
                        offsetTop = activeItem.offsetTop,
                            lowerBound = (upperBound = $(that.suggestionsContainer).scrollTop()) + that.options.maxHeight - heightDelta,
                            offsetTop < upperBound ? $(that.suggestionsContainer).scrollTop(offsetTop
                            ) : lowerBound < offsetTop && $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta),
                            that.options.preserveInput || (
                                that.ignoreValueChange = !0,
                                that.el.val(that.getValue(that.suggestions[index].value))),
                            that.signalHint(null)
                    }
                },
                "onSelect": function(
                    index) {
                    var that = this,
                        onSelectCallback = that.options.onSelect,
                        suggestion = that.suggestions[index]
                    ;
                    that.currentValue = that.getValue(suggestion.value),
                        that.currentValue === that.el.val() || that.options.preserveInput || that.el.val(that.currentValue),
                        that.signalHint(null),
                        that.suggestions = [],
                        that.selection = suggestion,
                        $.isFunction(onSelectCallback) && onSelectCallback.call(that.element, suggestion)
                },
                "getValue": function(
                    value) {
                    var currentValue,
                        parts, that = this,
                        delimiter = that.options.delimiter
                    ;
                    return delimiter ? 1 === (parts = (currentValue = that.currentValue).split(delimiter)
                    ).length ? value : currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value : value
                },
                "dispose": function() {
                    var that = this;
                    that.el.off(".autocomplete").removeData("autocomplete"),
                        $(window).off("resize.autocomplete", that.fixPositionCapture),
                        $(that.suggestionsContainer).remove()
                }
            },
            $.fn.devbridgeAutocomplete = function(options, args) {
                var dataKey = "autocomplete"
                ;
                return arguments.length ? this.each(function() {
                    var inputElement = $(this),
                        instance = inputElement.data(dataKey)
                    ;
                    "string" == typeof options ? instance && "function" == typeof instance[options] && instance[options](args) : (
                        instance && instance.dispose && instance.dispose(),
                        instance = new Autocomplete(this, options),
                        inputElement.data(dataKey, instance))
                }) : this.first().data(dataKey)
            },
            $.fn.autocomplete || (
                $.fn.autocomplete = $.fn.devbridgeAutocomplete)
    }),
    function(
        $, undefined) {
        function UTCDate() {
            return new Date(Date.UTC.apply(Date, arguments))
        }
        function UTCToday() {
            var today = new Date;
            return UTCDate(today.getFullYear(), today.getMonth(), today.getDate())
        }
        function alias(method) {
            return function() {
                return this[method].apply(this, arguments)
            }
        }
        function opts_from_el(el, prefix) {
            function re_lower(_, a) {
                return a.toLowerCase()
            }
            var data = $(el).data(),
                out = {},
                replace = new RegExp("^" + prefix.toLowerCase() + "([A-Z])");
            for (
                var key in prefix = new RegExp("^" + prefix.toLowerCase()), data
            ) prefix.test(key) && (
                out[key.replace(replace, re_lower)] = data[key])
            ;
            return out
        }
        function opts_from_locale(lang) {
            var out = {};
            if (
                dates[lang] || (
                    lang = lang.split("-")[0],
                    dates[lang])) {
                var d = dates[lang];
                return $.each(locale_opts, function(i, k) {
                        k in d && (
                            out[k] = d[k])
                    }),
                    out
            }
        }
        var extras, $window = $(window),
            DateArray = (extras = {
                "get": function(i) {
                    return this.slice(i)[0]
                },
                "contains": function(d) {
                    for (var val = d && d.valueOf(), i = 0, l = this.length; i < l; i++)
                        if (this[i].valueOf() === val) return i;
                    return -1
                },
                "remove": function(i) {
                    this.splice(i, 1)
                },
                "replace": function(new_array) {
                    new_array && ($.isArray(new_array) || (new_array = [new_array]), this.clear(), this.push.apply(this, new_array))
                },
                "clear": function() {
                    this.splice(0)
                },
                "copy": function() {
                    var a = new DateArray;
                    return a.replace(this), a
                }
            }, function() {
                var a = [];
                return a.push.apply(a, arguments), $.extend(a, extras), a
            }),
            Datepicker = function(element, options) {
                this.dates = new DateArray, this.viewDate = UTCToday(), this.focusDate = null, this._process_options(options), this.element = $(element), this.isInline = !1, this.isInput = this.element.is("input"), this.component = !!this.element.is(".date") && this.element.find(".add-on, .input-group-addon, .btn"), this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.picker = $(DPGlobal.template), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.viewMode = this.o.startView, this.o.calendarWeeks && this.picker.find("tfoot th.today").attr("colspan", function(i, val) {
                    return parseInt(val) + 1
                }), this._allow_update = !1, this.setStartDate(this._o.startDate), this.setEndDate(this._o.endDate), this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.fillDow(), this.fillMonths(), this._allow_update = !0, this.update(), this.showMode(), this.isInline && this.show()
            };
        Datepicker.prototype = {
            "constructor": Datepicker,
            "_process_options": function(opts) {
                this._o = $.extend({}, this._o, opts);
                var o = this.o = $.extend({}, this._o),
                    lang = o.language;
                switch (dates[lang] || (lang = lang.split("-")[0], dates[lang] || (lang = defaults.language)), o.language = lang, o.startView) {
                    case 2:
                    case "decade":
                        o.startView = 2;
                        break;
                    case 1:
                    case "year":
                        o.startView = 1;
                        break;
                    default:
                        o.startView = 0
                }
                switch (o.minViewMode) {
                    case 1:
                    case "months":
                        o.minViewMode = 1;
                        break;
                    case 2:
                    case "years":
                        o.minViewMode = 2;
                        break;
                    default:
                        o.minViewMode = 0
                }
                o.startView = Math.max(o.startView, o.minViewMode), !0 !== o.multidate && (o.multidate = Number(o.multidate) || !1, !1 !== o.multidate ? o.multidate = Math.max(0, o.multidate) : o.multidate = 1), o.multidateSeparator = String(o.multidateSeparator), o.weekStart %= 7, o.weekEnd = (o.weekStart + 6) % 7;
                var format = DPGlobal.parseFormat(o.format);
                o.startDate !== -Infinity && (o.startDate ? o.startDate instanceof Date ? o.startDate = this._local_to_utc(this._zero_time(o.startDate)) : o.startDate = DPGlobal.parseDate(o.startDate, format, o.language) : o.startDate = -Infinity), o.endDate !== Infinity && (o.endDate ? o.endDate instanceof Date ? o.endDate = this._local_to_utc(this._zero_time(o.endDate)) : o.endDate = DPGlobal.parseDate(o.endDate, format, o.language) : o.endDate = Infinity), o.daysOfWeekDisabled = o.daysOfWeekDisabled || [], $.isArray(o.daysOfWeekDisabled) || (o.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\s]*/)), o.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function(d) {
                    return parseInt(d, 10)
                });
                var plc = String(o.orientation).toLowerCase().split(/\s+/g),
                    _plc = o.orientation.toLowerCase();
                if (plc = $.grep(plc, function(word) {
                        return /^auto|left|right|top|bottom$/.test(word)
                    }), o.orientation = {
                        "x": "auto",
                        "y": "auto"
                    }, _plc && "auto" !== _plc)
                    if (1 === plc.length) switch (plc[0]) {
                        case "top":
                        case "bottom":
                            o.orientation.y = plc[0];
                            break;
                        case "left":
                        case "right":
                            o.orientation.x = plc[0]
                    } else _plc = $.grep(plc, function(word) {
                        return /^left|right$/.test(word)
                    }), o.orientation.x = _plc[0] || "auto", _plc = $.grep(plc, function(word) {
                        return /^top|bottom$/.test(word)
                    }), o.orientation.y = _plc[0] || "auto";
                    else;
            },
            "_events": [],
            "_secondaryEvents": [],
            "_applyEvents": function(evs) {
                for (var el, ch, ev, i = 0; i < evs.length; i++) el = evs[i][0], 2 === evs[i].length ? (ch = undefined, ev = evs[i][1]) : 3 === evs[i].length && (ch = evs[i][1], ev = evs[i][2]), el.on(ev, ch)
            },
            "_unapplyEvents": function(evs) {
                for (var el, ev, ch, i = 0; i < evs.length; i++) el = evs[i][0], 2 === evs[i].length ? (ch = undefined, ev = evs[i][1]) : 3 === evs[i].length && (ch = evs[i][1], ev = evs[i][2]), el.off(ev, ch)
            },
            "_buildEvents": function() {
                this.isInput ? this._events = [
                    [this.element, {
                        "focus": $.proxy(this.show, this),
                        "keyup": $.proxy(function(e) {
                            -1 === $.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update()
                        }, this),
                        "keydown": $.proxy(this.keydown, this)
                    }]
                ] : this.component && this.hasInput ? this._events = [
                    [this.element.find("input"), {
                        "focus": $.proxy(this.show, this),
                        "keyup": $.proxy(function(e) {
                            -1 === $.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update()
                        }, this),
                        "keydown": $.proxy(this.keydown, this)
                    }],
                    [this.component, {
                        "click": $.proxy(this.show, this)
                    }]
                ] : this.element.is("div") ? this.isInline = !0 : this._events = [
                    [this.element, {
                        "click": $.proxy(this.show, this)
                    }]
                ], this._events.push([this.element, "*", {
                    "blur": $.proxy(function(e) {
                        this._focused_from = e.target
                    }, this)
                }], [this.element, {
                    "blur": $.proxy(function(e) {
                        this._focused_from = e.target
                    }, this)
                }]), this._secondaryEvents = [
                    [this.picker, {
                        "click": $.proxy(this.click, this)
                    }],
                    [$(window), {
                        "resize": $.proxy(this.place, this)
                    }],
                    [$(document), {
                        "mousedown touchstart": $.proxy(function(e) {
                            this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.hide()
                        }, this)
                    }]
                ]
            },
            "_attachEvents": function() {
                this._detachEvents(), this._applyEvents(this._events)
            },
            "_detachEvents": function() {
                this._unapplyEvents(this._events)
            },
            "_attachSecondaryEvents": function() {
                this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents)
            },
            "_detachSecondaryEvents": function() {
                this._unapplyEvents(this._secondaryEvents)
            },
            "_trigger": function(event, altdate) {
                var date = altdate || this.dates.get(-1),
                    local_date = this._utc_to_local(date);
                this.element.trigger({
                    "type": event,
                    "date": local_date,
                    "dates": $.map(this.dates, this._utc_to_local),
                    "format": $.proxy(function(ix, format) {
                        0 === arguments.length ? (ix = this.dates.length - 1, format = this.o.format) : "string" == typeof ix && (format = ix, ix = this.dates.length - 1), format = format || this.o.format;
                        var date = this.dates.get(ix);
                        return DPGlobal.formatDate(date, format, this.o.language)
                    }, this)
                })
            },
            "show": function() {
                this.isInline || this.picker.appendTo("body"), this.picker.show(), this.place(), this._attachSecondaryEvents(), this._trigger("show")
            },
            "hide": function() {
                this.isInline || this.picker.is(":visible") && (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.viewMode = this.o.startView, this.showMode(), this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this._trigger("hide"))
            },
            "remove": function() {
                this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date
            },
            "_utc_to_local": function(utc) {
                return utc && new Date(utc.getTime() + 6e4 * utc.getTimezoneOffset())
            },
            "_local_to_utc": function(local) {
                return local && new Date(local.getTime() - 6e4 * local.getTimezoneOffset())
            },
            "_zero_time": function(local) {
                return local && new Date(local.getFullYear(), local.getMonth(), local.getDate())
            },
            "_zero_utc_time": function(utc) {
                return utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()))
            },
            "getDates": function() {
                return $.map(this.dates, this._utc_to_local)
            },
            "getUTCDates": function() {
                return $.map(this.dates, function(d) {
                    return new Date(d)
                })
            },
            "getDate": function() {
                return this._utc_to_local(this.getUTCDate())
            },
            "getUTCDate": function() {
                return new Date(this.dates.get(-1))
            },
            "setDates": function(argument_0) {
                var args = $.isArray(argument_0) ? argument_0 : arguments;
                this.update.apply(this, args), this._trigger("changeDate"), this.setValue()
            },
            "setUTCDates": function(argument_0) {
                var args = $.isArray(argument_0) ? argument_0 : arguments;
                this.update.apply(this, $.map(args, this._utc_to_local)), this._trigger("changeDate"), this.setValue()
            },
            "setDate": alias("setDates"),
            "setUTCDate": alias("setUTCDates"),
            "setValue": function() {
                var formatted = this.getFormattedDate();
                this.isInput ? this.element.val(formatted).change() : this.component && this.element.find("input").val(formatted).change()
            },
            "getFormattedDate": function(format) {
                format === undefined && (format = this.o.format);
                var lang = this.o.language;
                return $.map(this.dates, function(d) {
                    return DPGlobal.formatDate(d, format, lang)
                }).join(this.o.multidateSeparator)
            },
            "setStartDate": function(startDate) {
                this._process_options({
                    "startDate": startDate
                }), this.update(), this.updateNavArrows()
            },
            "setEndDate": function(endDate) {
                this._process_options({
                    "endDate": endDate
                }), this.update(), this.updateNavArrows()
            },
            "setDaysOfWeekDisabled": function(daysOfWeekDisabled) {
                this._process_options({
                    "daysOfWeekDisabled": daysOfWeekDisabled
                }), this.update(), this.updateNavArrows()
            },
            "place": function() {
                if (!this.isInline) {
                    var calendarWidth = this.picker.outerWidth(),
                        calendarHeight = this.picker.outerHeight(),
                        visualPadding = 10,
                        windowWidth = $window.width(),
                        windowHeight = $window.height(),
                        scrollTop = $window.scrollTop(),
                        zIndex = parseInt(this.element.parents().filter(function() {
                            return "auto" !== $(this).css("z-index")
                        }).first().css("z-index")) + 10,
                        offset = this.component ? this.component.parent().offset() : this.element.offset(),
                        height = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1),
                        width = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1),
                        left = offset.left,
                        top = offset.top;
                    this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (left -= calendarWidth - width)) : (this.picker.addClass("datepicker-orient-left"), offset.left < 0 ? left -= offset.left - visualPadding : offset.left + calendarWidth > windowWidth && (left = windowWidth - calendarWidth - visualPadding));
                    var top_overflow, bottom_overflow, yorient = this.o.orientation.y;
                    "auto" === yorient && (top_overflow = -scrollTop + offset.top - calendarHeight, bottom_overflow = scrollTop + windowHeight - (offset.top + height + calendarHeight), yorient = Math.max(top_overflow, bottom_overflow) === bottom_overflow ? "top" : "bottom"), this.picker.addClass("datepicker-orient-" + yorient), "top" === yorient ? top += height : top -= calendarHeight + parseInt(this.picker.css("padding-top")), this.picker.css({
                        "top": top,
                        "left": left,
                        "zIndex": zIndex
                    })
                }
            },
            "_allow_update": !0,
            "update": function() {
                if (this._allow_update) {
                    var oldDates = this.dates.copy(),
                        dates = [],
                        fromArgs = !1;
                    arguments.length ? ($.each(arguments, $.proxy(function(i, date) {
                        date instanceof Date && (date = this._local_to_utc(date)), dates.push(date)
                    }, this)), fromArgs = !0) : (dates = (dates = this.isInput ? this.element.val() : this.element.data("date") || this.element.find("input").val()) && this.o.multidate ? dates.split(this.o.multidateSeparator) : [dates], delete this.element.data().date), dates = $.map(dates, $.proxy(function(date) {
                        return DPGlobal.parseDate(date, this.o.format, this.o.language)
                    }, this)), dates = $.grep(dates, $.proxy(function(date) {
                        return date < this.o.startDate || date > this.o.endDate || !date
                    }, this), !0), this.dates.replace(dates), this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate && (this.viewDate = new Date(this.o.endDate)), fromArgs ? this.setValue() : dates.length && String(oldDates) !== String(this.dates) && this._trigger("changeDate"), !this.dates.length && oldDates.length && this._trigger("clearDate"), this.fill()
                }
            },
            "fillDow": function() {
                var dowCnt = this.o.weekStart,
                    html = "<tr>";
                if (this.o.calendarWeeks) {
                    var cell = '<th class="cw">&nbsp;</th>';
                    html += cell, this.picker.find(".datepicker-days thead tr:first-child").prepend(cell)
                }
                for (; dowCnt < this.o.weekStart + 7;) html += '<th class="dow">' + dates[this.o.language].daysMin[dowCnt++ % 7] + "</th>";
                html += "</tr>", this.picker.find(".datepicker-days thead").append(html)
            },
            "fillMonths": function() {
                for (var html = "", i = 0; i < 12;) html += '<span class="month">' + dates[this.o.language].monthsShort[i++] + "</span>";
                this.picker.find(".datepicker-months td").html(html)
            },
            "setRange": function(range) {
                range && range.length ? this.range = $.map(range, function(d) {
                    return d.valueOf()
                }) : delete this.range, this.fill()
            },
            "getClassNames": function(date) {
                var cls = [],
                    year = this.viewDate.getUTCFullYear(),
                    month = this.viewDate.getUTCMonth(),
                    today = new Date;
                return date.getUTCFullYear() < year || date.getUTCFullYear() === year && date.getUTCMonth() < month ? cls.push("old") : (date.getUTCFullYear() > year || date.getUTCFullYear() === year && date.getUTCMonth() > month) && cls.push("new"), this.focusDate && date.valueOf() === this.focusDate.valueOf() && cls.push("focused"), this.o.todayHighlight && date.getUTCFullYear() === today.getFullYear() && date.getUTCMonth() === today.getMonth() && date.getUTCDate() === today.getDate() && cls.push("today"), -1 !== this.dates.contains(date) && cls.push("active"), (date.valueOf() < this.o.startDate || date.valueOf() > this.o.endDate || -1 !== $.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled)) && cls.push("disabled"), this.range && (date > this.range[0] && date < this.range[this.range.length - 1] && cls.push("range"), -1 !== $.inArray(date.valueOf(), this.range) && cls.push("selected")), cls
            },
            "fill": function() {
                var tooltip, d = new Date(this.viewDate),
                    year = d.getUTCFullYear(),
                    month = d.getUTCMonth(),
                    startYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,
                    startMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,
                    endYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,
                    endMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,
                    todaytxt = dates[this.o.language].today || dates.en.today || "",
                    cleartxt = dates[this.o.language].clear || dates.en.clear || "";
                this.picker.find(".datepicker-days thead th.datepicker-switch").text(dates[this.o.language].months[month] + " " + year), this.picker.find("tfoot th.today").text(todaytxt).toggle(!1 !== this.o.todayBtn), this.picker.find("tfoot th.clear").text(cleartxt).toggle(!1 !== this.o.clearBtn), this.updateNavArrows(), this.fillMonths();
                var prevMonth = UTCDate(year, month - 1, 28),
                    day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());
                prevMonth.setUTCDate(day), prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7) % 7);
                var nextMonth = new Date(prevMonth);
                nextMonth.setUTCDate(nextMonth.getUTCDate() + 42), nextMonth = nextMonth.valueOf();
                for (var clsName, html = []; prevMonth.valueOf() < nextMonth;) {
                    if (prevMonth.getUTCDay() === this.o.weekStart && (html.push("<tr>"), this.o.calendarWeeks)) {
                        var ws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),
                            th = new Date(Number(ws) + (11 - ws.getUTCDay()) % 7 * 864e5),
                            yth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (11 - yth.getUTCDay()) % 7 * 864e5),
                            calWeek = (th - yth) / 864e5 / 7 + 1;
                        html.push('<td class="cw">' + calWeek + "</td>")
                    }
                    if ((clsName = this.getClassNames(prevMonth)).push("day"), this.o.beforeShowDay !== $.noop) {
                        var before = this.o.beforeShowDay(this._utc_to_local(prevMonth));
                        before === undefined ? before = {} : "boolean" == typeof before ? before = {
                            "enabled": before
                        } : "string" == typeof before && (before = {
                            "classes": before
                        }), !1 === before.enabled && clsName.push("disabled"), before.classes && (clsName = clsName.concat(before.classes.split(/\s+/))), before.tooltip && (tooltip = before.tooltip)
                    }
                    clsName = $.unique(clsName), html.push('<td class="' + clsName.join(" ") + '"' + (tooltip ? ' title="' + tooltip + '"' : "") + ">" + prevMonth.getUTCDate() + "</td>"), prevMonth.getUTCDay() === this.o.weekEnd && html.push("</tr>"), prevMonth.setUTCDate(prevMonth.getUTCDate() + 1)
                }
                this.picker.find(".datepicker-days tbody").empty().append(html.join(""));
                var months = this.picker.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");
                $.each(this.dates, function(i, d) {
                    d.getUTCFullYear() === year && months.eq(d.getUTCMonth()).addClass("active")
                }), (year < startYear || endYear < year) && months.addClass("disabled"), year === startYear && months.slice(0, startMonth).addClass("disabled"), year === endYear && months.slice(endMonth + 1).addClass("disabled"), html = "", year = 10 * parseInt(year / 10, 10);
                var yearCont = this.picker.find(".datepicker-years").find("th:eq(1)").text(year + "-" + (year + 9)).end().find("td");
                year -= 1;
                for (var classes, years = $.map(this.dates, function(d) {
                        return d.getUTCFullYear()
                    }), i = -1; i < 11; i++) classes = ["year"], -1 === i ? classes.push("old") : 10 === i && classes.push("new"), -1 !== $.inArray(year, years) && classes.push("active"), (year < startYear || endYear < year) && classes.push("disabled"), html += '<span class="' + classes.join(" ") + '">' + year + "</span>", year += 1;
                yearCont.html(html)
            },
            "updateNavArrows": function() {
                if (this._allow_update) {
                    var d = new Date(this.viewDate),
                        year = d.getUTCFullYear(),
                        month = d.getUTCMonth();
                    switch (this.viewMode) {
                        case 0:
                            this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth() ? this.picker.find(".prev").css({
                                "visibility": "hidden"
                            }) : this.picker.find(".prev").css({
                                "visibility": "visible"
                            }), this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth() ? this.picker.find(".next").css({
                                "visibility": "hidden"
                            }) : this.picker.find(".next").css({
                                "visibility": "visible"
                            });
                            break;
                        case 1:
                        case 2:
                            this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() ? this.picker.find(".prev").css({
                                "visibility": "hidden"
                            }) : this.picker.find(".prev").css({
                                "visibility": "visible"
                            }), this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() ? this.picker.find(".next").css({
                                "visibility": "hidden"
                            }) : this.picker.find(".next").css({
                                "visibility": "visible"
                            })
                    }
                }
            },
            "click": function(e) {
                e.preventDefault();
                var year, month, day, target = $(e.target).closest("span, td, th");
                if (1 === target.length) switch (target[0].nodeName.toLowerCase()) {
                    case "th":
                        switch (target[0].className) {
                            case "datepicker-switch":
                                this.showMode(1);
                                break;
                            case "prev":
                            case "next":
                                var dir = DPGlobal.modes[this.viewMode].navStep * ("prev" === target[0].className ? -1 : 1);
                                switch (this.viewMode) {
                                    case 0:
                                        this.viewDate = this.moveMonth(this.viewDate, dir), this._trigger("changeMonth", this.viewDate);
                                        break;
                                    case 1:
                                    case 2:
                                        this.viewDate = this.moveYear(this.viewDate, dir), 1 === this.viewMode && this._trigger("changeYear", this.viewDate)
                                }
                                this.fill();
                                break;
                            case "today":
                                var date = new Date;
                                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0), this.showMode(-2);
                                var which = "linked" === this.o.todayBtn ? null : "view";
                                this._setDate(date, which);
                                break;
                            case "clear":
                                var element;
                                this.isInput ? element = this.element : this.component && (element = this.element.find("input")), element && element.val("").change(), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide()
                        }
                        break;
                    case "span":
                        target.is(".disabled") || (this.viewDate.setUTCDate(1), target.is(".month") ? (day = 1, month = target.parent().find("span").index(target), year = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(month), this._trigger("changeMonth", this.viewDate), 1 === this.o.minViewMode && this._setDate(UTCDate(year, month, day))) : (day = 1, month = 0, year = parseInt(target.text(), 10) || 0, this.viewDate.setUTCFullYear(year), this._trigger("changeYear", this.viewDate), 2 === this.o.minViewMode && this._setDate(UTCDate(year, month, day))), this.showMode(-1), this.fill());
                        break;
                    case "td":
                        target.is(".day") && !target.is(".disabled") && (day = parseInt(target.text(), 10) || 1, year = this.viewDate.getUTCFullYear(), month = this.viewDate.getUTCMonth(), target.is(".old") ? 0 === month ? (month = 11, year -= 1) : month -= 1 : target.is(".new") && (11 === month ? (month = 0, year += 1) : month += 1), this._setDate(UTCDate(year, month, day)))
                }
                this.picker.is(":visible") && this._focused_from && $(this._focused_from).focus(), delete this._focused_from
            },
            "_toggle_multidate": function(date) {
                var ix = this.dates.contains(date);
                if (date ? -1 !== ix ? this.dates.remove(ix) : this.dates.push(date) : this.dates.clear(), "number" == typeof this.o.multidate)
                    for (; this.dates.length > this.o.multidate;) this.dates.remove(0)
            },
            "_setDate": function(date, which) {
                var element;
                which && "date" !== which || this._toggle_multidate(date && new Date(date)), which && "view" !== which || (this.viewDate = date && new Date(date)), this.fill(), this.setValue(), this._trigger("changeDate"), this.isInput ? element = this.element : this.component && (element = this.element.find("input")), element && element.change(), !this.o.autoclose || which && "date" !== which || this.hide()
            },
            "moveMonth": function(date, dir) {
                if (!date) return undefined;
                if (!dir) return date;
                var new_month, test, new_date = new Date(date.valueOf()),
                    day = new_date.getUTCDate(),
                    month = new_date.getUTCMonth(),
                    mag = Math.abs(dir);
                if (dir = 0 < dir ? 1 : -1, 1 === mag) test = -1 === dir ? function() {
                    return new_date.getUTCMonth() === month
                } : function() {
                    return new_date.getUTCMonth() !== new_month
                }, new_month = month + dir, new_date.setUTCMonth(new_month), (new_month < 0 || 11 < new_month) && (new_month = (new_month + 12) % 12);
                else {
                    for (var i = 0; i < mag; i++) new_date = this.moveMonth(new_date, dir);
                    new_month = new_date.getUTCMonth(), new_date.setUTCDate(day), test = function() {
                        return new_month !== new_date.getUTCMonth()
                    }
                }
                for (; test();) new_date.setUTCDate(--day), new_date.setUTCMonth(new_month);
                return new_date
            },
            "moveYear": function(date, dir) {
                return this.moveMonth(date, 12 * dir)
            },
            "dateWithinRange": function(date) {
                return date >= this.o.startDate && date <= this.o.endDate
            },
            "keydown": function(e) {
                if (this.picker.is(":not(:visible)")) 27 === e.keyCode && this.show();
                else {
                    var dir, newDate, newViewDate, element, dateChanged = !1,
                        focusDate = this.focusDate || this.viewDate;
                    switch (e.keyCode) {
                        case 27:
                            this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), e.preventDefault();
                            break;
                        case 37:
                        case 39:
                            if (!this.o.keyboardNavigation) break;
                            dir = 37 === e.keyCode ? -1 : 1, e.ctrlKey ? (newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir), newViewDate = this.moveYear(focusDate, dir), this._trigger("changeYear", this.viewDate)) : e.shiftKey ? (newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir), newViewDate = this.moveMonth(focusDate, dir), this._trigger("changeMonth", this.viewDate)) : ((newDate = new Date(this.dates.get(-1) || UTCToday())).setUTCDate(newDate.getUTCDate() + dir), (newViewDate = new Date(focusDate)).setUTCDate(focusDate.getUTCDate() + dir)), this.dateWithinRange(newDate) && (this.focusDate = this.viewDate = newViewDate, this.setValue(), this.fill(), e.preventDefault());
                            break;
                        case 38:
                        case 40:
                            if (!this.o.keyboardNavigation) break;
                            dir = 38 === e.keyCode ? -1 : 1, e.ctrlKey ? (newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir), newViewDate = this.moveYear(focusDate, dir), this._trigger("changeYear", this.viewDate)) : e.shiftKey ? (newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir), newViewDate = this.moveMonth(focusDate, dir), this._trigger("changeMonth", this.viewDate)) : ((newDate = new Date(this.dates.get(-1) || UTCToday())).setUTCDate(newDate.getUTCDate() + 7 * dir), (newViewDate = new Date(focusDate)).setUTCDate(focusDate.getUTCDate() + 7 * dir)), this.dateWithinRange(newDate) && (this.focusDate = this.viewDate = newViewDate, this.setValue(), this.fill(), e.preventDefault());
                            break;
                        case 32:
                            break;
                        case 13:
                            focusDate = this.focusDate || this.dates.get(-1) || this.viewDate, this._toggle_multidate(focusDate), dateChanged = !0, this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (e.preventDefault(), this.o.autoclose && this.hide());
                            break;
                        case 9:
                            this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide()
                    }
                    if (dateChanged) this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.isInput ? element = this.element : this.component && (element = this.element.find("input")), element && element.change()
                }
            },
            "showMode": function(dir) {
                dir && (this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + dir))), this.picker.find(">div").hide().filter(".datepicker-" + DPGlobal.modes[this.viewMode].clsName).css("display", "block"), this.updateNavArrows()
            }
        };
        var DateRangePicker = function(element, options) {
            this.element = $(element), this.inputs = $.map(options.inputs, function(i) {
                return i.jquery ? i[0] : i
            }), delete options.inputs, $(this.inputs).datepicker(options).bind("changeDate", $.proxy(this.dateUpdated, this)), this.pickers = $.map(this.inputs, function(i) {
                return $(i).data("datepicker")
            }), this.updateDates()
        };
        DateRangePicker.prototype = {
            "updateDates": function() {
                this.dates = $.map(this.pickers, function(i) {
                    return i.getUTCDate()
                }), this.updateRanges()
            },
            "updateRanges": function() {
                var range = $.map(this.dates, function(d) {
                    return d.valueOf()
                });
                $.each(this.pickers, function(i, p) {
                    p.setRange(range)
                })
            },
            "dateUpdated": function(e) {
                if (!this.updating) {
                    this.updating = !0;
                    var new_date = $(e.target).data("datepicker").getUTCDate(),
                        i = $.inArray(e.target, this.inputs),
                        l = this.inputs.length;
                    if (-1 !== i) {
                        if ($.each(this.pickers, function(i, p) {
                                p.getUTCDate() || p.setUTCDate(new_date)
                            }), new_date < this.dates[i])
                            for (; 0 <= i && new_date < this.dates[i];) this.pickers[i--].setUTCDate(new_date);
                        else if (new_date > this.dates[i])
                            for (; i < l && new_date > this.dates[i];) this.pickers[i++].setUTCDate(new_date);
                        this.updateDates(), delete this.updating
                    }
                }
            },
            "remove": function() {
                $.map(this.pickers, function(p) {
                    p.remove()
                }), delete this.element.data().datepicker
            }
        }
        ;
        var old = $.fn.datepicker;
        $.fn.datepicker = function(option) {
            var internal_return, args = Array.apply(null, arguments);
            return args.shift(),
                this.each(function() {
                    var $this = $(this),
                        data = $this.data("datepicker"),
                        options = "object" == typeof option && option;
                    if (!data) {
                        var elopts = opts_from_el(this, "date"),
                            locopts = opts_from_locale($.extend({}, defaults, elopts, options).language),
                            opts = $.extend({}, defaults, locopts, elopts, options);
                        if (
                            $this.is(".input-daterange") || opts.inputs) {
                            var ropts = {
                                "inputs": opts.inputs || $this.find("input").toArray()
                            }
                            ;
                            $this.data("datepicker", data = new DateRangePicker(this, $.extend(opts, ropts)))
                        } else $this.data("datepicker", data = new Datepicker(this, opts))
                    }
                    if (
                        "string" == typeof option && "function" == typeof data[option] && (
                            internal_return = data[option].apply(data, args)
                        ) !== undefined
                    ) return !1
                }),
                internal_return !== undefined ? internal_return : this
        }
        ;
        var defaults = $.fn.datepicker.defaults = {
                "autoclose": !1,
                "beforeShowDay": $.noop,
                "calendarWeeks": !1,
                "clearBtn": !1,
                "daysOfWeekDisabled": [],
                "endDate": Infinity,
                "forceParse": !0,
                "format": "mm/dd/yyyy",
                "keyboardNavigation": !0,
                "language": "en",
                "minViewMode": 0,
                "multidate": !1,
                "multidateSeparator": ",",
                "orientation": "auto",
                "rtl": !1,
                "startDate": -Infinity,
                "startView": 0,
                "todayBtn": !1,
                "todayHighlight": !1,
                "weekStart": 0
            },
            locale_opts = $.fn.datepicker.locale_opts = [
                "format",
                "rtl",
                "weekStart"
            ]
        ;
        $.fn.datepicker.Constructor = Datepicker;
        var dates = $.fn.datepicker.dates = {
                "en": {
                    "days": [
                        "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"
                    ],
                    "daysShort": [
                        "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"
                    ],
                    "daysMin": [
                        "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"
                    ],
                    "months": [
                        "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
                    ],
                    "monthsShort": [
                        "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
                    ],
                    "today": "Today",
                    "clear": "Clear"
                }
            },
            DPGlobal = {
                "modes": [{
                    "clsName": "days",
                    "navFnc": "Month",
                    "navStep": 1
                }, {
                    "clsName": "months",
                    "navFnc": "FullYear",
                    "navStep": 1
                }, {
                    "clsName": "years",
                    "navFnc": "FullYear",
                    "navStep": 10
                }],
                "isLeapYear": function(
                    year) {
                    return year % 4 == 0 && year % 100 != 0 || year % 400 == 0
                },
                "getDaysInMonth": function(
                    year, month) {
                    return [
                        31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31
                    ][month]
                },
                "validParts": /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
                "nonpunctuation": /[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
                "parseFormat": function(
                    format) {
                    var separators = format.replace(this.validParts, "\0").split("\0"),
                        parts = format.match(this.validParts);
                    if (!separators || !separators.length || !parts || 0 === parts.length) throw new Error("Invalid date format.");
                    return {
                        "separators": separators,
                        "parts": parts
                    }
                },
                "parseDate": function(
                    date, format, language) {
                    function match_part() {
                        var m = this.slice(0, parts[i].length)
                        ;
                        return m === parts[i].slice(0, m.length)
                    }
                    if (!date) return undefined;
                    if (date instanceof Date) return date;
                    "string" == typeof format && (format = DPGlobal.parseFormat(format));
                    var part, dir, i, part_re = /([\-+]\d+)([dmwy])/,
                        parts = date.match(/([\-+]\d+)([dmwy])/g);
                    if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)) {
                        for (date = new Date, i = 0; i < parts.length; i++) switch (part = part_re.exec(parts[i]), dir = parseInt(part[1]), part[2]) {
                            case "d":
                                date.setUTCDate(date.getUTCDate() + dir);
                                break;
                            case "m":
                                date = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);
                                break;
                            case "w":
                                date.setUTCDate(date.getUTCDate() + 7 * dir);
                                break;
                            case "y":
                                date = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir)
                        }
                        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0)
                    }
                    parts = date && date.match(this.nonpunctuation) || [], date = new Date;
                    var val, filtered, parsed = {},
                        setters_order = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"],
                        setters_map = {
                            "yyyy": function(d, v) {
                                return d.setUTCFullYear(v)
                            },
                            "yy": function(d, v) {
                                return d.setUTCFullYear(2e3 + v)
                            },
                            "m": function(d, v) {
                                if (isNaN(d)) return d;
                                for (v -= 1; v < 0;) v += 12;
                                for (v %= 12, d.setUTCMonth(v); d.getUTCMonth() !== v;) d.setUTCDate(d.getUTCDate() - 1);
                                return d
                            },
                            "d": function(d, v) {
                                return d.setUTCDate(v)
                            }
                        };
                    setters_map.M = setters_map.MM = setters_map.mm = setters_map.m, setters_map.dd = setters_map.d, date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);
                    var fparts = format.parts.slice();
                    if (parts.length !== fparts.length && (fparts = $(fparts).filter(function(i, p) {
                            return -1 !== $.inArray(p, setters_order)
                        }).toArray()),
                        parts.length === fparts.length) {
                        var cnt,
                            _date, s;
                        for (i = 0, cnt = fparts.length; i < cnt; i++) {
                            if (val = parseInt(parts[i], 10), part = fparts[i], isNaN(val)) switch (part) {
                                case "MM":
                                    filtered = $(dates[language].months).filter(match_part), val = $.inArray(filtered[0], dates[language].months) + 1;
                                    break;
                                case "M":
                                    filtered = $(dates[language].monthsShort).filter(match_part), val = $.inArray(filtered[0], dates[language].monthsShort) + 1
                            }
                            parsed[part] = val
                        }
                        for (
                            i = 0; i < setters_order.length; i++)(
                            s = setters_order[i]
                        ) in parsed && !isNaN(parsed[s]) && (
                            _date = new Date(date),
                            setters_map[s](_date, parsed[s]),
                            isNaN(_date) || (
                                date = _date))
                    }
                    return date
                },
                "formatDate": function(
                    date, format, language) {
                    if (!date) return "";
                    "string" == typeof format && (
                        format = DPGlobal.parseFormat(format));
                    var val = {
                        "d": date.getUTCDate(),
                        "D": dates[language].daysShort[date.getUTCDay()],
                        "DD": dates[language].days[date.getUTCDay()],
                        "m": date.getUTCMonth() + 1,
                        "M": dates[language].monthsShort[date.getUTCMonth()],
                        "MM": dates[language].months[date.getUTCMonth()],
                        "yy": date.getUTCFullYear().toString().substring(2),
                        "yyyy": date.getUTCFullYear()
                    }
                    ;
                    val.dd = (val.d < 10 ? "0" : "") + val.d,
                        val.mm = (val.m < 10 ? "0" : "") + val.m,
                        date = [];
                    for (
                        var seps = $.extend([], format.separators),
                            i = 0, cnt = format.parts.length; i <= cnt; i++
                    ) seps.length && date.push(seps.shift()),
                        date.push(val[format.parts[i]])
                    ;
                    return date.join("")
                },
                "headTemplate": '<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',
                "contTemplate": '<tbody><tr><td colspan="7"></td></tr></tbody>',
                "footTemplate": '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
            }
        ;
        DPGlobal.template = '<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">' + DPGlobal.headTemplate + "<tbody></tbody>" + DPGlobal.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + "</table></div></div>",
            $.fn.datepicker.DPGlobal = DPGlobal,
            $.fn.datepicker.noConflict = function() {
                return $.fn.datepicker = old,
                    this
            },
            $(document).on(
                "focus.datepicker.data-api click.datepicker.data-api",
                '[data-provide="datepicker"]',
                function(
                    e) {
                    var $this = $(this);
                    $this.data("datepicker") || (
                        e.preventDefault(),
                        $this.datepicker("show"))
                }),
            $(function() {
                $('[data-provide="datepicker-inline"]').datepicker()
            })
    }(
        window.jQuery),
    function(
        expose) {
        function mk_block_toSource() {
            return "Markdown.mk_block( " + uneval(this.toString()
            ) + ", " + uneval(this.trailing
            ) + ", " + uneval(this.lineNumber) + " )"
        }
        function mk_block_inspect() {
            var util = require("util")
            ;
            return "Markdown.mk_block( " + util.inspect(this.toString()
            ) + ", " + util.inspect(this.trailing
            ) + ", " + util.inspect(this.lineNumber) + " )"
        }
        function count_lines(str) {
            for (
                var n = 0,
                    i = -1; - 1 !== (i = str.indexOf("\n", i + 1));
            ) n++;
            return n
        }
        function escapeHTML(text) {
            return text.replace(/&/g, "&amp;").replace(
                /</g, "&lt;").replace(
                />/g, "&gt;").replace(
                /"/g, "&quot;").replace(
                /'/g, "&#39;")
        }
        function render_tree(jsonml) {
            if (
                "string" == typeof jsonml
            ) return escapeHTML(jsonml)
            ;
            var tag = jsonml.shift(),
                attributes = {},
                content = [];
            for (
                !jsonml.length || "object" != typeof jsonml[0] || jsonml[0] instanceof Array || (
                    attributes = jsonml.shift()
                ); jsonml.length;
            ) content.push(render_tree(jsonml.shift()))
            ;
            var tag_attrs = "";
            for (
                var a in attributes
            ) tag_attrs += " " + a + '="' + escapeHTML(attributes[a]) + '"'
            ;
            return "img" === tag || "br" === tag || "hr" === tag ? "<" + tag + tag_attrs + "/>" : "<" + tag + tag_attrs + ">" + content.join("") + "</" + tag + ">"
        }
        function convert_tree_to_html(tree, references, options) {
            var i;
            options = options || {}
            ;
            var jsonml = tree.slice(0)
            ;
            "function" == typeof options.preprocessTreeNode && (
                jsonml = options.preprocessTreeNode(jsonml, references))
            ;
            var attrs = extract_attr(jsonml);
            if (
                attrs) {
                for (
                    i in jsonml[1] = {}, attrs
                ) jsonml[1][i] = attrs[i]
                ;
                attrs = jsonml[1]
            }
            if (
                "string" == typeof jsonml
            ) return jsonml;
            switch (
                jsonml[0]) {
                case "header":
                    jsonml[0] = "h" + jsonml[1].level,
                        delete jsonml[1].level;
                    break;
                case "bulletlist":
                    jsonml[0] = "ul";
                    break;
                case "numberlist":
                    jsonml[0] = "ol";
                    break;
                case "listitem":
                    jsonml[0] = "li";
                    break;
                case "para":
                    jsonml[0] = "p";
                    break;
                case "markdown":
                    jsonml[0] = "html",
                        attrs && delete attrs.references;
                    break;
                case "code_block":
                    jsonml[0] = "pre",
                        i = attrs ? 2 : 1;
                    var code = ["code"];
                    code.push.apply(code, jsonml.splice(i, jsonml.length - i)),
                        jsonml[i] = code;
                    break;
                case "inlinecode":
                    jsonml[0] = "code";
                    break;
                case "img":
                    jsonml[1].src = jsonml[1].href,
                        delete jsonml[1].href;
                    break;
                case "linebreak":
                    jsonml[0] = "br";
                    break;
                case "link":
                    jsonml[0] = "a";
                    break;
                case "link_ref":
                    if (
                        jsonml[0] = "a", !(
                            ref = references[attrs.ref]
                        )
                    ) return attrs.original;
                    delete attrs.ref, attrs.href = ref.href, ref.title && (attrs.title = ref.title), delete attrs.original
                    ;
                    break;
                case "img_ref":
                    var ref;
                    if (jsonml[0] = "img", !(ref = references[attrs.ref]
                        )
                    ) return attrs.original;
                    delete attrs.ref, attrs.src = ref.href, ref.title && (attrs.title = ref.title), delete attrs.original
            }
            if (
                i = 1,
                attrs) {
                for (
                    var key in jsonml[1]) {
                    i = 2;
                    break
                }
                1 === i && jsonml.splice(i, 1)
            }
            for (
                ; i < jsonml.length; ++i
            ) jsonml[i] = convert_tree_to_html(jsonml[i], references, options)
            ;
            return jsonml
        }
        function merge_text_nodes(jsonml) {
            for (
                var i = extract_attr(jsonml
                ) ? 2 : 1; i < jsonml.length;
            ) "string" == typeof jsonml[i] ? i + 1 < jsonml.length && "string" == typeof jsonml[i + 1] ? jsonml[i] += jsonml.splice(i + 1, 1
            )[0] : ++i : (
                merge_text_nodes(jsonml[i]),
                ++i)
        }
        function strong_em(tag, md) {
            function CloseTag(len) {
                this.len_after = len,
                    this.name = "close_" + md
            }
            var state_slot = tag + "_state",
                other_slot = "strong" === tag ? "em_state" : "strong_state";
            return function(
                text) {
                if (
                    this[state_slot][0] === md
                ) return this[state_slot].shift(), [
                    text.length, new CloseTag(text.length - md.length)
                ]
                ;
                var other = this[other_slot].slice(),
                    state = this[state_slot].slice()
                ;
                this[state_slot].unshift(md)
                ;
                var res = this.processInline(text.substr(md.length)),
                    last = res[res.length - 1]
                ;
                this[state_slot].shift();
                return last instanceof CloseTag ? (
                    res.pop(), [
                        text.length - last.len_after, [
                            tag
                        ].concat(res)
                    ]) : (
                    this[other_slot] = other,
                    this[state_slot] = state, [
                        md.length, md
                    ])
            }
        }
        function split_meta_hash(meta_string) {
            for (
                var meta = meta_string.split(""),
                    parts = [""],
                    in_quotes = !1; meta.length;) {
                var letter = meta.shift();
                switch (
                    letter) {
                    case " ":
                        in_quotes ? parts[parts.length - 1] += letter : parts.push("");
                        break;
                    case "'":
                    case '"':
                        in_quotes = !in_quotes;
                        break;
                    case "\\":
                        letter = meta.shift();
                    default:
                        parts[parts.length - 1] += letter
                }
            }
            return parts
        }
        var MarkdownHelpers = {
                "mk_block": function(block, trail, line) {
                    1 === arguments.length && (trail = "\n\n");
                    var s = new String(block);
                    return s.trailing = trail, s.inspect = mk_block_inspect, s.toSource = mk_block_toSource, line !== undefined && (s.lineNumber = line), s
                }
            },
            isArray = MarkdownHelpers.isArray = Array.isArray || function(obj) {
                return "[object Array]" === Object.prototype.toString.call(obj)
            };
        Array.prototype.forEach ? MarkdownHelpers.forEach = function forEach(arr, cb, thisp) {
            return arr.forEach(cb, thisp)
        } : MarkdownHelpers.forEach = function forEach(arr, cb, thisp) {
            for (var i = 0; i < arr.length; i++) cb.call(thisp || arr, arr[i], i, arr)
        }, MarkdownHelpers.isEmpty = function isEmpty(obj) {
            for (var key in obj)
                if (hasOwnProperty.call(obj, key)) return !1;
            return !0
        }, MarkdownHelpers.extract_attr = function extract_attr(jsonml) {
            return isArray(jsonml) && 1 < jsonml.length && "object" == typeof jsonml[1] && !isArray(jsonml[1]) ? jsonml[1] : undefined
        };
        var Markdown = function(dialect) {
            switch (typeof dialect) {
                case "undefined":
                    this.dialect = Markdown.dialects.Gruber;
                    break;
                case "object":
                    this.dialect = dialect;
                    break;
                default:
                    if (!(dialect in Markdown.dialects)) throw new Error("Unknown Markdown dialect '" + String(dialect) + "'");
                    this.dialect = Markdown.dialects[dialect]
            }
            this.em_state = [], this.strong_state = [], this.debug_indent = ""
        };
        Markdown.dialects = {};
        var mk_block = Markdown.mk_block = MarkdownHelpers.mk_block;
        isArray = MarkdownHelpers.isArray;
        Markdown.parse = function(source, dialect) {
            return new Markdown(dialect).toTree(source)
        }, Markdown.prototype.split_blocks = function splitBlocks(input) {
            input = input.replace(/(\r\n|\n|\r)/g, "\n");
            var m, re = /([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,
                blocks = [],
                line_no = 1;
            for (null !== (m = /^(\s*\n)/.exec(input)) && (line_no += count_lines(m[0]), re.lastIndex = m[0].length); null !== (m = re.exec(input));) "\n#" === m[2] && (m[2] = "\n", re.lastIndex--), blocks.push(mk_block(m[1], m[2], line_no)), line_no += count_lines(m[0]);
            return blocks
        }, Markdown.prototype.processBlock = function processBlock(block, next) {
            var cbs = this.dialect.block,
                ord = cbs.__order__;
            if ("__call__" in cbs) return cbs.__call__.call(this, block, next);
            for (var i = 0; i < ord.length; i++) {
                var res = cbs[ord[i]].call(this, block, next);
                if (res) return (!isArray(res) || 0 < res.length && !isArray(res[0])) && this.debug(ord[i], "didn't return a proper array"), res
            }
            return []
        }, Markdown.prototype.processInline = function processInline(block) {
            return this.dialect.inline.__call__.call(this, String(block))
        }, Markdown.prototype.toTree = function toTree(source, custom_root) {
            var blocks = source instanceof Array ? source : this.split_blocks(source),
                old_tree = this.tree;
            try {
                for (this.tree = custom_root || this.tree || ["markdown"]; blocks.length;) {
                    var b = this.processBlock(blocks.shift(), blocks);
                    b.length && this.tree.push.apply(this.tree, b)
                }
                return this.tree
            } finally {
                custom_root && (this.tree = old_tree)
            }
        }, Markdown.prototype.debug = function() {
            var args = Array.prototype.slice.call(arguments);
            args.unshift(this.debug_indent), "undefined" != typeof print && print.apply(print, args), "undefined" != typeof console && "undefined" != typeof console.log && console.log.apply(null, args)
        }, Markdown.prototype.loop_re_over_block = function(re, block, cb) {
            for (var m, b = block.valueOf(); b.length && null !== (m = re.exec(b));) b = b.substr(m[0].length), cb.call(this, m);
            return b
        }, Markdown.buildBlockOrder = function(d) {
            var ord = [];
            for (var i in d) "__order__" !== i && "__call__" !== i && ord.push(i);
            d.__order__ = ord
        }, Markdown.buildInlinePatterns = function(d) {
            var patterns = [];
            for (var i in d)
                if (!i.match(/^__.*__$/)) {
                    var l = i.replace(/([\\.*+?|()\[\]{}])/g, "\\$1").replace(/\n/, "\\n");
                    patterns.push(1 === i.length ? l : "(?:" + l + ")")
                }
            patterns = patterns.join("|"), d.__patterns__ = patterns;
            var fn = d.__call__;
            d.__call__ = function(text, pattern) {
                return pattern !== undefined ? fn.call(this, text, pattern) : fn.call(this, text, patterns)
            }
        };
        var extract_attr = MarkdownHelpers.extract_attr;
        Markdown.renderJsonML = function(jsonml, options) {
            (options = options || {}).root = options.root || !1;
            var content = [];
            if (options.root) content.push(render_tree(jsonml));
            else
                for (jsonml.shift(), !jsonml.length || "object" != typeof jsonml[0] || jsonml[0] instanceof Array || jsonml.shift(); jsonml.length;) content.push(render_tree(jsonml.shift()));
            return content.join("\n\n")
        }, Markdown.toHTMLTree = function toHTMLTree(input, dialect, options) {
            "string" == typeof input && (input = this.parse(input, dialect));
            var attrs = extract_attr(input),
                refs = {};
            attrs && attrs.references && (refs = attrs.references);
            var html = convert_tree_to_html(input, refs, options);
            return merge_text_nodes(html), html
        }, Markdown.toHTML = function toHTML(source, dialect, options) {
            var input = this.toHTMLTree(source, dialect, options);
            return this.renderJsonML(input)
        };
        var DialectHelpers = {
                "inline_until_char": function(text, want) {
                    for (var consumed = 0, nodes = [];;) {
                        if (text.charAt(consumed) === want) return [++consumed, nodes];
                        if (consumed >= text.length) return null;
                        var res = this.dialect.inline.__oneElement__.call(this, text.substr(consumed));
                        consumed += res[0], nodes.push.apply(nodes, res.slice(1))
                    }
                },
                "subclassDialect": function(d) {
                    function Block() {}
                    function Inline() {}
                    return Block.prototype = d.block, Inline.prototype = d.inline, {
                        "block": new Block,
                        "inline": new Inline
                    }
                }
            },
            forEach = MarkdownHelpers.forEach,
            isEmpty = (extract_attr = MarkdownHelpers.extract_attr, mk_block = MarkdownHelpers.mk_block, MarkdownHelpers.isEmpty),
            inline_until_char = DialectHelpers.inline_until_char,
            Gruber = {
                "block": {
                    "atxHeader": function atxHeader(block, next) {
                        var m = block.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);
                        if (!m) return undefined;
                        var header = ["header", {
                            "level": m[1].length
                        }];
                        return Array.prototype.push.apply(header, this.processInline(m[2])), m[0].length < block.length && next.unshift(mk_block(block.substr(m[0].length), block.trailing, block.lineNumber + 2)), [header]
                    },
                    "setextHeader": function setextHeader(block, next) {
                        var m = block.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);
                        if (!m) return undefined;
                        var header = ["header", {
                            "level": "=" === m[2] ? 1 : 2
                        }, m[1]];
                        return m[0].length < block.length && next.unshift(mk_block(block.substr(m[0].length), block.trailing, block.lineNumber + 2)), [header]
                    },
                    "code": function code(block, next) {
                        var ret = [],
                            re = /^(?: {0,3}\t| {4})(.*)\n?/;
                        if (!block.match(re)) return undefined;
                        block_search: for (;;) {
                            var b = this.loop_re_over_block(re, block.valueOf(), function(m) {
                                ret.push(m[1])
                            });
                            if (b.length) {
                                next.unshift(mk_block(b, block.trailing));
                                break block_search
                            }
                            if (!next.length) break block_search;
                            if (!next[0].match(re)) break block_search;
                            ret.push(block.trailing.replace(/[^\n]/g, "").substring(2)), block = next.shift()
                        }
                        return [
                            ["code_block", ret.join("\n")]
                        ]
                    },
                    "horizRule": function horizRule(block, next) {
                        var m = block.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);
                        if (!m) return undefined;
                        var jsonml = [
                            ["hr"]
                        ];
                        if (m[1]) {
                            var contained = mk_block(m[1], "", block.lineNumber);
                            jsonml.unshift.apply(jsonml, this.toTree(contained, []))
                        }
                        return m[3] && next.unshift(mk_block(m[3], block.trailing, block.lineNumber + 1)), jsonml
                    },
                    "lists": function() {
                        function regex_for_depth(depth) {
                            return new RegExp("(?:^(" + indent_re + "{0," + depth + "} {0,3})(" + any_list + ")\\s+)|(^" + indent_re + "{0," + (depth - 1) + "}[ ]{0,4})")
                        }
                        function expand_tab(input) {
                            return input.replace(/ {0,3}\t/g, "    ")
                        }
                        function add(li, loose, inline, nl) {
                            if (loose) li.push(["para"].concat(inline));
                            else {
                                var add_to = li[li.length - 1] instanceof Array && "para" === li[li.length - 1][0] ? li[li.length - 1] : li;
                                nl && 1 < li.length && inline.unshift(nl);
                                for (var i = 0; i < inline.length; i++) {
                                    var what = inline[i];
                                    "string" == typeof what && 1 < add_to.length && "string" == typeof add_to[add_to.length - 1] ? add_to[add_to.length - 1] += what : add_to.push(what)
                                }
                            }
                        }
                        function get_contained_blocks(depth, blocks) {
                            for (var re = new RegExp("^(" + indent_re + "{" + depth + "}.*?\\n?)*$"), replace = new RegExp("^" + indent_re + "{" + depth + "}", "gm"), ret = []; 0 < blocks.length && re.exec(blocks[0]);) {
                                var b = blocks.shift(),
                                    x = b.replace(replace, "");
                                ret.push(mk_block(x, b.trailing, b.lineNumber))
                            }
                            return ret
                        }
                        function paragraphify(s, i, stack) {
                            var list = s.list,
                                last_li = list[list.length - 1];
                            if (!(last_li[1] instanceof Array && "para" === last_li[1][0]))
                                if (i + 1 === stack.length) last_li.push(["para"].concat(last_li.splice(1, last_li.length - 1)));
                                else {
                                    var sublist = last_li.pop();
                                    last_li.push(["para"].concat(last_li.splice(1, last_li.length - 1)), sublist)
                                }
                        }
                        var any_list = "[*+-]|\\d+\\.",
                            bullet_list = /[*+-]/,
                            is_list_re = new RegExp("^( {0,3})(" + any_list + ")[ \t]+"),
                            indent_re = "(?: {0,3}\\t| {4})";
                        return function(block, next) {
                            function make_list(m) {
                                var list = bullet_list.exec(m[2]) ? ["bulletlist"] : ["numberlist"];
                                return stack.push({
                                    "list": list,
                                    "indent": m[1]
                                }), list
                            }
                            var m = block.match(is_list_re);
                            if (!m) return undefined;
                            for (var last_li, i, stack = [], list = make_list(m), loose = !1, ret = [stack[0].list];;) {
                                for (var lines = block.split(/(?=\n)/), li_accumulate = "", nl = "", line_no = 0; line_no < lines.length; line_no++) {
                                    nl = "";
                                    var l = lines[line_no].replace(/^\n/, function(n) {
                                            return nl = n, ""
                                        }),
                                        line_re = regex_for_depth(stack.length);
                                    if ((m = l.match(line_re))[1] !== undefined) {
                                        li_accumulate.length && (add(last_li, loose, this.processInline(li_accumulate), nl), loose = !1, li_accumulate = ""), m[1] = expand_tab(m[1]);
                                        var wanted_depth = Math.floor(m[1].length / 4) + 1;
                                        if (wanted_depth > stack.length) list = make_list(m), last_li.push(list), last_li = list[1] = ["listitem"];
                                        else {
                                            var found = !1;
                                            for (i = 0; i < stack.length; i++)
                                                if (stack[i].indent === m[1]) {
                                                    list = stack[i].list, stack.splice(i + 1, stack.length - (i + 1)), found = !0;
                                                    break
                                                }
                                            found || (++wanted_depth <= stack.length ? (stack.splice(wanted_depth, stack.length - wanted_depth), list = stack[wanted_depth - 1].list) : (list = make_list(m), last_li.push(list))), last_li = ["listitem"], list.push(last_li)
                                        }
                                        nl = ""
                                    }
                                    l.length > m[0].length && (li_accumulate += nl + l.substr(m[0].length))
                                }
                                li_accumulate.length && (add(last_li, loose, this.processInline(li_accumulate), nl), loose = !1, li_accumulate = "");
                                var contained = get_contained_blocks(stack.length, next);
                                0 < contained.length && (forEach(stack, paragraphify, this), last_li.push.apply(last_li, this.toTree(contained, [])));
                                var next_block = next[0] && next[0].valueOf() || "";
                                if (!next_block.match(is_list_re) && !next_block.match(/^ /)) break;
                                block = next.shift();
                                var hr = this.dialect.block.horizRule(block, next);
                                if (hr) {
                                    ret.push.apply(ret, hr);
                                    break
                                }
                                forEach(stack, paragraphify, this), loose = !0
                            }
                            return ret
                        }
                    }(),
                    "blockquote": function blockquote(block, next) {
                        if (!block.match(/^>/m)) return undefined;
                        var jsonml = [];
                        if (">" !== block[0]) {
                            for (var lines = block.split(/\n/), prev = [], line_no = block.lineNumber; lines.length && ">" !== lines[0][0];) prev.push(lines.shift()), line_no++;
                            var abutting = mk_block(prev.join("\n"), "\n", block.lineNumber);
                            jsonml.push.apply(jsonml, this.processBlock(abutting, [])), block = mk_block(lines.join("\n"), block.trailing, line_no)
                        }
                        for (; next.length && ">" === next[0][0];) {
                            var b = next.shift();
                            block = mk_block(block + block.trailing + b, b.trailing, block.lineNumber)
                        }
                        var input = block.replace(/^> ?/gm, ""),
                            processedBlock = (this.tree, this.toTree(input, ["blockquote"])),
                            attr = extract_attr(processedBlock);
                        return attr && attr.references && (delete attr.references, isEmpty(attr) && processedBlock.splice(1, 1)), jsonml.push(processedBlock), jsonml
                    },
                    "referenceDefn": function referenceDefn(block, next) {
                        var re = /^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;
                        if (!block.match(re)) return undefined;
                        extract_attr(this.tree) || this.tree.splice(1, 0, {});
                        var attrs = extract_attr(this.tree);
                        attrs.references === undefined && (attrs.references = {});
                        var b = this.loop_re_over_block(re, block, function(m) {
                            m[2] && "<" === m[2][0] && ">" === m[2][m[2].length - 1] && (m[2] = m[2].substring(1, m[2].length - 1));
                            var ref = attrs.references[m[1].toLowerCase()] = {
                                "href": m[2]
                            };
                            m[4] !== undefined ? ref.title = m[4] : m[5] !== undefined && (ref.title = m[5])
                        });
                        return b.length && next.unshift(mk_block(b, block.trailing)), []
                    },
                    "para": function para(block) {
                        return [
                            ["para"].concat(this.processInline(block))
                        ]
                    }
                },
                "inline": {
                    "__oneElement__": function oneElement(text, patterns_or_re, previous_nodes) {
                        var m, res;
                        return patterns_or_re = patterns_or_re || this.dialect.inline.__patterns__, (m = new RegExp("([\\s\\S]*?)(" + (patterns_or_re.source || patterns_or_re) + ")").exec(text)) ? m[1] ? [m[1].length, m[1]] : (m[2] in this.dialect.inline && (res = this.dialect.inline[m[2]].call(this, text.substr(m.index), m, previous_nodes || [])), res = res || [m[2].length, m[2]]) : [text.length, text]
                    },
                    "__call__": function inline(text, patterns) {
                        function add(x) {
                            "string" == typeof x && "string" == typeof out[out.length - 1] ? out[out.length - 1] += x : out.push(x)
                        }
                        for (var res, out = []; 0 < text.length;) res = this.dialect.inline.__oneElement__.call(this, text, patterns, out), text = text.substr(res.shift()), forEach(res, add);
                        return out
                    },
                    "]": function() {},
                    "}": function() {},
                    "__escape__": /^\\[\\`\*_{}\[\]()#\+.!\-]/,
                    "\\": function escaped(text) {
                        return this.dialect.inline.__escape__.exec(text) ? [2, text.charAt(1)] : [1, "\\"]
                    },
                    "![": function image(text) {
                        var m = text.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);
                        if (m) {
                            m[2] && "<" === m[2][0] && ">" === m[2][m[2].length - 1] && (m[2] = m[2].substring(1, m[2].length - 1)), m[2] = this.dialect.inline.__call__.call(this, m[2], /\\/)[0];
                            var attrs = {
                                "alt": m[1],
                                "href": m[2] || ""
                            };
                            return m[4] !== undefined && (attrs.title = m[4]), [m[0].length, ["img", attrs]]
                        }
                        return (m = text.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/)) ? [m[0].length, ["img_ref", {
                            "alt": m[1],
                            "ref": m[2].toLowerCase(),
                            "original": m[0]
                        }]] : [2, "!["]
                    },
                    "[": function link(text) {
                        var orig = String(text),
                            res = inline_until_char.call(this, text.substr(1), "]");
                        if (!res) return [1, "["];
                        var link, attrs, consumed = 1 + res[0],
                            children = res[1],
                            m = (text = text.substr(consumed)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);
                        if (m) {
                            var url = m[1];
                            if (consumed += m[0].length, url && "<" === url[0] && ">" === url[url.length - 1] && (url = url.substring(1, url.length - 1)), !m[3])
                                for (var open_parens = 1, len = 0; len < url.length; len++) switch (url[len]) {
                                    case "(":
                                        open_parens++;
                                        break;
                                    case ")":
                                        0 == --open_parens && (consumed -= url.length - len, url = url.substring(0, len))
                                }
                            return attrs = {
                                "href": (url = this.dialect.inline.__call__.call(this, url, /\\/)[0]) || ""
                            }, m[3] !== undefined && (attrs.title = m[3]), link = ["link", attrs].concat(children), [consumed, link]
                        }
                        return (m = text.match(/^\s*\[(.*?)\]/)) ? (consumed += m[0].length, link = ["link_ref", attrs = {
                            "ref": (m[1] || String(children)).toLowerCase(),
                            "original": orig.substr(0, consumed)
                        }].concat(children), [consumed, link]) : 1 === children.length && "string" == typeof children[0] ? (link = ["link_ref", attrs = {
                            "ref": children[0].toLowerCase(),
                            "original": orig.substr(0, consumed)
                        }, children[0]], [consumed, link]) : [1, "["]
                    },
                    "<": function autoLink(text) {
                        var m;
                        return null !== (m = text.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/)) ? m[3] ? [m[0].length, ["link", {
                            "href": "mailto:" + m[3]
                        }, m[3]]] : "mailto" === m[2] ? [m[0].length, ["link", {
                            "href": m[1]
                        }, m[1].substr("mailto:".length)]] : [m[0].length, ["link", {
                            "href": m[1]
                        }, m[1]]] : [1, "<"]
                    },
                    "`": function inlineCode(text) {
                        var m = text.match(/(`+)(([\s\S]*?)\1)/);
                        return m && m[2] ? [m[1].length + m[2].length, ["inlinecode", m[3]]] : [1, "`"]
                    },
                    "  \n": function lineBreak() {
                        return [3, ["linebreak"]]
                    }
                }
            };
        Gruber.inline["**"] = strong_em("strong", "**"), Gruber.inline.__ = strong_em("strong", "__"), Gruber.inline["*"] = strong_em("em", "*"), Gruber.inline._ = strong_em("em", "_"), Markdown.dialects.Gruber = Gruber, Markdown.buildBlockOrder(Markdown.dialects.Gruber.block), Markdown.buildInlinePatterns(Markdown.dialects.Gruber.inline);
        var Maruku = DialectHelpers.subclassDialect(Gruber);
        extract_attr = MarkdownHelpers.extract_attr, forEach = MarkdownHelpers.forEach;
        Maruku.processMetaHash = function processMetaHash(meta_string) {
                for (var meta = split_meta_hash(meta_string), attr = {}, i = 0; i < meta.length; ++i)
                    if (/^#/.test(meta[i])) attr.id = meta[i].substring(1);
                    else if (/^\./.test(meta[i])) attr["class"] ? attr["class"] = attr["class"] + meta[i].replace(/./, " ") : attr["class"] = meta[i].substring(1);
                else if (/\=/.test(meta[i])) {
                    var s = meta[i].split(/\=/);
                    attr[s[0]] = s[1]
                }
                return attr
            },
            Maruku.block.document_meta = function document_meta(block) {
                if (
                    1 < block.lineNumber
                ) return undefined;
                if (
                    !block.match(/^(?:\w+:.*\n)*\w+:.*$/)
                ) return undefined
                ;
                extract_attr(this.tree) || this.tree.splice(1, 0, {})
                ;
                var pairs = block.split(/\n/);
                for (
                    var p in pairs) {
                    var m = pairs[p].match(/(\w+):\s*(.*)$/),
                        key = m[1].toLowerCase(),
                        value = m[2]
                    ;
                    this.tree[1][key] = value
                }
                return [
                ]
            },
            Maruku.block.block_meta = function block_meta(block) {
                var m = block.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);
                if (!m) return undefined
                ;
                var hash, attr = this.dialect.processMetaHash(m[2]);
                if (
                    "" === m[1]) {
                    var node = this.tree[this.tree.length - 1];
                    if (
                        hash = extract_attr(node),
                        "string" == typeof node
                    ) return undefined;
                    for (
                        var a in hash || (hash = {}, node.splice(1, 0, hash)), attr
                    ) hash[a] = attr[a];
                    return [
                    ]
                }
                var b = block.replace(/\n.*$/, ""),
                    result = this.processBlock(b, []);
                for (
                    var a in (hash = extract_attr(result[0])) || (hash = {}, result[0].splice(1, 0, hash)), attr
                ) hash[a] = attr[a]
                ;
                return result
            },
            Maruku.block.definition_list = function definition_list(block, next) {
                var i, tight = /^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,
                    list = ["dl"];
                if (!(
                        m = block.match(tight))
                ) return undefined;
                for (var blocks = [block]; next.length && tight.exec(next[0]);) blocks.push(next.shift());
                for (var b = 0; b < blocks.length; ++b) {
                    var m, terms = (m = blocks[b].match(tight))[1].replace(/\n$/, "").split(/\n/),
                        defns = m[2].split(/\n:\s+/);
                    for (i = 0; i < terms.length; ++i) list.push(["dt", terms[i]]);
                    for (i = 0; i < defns.length; ++i) list.push(["dd"].concat(this.processInline(defns[i].replace(/(\n)\s+/, "$1"))))
                }
                return [
                    list
                ]
            },
            Maruku.block.table = function table(block) {
                var i,
                    m, _split_on_unescaped = function(s, ch) {
                        (ch = ch || "\\s").match(/^[\\|\[\]{}?*.+^$]$/) && (ch = "\\" + ch);
                        for (var m, res = [], r = new RegExp("^((?:\\\\.|[^\\\\" + ch + "])*)" + ch + "(.*)"); m = s.match(r);) res.push(m[1]), s = m[2];
                        return res.push(s), res
                    },
                    leading_pipe = /^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,
                    no_leading_pipe = /^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;
                if (
                    m = block.match(leading_pipe)
                ) m[3] = m[3].replace(/^\s*\|/gm, "");
                else if (!(
                        m = block.match(no_leading_pipe))) return undefined
                ;
                var table = ["table", ["thead", ["tr"]],
                    ["tbody"]
                ]
                ;
                m[2] = m[2].replace(/\|\s*$/, "").split("|")
                ;
                var html_attrs = [];
                for (
                    forEach(m[2], function(s) {
                        s.match(/^\s*-+:\s*$/) ? html_attrs.push({
                            "align": "right"
                        }) : s.match(/^\s*:-+\s*$/) ? html_attrs.push({
                            "align": "left"
                        }) : s.match(/^\s*:-+:\s*$/) ? html_attrs.push({
                                "align": "center"
                            }
                        ) : html_attrs.push({})
                    }),
                    m[1] = _split_on_unescaped(m[1].replace(/\|\s*$/, ""), "|"),
                    i = 0; i < m[1].length; i++
                ) table[1][1].push(["th", html_attrs[i] || {}].concat(
                    this.processInline(m[1][i].trim())))
                ;
                return forEach(m[3].replace(/\|\s*$/gm, "").split("\n"), function(row) {
                        var html_row = ["tr"];
                        for (
                            row = _split_on_unescaped(row, "|"),
                            i = 0; i < row.length; i++
                        ) html_row.push(["td", html_attrs[i] || {}].concat(this.processInline(row[i].trim())));
                        table[2].push(html_row)
                    },
                    this), [
                    table
                ]
            },
            Maruku.inline["{:"] = function inline_meta(text, matches, out) {
                if (!out.length) return [
                    2, "{:"
                ]
                ;
                var before = out[out.length - 1];
                if (
                    "string" == typeof before) return [
                    2, "{:"
                ]
                ;
                var m = text.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);
                if (
                    !m) return [
                    2, "{:"
                ]
                ;
                var meta = this.dialect.processMetaHash(m[1]),
                    attr = extract_attr(before);
                for (
                    var k in attr || (attr = {}, before.splice(1, 0, attr)), meta
                ) attr[k] = meta[k];
                return [
                    m[0].length, ""
                ]
            },
            Markdown.dialects.Maruku = Maruku,
            Markdown.dialects.Maruku.inline.__escape__ = /^\\[\\`\*_{}\[\]()#\+.!\-|:]/,
            Markdown.buildBlockOrder(Markdown.dialects.Maruku.block),
            Markdown.buildInlinePatterns(Markdown.dialects.Maruku.inline),
            expose.Markdown = Markdown,
            expose.parse = Markdown.parse,
            expose.toHTML = Markdown.toHTML,
            expose.toHTMLTree = Markdown.toHTMLTree,
            expose.renderJsonML = Markdown.renderJsonML
    }((
        window.markdown = {},
        window.markdown)),
    function() {
        Hs.MobileDatepicker = function() {
                function MobileDatepicker() {
                    var backup_datepicker, that;
                    that = this,
                        backup_datepicker = $.extend({}, $.fn.datepicker.Constructor.prototype),
                        this.apply_overlay(),
                        $.fn.datepicker.Constructor.prototype = $.extend(!0, $.fn.datepicker.Constructor.prototype, {
                            "show": function() {
                                if (
                                    this.scrollTop = $(window).scrollTop(),
                                    backup_datepicker.show.call(this),
                                    that.is_touch_screen()
                                ) return $(".bs-datepicker-overlay").length || that.apply_overlay(),
                                    this.picker.detach().appendTo("#bs-datepicker-overlay-container").addClass("hide-datepicker"),
                                    $("body").addClass("freeze-datepicker"),
                                    $(".bs-datepicker-overlay").removeClass("hidden"),
                                    this.element.blur(),
                                    $(".bs-datepicker-overlay .bs-datepicker-title").html(markdown.toHTML(this.element.attr("data-title") ? this.element.attr("data-title") : this.element.attr("placeholder"))),
                                    setTimeout(function() {
                                            return $(".datepicker").removeClass("hide-datepicker")
                                        },
                                        250)
                            },
                            "hide": function() {
                                if (
                                    that.is_touch_screen() && (
                                        $("body").removeClass("freeze-datepicker"),
                                        this.picker.detach().appendTo("body"),
                                        this.element.trigger("blur"),
                                        this.scrollTop && $(window).scrollTop(this.scrollTop)),
                                    backup_datepicker.hide.call(this),
                                    that.is_touch_screen
                                ) return $(".bs-datepicker-overlay").addClass("hidden")
                            }
                        })
                }
                return MobileDatepicker.prototype.is_touch_screen = function() {
                        return $("body").hasClass("touch-enabled")
                    },
                    MobileDatepicker.prototype.apply_overlay = function() {
                        var datepicker_container, overlay, overlay_background, title;
                        return (
                                overlay = document.createElement("div")
                            ).className = "bs-datepicker-overlay hidden", (
                                overlay_background = document.createElement("div")
                            ).className = "bs-datepicker-background", (
                                datepicker_container = document.createElement("div")
                            ).id = "bs-datepicker-overlay-container",
                            datepicker_container.className = "bs-datepicker-overlay-container",
                            title = $('<div class="modal-header"><button class="close" data-dismiss="modal" type="button"></button><h4 class="center bs-datepicker-title">Log in</h4></div>')[0],
                            overlay.appendChild(title),
                            overlay.appendChild(datepicker_container),
                            overlay.appendChild(overlay_background),
                            $("body").append(overlay),
                            $(".bs-datepicker-overlay").on("mouseup touchend", function(evt) {
                                if (
                                    $(evt.target).closest(".modal-header").length
                                ) return evt.stopPropagation(),
                                    $(".bs-datepicker-overlay").addClass("hidden"), !1
                            })
                    },
                    MobileDatepicker
            }(),
            new Hs.MobileDatepicker
    }.call(
        this),
    function(
        $) {
        "use strict"
        ;
        var TabCollapse = function(el, options) {
            this.options = options,
                this.$tabs = $(el),
                this._accordionVisible = !1,
                this._initAccordion(),
                this._checkStateOnResize(),
                this.checkState()
        }
        ;
        TabCollapse.DEFAULTS = {
                "accordionClass": "visible-xs",
                "tabsClass": "hidden-xs",
                "accordionTemplate": function(
                    heading, groupId, parentId, active) {
                    return '<div class="panel panel-default">   <div class="panel-heading">      <h4 class="panel-title">        <a class="' + (
                        active ? "" : "collapsed"
                    ) + '" data-toggle="collapse" data-parent="#' + parentId + '" href="#' + groupId + '">           ' + heading + '        </a>      </h4>   </div>   <div id="' + groupId + '" class="panel-collapse collapse ' + (active ? "in" : "") + '">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'
                }
            },
            TabCollapse.prototype.checkState = function() {
                this.$tabs.is(":visible") && this._accordionVisible ? (
                    this.showTabs(),
                    this._accordionVisible = !1
                ) : this.$accordion.is(":visible") && !this._accordionVisible && (
                    this.showAccordion(),
                    this._accordionVisible = !0)
            },
            TabCollapse.prototype.showTabs = function() {
                this.$tabs.trigger($.Event("show-tabs.bs.tabcollapse")),
                    this.$accordion.find(".js-tabcollapse-panel-body").each(function() {
                        var $panelBody = $(this);
                        $panelBody.data("bs.tabcollapse.tabpane").append($panelBody.children("*").detach())
                    }),
                    this.$accordion.html(""),
                    this.$tabs.trigger($.Event("shown-tabs.bs.tabcollapse"))
            },
            TabCollapse.prototype.showAccordion = function() {
                this.$tabs.trigger($.Event("show-accordion.bs.tabcollapse"))
                ;
                var $headings = this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),
                    view = this;
                $headings.each(function() {
                        var $heading = $(this);
                        view.$accordion.append(view._createAccordionGroup(view.$accordion.attr("id"), $heading))
                    }),
                    this.$tabs.trigger($.Event("shown-accordion.bs.tabcollapse"))
            },
            TabCollapse.prototype._checkStateOnResize = function() {
                var view = this;
                $(window).resize(function() {
                    clearTimeout(view._resizeTimeout),
                        view._resizeTimeout = setTimeout(function() {
                                view.checkState()
                            },
                            100)
                })
            },
            TabCollapse.prototype._initAccordion = function() {
                this.$accordion = $('<div class="panel-group ' + this.options.accordionClass + '" id="' + this.$tabs.attr("id") + '-accordion"></div>'),
                    this.$tabs.after(this.$accordion),
                    this.$tabs.addClass(this.options.tabsClass),
                    this.$tabs.parent().siblings(".tab-content").addClass(this.options.tabsClass)
            },
            TabCollapse.prototype._createAccordionGroup = function(parentId, $heading) {
                var tabSelector = $heading.attr("data-target"),
                    active = $heading.parent().is(".active")
                ;
                tabSelector || (
                    tabSelector = (tabSelector = $heading.attr("href")) && tabSelector.replace(/.*(?=#[^\s]*$)/, ""))
                ;
                var $tabPane = $(tabSelector),
                    groupId = $tabPane.attr("id") + "-collapse",
                    $panel = $(this.options.accordionTemplate($heading.html(), groupId, parentId, active));
                return $panel.find(".panel-body").append($tabPane.children("*").detach()).data(
                        "bs.tabcollapse.tabpane", $tabPane),
                    $panel
            },
            $.fn.tabCollapse = function(option) {
                return this.each(function() {
                    var $this = $(this),
                        data = $this.data("bs.tabcollapse"),
                        options = $.extend({}, TabCollapse.DEFAULTS, $this.data(), "object" == typeof option && option)
                    ;
                    data || $this.data("bs.tabcollapse", new TabCollapse(this, options))
                })
            },
            $.fn.tabCollapse.Constructor = TabCollapse
    }(
        window.jQuery)
;
var Mailcheck = {
    "domainThreshold": 2,
    "secondLevelThreshold": 2,
    "topLevelThreshold": 2,
    "defaultDomains": [
        "msn.com", "bellsouth.net",
        "telus.net", "comcast.net", "optusnet.com.au",
        "earthlink.net", "qq.com", "sky.com", "icloud.com",
        "mac.com", "sympatico.ca", "googlemail.com",
        "att.net", "xtra.co.nz", "web.de",
        "cox.net", "gmail.com", "ymail.com",
        "aim.com", "rogers.com", "verizon.net",
        "rocketmail.com", "google.com", "optonline.net",
        "sbcglobal.net", "aol.com", "me.com", "btinternet.com",
        "charter.net", "shaw.ca"
    ],
    "defaultSecondLevelDomains": [
        "yahoo", "hotmail", "mail", "live", "outlook", "gmx"
    ],
    "defaultTopLevelDomains": [
        "com", "com.au", "com.tw", "ca", "co.nz", "co.uk", "de",
        "fr", "it", "ru", "net", "org", "edu", "gov", "jp", "nl", "kr", "se", "eu",
        "ie", "co.il", "us", "at", "be", "dk", "hk", "es", "gr", "ch", "no", "cz",
        "in", "net", "net.au", "info", "biz", "mil", "co.jp", "sg", "hu"
    ],
    "run": function(
        opts) {
        opts.domains = opts.domains || Mailcheck.defaultDomains,
            opts.secondLevelDomains = opts.secondLevelDomains || Mailcheck.defaultSecondLevelDomains,
            opts.topLevelDomains = opts.topLevelDomains || Mailcheck.defaultTopLevelDomains,
            opts.distanceFunction = opts.distanceFunction || Mailcheck.sift3Distance
        ;
        var defaultCallback = function(result) {
                return result
            },
            suggestedCallback = opts.suggested || defaultCallback,
            emptyCallback = opts.empty || defaultCallback,
            result = Mailcheck.suggest(Mailcheck.encodeEmail(opts.email), opts.domains, opts.secondLevelDomains, opts.topLevelDomains, opts.distanceFunction)
        ;
        return result ? suggestedCallback(result) : emptyCallback()
    },
    "suggest": function(
        email, domains, secondLevelDomains, topLevelDomains, distanceFunction) {
        email = email.toLowerCase()
        ;
        var emailParts = this.splitEmail(email);
        if (
            secondLevelDomains && topLevelDomains && -1 !== secondLevelDomains.indexOf(emailParts.secondLevelDomain) && -1 !== topLevelDomains.indexOf(emailParts.topLevelDomain)
        ) return !1;
        if (
            closestDomain = this.findClosestDomain(emailParts.domain, domains, distanceFunction, this.domainThreshold)
        ) return closestDomain != emailParts.domain && {
            "address": emailParts.address,
            "domain": closestDomain,
            "full": emailParts.address + "@" + closestDomain
        }
        ;
        var closestSecondLevelDomain = this.findClosestDomain(emailParts.secondLevelDomain, secondLevelDomains, distanceFunction, this.secondLevelThreshold),
            closestTopLevelDomain = this.findClosestDomain(emailParts.topLevelDomain, topLevelDomains, distanceFunction, this.topLevelThreshold);
        if (
            emailParts.domain) {
            var closestDomain = emailParts.domain,
                rtrn = !1;
            if (
                closestSecondLevelDomain && closestSecondLevelDomain != emailParts.secondLevelDomain && (
                    closestDomain = closestDomain.replace(emailParts.secondLevelDomain, closestSecondLevelDomain),
                    rtrn = !0),
                closestTopLevelDomain && closestTopLevelDomain != emailParts.topLevelDomain && (
                    closestDomain = closestDomain.replace(emailParts.topLevelDomain, closestTopLevelDomain),
                    rtrn = !0),
                1 == rtrn) return {
                "address": emailParts.address,
                "domain": closestDomain,
                "full": emailParts.address + "@" + closestDomain
            }
        }
        return !1
    },
    "findClosestDomain": function(
        domain, domains, distanceFunction, threshold) {
        var dist;
        threshold = threshold || this.topLevelThreshold;
        var minDist = 99,
            closestDomain = null;
        if (
            !domain || !domains
        ) return !1
        ;
        distanceFunction || (
            distanceFunction = this.sift3Distance);
        for (
            var i = 0; i < domains.length; i++) {
            if (
                domain === domains[i]
            ) return domain;
            (
                dist = distanceFunction(domain, domains[i])
            ) < minDist && (
                minDist = dist,
                closestDomain = domains[i])
        }
        return minDist <= threshold && null !== closestDomain && closestDomain
    },
    "sift3Distance": function(
        s1, s2) {
        if (
            null == s1 || 0 === s1.length
        ) return null == s2 || 0 === s2.length ? 0 : s2.length;
        if (
            null == s2 || 0 === s2.length
        ) return s1.length;
        for (
            var c = 0,
                offset1 = 0,
                offset2 = 0,
                lcs = 0,
                maxOffset = 5; c + offset1 < s1.length && c + offset2 < s2.length;) {
            if (
                s1.charAt(c + offset1) == s2.charAt(c + offset2)
            ) lcs++;
            else
                for (
                    var i = offset2 = offset1 = 0; i < maxOffset; i++) {
                    if (
                        c + i < s1.length && s1.charAt(c + i) == s2.charAt(c)) {
                        offset1 = i;
                        break
                    }
                    if (
                        c + i < s2.length && s1.charAt(c) == s2.charAt(c + i)) {
                        offset2 = i;
                        break
                    }
                }
            c++
        }
        return (
            s1.length + s2.length) / 2 - lcs
    },
    "splitEmail": function(
        email) {
        var parts = email.trim().split("@");
        if (
            parts.length < 2
        ) return !1;
        for (
            var i = 0; i < parts.length; i++)
            if (
                "" === parts[i]
            ) return !1
            ;
        var domain = parts.pop(),
            domainParts = domain.split("."),
            sld = "",
            tld = "";
        if (
            0 == domainParts.length
        ) return !1;
        if (
            1 == domainParts.length
        ) tld = domainParts[0];
        else {
            sld = domainParts[0];
            for (
                i = 1; i < domainParts.length; i++
            ) tld += domainParts[i] + "."
            ;
            tld = tld.substring(0, tld.length - 1)
        }
        return {
            "topLevelDomain": tld,
            "secondLevelDomain": sld,
            "domain": domain,
            "address": parts.join("@")
        }
    },
    "encodeEmail": function(
        email) {
        var result = encodeURI(email);
        return result = result.replace("%20", " ").replace("%25", "%").replace("%5E", "^").replace(
            "%60", "`").replace("%7B", "{").replace("%7C", "|").replace(
            "%7D", "}"
        )
    }
}
;
"undefined" != typeof module && module.exports && (
        module.exports = Mailcheck),
    "function" == typeof define && define.amd && define("mailcheck", [], function() {
        return Mailcheck
    }),
    "undefined" != typeof window && window.jQuery && (
        jQuery.fn.mailcheck = function(opts) {
            var self = this;
            if (opts.suggested) {
                var oldSuggested = opts.suggested;
                opts.suggested = function(result) {
                    oldSuggested(self, result)
                }
            }
            if (opts.empty) {
                var oldEmpty = opts.empty;
                opts.empty = function() {
                    oldEmpty.call(null, self)
                }
            }
            opts.email = this.val(), Mailcheck.run(opts)
        }),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(factory
        ) : window.purl = factory()
    }(function() {
        function parseUri(url, strictMode) {
            for (
                var str = decodeURI(url),
                    res = parser[strictMode ? "strict" : "loose"].exec(str),
                    uri = {
                        "attr": {},
                        "param": {},
                        "seg": {}
                    },
                    i = 14; i--;
            ) uri.attr[key[i]] = res[i] || ""
            ;
            return uri.param.query = parseString(uri.attr.query),
                uri.param.fragment = parseString(uri.attr.fragment),
                uri.seg.path = uri.attr.path.replace(/^\/+|\/+$/g, "").split("/"),
                uri.seg.fragment = uri.attr.fragment.replace(/^\/+|\/+$/g, "").split("/"),
                uri.attr.base = uri.attr.host ? (uri.attr.protocol ? uri.attr.protocol + "://" + uri.attr.host : uri.attr.host) + (uri.attr.port ? ":" + uri.attr.port : "") : "",
                uri
        }
        function getAttrName(elm) {
            var tn = elm.tagName;
            return void 0 !== tn ? tag2attr[tn.toLowerCase()] : tn
        }
        function promote(parent, key) {
            if (
                0 === parent[key].length) return parent[key] = {};
            var t = {};
            for (
                var i in parent[key]) t[i] = parent[key][i]
            ;
            return parent[key] = t
        }
        function parse(parts, parent, key, val) {
            var part = parts.shift();
            if (
                part) {
                var obj = parent[key] = parent[key] || []
                ;
                "]" == part ? isArray(obj) ? "" !== val && obj.push(val
                ) : "object" == typeof obj ? obj[keys(obj
                ).length] = val : obj = parent[key] = [parent[key], val] : (
                    ~part.indexOf("]") && (
                        part = part.substr(0, part.length - 1)), !isint.test(part) && isArray(obj) && (obj = promote(parent, key)),
                    parse(parts, obj, part, val))
            } else isArray(parent[key]) ? parent[key].push(val) : "object" == typeof parent[key] ? parent[key] = val : "undefined" == typeof parent[key] ? parent[key] = val : parent[key] = [parent[key], val]
        }
        function merge(parent, key, val) {
            if (~key.indexOf("]")) {
                parse(key.split("["), parent, "base", val)
            } else {
                if (
                    !isint.test(key) && isArray(parent.base)) {
                    var t = {};
                    for (
                        var k in parent.base) t[k] = parent.base[k];
                    parent.base = t
                }
                "" !== key && set(parent.base, key, val)
            }
            return parent
        }
        function parseString(str) {
            return reduce(String(str).split(/&|;/), function(ret, pair) {
                try {
                    pair = decodeURIComponent(pair.replace(/\+/g, " "))
                } catch (
                    e) {}
                var eql = pair.indexOf("="),
                    brace = lastBraceInKey(pair),
                    key = pair.substr(0, brace || eql),
                    val = pair.substr(brace || eql, pair.length)
                ;
                return val = val.substr(val.indexOf("=") + 1, val.length),
                    "" === key && (
                        key = pair,
                        val = ""),
                    merge(ret, key, val)
            }, {
                "base": {}
            }).base
        }
        function set(obj, key, val) {
            var v = obj[key]
            ;
            void 0 === v ? obj[key] = val : isArray(v) ? v.push(val
            ) : obj[key] = [v, val]
        }
        function lastBraceInKey(str) {
            for (
                var brace,
                    c, len = str.length,
                    i = 0; i < len; ++i)
                if (
                    "]" == (c = str[i]) && (brace = !1),
                    "[" == c && (brace = !0),
                    "=" == c && !brace) return i
        }
        function reduce(obj, accumulator, argument_2) {
            for (
                var i = 0,
                    l = obj.length >> 0,
                    curr = argument_2; i < l;
            ) i in obj && (curr = accumulator.call(undefined, curr, obj[i], i, obj)),
                ++i
            ;
            return curr
        }
        function isArray(vArg) {
            return "[object Array]" === Object.prototype.toString.call(vArg)
        }
        function keys(obj) {
            var key_array = [];
            for (
                var prop in obj
            ) obj.hasOwnProperty(prop) && key_array.push(prop)
            ;
            return key_array
        }
        function purl(url, strictMode) {
            return 1 === arguments.length && !0 === url && (
                    strictMode = !0,
                    url = undefined),
                strictMode = strictMode || !1, {
                    "data": parseUri(url = url || window.location.toString(), strictMode),
                    "attr": function(
                        attr) {
                        return void 0 !== (attr = aliases[attr] || attr) ? this.data.attr[attr] : this.data.attr
                    },
                    "param": function(
                        param) {
                        return void 0 !== param ? this.data.param.query[param] : this.data.param.query
                    },
                    "fparam": function(
                        param) {
                        return void 0 !== param ? this.data.param.fragment[param] : this.data.param.fragment
                    },
                    "segment": function(
                        seg) {
                        return void 0 === seg ? this.data.seg.path : (
                            seg = seg < 0 ? this.data.seg.path.length + seg : seg - 1,
                            this.data.seg.path[seg])
                    },
                    "fsegment": function(
                        seg) {
                        return void 0 === seg ? this.data.seg.fragment : (
                            seg = seg < 0 ? this.data.seg.fragment.length + seg : seg - 1,
                            this.data.seg.fragment[seg])
                    }
                }
        }
        var tag2attr = {
                "a": "href",
                "img": "src",
                "form": "action",
                "base": "href",
                "script": "src",
                "iframe": "src",
                "link": "href"
            },
            key = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "fragment"],
            aliases = {
                "anchor": "fragment"
            },
            parser = {
                "strict": /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                "loose": /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
            },
            isint = /^[0-9]+$/
        ;
        return purl.jQuery = function($) {
                null != $ && (
                    $.fn.url = function(strictMode) {
                        var url = "";
                        return this.length && (
                                url = $(this).attr(getAttrName(this[0])) || ""),
                            purl(url, strictMode)
                    },
                    $.url = purl)
            },
            purl.jQuery(window.jQuery),
            purl
    }),
    function(
        a, b) {
        "object" == typeof exports && "object" == typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define([], b) : "object" == typeof exports ? exports.PUBNUB = b() : a.PUBNUB = b()
    }(this, function() {
        return function(a) {
            function b(d) {
                if (c[d]) return c[d].exports;
                var e = c[d] = {
                    "exports": {},
                    "id": d,
                    "loaded": !1
                };
                return a[d].call(e.exports, e, e.exports, b), e.loaded = !0, e.exports
            }
            var c = {};
            return b.m = a, b.c = c, b.p = "", b(0)
        }([function(a, b, c) {
            function d(a, b) {
                return q.HmacSHA256(a, b).toString(q.enc.Base64)
            }
            function e(a) {
                return document.getElementById(a)
            }
            function f(a) {
                console.error(a)
            }
            function g(a, b) {
                var c = [];
                return s.each(a.split(/\s+/), function(a) {
                    s.each((b || document).getElementsByTagName(a), function(a) {
                        c.push(a)
                    })
                }), c
            }
            function h(a, b, c) {
                s.each(a.split(","), function(a) {
                    var d = function(a) {
                        a || (a = window.event), c(a) || (a.cancelBubble = !0, a.preventDefault && a.preventDefault(), a.stopPropagation && a.stopPropagation())
                    };
                    b.addEventListener ? b.addEventListener(a, d, !1) : b.attachEvent ? b.attachEvent("on" + a, d) : b["on" + a] = d
                })
            }
            function i() {
                return g("head")[0]
            }
            function j(a, b, c) {
                return c ? void a.setAttribute(b, c) : a && a.getAttribute && a.getAttribute(b)
            }
            function k(a, b) {
                for (var c in b)
                    if (b.hasOwnProperty(c)) try {
                        a.style[c] = b[c] + (0 < "|width|height|top|left|".indexOf(c) && "number" == typeof b[c] ? "px" : "")
                    } catch (d) {
                        return
                    }
            }
            function l(a) {
                return document.createElement(a)
            }
            function m(a) {
                var b, c, d = 0,
                    e = 0,
                    f = !0,
                    g = a.timeout || s.DEF_TIMEOUT,
                    h = a.data || {},
                    i = a.fail || function() {},
                    j = a.success || function() {},
                    k = function(a, e) {
                        d || (d = 1, clearTimeout(c), b && (b.onerror = b.onload = null, b.abort && b.abort(), b = null), a && i(e))
                    },
                    l = function() {
                        if (!e) {
                            var a;
                            e = 1, clearTimeout(c);
                            try {
                                a = JSON.parse(b.responseText)
                            } catch (d) {
                                return k(1)
                            }
                            j(a)
                        }
                    };
                c = s.timeout(function() {
                    k(1)
                }, g);
                try {
                    (b = "undefined" != typeof XDomainRequest && new XDomainRequest || new XMLHttpRequest).onerror = b.onabort = function() {
                        k(1, b.responseText || {
                            "error": "Network Connection Error"
                        })
                    }, b.onload = b.onloadend = l, h.pnsdk = u;
                    var m = s.build_url(a.url, h);
                    b.open("GET", m, f), f && (b.timeout = g), b.send()
                } catch (n) {
                    k(1, {
                        "error": "XHR Failed",
                        "stacktrace": n
                    })
                }
                return k
            }
            function n() {
                if (!("onLine" in navigator)) return 1;
                try {
                    return navigator.onLine
                } catch (a) {
                    return !0
                }
            }
            function o(a) {
                return "sendBeacon" in navigator && navigator.sendBeacon(a)
            }
            c(1);
            var p = c(2),
                q = c(3),
                r = c(4),
                s = c(5),
                t = c(8),
                u = "PubNub-JS-Web/" + r.version;
            window.console || (window.console = window.console || {}), console.log || (console.log = console.error = (window.opera || {}).postError || function() {});
            var v = function() {
                    var a = {},
                        b = !1;
                    try {
                        b = window.localStorage
                    } catch (c) {
                        return
                    }
                    var d = function(a) {
                            return -1 === document.cookie.indexOf(a) ? null : ((document.cookie || "").match(RegExp(a + "=([^;]+)")) || [])[1] || null
                        },
                        e = function(a, b) {
                            document.cookie = a + "=" + b + "; expires=Thu, 1 Aug " + ((new Date).getFullYear() + 1) + " 20:00:00 UTC; path=/"
                        },
                        f = function() {
                            try {
                                return e("pnctest", "1"), "1" === d("pnctest")
                            } catch (a) {
                                return !1
                            }
                        }();
                    return {
                        "get": function(c) {
                            try {
                                return b ? b.getItem(c) : f ? d(c) : a[c]
                            } catch (e) {
                                return a[c]
                            }
                        },
                        "set": function(c, d) {
                            try {
                                if (b) return b.setItem(c, d) && 0;
                                f && e(c, d), a[c] = d
                            } catch (g) {
                                a[c] = d
                            }
                        }
                    }
                }(),
                w = {
                    "list": {},
                    "unbind": function(a) {
                        w.list[a] = []
                    },
                    "bind": function(a, b) {
                        (w.list[a] = w.list[a] || []).push(b)
                    },
                    "fire": function(a, b) {
                        s.each(w.list[a] || [], function(a) {
                            a(b)
                        })
                    }
                },
                x = function(a) {
                    var b = a.leave_on_unload || 0;
                    a.xdr = m, a.db = v, a.error = a.error || f, a._is_online = n, a.hmac_SHA256 = d, a.crypto_obj = p(), a.sendBeacon = o, a.params = {
                        "pnsdk": u
                    };
                    var c = function(a) {
                            return x(a)
                        },
                        q = s.PN_API(a);
                    for (var r in q) q.hasOwnProperty(r) && (c[r] = q[r]);
                    return c.css = k, c.$ = e, c.create = l, c.bind = h, c.head = i, c.search = g, c.attr = j, c.events = w, ((c.init = c).secure = c).crypto_obj = p(), c.WS = t, c.PNmessage = s.PNmessage, c.supplant = s.supplant, h("beforeunload", window, function() {
                        return b && c["each-channel"](function(a) {
                            c.LEAVE(a.name, 0)
                        }), !0
                    }), c.ready(), a.notest || (h("offline", window, c.offline), h("offline", document, c.offline)), c
                };
            ((x.init = x).secure = x).crypto_obj = p(), x.WS = t, x.db = v, x.PNmessage = s.PNmessage, x.uuid = s.uuid, x.css = k, x.$ = e, x.create = e, x.bind = h, x.head = i, x.search = g, x.attr = j, x.events = w, x.map = s.map, x.each = s.each, x.grep = s.grep, x.supplant = s.supplant, x.now = s.now, x.unique = s.unique, x.updater = s.updater, window.jQuery && (window.jQuery.PUBNUB = x), a.exports = x
        }, function(module, exports) {
            (function() {
                window.JSON && window.JSON.stringify || function() {
                    function toJSON() {
                        try {
                            return this.valueOf()
                        } catch (b) {
                            return null
                        }
                    }
                    function quote(a) {
                        return escapable.lastIndex = 0, escapable.test(a) ? '"' + a.replace(escapable, function(a) {
                            var b = meta[a];
                            return "string" == typeof b ? b : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
                        }) + '"' : '"' + a + '"'
                    }
                    function str(a, b) {
                        var c, d, e, f, g, h = gap,
                            i = b[a];
                        switch (i && "object" == typeof i && (i = toJSON.call(i, a)), "function" == typeof rep && (i = rep.call(b, a, i)), typeof i) {
                            case "string":
                                return quote(i);
                            case "number":
                                return isFinite(i) ? String(i) : "null";
                            case "boolean":
                            case "null":
                                return String(i);
                            case "object":
                                if (!i) return "null";
                                if (gap += indent, g = [], "[object Array]" === Object.prototype.toString.apply(i)) {
                                    for (f = i.length, c = 0; c < f; c += 1) g[c] = str(c, i) || "null";
                                    return e = 0 === g.length ? "[]" : gap ? "[\n" + gap + g.join(",\n" + gap) + "\n" + h + "]" : "[" + g.join(",") + "]", gap = h, e
                                }
                                if (rep && "object" == typeof rep)
                                    for (f = rep.length, c = 0; c < f; c += 1) "string" == typeof(d = rep[c]) && ((e = str(d, i)) && g.push(quote(d) + (gap ? ": " : ":") + e));
                                else
                                    for (d in i) Object.hasOwnProperty.call(i, d) && ((e = str(d, i)) && g.push(quote(d) + (gap ? ": " : ":") + e));
                                return e = 0 === g.length ? "{}" : gap ? "{\n" + gap + g.join(",\n" + gap) + "\n" + h + "}" : "{" + g.join(",") + "}", gap = h, e
                        }
                    }
                    window.JSON || (window.JSON = {});
                    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                        gap, indent, meta = {
                            "\b": "\\b",
                            "\t": "\\t",
                            "\n": "\\n",
                            "\f": "\\f",
                            "\r": "\\r",
                            '"': '\\"',
                            "\\": "\\\\"
                        },
                        rep;
                    "function" != typeof JSON.stringify && (JSON.stringify = function(a, b, c) {
                        var d;
                        if (indent = gap = "", "number" == typeof c)
                            for (d = 0; d < c; d += 1) indent += " ";
                        else "string" == typeof c && (indent = c);
                        if ((rep = b) && "function" != typeof b && ("object" != typeof b || "number" != typeof b.length)) throw new Error("JSON.stringify");
                        return str("", {
                            "": a
                        })
                    }), "function" != typeof JSON.parse && (JSON.parse = function(text) {
                        return eval("(" + text + ")")
                    })
                }()
            }).call(window)
        }, function(a, b, c) {
            function d() {
                function a(a) {
                    return e.SHA256(a).toString(e.enc.Hex)
                }
                function b(a) {
                    return (a = a || {}).hasOwnProperty("encryptKey") || (a.encryptKey = l.encryptKey), a.hasOwnProperty("keyEncoding") || (a.keyEncoding = l.keyEncoding), a.hasOwnProperty("keyLength") || (a.keyLength = l.keyLength), a.hasOwnProperty("mode") || (a.mode = l.mode), -1 == i.indexOf(a.keyEncoding.toLowerCase()) && (a.keyEncoding = l.keyEncoding), -1 == j.indexOf(parseInt(a.keyLength, 10)) && (a.keyLength = l.keyLength), -1 == k.indexOf(a.mode.toLowerCase()) && (a.mode = l.mode), a
                }
                function c(a, b) {
                    return "base64" === b.keyEncoding ? e.enc.Base64.parse(a) : "hex" === b.keyEncoding ? e.enc.Hex.parse(a) : a
                }
                function d(b, d) {
                    return b = c(b, d), d.encryptKey ? e.enc.Utf8.parse(a(b).slice(0, 32)) : b
                }
                function f(a) {
                    return "ecb" === a.mode ? e.mode.ECB : e.mode.CBC
                }
                function g(a) {
                    return "cbc" === a.mode ? e.enc.Utf8.parse(h) : null
                }
                var h = "0123456789012345",
                    i = ["hex", "utf8", "base64", "binary"],
                    j = [128, 256],
                    k = ["ecb", "cbc"],
                    l = {
                        "encryptKey": !0,
                        "keyEncoding": "utf8",
                        "keyLength": 256,
                        "mode": "cbc"
                    };
                return {
                    "encrypt": function(a, c, h) {
                        if (!c) return a;
                        var i = g(h = b(h)),
                            j = f(h),
                            k = d(c, h),
                            l = JSON.stringify(a);
                        return e.AES.encrypt(l, k, {
                            "iv": i,
                            "mode": j
                        }).ciphertext.toString(e.enc.Base64) || a
                    },
                    "decrypt": function(a, c, h) {
                        if (!c) return a;
                        var i = g(h = b(h)),
                            j = f(h),
                            k = d(c, h);
                        try {
                            var l = e.enc.Base64.parse(a),
                                m = e.AES.decrypt({
                                    "ciphertext": l
                                }, k, {
                                    "iv": i,
                                    "mode": j
                                }).toString(e.enc.Utf8);
                            return JSON.parse(m)
                        } catch (o) {
                            return
                        }
                    }
                }
            }
            var e = c(3);
            a.exports = d
        }, function(a) {
            var c = c || function(a, b) {
                var c = {},
                    d = c.lib = {},
                    e = function() {},
                    f = d.Base = {
                        "extend": function(a) {
                            e.prototype = this;
                            var b = new e;
                            return a && b.mixIn(a), b.hasOwnProperty("init") || (b.init = function() {
                                b.$super.init.apply(this, arguments)
                            }), (b.init.prototype = b).$super = this, b
                        },
                        "create": function() {
                            var a = this.extend();
                            return a.init.apply(a, arguments), a
                        },
                        "init": function() {},
                        "mixIn": function(a) {
                            for (var b in a) a.hasOwnProperty(b) && (this[b] = a[b]);
                            a.hasOwnProperty("toString") && (this.toString = a.toString)
                        },
                        "clone": function() {
                            return this.init.prototype.extend(this)
                        }
                    },
                    g = d.WordArray = f.extend({
                        "init": function(a, c) {
                            a = this.words = a || [], this.sigBytes = c != b ? c : 4 * a.length
                        },
                        "toString": function(a) {
                            return (a || i).stringify(this)
                        },
                        "concat": function(a) {
                            var b = this.words,
                                c = a.words,
                                d = this.sigBytes;
                            if (a = a.sigBytes, this.clamp(), d % 4)
                                for (var e = 0; e < a; e++) b[d + e >>> 2] |= (c[e >>> 2] >>> 24 - e % 4 * 8 & 255) << 24 - (d + e) % 4 * 8;
                            else if (65535 < c.length)
                                for (e = 0; e < a; e += 4) b[d + e >>> 2] = c[e >>> 2];
                            else b.push.apply(b, c);
                            return this.sigBytes += a, this
                        },
                        "clamp": function() {
                            var b = this.words,
                                c = this.sigBytes;
                            b[c >>> 2] &= 4294967295 << 32 - c % 4 * 8, b.length = a.ceil(c / 4)
                        },
                        "clone": function() {
                            var a = f.clone.call(this);
                            return a.words = this.words.slice(0), a
                        },
                        "random": function(b) {
                            for (var c = [], d = 0; d < b; d += 4) c.push(4294967296 * a.random() | 0);
                            return new g.init(c, b)
                        }
                    }),
                    h = c.enc = {},
                    i = h.Hex = {
                        "stringify": function(a) {
                            var b = a.words;
                            a = a.sigBytes;
                            for (var c = [], d = 0; d < a; d++) {
                                var e = b[d >>> 2] >>> 24 - d % 4 * 8 & 255;
                                c.push((e >>> 4).toString(16)), c.push((15 & e).toString(16))
                            }
                            return c.join("")
                        },
                        "parse": function(a) {
                            for (var b = a.length, c = [], d = 0; d < b; d += 2) c[d >>> 3] |= parseInt(a.substr(d, 2), 16) << 24 - d % 8 * 4;
                            return new g.init(c, b / 2)
                        }
                    },
                    j = h.Latin1 = {
                        "stringify": function(a) {
                            var b = a.words;
                            a = a.sigBytes;
                            for (var c = [], d = 0; d < a; d++) c.push(String.fromCharCode(b[d >>> 2] >>> 24 - d % 4 * 8 & 255));
                            return c.join("")
                        },
                        "parse": function(a) {
                            for (var b = a.length, c = [], d = 0; d < b; d++) c[d >>> 2] |= (255 & a.charCodeAt(d)) << 24 - d % 4 * 8;
                            return new g.init(c, b)
                        }
                    },
                    k = h.Utf8 = {
                        "stringify": function(a) {
                            try {
                                return decodeURIComponent(escape(j.stringify(a)))
                            } catch (b) {
                                throw Error("Malformed UTF-8 data")
                            }
                        },
                        "parse": function(a) {
                            return j.parse(unescape(encodeURIComponent(a)))
                        }
                    },
                    l = d.BufferedBlockAlgorithm = f.extend({
                        "reset": function() {
                            this._data = new g.init, this._nDataBytes = 0
                        },
                        "_append": function(a) {
                            "string" == typeof a && (a = k.parse(a)), this._data.concat(a), this._nDataBytes += a.sigBytes
                        },
                        "_process": function(b) {
                            var c = this._data,
                                d = c.words,
                                e = c.sigBytes,
                                f = this.blockSize,
                                h = e / (4 * f);
                            if (b = (h = b ? a.ceil(h) : a.max((0 | h) - this._minBufferSize, 0)) * f, e = a.min(4 * b, e), b) {
                                for (var i = 0; i < b; i += f) this._doProcessBlock(d, i);
                                i = d.splice(0, b), c.sigBytes -= e
                            }
                            return new g.init(i, e)
                        },
                        "clone": function() {
                            var a = f.clone.call(this);
                            return a._data = this._data.clone(), a
                        },
                        "_minBufferSize": 0
                    });
                d.Hasher = l.extend({
                    "cfg": f.extend(),
                    "init": function(a) {
                        this.cfg = this.cfg.extend(a), this.reset()
                    },
                    "reset": function() {
                        l.reset.call(this), this._doReset()
                    },
                    "update": function(a) {
                        return this._append(a), this._process(), this
                    },
                    "finalize": function(a) {
                        return a && this._append(a), this._doFinalize()
                    },
                    "blockSize": 16,
                    "_createHelper": function(a) {
                        return function(b, c) {
                            return new a.init(c).finalize(b)
                        }
                    },
                    "_createHmacHelper": function(a) {
                        return function(b, c) {
                            return new m.HMAC.init(a, c).finalize(b)
                        }
                    }
                });
                var m = c.algo = {};
                return c
            }(Math);
            ! function(a) {
                for (var b = c, e = (d = b.lib).WordArray, f = d.Hasher, d = b.algo, g = [], h = [], i = function(a) {
                        return 4294967296 * (a - (0 | a)) | 0
                    }, j = 2, k = 0; k < 64;) {
                    var l;
                    a: {
                        l = j;
                        for (var m = a.sqrt(l), n = 2; n <= m; n++)
                            if (!(l % n)) {
                                l = !1;
                                break a
                            }
                        l = !0
                    }
                    l && (k < 8 && (g[k] = i(a.pow(j, .5))), h[k] = i(a.pow(j, 1 / 3)), k++), j++
                }
                var o = [];
                d = d.SHA256 = f.extend({
                    "_doReset": function() {
                        this._hash = new e.init(g.slice(0))
                    },
                    "_doProcessBlock": function(a, b) {
                        for (var c = this._hash.words, d = c[0], e = c[1], f = c[2], g = c[3], i = c[4], j = c[5], k = c[6], l = c[7], m = 0; m < 64; m++) {
                            if (m < 16) o[m] = 0 | a[b + m];
                            else {
                                var n = o[m - 15],
                                    p = o[m - 2];
                                o[m] = ((n << 25 | n >>> 7) ^ (n << 14 | n >>> 18) ^ n >>> 3) + o[m - 7] + ((p << 15 | p >>> 17) ^ (p << 13 | p >>> 19) ^ p >>> 10) + o[m - 16]
                            }
                            n = l + ((i << 26 | i >>> 6) ^ (i << 21 | i >>> 11) ^ (i << 7 | i >>> 25)) + (i & j ^ ~i & k) + h[m] + o[m], p = ((d << 30 | d >>> 2) ^ (d << 19 | d >>> 13) ^ (d << 10 | d >>> 22)) + (d & e ^ d & f ^ e & f), l = k, k = j, j = i, i = g + n | 0, g = f, f = e, e = d, d = n + p | 0
                        }
                        c[0] = c[0] + d | 0, c[1] = c[1] + e | 0, c[2] = c[2] + f | 0, c[3] = c[3] + g | 0, c[4] = c[4] + i | 0, c[5] = c[5] + j | 0, c[6] = c[6] + k | 0, c[7] = c[7] + l | 0
                    },
                    "_doFinalize": function() {
                        var b = this._data,
                            c = b.words,
                            d = 8 * this._nDataBytes,
                            e = 8 * b.sigBytes;
                        return c[e >>> 5] |= 128 << 24 - e % 32, c[14 + (e + 64 >>> 9 << 4)] = a.floor(d / 4294967296), c[15 + (e + 64 >>> 9 << 4)] = d, b.sigBytes = 4 * c.length, this._process(), this._hash
                    },
                    "clone": function() {
                        var a = f.clone.call(this);
                        return a._hash = this._hash.clone(), a
                    }
                });
                b.SHA256 = f._createHelper(d), b.HmacSHA256 = f._createHmacHelper(d)
            }(Math),
            function() {
                var a = c,
                    b = a.enc.Utf8;
                a.algo.HMAC = a.lib.Base.extend({
                    "init": function(a, c) {
                        a = this._hasher = new a.init, "string" == typeof c && (c = b.parse(c));
                        var d = a.blockSize,
                            e = 4 * d;
                        c.sigBytes > e && (c = a.finalize(c)), c.clamp();
                        for (var f = this._oKey = c.clone(), g = this._iKey = c.clone(), h = f.words, i = g.words, j = 0; j < d; j++) h[j] ^= 1549556828, i[j] ^= 909522486;
                        f.sigBytes = g.sigBytes = e, this.reset()
                    },
                    "reset": function() {
                        var a = this._hasher;
                        a.reset(), a.update(this._iKey)
                    },
                    "update": function(a) {
                        return this._hasher.update(a), this
                    },
                    "finalize": function(a) {
                        var b = this._hasher;
                        return a = b.finalize(a), b.reset(), b.finalize(this._oKey.clone().concat(a))
                    }
                })
            }(),
            function() {
                var a = c,
                    b = a.lib.WordArray;
                a.enc.Base64 = {
                    "stringify": function(a) {
                        var b = a.words,
                            c = a.sigBytes,
                            d = this._map;
                        a.clamp(), a = [];
                        for (var e = 0; e < c; e += 3)
                            for (var f = (b[e >>> 2] >>> 24 - e % 4 * 8 & 255) << 16 | (b[e + 1 >>> 2] >>> 24 - (e + 1) % 4 * 8 & 255) << 8 | b[e + 2 >>> 2] >>> 24 - (e + 2) % 4 * 8 & 255, g = 0; g < 4 && e + .75 * g < c; g++) a.push(d.charAt(f >>> 6 * (3 - g) & 63));
                        if (b = d.charAt(64))
                            for (; a.length % 4;) a.push(b);
                        return a.join("")
                    },
                    "parse": function(a) {
                        var c = a.length,
                            d = this._map;
                        (e = d.charAt(64)) && (-1 != (e = a.indexOf(e)) && (c = e));
                        for (var e = [], f = 0, g = 0; g < c; g++)
                            if (g % 4) {
                                var h = d.indexOf(a.charAt(g - 1)) << g % 4 * 2,
                                    i = d.indexOf(a.charAt(g)) >>> 6 - g % 4 * 2;
                                e[f >>> 2] |= (h | i) << 24 - f % 4 * 8, f++
                            }
                        return b.create(e, f)
                    },
                    "_map": "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
                }
            }(),
            function(a) {
                function b(a, b, c, d, e, f, g) {
                    return ((a = a + (b & c | ~b & d) + e + g) << f | a >>> 32 - f) + b
                }
                function d(a, b, c, d, e, f, g) {
                    return ((a = a + (b & d | c & ~d) + e + g) << f | a >>> 32 - f) + b
                }
                function e(a, b, c, d, e, f, g) {
                    return ((a = a + (b ^ c ^ d) + e + g) << f | a >>> 32 - f) + b
                }
                function f(a, b, c, d, e, f, g) {
                    return ((a = a + (c ^ (b | ~d)) + e + g) << f | a >>> 32 - f) + b
                }
                for (var g = c, i = (h = g.lib).WordArray, j = h.Hasher, h = g.algo, k = [], l = 0; l < 64; l++) k[l] = 4294967296 * a.abs(a.sin(l + 1)) | 0;
                h = h.MD5 = j.extend({
                    "_doReset": function() {
                        this._hash = new i.init([1732584193, 4023233417, 2562383102, 271733878])
                    },
                    "_doProcessBlock": function(a, c) {
                        for (var g = 0; g < 16; g++) {
                            var i = a[h = c + g];
                            a[h] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8)
                        }
                        g = this._hash.words;
                        var B, A, h = a[c + 0],
                            j = (i = a[c + 1], a[c + 2]),
                            l = a[c + 3],
                            m = a[c + 4],
                            n = a[c + 5],
                            o = a[c + 6],
                            p = a[c + 7],
                            q = a[c + 8],
                            r = a[c + 9],
                            s = a[c + 10],
                            t = a[c + 11],
                            u = a[c + 12],
                            v = a[c + 13],
                            w = a[c + 14],
                            x = a[c + 15],
                            y = g[0],
                            z = f(z = f(z = f(z = f(z = e(z = e(z = e(z = e(z = d(z = d(z = d(z = d(z = b(z = b(z = b(z = b(z = g[1], A = b(A = g[2], B = b(B = g[3], y = b(y, z, A, B, h, 7, k[0]), z, A, i, 12, k[1]), y, z, j, 17, k[2]), B, y, l, 22, k[3]), A = b(A, B = b(B, y = b(y, z, A, B, m, 7, k[4]), z, A, n, 12, k[5]), y, z, o, 17, k[6]), B, y, p, 22, k[7]), A = b(A, B = b(B, y = b(y, z, A, B, q, 7, k[8]), z, A, r, 12, k[9]), y, z, s, 17, k[10]), B, y, t, 22, k[11]), A = b(A, B = b(B, y = b(y, z, A, B, u, 7, k[12]), z, A, v, 12, k[13]), y, z, w, 17, k[14]), B, y, x, 22, k[15]), A = d(A, B = d(B, y = d(y, z, A, B, i, 5, k[16]), z, A, o, 9, k[17]), y, z, t, 14, k[18]), B, y, h, 20, k[19]), A = d(A, B = d(B, y = d(y, z, A, B, n, 5, k[20]), z, A, s, 9, k[21]), y, z, x, 14, k[22]), B, y, m, 20, k[23]), A = d(A, B = d(B, y = d(y, z, A, B, r, 5, k[24]), z, A, w, 9, k[25]), y, z, l, 14, k[26]), B, y, q, 20, k[27]), A = d(A, B = d(B, y = d(y, z, A, B, v, 5, k[28]), z, A, j, 9, k[29]), y, z, p, 14, k[30]), B, y, u, 20, k[31]), A = e(A, B = e(B, y = e(y, z, A, B, n, 4, k[32]), z, A, q, 11, k[33]), y, z, t, 16, k[34]), B, y, w, 23, k[35]), A = e(A, B = e(B, y = e(y, z, A, B, i, 4, k[36]), z, A, m, 11, k[37]), y, z, p, 16, k[38]), B, y, s, 23, k[39]), A = e(A, B = e(B, y = e(y, z, A, B, v, 4, k[40]), z, A, h, 11, k[41]), y, z, l, 16, k[42]), B, y, o, 23, k[43]), A = e(A, B = e(B, y = e(y, z, A, B, r, 4, k[44]), z, A, u, 11, k[45]), y, z, x, 16, k[46]), B, y, j, 23, k[47]), A = f(A, B = f(B, y = f(y, z, A, B, h, 6, k[48]), z, A, p, 10, k[49]), y, z, w, 15, k[50]), B, y, n, 21, k[51]), A = f(A, B = f(B, y = f(y, z, A, B, u, 6, k[52]), z, A, l, 10, k[53]), y, z, s, 15, k[54]), B, y, i, 21, k[55]), A = f(A, B = f(B, y = f(y, z, A, B, q, 6, k[56]), z, A, x, 10, k[57]), y, z, o, 15, k[58]), B, y, v, 21, k[59]), A = f(A, B = f(B, y = f(y, z, A, B, m, 6, k[60]), z, A, t, 10, k[61]), y, z, j, 15, k[62]), B, y, r, 21, k[63]);
                        g[0] = g[0] + y | 0, g[1] = g[1] + z | 0, g[2] = g[2] + A | 0, g[3] = g[3] + B | 0
                    },
                    "_doFinalize": function() {
                        var b = this._data,
                            c = b.words,
                            d = 8 * this._nDataBytes,
                            e = 8 * b.sigBytes;
                        c[e >>> 5] |= 128 << 24 - e % 32;
                        var f = a.floor(d / 4294967296);
                        for (c[15 + (e + 64 >>> 9 << 4)] = 16711935 & (f << 8 | f >>> 24) | 4278255360 & (f << 24 | f >>> 8), c[14 + (e + 64 >>> 9 << 4)] = 16711935 & (d << 8 | d >>> 24) | 4278255360 & (d << 24 | d >>> 8), b.sigBytes = 4 * (c.length + 1), this._process(), c = (b = this._hash).words, d = 0; d < 4; d++) e = c[d], c[d] = 16711935 & (e << 8 | e >>> 24) | 4278255360 & (e << 24 | e >>> 8);
                        return b
                    },
                    "clone": function() {
                        var a = j.clone.call(this);
                        return a._hash = this._hash.clone(), a
                    }
                }), g.MD5 = j._createHelper(h), g.HmacMD5 = j._createHmacHelper(h)
            }(Math),
            function() {
                var b, a = c,
                    d = (b = a.lib).Base,
                    e = b.WordArray,
                    f = (b = a.algo).EvpKDF = d.extend({
                        "cfg": d.extend({
                            "keySize": 4,
                            "hasher": b.MD5,
                            "iterations": 1
                        }),
                        "init": function(a) {
                            this.cfg = this.cfg.extend(a)
                        },
                        "compute": function(a, b) {
                            for (var d = (c = this.cfg).hasher.create(), f = e.create(), g = f.words, h = c.keySize, c = c.iterations; g.length < h;) {
                                i && d.update(i);
                                var i = d.update(a).finalize(b);
                                d.reset();
                                for (var j = 1; j < c; j++) i = d.finalize(i), d.reset();
                                f.concat(i)
                            }
                            return f.sigBytes = 4 * h, f
                        }
                    });
                a.EvpKDF = function(a, b, c) {
                    return f.create(c).compute(a, b)
                }
            }(), c.lib.Cipher || function(a) {
                    var d = (b = c).lib,
                        e = d.Base,
                        f = d.WordArray,
                        g = d.BufferedBlockAlgorithm,
                        h = b.enc.Base64,
                        i = b.algo.EvpKDF,
                        j = d.Cipher = g.extend({
                            "cfg": e.extend(),
                            "createEncryptor": function(a, b) {
                                return this.create(this._ENC_XFORM_MODE, a, b)
                            },
                            "createDecryptor": function(a, b) {
                                return this.create(this._DEC_XFORM_MODE, a, b)
                            },
                            "init": function(a, b, c) {
                                this.cfg = this.cfg.extend(c), this._xformMode = a, this._key = b, this.reset()
                            },
                            "reset": function() {
                                g.reset.call(this), this._doReset()
                            },
                            "process": function(a) {
                                return this._append(a), this._process()
                            },
                            "finalize": function(a) {
                                return a && this._append(a), this._doFinalize()
                            },
                            "keySize": 4,
                            "ivSize": 4,
                            "_ENC_XFORM_MODE": 1,
                            "_DEC_XFORM_MODE": 2,
                            "_createHelper": function(a) {
                                return {
                                    "encrypt": function(b, c, d) {
                                        return ("string" == typeof c ? p : o).encrypt(a, b, c, d)
                                    },
                                    "decrypt": function(b, c, d) {
                                        return ("string" == typeof c ? p : o).decrypt(a, b, c, d)
                                    }
                                }
                            }
                        });
                    d.StreamCipher = j.extend({
                        "_doFinalize": function() {
                            return this._process(!0)
                        },
                        "blockSize": 1
                    });
                    var k = b.mode = {},
                        l = function(b, c, d) {
                            var e = this._iv;
                            e ? this._iv = a : e = this._prevBlock;
                            for (var f = 0; f < d; f++) b[c + f] ^= e[f]
                        },
                        m = (d.BlockCipherMode = e.extend({
                            "createEncryptor": function(a, b) {
                                return this.Encryptor.create(a, b)
                            },
                            "createDecryptor": function(a, b) {
                                return this.Decryptor.create(a, b)
                            },
                            "init": function(a, b) {
                                this._cipher = a, this._iv = b
                            }
                        })).extend();
                    m.Encryptor = m.extend({
                        "processBlock": function(a, b) {
                            var c = this._cipher,
                                d = c.blockSize;
                            l.call(this, a, b, d), c.encryptBlock(a, b), this._prevBlock = a.slice(b, b + d)
                        }
                    }), m.Decryptor = m.extend({
                        "processBlock": function(a, b) {
                            var c = this._cipher,
                                d = c.blockSize,
                                e = a.slice(b, b + d);
                            c.decryptBlock(a, b), l.call(this, a, b, d), this._prevBlock = e
                        }
                    }), k = k.CBC = m, m = (b.pad = {}).Pkcs7 = {
                        "pad": function(a, b) {
                            for (var c, d = (c = (c = 4 * b) - a.sigBytes % c) << 24 | c << 16 | c << 8 | c, e = [], g = 0; g < c; g += 4) e.push(d);
                            c = f.create(e, c), a.concat(c)
                        },
                        "unpad": function(a) {
                            a.sigBytes -= 255 & a.words[a.sigBytes - 1 >>> 2]
                        }
                    }, d.BlockCipher = j.extend({
                        "cfg": j.cfg.extend({
                            "mode": k,
                            "padding": m
                        }),
                        "reset": function() {
                            j.reset.call(this);
                            var b = (a = this.cfg).iv,
                                a = a.mode;
                            if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor;
                            else c = a.createDecryptor, this._minBufferSize = 1;
                            this._mode = c.call(a, this, b && b.words)
                        },
                        "_doProcessBlock": function(a, b) {
                            this._mode.processBlock(a, b)
                        },
                        "_doFinalize": function() {
                            var a = this.cfg.padding;
                            if (this._xformMode == this._ENC_XFORM_MODE) {
                                a.pad(this._data, this.blockSize);
                                var b = this._process(!0)
                            } else b = this._process(!0), a.unpad(b);
                            return b
                        },
                        "blockSize": 4
                    });
                    var n = d.CipherParams = e.extend({
                            "init": function(a) {
                                this.mixIn(a)
                            },
                            "toString": function(a) {
                                return (a || this.formatter).stringify(this)
                            }
                        }),
                        o = (k = (b.format = {}).OpenSSL = {
                            "stringify": function(a) {
                                var b = a.ciphertext;
                                return ((a = a.salt) ? f.create([1398893684, 1701076831]).concat(a).concat(b) : b).toString(h)
                            },
                            "parse": function(a) {
                                var b = (a = h.parse(a)).words;
                                if (1398893684 == b[0] && 1701076831 == b[1]) {
                                    var c = f.create(b.slice(2, 4));
                                    b.splice(0, 4), a.sigBytes -= 16
                                }
                                return n.create({
                                    "ciphertext": a,
                                    "salt": c
                                })
                            }
                        }, d.SerializableCipher = e.extend({
                            "cfg": e.extend({
                                "format": k
                            }),
                            "encrypt": function(a, b, c, d) {
                                d = this.cfg.extend(d);
                                var e = a.createEncryptor(c, d);
                                return b = e.finalize(b), e = e.cfg, n.create({
                                    "ciphertext": b,
                                    "key": c,
                                    "iv": e.iv,
                                    "algorithm": a,
                                    "mode": e.mode,
                                    "padding": e.padding,
                                    "blockSize": a.blockSize,
                                    "formatter": d.format
                                })
                            },
                            "decrypt": function(a, b, c, d) {
                                return d = this.cfg.extend(d), b = this._parse(b, d.format), a.createDecryptor(c, d).finalize(b.ciphertext)
                            },
                            "_parse": function(a, b) {
                                return "string" == typeof a ? b.parse(a, this) : a
                            }
                        })),
                        b = (b.kdf = {}).OpenSSL = {
                            "execute": function(a, b, c, d) {
                                return d || (d = f.random(8)), a = i.create({
                                    "keySize": b + c
                                }).compute(a, d), c = f.create(a.words.slice(b), 4 * c), a.sigBytes = 4 * b, n.create({
                                    "key": a,
                                    "iv": c,
                                    "salt": d
                                })
                            }
                        },
                        p = d.PasswordBasedCipher = o.extend({
                            "cfg": o.cfg.extend({
                                "kdf": b
                            }),
                            "encrypt": function(a, b, c, d) {
                                return c = (d = this.cfg.extend(d)).kdf.execute(c, a.keySize, a.ivSize), d.iv = c.iv, (a = o.encrypt.call(this, a, b, c.key, d)).mixIn(c), a
                            },
                            "decrypt": function(a, b, c, d) {
                                return d = this.cfg.extend(d), b = this._parse(b, d.format), c = d.kdf.execute(c, a.keySize, a.ivSize, b.salt), d.iv = c.iv, o.decrypt.call(this, a, b, c.key, d)
                            }
                        })
                }(),
                function() {
                    for (var a = c, b = a.lib.BlockCipher, d = a.algo, e = [], f = [], g = [], h = [], i = [], j = [], k = [], l = [], m = [], n = [], o = [], p = 0; p < 256; p++) o[p] = p < 128 ? p << 1 : p << 1 ^ 283;
                    var q = 0,
                        r = 0;
                    for (p = 0; p < 256; p++) {
                        var s = (s = r ^ r << 1 ^ r << 2 ^ r << 3 ^ r << 4) >>> 8 ^ 255 & s ^ 99;
                        e[q] = s;
                        var t = o[f[s] = q],
                            u = o[t],
                            v = o[u],
                            w = 257 * o[s] ^ 16843008 * s;
                        g[q] = w << 24 | w >>> 8, h[q] = w << 16 | w >>> 16, i[q] = w << 8 | w >>> 24, j[q] = w, w = 16843009 * v ^ 65537 * u ^ 257 * t ^ 16843008 * q, k[s] = w << 24 | w >>> 8, l[s] = w << 16 | w >>> 16, m[s] = w << 8 | w >>> 24, n[s] = w, q ? (q = t ^ o[o[o[v ^ t]]], r ^= o[o[r]]) : q = r = 1
                    }
                    var x = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54];
                    d = d.AES = b.extend({
                        "_doReset": function() {
                            for (var b = (a = this._key).words, c = a.sigBytes / 4, a = 4 * ((this._nRounds = c + 6) + 1), d = this._keySchedule = [], f = 0; f < a; f++)
                                if (f < c) d[f] = b[f];
                                else {
                                    var g = d[f - 1];
                                    f % c ? 6 < c && 4 == f % c && (g = e[g >>> 24] << 24 | e[g >>> 16 & 255] << 16 | e[g >>> 8 & 255] << 8 | e[255 & g]) : (g = e[(g = g << 8 | g >>> 24) >>> 24] << 24 | e[g >>> 16 & 255] << 16 | e[g >>> 8 & 255] << 8 | e[255 & g], g ^= x[f / c | 0] << 24), d[f] = d[f - c] ^ g
                                }
                            for (b = this._invKeySchedule = [], c = 0; c < a; c++) f = a - c, g = c % 4 ? d[f] : d[f - 4], b[c] = c < 4 || f <= 4 ? g : k[e[g >>> 24]] ^ l[e[g >>> 16 & 255]] ^ m[e[g >>> 8 & 255]] ^ n[e[255 & g]]
                        },
                        "encryptBlock": function(a, b) {
                            this._doCryptBlock(a, b, this._keySchedule, g, h, i, j, e)
                        },
                        "decryptBlock": function(a, b) {
                            var c = a[b + 1];
                            a[b + 1] = a[b + 3], a[b + 3] = c, this._doCryptBlock(a, b, this._invKeySchedule, k, l, m, n, f), c = a[b + 1], a[b + 1] = a[b + 3], a[b + 3] = c
                        },
                        "_doCryptBlock": function(a, b, c, d, e, f, g, h) {
                            for (var i = this._nRounds, j = a[b] ^ c[0], k = a[b + 1] ^ c[1], l = a[b + 2] ^ c[2], m = a[b + 3] ^ c[3], n = 4, o = 1; o < i; o++) {
                                var p = d[j >>> 24] ^ e[k >>> 16 & 255] ^ f[l >>> 8 & 255] ^ g[255 & m] ^ c[n++],
                                    q = d[k >>> 24] ^ e[l >>> 16 & 255] ^ f[m >>> 8 & 255] ^ g[255 & j] ^ c[n++],
                                    r = d[l >>> 24] ^ e[m >>> 16 & 255] ^ f[j >>> 8 & 255] ^ g[255 & k] ^ c[n++];
                                m = d[m >>> 24] ^ e[j >>> 16 & 255] ^ f[k >>> 8 & 255] ^ g[255 & l] ^ c[n++], j = p, k = q, l = r
                            }
                            p = (h[j >>> 24] << 24 | h[k >>> 16 & 255] << 16 | h[l >>> 8 & 255] << 8 | h[255 & m]) ^ c[n++], q = (h[k >>> 24] << 24 | h[l >>> 16 & 255] << 16 | h[m >>> 8 & 255] << 8 | h[255 & j]) ^ c[n++], r = (h[l >>> 24] << 24 | h[m >>> 16 & 255] << 16 | h[j >>> 8 & 255] << 8 | h[255 & k]) ^ c[n++], m = (h[m >>> 24] << 24 | h[j >>> 16 & 255] << 16 | h[k >>> 8 & 255] << 8 | h[255 & l]) ^ c[n++], a[b] = p, a[b + 1] = q, a[b + 2] = r, a[b + 3] = m
                        },
                        "keySize": 8
                    });
                    a.AES = b._createHelper(d)
                }(), c.mode.ECB = function() {
                    var a = c.lib.BlockCipherMode.extend();
                    return a.Encryptor = a.extend({
                        "processBlock": function(a, b) {
                            this._cipher.encryptBlock(a, b)
                        }
                    }), a.Decryptor = a.extend({
                        "processBlock": function(a, b) {
                            this._cipher.decryptBlock(a, b)
                        }
                    }), a
                }(), a.exports = c
        }, function(a) {
            a.exports = {
                "name": "pubnub",
                "preferGlobal": !1,
                "version": "3.15.2",
                "author": "PubNub <support@pubnub.com>",
                "description": "Publish & Subscribe Real-time Messaging with PubNub",
                "contributors": [{
                    "name": "Stephen Blum",
                    "email": "stephen@pubnub.com"
                }],
                "bin": {},
                "scripts": {
                    "test": "grunt test --force"
                },
                "main": "./node.js/pubnub.js",
                "browser": "./modern/dist/pubnub.js",
                "repository": {
                    "type": "git",
                    "url": "git://github.com/pubnub/javascript.git"
                },
                "keywords": ["cloud", "publish", "subscribe", "websockets", "comet", "bosh", "xmpp", "real-time", "messaging"],
                "dependencies": {
                    "agentkeepalive": "~0.2",
                    "lodash": "^4.1.0"
                },
                "noAnalyze": !1,
                "devDependencies": {
                    "chai": "^3.5.0",
                    "eslint": "2.4.0",
                    "eslint-config-airbnb": "^6.0.2",
                    "eslint-plugin-flowtype": "^2.1.0",
                    "eslint-plugin-mocha": "^2.0.0",
                    "eslint-plugin-react": "^4.1.0",
                    "flow-bin": "^0.22.0",
                    "grunt": "^0.4.5",
                    "grunt-contrib-clean": "^1.0.0",
                    "grunt-contrib-copy": "^0.8.2",
                    "grunt-contrib-uglify": "^0.11.1",
                    "grunt-env": "^0.4.4",
                    "grunt-eslint": "^18.0.0",
                    "grunt-flow": "^1.0.3",
                    "grunt-karma": "^0.12.1",
                    "grunt-mocha-istanbul": "^3.0.1",
                    "grunt-text-replace": "^0.4.0",
                    "grunt-webpack": "^1.0.11",
                    "imports-loader": "^0.6.5",
                    "isparta": "^4.0.0",
                    "json-loader": "^0.5.4",
                    "karma": "^0.13.21",
                    "karma-chai": "^0.1.0",
                    "karma-mocha": "^0.2.1",
                    "karma-phantomjs-launcher": "^1.0.0",
                    "karma-spec-reporter": "0.0.24",
                    "load-grunt-tasks": "^3.4.0",
                    "mocha": "^2.4.5",
                    "nock": "^1.1.0",
                    "node-uuid": "^1.4.7",
                    "nodeunit": "^0.9.0",
                    "phantomjs-prebuilt": "^2.1.4",
                    "proxyquire": "^1.7.4",
                    "sinon": "^1.17.2",
                    "uglify-js": "^2.6.1",
                    "underscore": "^1.7.0",
                    "webpack": "^1.12.13",
                    "webpack-dev-server": "^1.14.1"
                },
                "bundleDependencies": [],
                "license": "MIT",
                "engine": {
                    "node": ">=0.8"
                },
                "files": ["core", "node.js", "modern", "CHANGELOG", "FUTURE.md", "LICENSE", "README.md"]
            }
        }, function(a, b, c) {
            function d() {
                return "x" + ++m + +new Date
            }
            function e(a, b) {
                var c = [];
                return l.each(a, function(a, d) {
                    b ? a.search("-pnpres") < 0 && d.subscribed && c.push(a) : d.subscribed && c.push(a)
                }), c.sort()
            }
            function f(a, b) {
                var c = [];
                return l.each(a, function(a, d) {
                    b ? a.search("-pnpres") < 0 && d.subscribed && c.push(a) : d.subscribed && c.push(a)
                }), c.sort()
            }
            function g() {
                n || (n = 1, l.each(o, function(a) {
                    a()
                }))
            }
            function h(a) {
                var b = a || {
                    "apns": {}
                };
                return b.getPubnubMessage = function() {
                    var a = {};
                    if (Object.keys(b.apns).length) {
                        for (var c in a.pn_apns = {
                                "aps": {
                                    "alert": b.apns.alert,
                                    "badge": b.apns.badge
                                }
                            }, b.apns) a.pn_apns[c] = b.apns[c];
                        var d = ["badge", "alert"];
                        for (var c in d) delete a.pn_apns[d[c]]
                    }
                    for (var c in b.gcm && (a.pn_gcm = {
                            "data": b.gcm
                        }), b) a[c] = b[c];
                    var e = ["apns", "gcm", "publish", "channel", "callback", "error"];
                    for (var c in e) delete a[e[c]];
                    return a
                }, b.publish = function() {
                    var a = b.getPubnubMessage();
                    b.pubnub && b.channel && b.pubnub.publish({
                        "message": a,
                        "channel": b.channel,
                        "callback": b.callback,
                        "error": b.error
                    })
                }, b
            }
            function i(a) {
                function b(a) {
                    return a || (a = {}), l.each(ta, function(b, c) {
                        b in a || (a[b] = c)
                    }), a
                }
                function c(a) {
                    var b = [];
                    return l.each(a, function(a) {
                        b.push(a)
                    }), b
                }
                function h(a) {
                    return c(a).sort()
                }
                function i(a) {
                    var b = "",
                        c = h(a);
                    for (var d in c) {
                        var e = c[d];
                        b += e + "=" + l.pamEncode(a[e]), d != c.length - 1 && (b += "&")
                    }
                    return b
                }
                function j(a, b, c) {
                    var d = !1;
                    if (void 0 === a) return b;
                    if ("number" == typeof a) d = !(v < a || 0 == a);
                    else {
                        if ("boolean" == typeof a) return a ? w : 0;
                        d = !0
                    }
                    return d ? (c && c("Presence Heartbeat value invalid. Valid range ( x > " + v + " or x = 0). Current Value : " + (b || v)), b || v) : a
                }
                function k(a, b) {
                    return Fa.encrypt(a, b || ya) || a
                }
                function m(a, b) {
                    return Fa.decrypt(a, b || ya) || Fa.decrypt(a, ya) || a
                }
                function r() {
                    return clearTimeout(ma), !oa || 500 <= oa || oa < 1 || !e(ja, !0).length && !f(ka, !0).length ? void(pa = !1) : (pa = !0, void Ga.presence_heartbeat({
                        "callback": function() {
                            ma = l.timeout(r, oa * u)
                        },
                        "error": function(a) {
                            ua && ua("Presence Heartbeat unable to reach Pubnub servers." + JSON.stringify(a)), ma = l.timeout(r, oa * u)
                        }
                    }))
                }
                function z() {
                    !pa && r()
                }
                function A(a) {
                    if (qa) {
                        if (!aa.length) return
                    } else {
                        if (a && (aa.sending = 0), aa.sending || !aa.length) return;
                        aa.sending = 1
                    }
                    sa(aa.shift())
                }
                function B(a) {
                    var b = 0;
                    return l.each(f(ka), function(c) {
                        var d = ka[c];
                        d && (b++, (a || function() {})(d))
                    }), b
                }
                function C(a) {
                    var b = 0;
                    return l.each(e(ja), function(c) {
                        var d = ja[c];
                        d && (b++, (a || function() {})(d))
                    }), b
                }
                function D(a, b, c) {
                    if ("object" == typeof a) {
                        if (a.error) {
                            var d = {};
                            return a.message && (d.message = a.message), a.payload && (d.payload = a.payload), void(c && c(d))
                        }
                        if (a.payload) return void(a.next_page ? b && b(a.payload, a.next_page) : b && b(a.payload))
                    }
                    b && b(a)
                }
                function E(a, b) {
                    if ("object" == typeof a && a.error) {
                        var c = {};
                        return a.message && (c.message = a.message), a.payload && (c.payload = a.payload), void(b && b(c))
                    }
                    b && b(a)
                }
                function F(a, c, d, e) {
                    c = a.callback || c;
                    var f = a.error || ua,
                        g = wa();
                    (e = e || {}).auth || (e.auth = a.auth_key || U);
                    var h = [Z, "v1", "channel-registration", "sub-key", T];
                    h.push.apply(h, d), g && (e.callback = g), sa({
                        "callback": g,
                        "data": b(e),
                        "success": function(a) {
                            D(a, c, f)
                        },
                        "fail": function(a) {
                            E(a, f)
                        },
                        "url": h
                    })
                }
                function G() {
                    va() || I(1, {
                        "error": "Offline. Please check your network settings."
                    }), L && clearTimeout(L), L = l.timeout(G, u)
                }
                function H() {
                    Q && Ga.time(function(a) {
                        K(function() {}, a), a || I(1, {
                            "error": "Heartbeat failed to connect to Pubnub Servers.Please check your network settings."
                        }), M && clearTimeout(M), M = l.timeout(H, P)
                    })
                }
                function I(a, b) {
                    fa && fa(a, b), fa = null, clearTimeout(L), clearTimeout(M)
                }
                function J(a) {
                    return l.rnow() - ca - a / 1e4
                }
                function K(a, b) {
                    function c(b) {
                        if (b) {
                            var c = b / 1e4,
                                e = (l.rnow() - d) / 2;
                            ca = l.rnow() - (c + e), a && a(ca)
                        }
                    }
                    var d = l.rnow();
                    b && c(b) || Ga.time(c)
                }
                var L, M, N = +a.windowing || q,
                    O = (+a.timeout || s) * u,
                    P = (+a.keepalive || t) * u,
                    Q = a.timecheck || 0,
                    R = a.noleave || 0,
                    S = a.publish_key,
                    T = a.subscribe_key,
                    U = a.auth_key || "",
                    V = a.secret_key || "",
                    W = a.hmac_SHA256,
                    X = a.ssl ? "s" : "",
                    Y = "http" + X + "://" + (a.origin || "pubsub.pubnub.com"),
                    Z = y(Y),
                    $ = y(Y),
                    _ = function() {},
                    aa = [],
                    ba = !0,
                    ca = 0,
                    da = 0,
                    ea = 0,
                    fa = 0,
                    ga = a.restore || 0,
                    ha = 0,
                    ia = !1,
                    ja = {},
                    ka = {},
                    la = {},
                    ma = null,
                    na = j(a.heartbeat || a.pnexpires || 0, a.error),
                    oa = a.heartbeat_interval || na / 2 - 1,
                    pa = !1,
                    qa = a.no_wait_for_pending,
                    ra = a["compatible_3.5"] || !1,
                    sa = a.xdr,
                    ta = a.params || {},
                    ua = a.error || function() {},
                    va = a._is_online || function() {
                        return 1
                    },
                    wa = a.jsonp_cb || function() {
                        return 0
                    },
                    xa = a.db || {
                        "get": function() {},
                        "set": function() {}
                    },
                    ya = a.cipher_key,
                    za = a.uuid || !a.unique_uuid && xa && xa.get(T + "uuid") || "",
                    Aa = a.instance_id || !1,
                    Ba = "",
                    Ca = a.shutdown,
                    Ea = "undefined" == typeof a.use_send_beacon || a.use_send_beacon ? a.sendBeacon : null;
                2 === na && (oa = 1);
                var Fa = a.crypto_obj || {
                        "encrypt": function(a) {
                            return a
                        },
                        "decrypt": function(a) {
                            return a
                        }
                    },
                    Ga = {
                        "LEAVE": function(a, c, d, e, f) {
                            var g, h, i = {
                                    "uuid": za,
                                    "auth": d || U
                                },
                                j = y(Y),
                                k = (e = e || function() {}, f || function() {}),
                                m = wa();
                            if (0 < a.indexOf(p)) return !0;
                            if (ra) {
                                if (!X) return !1;
                                if ("0" == m) return !1
                            }
                            if (R) return !1;
                            if ("0" != m && (i.callback = m), Aa && (i.instanceid = Ba), g = [j, "v2", "presence", "sub_key", T, "channel", l.encode(a), "leave"], h = b(i), Ea) {
                                var n = l.buildURL(g, h);
                                if (Ea(n)) return e && e({
                                    "status": 200,
                                    "action": "leave",
                                    "message": "OK",
                                    "service": "Presence"
                                }), !0
                            }
                            return sa({
                                "blocking": c || X,
                                "callback": m,
                                "data": h,
                                "success": function(a) {
                                    D(a, e, k)
                                },
                                "fail": function(a) {
                                    E(a, k)
                                },
                                "url": g
                            }), !0
                        },
                        "LEAVE_GROUP": function(a, c, d, e, f) {
                            var g, h, i = {
                                    "uuid": za,
                                    "auth": d || U
                                },
                                j = y(Y),
                                k = (e = e || function() {}, f || function() {}),
                                m = wa();
                            if (0 < a.indexOf(p)) return !0;
                            if (ra) {
                                if (!X) return !1;
                                if ("0" == m) return !1
                            }
                            if (R) return !1;
                            if ("0" != m && (i.callback = m), a && 0 < a.length && (i["channel-group"] = a), Aa && (i.instanceid = Ba), g = [j, "v2", "presence", "sub_key", T, "channel", l.encode(","), "leave"], h = b(i), Ea) {
                                var n = l.buildURL(g, h);
                                if (Ea(n)) return e && e({
                                    "status": 200,
                                    "action": "leave",
                                    "message": "OK",
                                    "service": "Presence"
                                }), !0
                            }
                            return sa({
                                "blocking": c || X,
                                "callback": m,
                                "data": h,
                                "success": function(a) {
                                    D(a, e, k)
                                },
                                "fail": function(a) {
                                    E(a, k)
                                },
                                "url": g
                            }), !0
                        },
                        "set_resumed": function(a) {
                            ia = a
                        },
                        "get_cipher_key": function() {
                            return ya
                        },
                        "set_cipher_key": function(a) {
                            ya = a
                        },
                        "raw_encrypt": function(a, b) {
                            return k(a, b)
                        },
                        "raw_decrypt": function(a, b) {
                            return m(a, b)
                        },
                        "get_heartbeat": function() {
                            return na
                        },
                        "set_heartbeat": function(a, b) {
                            na = j(a, na, ua), oa = b || na / 2 - 1, 2 == na && (oa = 1), _(), r()
                        },
                        "get_heartbeat_interval": function() {
                            return oa
                        },
                        "set_heartbeat_interval": function(a) {
                            oa = a, r()
                        },
                        "get_version": function() {
                            return x
                        },
                        "getGcmMessageObject": function(a) {
                            return {
                                "data": a
                            }
                        },
                        "getApnsMessageObject": function(a) {
                            var b = {
                                "aps": {
                                    "badge": 1,
                                    "alert": ""
                                }
                            };
                            for (var c in a) c[b] = a[c];
                            return b
                        },
                        "_add_param": function(a, b) {
                            ta[a] = b
                        },
                        "channel_group": function(a, b) {
                            var c, d, e = a.channel_group,
                                f = (b = b || a.callback, a.channels || a.channel),
                                g = a.cloak,
                                h = [],
                                i = {},
                                j = a.mode || "add";
                            if (e) {
                                var k = e.split(":");
                                1 < k.length ? (c = "*" === k[0] ? null : k[0], d = k[1]) : d = k[0]
                            }
                            c && h.push("namespace") && h.push(l.encode(c)), h.push("channel-group"), d && "*" !== d && h.push(d), f ? (l.isArray(f) && (f = f.join(",")), i[j] = f, i.cloak = ba ? "true" : "false") : "remove" === j && h.push("remove"), void 0 !== g && (i.cloak = g ? "true" : "false"), F(a, b, h, i)
                        },
                        "channel_group_list_groups": function(a, b) {
                            var c;
                            (c = a.namespace || a.ns || a.channel_group || null) && (a.channel_group = c + ":*"), Ga.channel_group(a, b)
                        },
                        "channel_group_list_channels": function(a, b) {
                            return a.channel_group ? void Ga.channel_group(a, b) : ua("Missing Channel Group")
                        },
                        "channel_group_remove_channel": function(a, b) {
                            return a.channel_group ? a.channel || a.channels ? (a.mode = "remove", void Ga.channel_group(a, b)) : ua("Missing Channel") : ua("Missing Channel Group")
                        },
                        "channel_group_remove_group": function(a, b) {
                            return a.channel_group ? a.channel ? ua("Use channel_group_remove_channel if you want to remove a channel from a group.") : (a.mode = "remove", void Ga.channel_group(a, b)) : ua("Missing Channel Group")
                        },
                        "channel_group_add_channel": function(a, b) {
                            return a.channel_group ? a.channel || a.channels ? void Ga.channel_group(a, b) : ua("Missing Channel") : ua("Missing Channel Group")
                        },
                        "channel_group_cloak": function(a, b) {
                            return "undefined" == typeof a.cloak ? void b(ba) : (ba = a.cloak,
                                void Ga.channel_group(a, b))
                        },
                        "channel_group_list_namespaces": function(a, b) {
                            F(a, b, ["namespace"])
                        },
                        "channel_group_remove_namespace": function(a, b) {
                            F(a, b, ["namespace", a.namespace, "remove"])
                        },
                        "history": function(a, c) {
                            c = a.callback || c;
                            var d = a.count || a.limit || 100,
                                e = a.reverse || "false",
                                f = a.error || function() {},
                                g = a.auth_key || U,
                                h = a.cipher_key,
                                i = a.channel,
                                j = a.channel_group,
                                k = a.start,
                                n = a.end,
                                o = a.include_token,
                                p = a.string_message_token || !1,
                                q = {},
                                r = wa();
                            return i || j ? c ? T ? (q.stringtoken = "true", q.count = d, q.reverse = e, q.auth = g, j && (q["channel-group"] = j, i || (i = ",")), r && (q.callback = r), k && (q.start = k), n && (q.end = n), o && (q.include_token = "true"), p && (q.string_message_token = "true"), void sa({
                                "callback": r,
                                "data": b(q),
                                "success": function(a) {
                                    if ("object" == typeof a && a.error) f({
                                        "message": a.message,
                                        "payload": a.payload
                                    });
                                    else {
                                        for (var b = a[0], d = [], e = 0; e < b.length; e++)
                                            if (o) {
                                                var g = m(b[e].message, h),
                                                    i = b[e].timetoken;
                                                try {
                                                    d.push({
                                                        "message": JSON.parse(g),
                                                        "timetoken": i
                                                    })
                                                } catch (j) {
                                                    d.push({
                                                        "message": g,
                                                        "timetoken": i
                                                    })
                                                }
                                            } else {
                                                g = m(b[e], h);
                                                try {
                                                    d.push(JSON.parse(g))
                                                } catch (j) {
                                                    d.push(g)
                                                }
                                            }
                                        c([d, a[1], a[2]])
                                    }
                                },
                                "fail": function(a) {
                                    E(a, f)
                                },
                                "url": [Z, "v2", "history", "sub-key", T, "channel", l.encode(i)]
                            })) : ua("Missing Subscribe Key") : ua("Missing Callback") : ua("Missing Channel")
                        },
                        "replay": function(a, c) {
                            c = c || a.callback || function() {};
                            var e = a.auth_key || U,
                                f = a.source,
                                g = a.destination,
                                h = a.error || a.error || function() {},
                                i = a.stop,
                                j = a.start,
                                k = a.end,
                                l = a.reverse,
                                m = a.limit,
                                n = wa(),
                                o = {};
                            return f ? g ? S ? T ? ("0" != n && (o.callback = n), i && (o.stop = "all"), l && (o.reverse = "true"), j && (o.start = j), k && (o.end = k), m && (o.count = m), o.auth = e, void sa({
                                "callback": n,
                                "success": function(a) {
                                    D(a, c, h)
                                },
                                "fail": function() {
                                    c([0, "Disconnected"])
                                },
                                "url": [Z, "v1", "replay", S, T, f, g],
                                "data": b(o)
                            })) : ua("Missing Subscribe Key") : ua("Missing Publish Key") : ua("Missing Destination Channel") : ua("Missing Source Channel")
                        },
                        "auth": function(a) {
                            U = a, _()
                        },
                        "time": function(a) {
                            var c = wa(),
                                d = {
                                    "uuid": za,
                                    "auth": U
                                };
                            Aa && (d.instanceid = Ba), sa({
                                "callback": c,
                                "data": b(d),
                                "url": [Z, "time", c],
                                "success": function(b) {
                                    a(b[0])
                                },
                                "fail": function() {
                                    a(0)
                                }
                            })
                        },
                        "publish": function(a, c) {
                            var d = a.message;
                            if (!d) return ua("Missing Message");
                            c = c || a.callback || d.callback || a.success || function() {};
                            var e, f, g = a.channel || d.channel,
                                h = a.meta || a.metadata,
                                i = a.auth_key || U,
                                j = a.cipher_key,
                                m = a.error || d.error || function() {},
                                n = a.post || !1,
                                o = !("store_in_history" in a) || a.store_in_history,
                                p = !("replicate" in a) || a.replicate,
                                q = wa(),
                                r = "push";
                            return a.prepend && (r = "unshift"), g ? S ? T ? (d.getPubnubMessage && (d = d.getPubnubMessage()), d = JSON.stringify(k(d, j)), f = [Z, "publish", S, T, 0, l.encode(g), q, l.encode(d)], e = {
                                "uuid": za,
                                "auth": i
                            }, h && "object" == typeof h && (e.meta = JSON.stringify(h)), o || (e.store = "0"), p || (e.norep = "true"), Aa && (e.instanceid = Ba), aa[r]({
                                "callback": q,
                                "url": f,
                                "data": b(e),
                                "fail": function(a) {
                                    E(a, m), A(1)
                                },
                                "success": function(a) {
                                    D(a, c, m), A(1)
                                },
                                "mode": n ? "POST" : "GET"
                            }), void A()) : ua("Missing Subscribe Key") : ua("Missing Publish Key") : ua("Missing Channel")
                        },
                        "fire": function(a, b) {
                            a.store_in_history = !1, a.replicate = !1, Ga.publish(a, b)
                        },
                        "unsubscribe": function(a, b) {
                            var c = a.channel,
                                d = a.channel_group,
                                e = a.auth_key || U,
                                f = (b = b || a.callback || function() {}, a.error || function() {});
                            if (!c && !d) return ua("Missing Channel or Channel Group");
                            if (!T) return ua("Missing Subscribe Key");
                            if (c) {
                                var g = l.isArray(c) ? c : ("" + c).split(","),
                                    h = [],
                                    i = [];
                                if (l.each(g, function(a) {
                                        ja[a] && h.push(a)
                                    }), 0 == h.length) return void b({
                                    "action": "leave"
                                });
                                l.each(h, function(a) {
                                    i.push(a + p)
                                }), l.each(h.concat(i), function(a) {
                                    a in ja && delete ja[a], a in la && delete la[a]
                                }), 0 === ja.length && 0 === ka.length && (ha = 0);
                                var j = !0;
                                n && (j = Ga.LEAVE(h.join(","), 0, e, b, f)), j || b({
                                    "action": "leave"
                                })
                            }
                            if (d) {
                                var k = l.isArray(d) ? d : ("" + d).split(","),
                                    m = [],
                                    o = [];
                                if (l.each(k, function(a) {
                                        ka[a] && m.push(a)
                                    }), 0 == m.length) return void b({
                                    "action": "leave"
                                });
                                l.each(m, function(a) {
                                    o.push(a + p)
                                }), l.each(m.concat(o), function(a) {
                                    a in ka && delete ka[a], a in la && delete la[a]
                                }), 0 === ja.length && 0 === ka.length && (ha = 0);
                                j = !0;
                                n && (j = Ga.LEAVE_GROUP(m.join(","), 0, e, b, f)), j || b({
                                    "action": "leave"
                                })
                            }
                            _()
                        },
                        "subscribe": function(a, c) {
                            function d(a) {
                                a ? l.timeout(_, D) : (Z = y(Y, 1), $ = y(Y, 1), l.timeout(function() {
                                    Ga.time(d)
                                }, u)), C(function(b) {
                                    return a && b.disconnected ? (b.disconnected = 0, b.reconnect(b.name)) : void(a || b.disconnected || (b.disconnected = 1, b.disconnect(b.name)))
                                }), B(function(b) {
                                    return a && b.disconnected ? (b.disconnected = 0, b.reconnect(b.name)) : void(a || b.disconnected || (b.disconnected = 1, b.disconnect(b.name)))
                                })
                            }
                            function g() {
                                var a = wa(),
                                    c = e(ja).join(","),
                                    h = f(ka).join(",");
                                if (c || h) {
                                    c || (c = ","), I();
                                    var i = b({
                                        "uuid": za,
                                        "auth": U
                                    });
                                    h && (i["channel-group"] = h), 2 < JSON.stringify(la).length && (i.state = JSON.stringify(la)), na && (i.heartbeat = na), Aa && (i.instanceid = Ba), z(), fa = sa({
                                        "timeout": A,
                                        "callback": a,
                                        "fail": function(a) {
                                            a && a.error && a.service ? (E(a, r), d(!1)) : Ga.time(function(b) {
                                                !b && E(a, r), d(b)
                                            })
                                        },
                                        "data": b(i),
                                        "url": [$, "subscribe", T, l.encode(c), a, ha],
                                        "success": function(a) {
                                            if (!a || "object" == typeof a && "error" in a && a.error) return r(a), l.timeout(_, u);
                                            if (s(a[1]), ha = !ha && ga && xa.get(T) || a[1], C(function(a) {
                                                    a.connected || (a.connected = 1, a.connect(a.name))
                                                }), B(function(a) {
                                                    a.connected || (a.connected = 1, a.connect(a.name))
                                                }), ia && !ga) return ha = 0, ia = !1, xa.set(T, 0), void l.timeout(g, D);
                                            w && (ha = 1e4, w = 0), xa.set(T, a[1]);
                                            var b = function() {
                                                    var b = "",
                                                        c = "";
                                                    3 < a.length ? (b = a[3], c = a[2]) : b = 2 < a.length ? a[2] : l.map(e(ja), function(b) {
                                                        return l.map(Array(a[0].length).join(",").split(","), function() {
                                                            return b
                                                        })
                                                    }).join(",");
                                                    var d = b.split(","),
                                                        f = c ? c.split(",") : [];
                                                    return function() {
                                                        var a = d.shift() || ea,
                                                            b = f.shift(),
                                                            c = {};
                                                        b ? (a && 0 <= a.indexOf("-pnpres") && b.indexOf("-pnpres") < 0 && (b += "-pnpres"), c = ka[b] || ja[b] || {
                                                            "callback": function() {}
                                                        }) : c = ja[a];
                                                        var e = [c.callback || da, a.split(p)[0]];
                                                        return b && e.push(b.split(p)[0]), e
                                                    }
                                                }(),
                                                c = J(+a[1]);
                                            l.each(a[0], function(d) {
                                                var e = b(),
                                                    f = m(d, ja[e[1]] ? ja[e[1]].cipher_key : null);
                                                e[0] && e[0](f, a, e[2] || e[1], c, e[1])
                                            }), l.timeout(g, D)
                                        }
                                    })
                                }
                            }
                            var h = a.channel,
                                i = a.channel_group,
                                j = (c = (c = c || a.callback) || a.message, a.connect || function() {}),
                                k = a.reconnect || function() {},
                                q = a.disconnect || function() {},
                                r = a.error || r || function() {},
                                s = a.idle || function() {},
                                t = a.presence || 0,
                                v = a.noheresync || 0,
                                w = a.backfill || 0,
                                x = a.timetoken || 0,
                                A = a.timeout || O,
                                D = a.windowing || N,
                                F = a.state,
                                G = a.heartbeat || a.pnexpires,
                                H = a.heartbeat_interval,
                                K = a.restore || ga;
                            return U = a.auth_key || U, ga = K, ha = x, h || i ? c ? T ? ((G || 0 === G || H || 0 === H) && Ga.set_heartbeat(G, H), h && l.each((h.join ? h.join(",") : "" + h).split(","), function(d) {
                                var e = ja[d] || {};
                                ja[ea = d] = {
                                    "name": d,
                                    "connected": e.connected,
                                    "disconnected": e.disconnected,
                                    "subscribed": 1,
                                    "callback": da = c,
                                    "cipher_key": a.cipher_key,
                                    "connect": j,
                                    "disconnect": q,
                                    "reconnect": k
                                }, F && (la[d] = d in F ? F[d] : F), t && (Ga.subscribe({
                                    "channel": d + p,
                                    "callback": t,
                                    "restore": K
                                }), e.subscribed || v || Ga.here_now({
                                    "channel": d,
                                    "data": b({
                                        "uuid": za,
                                        "auth": U
                                    }),
                                    "callback": function(a) {
                                        l.each("uuids" in a ? a.uuids : [], function(b) {
                                            t({
                                                "action": "join",
                                                "uuid": b,
                                                "timestamp": Math.floor(l.rnow() / 1e3),
                                                "occupancy": a.occupancy || 1
                                            }, a, d)
                                        })
                                    }
                                }))
                            }), i && l.each((i.join ? i.join(",") : "" + i).split(","), function(d) {
                                var e = ka[d] || {};
                                ka[d] = {
                                    "name": d,
                                    "connected": e.connected,
                                    "disconnected": e.disconnected,
                                    "subscribed": 1,
                                    "callback": da = c,
                                    "cipher_key": a.cipher_key,
                                    "connect": j,
                                    "disconnect": q,
                                    "reconnect": k
                                }, t && (Ga.subscribe({
                                    "channel_group": d + p,
                                    "callback": t,
                                    "restore": K,
                                    "auth_key": U
                                }), e.subscribed || v || Ga.here_now({
                                    "channel_group": d,
                                    "data": b({
                                        "uuid": za,
                                        "auth": U
                                    }),
                                    "callback": function(a) {
                                        l.each("uuids" in a ? a.uuids : [], function(b) {
                                            t({
                                                "action": "join",
                                                "uuid": b,
                                                "timestamp": Math.floor(l.rnow() / 1e3),
                                                "occupancy": a.occupancy || 1
                                            }, a, d)
                                        })
                                    }
                                }))
                            }), _ = function() {
                                I(), l.timeout(g, D)
                            }, n ? void _() : o.push(_)) : ua("Missing Subscribe Key") : ua("Missing Callback") : ua("Missing Channel")
                        },
                        "here_now": function(a, c) {
                            c = a.callback || c;
                            var d = a.debug,
                                e = a.error || function() {},
                                f = a.auth_key || U,
                                g = a.channel,
                                h = a.channel_group,
                                i = wa(),
                                j = !("uuids" in a) || a.uuids,
                                k = a.state,
                                m = {
                                    "uuid": za,
                                    "auth": f
                                };
                            if (j || (m.disable_uuids = 1), k && (m.state = 1), !c) return ua("Missing Callback");
                            if (!T) return ua("Missing Subscribe Key");
                            var n = [Z, "v2", "presence", "sub_key", T];
                            g && n.push("channel") && n.push(l.encode(g)), "0" != i && (m.callback = i), h && (m["channel-group"] = h, !g && n.push("channel") && n.push(",")), Aa && (m.instanceid = Ba), sa({
                                "callback": i,
                                "data": b(m),
                                "success": function(a) {
                                    D(a, c, e)
                                },
                                "fail": function(a) {
                                    E(a, e)
                                },
                                "debug": d,
                                "url": n
                            })
                        },
                        "where_now": function(a, c) {
                            c = a.callback || c;
                            var d = a.error || function() {},
                                e = a.auth_key || U,
                                f = wa(),
                                g = a.uuid || za,
                                h = {
                                    "auth": e
                                };
                            return c ? T ? ("0" != f && (h.callback = f), Aa && (h.instanceid = Ba), void sa({
                                "callback": f,
                                "data": b(h),
                                "success": function(a) {
                                    D(a, c, d)
                                },
                                "fail": function(a) {
                                    E(a, d)
                                },
                                "url": [Z, "v2", "presence", "sub_key", T, "uuid", l.encode(g)]
                            })) : ua("Missing Subscribe Key") : ua("Missing Callback")
                        },
                        "state": function(a, c) {
                            c = a.callback || c || function() {};
                            var d, e = a.error || function() {},
                                f = a.auth_key || U,
                                g = wa(),
                                h = a.state,
                                i = a.uuid || za,
                                j = a.channel,
                                k = a.channel_group,
                                m = b({
                                    "auth": f
                                });
                            return T ? i ? j || k ? ("0" != g && (m.callback = g), void 0 !== j && ja[j] && ja[j].subscribed && h && (la[j] = h), void 0 !== k && ka[k] && ka[k].subscribed && (h && (la[k] = h), m["channel-group"] = k, j || (j = ",")), m.state = JSON.stringify(h), Aa && (m.instanceid = Ba), d = h ? [Z, "v2", "presence", "sub-key", T, "channel", j, "uuid", i, "data"] : [Z, "v2", "presence", "sub-key", T, "channel", j, "uuid", l.encode(i)], void sa({
                                "callback": g,
                                "data": b(m),
                                "success": function(a) {
                                    D(a, c, e)
                                },
                                "fail": function(a) {
                                    E(a, e)
                                },
                                "url": d
                            })) : ua("Missing Channel") : ua("Missing UUID") : ua("Missing Subscribe Key")
                        },
                        "grant": function(a, c) {
                            c = a.callback || c;
                            var d = a.error || function() {},
                                e = a.channel || a.channels,
                                f = a.channel_group,
                                g = wa(),
                                h = a.ttl,
                                j = a.read ? "1" : "0",
                                k = a.write ? "1" : "0",
                                m = a.manage ? "1" : "0",
                                n = a.auth_key || a.auth_keys;
                            if (!c) return ua("Missing Callback");
                            if (!T) return ua("Missing Subscribe Key");
                            if (!S) return ua("Missing Publish Key");
                            if (!V) return ua("Missing Secret Key");
                            var o = Math.floor((new Date).getTime() / 1e3),
                                p = T + "\n" + S + "\ngrant\n",
                                q = {
                                    "w": k,
                                    "r": j,
                                    "timestamp": o
                                };
                            a.manage && (q.m = m), l.isArray(e) && (e = e.join(",")), l.isArray(n) && (n = n.join(",")), void 0 !== e && null != e && 0 < e.length && (q.channel = e), void 0 !== f && null != f && 0 < f.length && (q["channel-group"] = f), "0" != g && (q.callback = g), (h || 0 === h) && (q.ttl = h), n && (q.auth = n), q = b(q), n || delete q.auth, p += i(q);
                            var r = W(p, V);
                            r = (r = r.replace(/\+/g, "-")).replace(/\//g, "_"), q.signature = r, sa({
                                "callback": g,
                                "data": q,
                                "success": function(a) {
                                    D(a, c, d)
                                },
                                "fail": function(a) {
                                    E(a, d)
                                },
                                "url": [Z, "v1", "auth", "grant", "sub-key", T]
                            })
                        },
                        "mobile_gw_provision": function(a) {
                            var b, c, d = a.callback || function() {},
                                e = a.auth_key || U,
                                f = a.error || function() {},
                                g = wa(),
                                h = a.channel,
                                i = a.op,
                                j = a.gw_type,
                                k = a.device_id;
                            return k ? j ? i ? h ? T ? (c = [Z, "v1/push/sub-key", T, "devices", k], b = {
                                "uuid": za,
                                "auth": e,
                                "type": j
                            }, "add" == i ? b.add = h : "remove" == i && (b.remove = h), Aa && (b.instanceid = Ba), void sa({
                                "callback": g,
                                "data": b,
                                "success": function(a) {
                                    D(a, d, f)
                                },
                                "fail": function(a) {
                                    E(a, f)
                                },
                                "url": c
                            })) : ua("Missing Subscribe Key") : ua("Missing gw destination Channel (channel)") : ua("Missing GW Operation (op: add or remove)") : ua("Missing GW Type (gw_type: gcm or apns)") : ua("Missing Device ID (device_id)")
                        },
                        "audit": function(a, c) {
                            c = a.callback || c;
                            var d = a.error || function() {},
                                e = a.channel,
                                f = a.channel_group,
                                g = a.auth_key,
                                h = wa();
                            if (!c) return ua("Missing Callback");
                            if (!T) return ua("Missing Subscribe Key");
                            if (!S) return ua("Missing Publish Key");
                            if (!V) return ua("Missing Secret Key");
                            var j = Math.floor((new Date).getTime() / 1e3),
                                k = T + "\n" + S + "\naudit\n",
                                l = {
                                    "timestamp": j
                                };
                            "0" != h && (l.callback = h), void 0 !== e && null != e && 0 < e.length && (l.channel = e), void 0 !== f && null != f && 0 < f.length && (l["channel-group"] = f), g && (l.auth = g), l = b(l), g || delete l.auth, k += i(l);
                            var m = W(k, V);
                            m = (m = m.replace(/\+/g, "-")).replace(/\//g, "_"), l.signature = m, sa({
                                "callback": h,
                                "data": l,
                                "success": function(a) {
                                    D(a, c, d)
                                },
                                "fail": function(a) {
                                    E(a, d)
                                },
                                "url": [Z, "v1", "auth", "audit", "sub-key", T]
                            })
                        },
                        "revoke": function(a, b) {
                            a.read = !1, a.write = !1, Ga.grant(a, b)
                        },
                        "set_uuid": function(a) {
                            za = a, _()
                        },
                        "get_uuid": function() {
                            return za
                        },
                        "isArray": function(a) {
                            return l.isArray(a)
                        },
                        "get_subscribed_channels": function() {
                            return e(ja, !0)
                        },
                        "presence_heartbeat": function(a) {
                            var c = a.callback || function() {},
                                d = a.error || function() {},
                                g = wa(),
                                h = {
                                    "uuid": za,
                                    "auth": U
                                };
                            2 < JSON.stringify(la).length && (h.state = JSON.stringify(la)), 0 < na && na < 320 && (h.heartbeat = na), "0" != g && (h.callback = g);
                            var j = l.encode(e(ja, !0).join(",")),
                                k = f(ka, !0).join(",");
                            j || (j = ","), k && (h["channel-group"] = k), Aa && (h.instanceid = Ba), sa({
                                "callback": g,
                                "data": b(h),
                                "url": [Z, "v2", "presence", "sub-key", T, "channel", j, "heartbeat"],
                                "success": function(a) {
                                    D(a, c, d)
                                },
                                "fail": function(a) {
                                    E(a, d)
                                }
                            })
                        },
                        "stop_timers": function() {
                            clearTimeout(L), clearTimeout(M), clearTimeout(ma)
                        },
                        "shutdown": function() {
                            Ga.stop_timers(), Ca && Ca()
                        },
                        "xdr": sa,
                        "ready": g,
                        "db": xa,
                        "uuid": l.generateUUID,
                        "map": l.map,
                        "each": l.each,
                        "each-channel": C,
                        "grep": l.grep,
                        "offline": function() {
                            I(1, {
                                "message": "Offline. Please check your network settings."
                            })
                        },
                        "supplant": l.supplant,
                        "now": l.rnow,
                        "unique": d,
                        "updater": l.updater
                    };
                return za || (za = Ga.uuid()), Ba || (Ba = Ga.uuid()), xa.set(T + "uuid", za), L = l.timeout(G, u), M = l.timeout(H, P), ma = l.timeout(z, (oa - 3) * u), K(), Ga
            }
            var j = c(4),
                k = c(6),
                l = c(7),
                m = 1,
                n = !1,
                o = [],
                p = "-pnpres",
                q = 10,
                r = 15e3,
                s = 310,
                t = 60,
                u = 1e3,
                v = 5,
                w = 30,
                x = j.version,
                y = function() {
                    var a = 20,
                        b = Math.floor(Math.random() * a);
                    return function(c, d) {
                        return 0 < c.indexOf("pubsub.") && c.replace("pubsub", "ps" + (d ? l.generateUUID().split("-")[0] : ++b < a ? b : b = 1)) || c
                    }
                }();
            a.exports = {
                "PN_API": i,
                "unique": d,
                "PNmessage": h,
                "DEF_TIMEOUT": r,
                "timeout": l.timeout,
                "build_url": l.buildURL,
                "each": l.each,
                "uuid": l.generateUUID,
                "URLBIT": k.URLBIT,
                "grep": l.grep,
                "supplant": l.supplant,
                "now": l.rnow,
                "updater": l.updater,
                "map": l.map
            }
        }, function(a) {
            a.exports = {
                "PARAMSBIT": "&",
                "URLBIT": "/"
            }
        }, function(a, b, c) {
            function d() {
                return +new Date
            }
            function e(a) {
                return !!a && "string" != typeof a && (Array.isArray && Array.isArray(a) || "number" == typeof a.length)
            }
            function f(a, b) {
                if (a && b)
                    if (e(a))
                        for (var c = 0, d = a.length; c < d;) b.call(a[c], a[c], c++);
                    else
                        for (var c in a) a.hasOwnProperty && a.hasOwnProperty(c) && b.call(a[c], c, a[c])
            }
            function g(a) {
                return encodeURIComponent(a)
            }
            function h(a, b) {
                var c = a.join(p.URLBIT),
                    d = [];
                return b ? (f(b, function(a, b) {
                    var c = "object" == typeof b ? JSON.stringify(b) : b;
                    null != b && 0 < g(c).length && d.push(a + "=" + g(c))
                }), c += "?" + d.join(p.PARAMSBIT)) : c
            }
            function i(a, b) {
                var c, e = 0,
                    f = function() {
                        e + b > d() ? (clearTimeout(c), c = setTimeout(f, b)) : (e = d(), a())
                    };
                return f
            }
            function j(a, b) {
                var c = [];
                return f(a || [], function(a) {
                    b(a) && c.push(a)
                }), c
            }
            function k(a, b) {
                return a.replace(q, function(a, c) {
                    return b[c] || a
                })
            }
            function l(a, b) {
                if ("undefined" != typeof setTimeout) return setTimeout(a, b)
            }
            function m(a) {
                var b = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
                    var b = 16 * Math.random() | 0;
                    return ("x" === a ? b : 3 & b | 8).toString(16)
                });
                return a && a(b), b
            }
            function n(a, b) {
                var c = [];
                return f(a || [], function(a, d) {
                    c.push(b(a, d))
                }), c
            }
            function o(a) {
                return encodeURIComponent(a).replace(/[!'()*~]/g, function(a) {
                    return "%" + a.charCodeAt(0).toString(16).toUpperCase()
                })
            }
            var p = c(6),
                q = /{([\w\-]+)}/g;
            a.exports = {
                "buildURL": h,
                "encode": g,
                "each": f,
                "updater": i,
                "rnow": d,
                "isArray": e,
                "map": n,
                "pamEncode": o,
                "generateUUID": m,
                "timeout": l,
                "supplant": k,
                "grep": j
            }
        }, function(a) {
            var c = function(a, b) {
                if (!(this instanceof c)) return new c(a, b);
                var d = this,
                    e = (a = d.url = a || "", d.protocol = b || "Sec-WebSocket-Protocol", a.split("/")),
                    f = {
                        "ssl": "wss:" === e[0],
                        "origin": e[2],
                        "publish_key": e[3],
                        "subscribe_key": e[4],
                        "channel": e[5]
                    };
                return d.CONNECTING = 0, d.OPEN = 1, d.CLOSING = 2, d.CLOSED = 3, d.CLOSE_NORMAL = 1e3, d.CLOSE_GOING_AWAY = 1001, d.CLOSE_PROTOCOL_ERROR = 1002, d.CLOSE_UNSUPPORTED = 1003, d.CLOSE_TOO_LARGE = 1004, d.CLOSE_NO_STATUS = 1005, d.CLOSE_ABNORMAL = 1006, d.onclose = d.onerror = d.onmessage = d.onopen = d.onsend = function() {}, d.binaryType = "", d.extensions = "", d.bufferedAmount = 0, d.trasnmitting = !1, d.buffer = [], d.readyState = d.CONNECTING, a ? (d.pubnub = PUBNUB.init(f), d.pubnub.setup = f, d.setup = f, void d.pubnub.subscribe({
                    "restore": !1,
                    "channel": f.channel,
                    "disconnect": d.onerror,
                    "reconnect": d.onopen,
                    "error": function() {
                        d.onclose({
                            "code": d.CLOSE_ABNORMAL,
                            "reason": "Missing URL",
                            "wasClean": !1
                        })
                    },
                    "callback": function(a) {
                        d.onmessage({
                            "data": a
                        })
                    },
                    "connect": function() {
                        d.readyState = d.OPEN, d.onopen()
                    }
                })) : (d.readyState = d.CLOSED, d.onclose({
                    "code": d.CLOSE_ABNORMAL,
                    "reason": "Missing URL",
                    "wasClean": !0
                }), d)
            };
            c.prototype.send = function(a) {
                var b = this;
                b.pubnub.publish({
                    "channel": b.pubnub.setup.channel,
                    "message": a,
                    "callback": function(a) {
                        b.onsend({
                            "data": a
                        })
                    }
                })
            }, c.prototype.close = function() {
                var a = this;
                a.pubnub.unsubscribe({
                    "channel": a.pubnub.setup.channel
                }), a.readyState = a.CLOSED, a.onclose({})
            }, a.exports = c
        }])
    }),
    this.createjs = this.createjs || {},
    function() {
        var s = createjs.SoundJS = createjs.SoundJS || {}
        ;
        s.version = "0.6.0",
            s.buildDate = "Thu, 11 Dec 2014 23:32:09 GMT"
    }(),
    this.createjs = this.createjs || {},
    createjs.extend = function(subclass, superclass) {
        "use strict"
        ;
        function o() {
            this.constructor = subclass
        }
        return o.prototype = superclass.prototype,
            subclass.prototype = new o
    },
    this.createjs = this.createjs || {},
    createjs.promote = function(subclass, prefix) {
        "use strict"
        ;
        var subP = subclass.prototype,
            supP = Object.getPrototypeOf && Object.getPrototypeOf(subP) || subP.__proto__;
        if (
            supP)
            for (
                var n in subP[(prefix += "_") + "constructor"] = supP.constructor, supP
            ) subP.hasOwnProperty(n) && "function" == typeof supP[n] && (subP[prefix + n] = supP[n])
        ;
        return subclass
    },
    this.createjs = this.createjs || {},
    createjs.indexOf = function(array, searchElement) {
        "use strict";
        for (
            var i = 0, l = array.length; i < l; i++)
            if (
                searchElement === array[i]
            ) return i
            ;
        return -1
    },
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        createjs.proxy = function(method, scope) {
            var aArgs = Array.prototype.slice.call(arguments, 2);
            return function() {
                return method.apply(scope, Array.prototype.slice.call(arguments, 0).concat(aArgs))
            }
        }
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        var t = !!Object.defineProperty,
            foo = {};
        try {
            Object.defineProperty(foo, "bar", {
                "get": function() {
                    return this._bar
                },
                "set": function(
                    value) {
                    this._bar = value
                }
            })
        } catch (
            e) {
            t = !1
        }
        createjs.definePropertySupported = t
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function BrowserDetect() {
            throw "BrowserDetect cannot be instantiated"
        }
        var agent = BrowserDetect.agent = window.navigator.userAgent;
        BrowserDetect.isWindowPhone = -1 < agent.indexOf("IEMobile") || -1 < agent.indexOf("Windows Phone"),
            BrowserDetect.isFirefox = -1 < agent.indexOf("Firefox"),
            BrowserDetect.isOpera = null != window.opera,
            BrowserDetect.isChrome = -1 < agent.indexOf("Chrome"),
            BrowserDetect.isIOS = (-1 < agent.indexOf("iPod") || -1 < agent.indexOf("iPhone") || -1 < agent.indexOf("iPad")) && !BrowserDetect.isWindowPhone,
            BrowserDetect.isAndroid = -1 < agent.indexOf("Android") && !BrowserDetect.isWindowPhone,
            BrowserDetect.isBlackberry = -1 < agent.indexOf("Blackberry"),
            createjs.BrowserDetect = BrowserDetect
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function EventDispatcher() {
            this._listeners = null,
                this._captureListeners = null
        }
        var p = EventDispatcher.prototype
        ;
        EventDispatcher.initialize = function(target) {
                target.addEventListener = p.addEventListener,
                    target.on = p.on,
                    target.removeEventListener = target.off = p.removeEventListener,
                    target.removeAllEventListeners = p.removeAllEventListeners,
                    target.hasEventListener = p.hasEventListener,
                    target.dispatchEvent = p.dispatchEvent,
                    target._dispatchEvent = p._dispatchEvent,
                    target.willTrigger = p.willTrigger
            },
            p.addEventListener = function(type, listener, useCapture) {
                var listeners,
                    arr = (listeners = useCapture ? this._captureListeners = this._captureListeners || {} : this._listeners = this._listeners || {})[type];
                return arr && this.removeEventListener(type, listener, useCapture), (
                        arr = listeners[type]
                    ) ? arr.push(listener) : listeners[type] = [listener],
                    listener
            },
            p.on = function(type, listener, scope, once, data, useCapture) {
                return listener.handleEvent && (
                        scope = scope || listener,
                        listener = listener.handleEvent),
                    scope = scope || this,
                    this.addEventListener(type, function(evt) {
                            listener.call(scope, evt, data),
                                once && evt.remove()
                        },
                        useCapture)
            },
            p.removeEventListener = function(type, listener, useCapture) {
                var listeners = useCapture ? this._captureListeners : this._listeners;
                if (
                    listeners) {
                    var arr = listeners[type];
                    if (
                        arr)
                        for (
                            var i = 0, l = arr.length; i < l; i++)
                            if (
                                arr[i] == listener) {
                                1 == l ? delete listeners[type] : arr.splice(i, 1);
                                break
                            }
                }
            },
            p.off = p.removeEventListener,
            p.removeAllEventListeners = function(type) {
                type ? (
                    this._listeners && delete this._listeners[type],
                    this._captureListeners && delete this._captureListeners[type]) : this._listeners = this._captureListeners = null
            },
            p.dispatchEvent = function(eventObj) {
                if (
                    "string" == typeof eventObj) {
                    var listeners = this._listeners;
                    if (!listeners || !listeners[eventObj]) return !1;
                    eventObj = new createjs.Event(eventObj)
                } else eventObj.target && eventObj.clone && (
                    eventObj = eventObj.clone());
                try {
                    eventObj.target = this
                } catch (e) {}
                if (
                    eventObj.bubbles && this.parent) {
                    for (
                        var top = this, list = [top]; top.parent;) list.push(top = top.parent);
                    var i, l = list.length;
                    for (
                        i = l - 1; 0 <= i && !eventObj.propagationStopped; i--
                    ) list[i]._dispatchEvent(eventObj, 1 + (0 == i));
                    for (
                        i = 1; i < l && !eventObj.propagationStopped; i++
                    ) list[i]._dispatchEvent(eventObj, 3)
                } else this._dispatchEvent(eventObj, 2)
                ;
                return eventObj.defaultPrevented
            },
            p.hasEventListener = function(type) {
                var listeners = this._listeners,
                    captureListeners = this._captureListeners;
                return !!(
                    listeners && listeners[type] || captureListeners && captureListeners[type])
            },
            p.willTrigger = function(type) {
                for (
                    var o = this; o;) {
                    if (
                        o.hasEventListener(type)) return !0;
                    o = o.parent
                }
                return !1
            },
            p.toString = function() {
                return "[EventDispatcher]"
            },
            p._dispatchEvent = function(eventObj, eventPhase) {
                var l, listeners = 1 == eventPhase ? this._captureListeners : this._listeners;
                if (
                    eventObj && listeners) {
                    var arr = listeners[eventObj.type];
                    if (!arr || !(l = arr.length)) return;
                    try {
                        eventObj.currentTarget = this
                    } catch (e) {}
                    try {
                        eventObj.eventPhase = eventPhase
                    } catch (e) {}
                    eventObj.removed = !1,
                        arr = arr.slice();
                    for (
                        var i = 0; i < l && !eventObj.immediatePropagationStopped; i++) {
                        var o = arr[i];
                        o.handleEvent ? o.handleEvent(eventObj) : o(eventObj),
                            eventObj.removed && (
                                this.off(eventObj.type, o, 1 == eventPhase),
                                eventObj.removed = !1)
                    }
                }
            },
            createjs.EventDispatcher = EventDispatcher
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function Event(type, bubbles, cancelable) {
            this.type = type,
                this.target = null,
                this.currentTarget = null,
                this.eventPhase = 0,
                this.bubbles = !!bubbles,
                this.cancelable = !!cancelable,
                this.timeStamp = (new Date).getTime(),
                this.defaultPrevented = !1,
                this.propagationStopped = !1,
                this.immediatePropagationStopped = !1,
                this.removed = !1
        }
        var p = Event.prototype
        ;
        p.preventDefault = function() {
                this.defaultPrevented = this.cancelable && !0
            },
            p.stopPropagation = function() {
                this.propagationStopped = !0
            },
            p.stopImmediatePropagation = function() {
                this.immediatePropagationStopped = this.propagationStopped = !0
            },
            p.remove = function() {
                this.removed = !0
            },
            p.clone = function() {
                return new Event(this.type, this.bubbles, this.cancelable)
            },
            p.set = function(props) {
                for (
                    var n in props) this[n] = props[n];
                return this
            },
            p.toString = function() {
                return "[Event (type=" + this.type + ")]"
            },
            createjs.Event = Event
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function ErrorEvent(title, message, data) {
            this.Event_constructor("error"),
                this.title = title,
                this.message = message,
                this.data = data
        }
        createjs.extend(ErrorEvent, createjs.Event
            ).clone = function() {
                return new createjs.ErrorEvent(this.title, this.message, this.data)
            },
            createjs.ErrorEvent = createjs.promote(ErrorEvent, "Event")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function ProgressEvent(loaded, total) {
            this.Event_constructor("progress"),
                this.loaded = loaded,
                this.total = null == total ? 1 : total,
                this.progress = 0 == total ? 0 : this.loaded / this.total
        }
        createjs.extend(ProgressEvent, createjs.Event
            ).clone = function() {
                return new createjs.ProgressEvent(this.loaded, this.total)
            },
            createjs.ProgressEvent = createjs.promote(ProgressEvent, "Event")
    }(
        window),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function LoadItem() {
            this.src = null,
                this.type = null,
                this.id = null,
                this.maintainOrder = !1,
                this.callback = null,
                this.data = null,
                this.method = createjs.LoadItem.GET,
                this.values = null,
                this.headers = null,
                this.withCredentials = !1,
                this.mimeType = null,
                this.crossOrigin = "Anonymous",
                this.loadTimeout = 8e3
        }
        var p = LoadItem.prototype = {},
            s = LoadItem
        ;
        s.create = function(value) {
                if (
                    "string" == typeof value) {
                    var item = new LoadItem;
                    return item.src = value,
                        item
                }
                if (
                    value instanceof s
                ) return value;
                if (
                    value instanceof Object
                ) return value
                ;
                throw new Error("Type not recognized.")
            },
            p.set = function(props) {
                for (
                    var n in props) this[n] = props[n];
                return this
            },
            createjs.LoadItem = s
    }(),
    function() {
        var s = {
            "ABSOLUTE_PATT": /^(?:\w+:)?\/{2}/i,
            "RELATIVE_PATT": /^[./]*?\//i,
            "EXTENSION_PATT": /\/?[^/]+\.(\w{1,5})$/i,
            "parseURI": function(
                path) {
                var info = {
                    "absolute": !1,
                    "relative": !1
                };
                if (
                    null == path) return info
                ;
                var match, queryIndex = path.indexOf("?");
                return -1 < queryIndex && (path = path.substr(0, queryIndex)),
                    s.ABSOLUTE_PATT.test(path
                    ) ? info.absolute = !0 : s.RELATIVE_PATT.test(path) && (
                        info.relative = !0), (
                        match = path.match(s.EXTENSION_PATT)) && (
                        info.extension = match[1].toLowerCase()),
                    info
            },
            "formatQueryString": function(
                data, query) {
                if (
                    null == data
                ) throw new Error("You must specify data.")
                ;
                var params = [];
                for (
                    var n in data
                ) params.push(n + "=" + escape(data[n]))
                ;
                return query && (
                        params = params.concat(query)),
                    params.join("&")
            },
            "buildPath": function(
                src, data) {
                if (
                    null == data
                ) return src
                ;
                var query = [],
                    idx = src.indexOf("?");
                if (
                    -1 != idx) {
                    var q = src.slice(idx + 1);
                    query = query.concat(q.split("&"))
                }
                return -1 != idx ? src.slice(0, idx) + "?" + this._formatQueryString(data, query
                ) : src + "?" + this._formatQueryString(data, query)
            },
            "isCrossDomain": function(
                item) {
                var target = document.createElement("a");
                target.href = item.src
                ;
                var host = document.createElement("a");
                return host.href = location.href,
                    "" != target.hostname && (
                        target.port != host.port || target.protocol != host.protocol || target.hostname != host.hostname
                    )
            },
            "isLocal": function(
                item) {
                var target = document.createElement("a");
                return target.href = item.src,
                    "" == target.hostname && "file:" == target.protocol
            },
            "isBinary": function(
                type) {
                switch (
                    type) {
                    case createjs.AbstractLoader.IMAGE:
                    case createjs.AbstractLoader.BINARY:
                        return !0;
                    default:
                        return !1
                }
            },
            "isImageTag": function(
                item) {
                return item instanceof HTMLImageElement
            },
            "isAudioTag": function(
                item) {
                return !!window.HTMLAudioElement && item instanceof HTMLAudioElement
            },
            "isVideoTag": function(
                item) {
                if (
                    window.HTMLVideoElement
                ) return item instanceof HTMLVideoElement
            },
            "isText": function(
                type) {
                switch (
                    type) {
                    case createjs.AbstractLoader.TEXT:
                    case createjs.AbstractLoader.JSON:
                    case createjs.AbstractLoader.MANIFEST:
                    case createjs.AbstractLoader.XML:
                    case createjs.AbstractLoader.CSS:
                    case createjs.AbstractLoader.SVG:
                    case createjs.AbstractLoader.JAVASCRIPT:
                        return !0;
                    default:
                        return !1
                }
            },
            "getTypeByExtension": function(
                extension) {
                if (
                    null == extension
                ) return createjs.AbstractLoader.TEXT;
                switch (
                    extension.toLowerCase()) {
                    case "jpeg":
                    case "jpg":
                    case "gif":
                    case "png":
                    case "webp":
                    case "bmp":
                        return createjs.AbstractLoader.IMAGE;
                    case "ogg":
                    case "mp3":
                    case "webm":
                        return createjs.AbstractLoader.SOUND;
                    case "mp4":
                    case "webm":
                    case "ts":
                        return createjs.AbstractLoader.VIDEO;
                    case "json":
                        return createjs.AbstractLoader.JSON;
                    case "xml":
                        return createjs.AbstractLoader.XML;
                    case "css":
                        return createjs.AbstractLoader.CSS;
                    case "js":
                        return createjs.AbstractLoader.JAVASCRIPT;
                    case "svg":
                        return createjs.AbstractLoader.SVG;
                    default:
                        return createjs.AbstractLoader.TEXT
                }
            }
        }
        ;
        createjs.RequestUtils = s
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function AbstractLoader(loadItem, preferXHR, type) {
            this.EventDispatcher_constructor(),
                this.loaded = !1,
                this.canceled = !1,
                this.progress = 0,
                this.type = type,
                this.resultFormatter = null,
                this._item = loadItem ? createjs.LoadItem.create(loadItem
                ) : null,
                this._preferXHR = preferXHR,
                this._result = null,
                this._rawResult = null,
                this._loadedItems = null,
                this._tagSrcAttribute = null,
                this._tag = null
        }
        var p = createjs.extend(AbstractLoader, createjs.EventDispatcher),
            s = AbstractLoader
        ;
        s.POST = "POST",
            s.GET = "GET",
            s.BINARY = "binary",
            s.CSS = "css",
            s.IMAGE = "image",
            s.JAVASCRIPT = "javascript",
            s.JSON = "json",
            s.JSONP = "jsonp",
            s.MANIFEST = "manifest",
            s.SOUND = "sound",
            s.VIDEO = "video",
            s.SPRITESHEET = "spritesheet",
            s.SVG = "svg",
            s.TEXT = "text",
            s.XML = "xml",
            p.getItem = function() {
                return this._item
            },
            p.getResult = function(raw) {
                return raw ? this._rawResult : this._result
            },
            p.getTag = function() {
                return this._tag
            },
            p.setTag = function(tag) {
                this._tag = tag
            },
            p.load = function() {
                this._createRequest(),
                    this._request.on("complete", this, this),
                    this._request.on("progress", this, this),
                    this._request.on("loadStart", this, this),
                    this._request.on("abort", this, this),
                    this._request.on("timeout", this, this),
                    this._request.on("error", this, this)
                ;
                var evt = new createjs.Event("initialize");
                evt.loader = this._request,
                    this.dispatchEvent(evt),
                    this._request.load()
            },
            p.cancel = function() {
                this.canceled = !0,
                    this.destroy()
            },
            p.destroy = function() {
                this._request && (
                        this._request.removeAllEventListeners(),
                        this._request.destroy()),
                    this._request = null,
                    this._item = null,
                    this._rawResult = null,
                    this._result = null,
                    this._loadItems = null,
                    this.removeAllEventListeners()
            },
            p.getLoadedItems = function() {
                return this._loadedItems
            },
            p._createRequest = function() {
                this._preferXHR ? this._request = new createjs.XHRRequest(this._item) : this._request = new createjs.TagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute)
            },
            p._createTag = function() {
                return null
            },
            p._sendLoadStart = function() {
                this._isCanceled() || this.dispatchEvent("loadstart")
            },
            p._sendProgress = function(value) {
                if (!this._isCanceled()) {
                    var event = null;
                    "number" == typeof value ? (
                            this.progress = value,
                            event = new createjs.ProgressEvent(this.progress)) : (
                            event = value,
                            this.progress = value.loaded / value.total,
                            event.progress = this.progress, (
                                isNaN(this.progress) || this.progress == Infinity) && (this.progress = 0)),
                        this.hasEventListener("progress") && this.dispatchEvent(event)
                }
            },
            p._sendComplete = function() {
                if (!this._isCanceled()) {
                    this.loaded = !0
                    ;
                    var event = new createjs.Event("complete");
                    event.rawResult = this._rawResult,
                        null != this._result && (
                            event.result = this._result),
                        this.dispatchEvent(event)
                }
            },
            p._sendError = function(event) {
                !this._isCanceled() && this.hasEventListener("error") && (
                    null == event && (
                        event = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),
                    this.dispatchEvent(event))
            },
            p._isCanceled = function() {
                return !(
                    null != window.createjs && !this.canceled)
            },
            p.resultFormatter = null,
            p.handleEvent = function(event) {
                switch (
                    event.type) {
                    case "complete":
                        this._rawResult = event.target._response;
                        var result = this.resultFormatter && this.resultFormatter(this),
                            _this = this
                        ;
                        result instanceof Function ? result(function(result) {
                            _this._result = result,
                                _this._sendComplete()
                        }) : (
                            this._result = result || this._rawResult,
                            this._sendComplete())
                        ;
                        break;
                    case "progress":
                        this._sendProgress(event);
                        break;
                    case "error":
                        this._sendError(event);
                        break;
                    case "loadstart":
                        this._sendLoadStart();
                        break;
                    case "abort":
                    case "timeout":
                        this._isCanceled() || this.dispatchEvent(event.type)
                }
            },
            p.buildPath = function(src, data) {
                return createjs.RequestUtils.buildPath(src, data)
            },
            p.toString = function() {
                return "[PreloadJS AbstractLoader]"
            },
            createjs.AbstractLoader = createjs.promote(AbstractLoader, "EventDispatcher")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function AbstractMediaLoader(loadItem, preferXHR, type) {
            this.AbstractLoader_constructor(loadItem, preferXHR, type),
                this.resultFormatter = this._formatResult,
                this._tagSrcAttribute = "src"
        }
        var p = createjs.extend(AbstractMediaLoader, createjs.AbstractLoader)
        ;
        p.load = function() {
                this._tag || (
                        this._tag = this._createTag(this._item.src)),
                    this._tag.preload = "auto",
                    this._tag.load(),
                    this.AbstractLoader_load()
            },
            p._createTag = function() {},
            p._createRequest = function() {
                this._preferXHR ? this._request = new createjs.XHRRequest(this._item) : this._request = new createjs.MediaTagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute)
            },
            p._formatResult = function(loader) {
                return this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler),
                    this._tag.onstalled = null,
                    this._preferXHR && (
                        loader.getTag().src = loader.getResult(!0)),
                    loader.getTag()
            },
            createjs.AbstractMediaLoader = createjs.promote(AbstractMediaLoader, "AbstractLoader")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        var AbstractRequest = function(item) {
                this._item = item
            },
            p = createjs.extend(AbstractRequest, createjs.EventDispatcher)
        ;
        p.load = function() {},
            p.destroy = function() {},
            p.cancel = function() {},
            createjs.AbstractRequest = createjs.promote(AbstractRequest, "EventDispatcher")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function TagRequest(loadItem, tag, srcAttribute) {
            this.AbstractRequest_constructor(loadItem),
                this._tag = tag,
                this._tagSrcAttribute = srcAttribute,
                this._loadedHandler = createjs.proxy(this._handleTagComplete, this),
                this._addedToDOM = !1,
                this._startTagVisibility = null
        }
        var p = createjs.extend(TagRequest, createjs.AbstractRequest)
        ;
        p.load = function() {
                null == this._tag.parentNode && (
                        window.document.body.appendChild(this._tag),
                        this._addedToDOM = !0),
                    this._tag.onload = createjs.proxy(this._handleTagComplete, this),
                    this._tag.onreadystatechange = createjs.proxy(this._handleReadyStateChange, this)
                ;
                var evt = new createjs.Event("initialize");
                evt.loader = this._tag,
                    this.dispatchEvent(evt),
                    this._hideTag(),
                    this._tag[this._tagSrcAttribute] = this._item.src
            },
            p.destroy = function() {
                this._clean(),
                    this._tag = null,
                    this.AbstractRequest_destroy()
            },
            p._handleReadyStateChange = function() {
                clearTimeout(this._loadTimeout)
                ;
                var tag = this._tag
                ;
                "loaded" != tag.readyState && "complete" != tag.readyState || this._handleTagComplete()
            },
            p._handleTagComplete = function() {
                this._rawResult = this._tag,
                    this._result = this.resultFormatter && this.resultFormatter(this) || this._rawResult,
                    this._clean(),
                    this._showTag(),
                    this.dispatchEvent("complete")
            },
            p._clean = function() {
                this._tag.onload = null,
                    this._tag.onreadystatechange = null,
                    this._addedToDOM && null != this._tag.parentNode && this._tag.parentNode.removeChild(this._tag)
            },
            p._hideTag = function() {
                this._startTagVisibility = this._tag.style.visibility,
                    this._tag.style.visibility = "hidden"
            },
            p._showTag = function() {
                this._tag.style.visibility = this._startTagVisibility
            },
            p._handleStalled = function() {},
            createjs.TagRequest = createjs.promote(TagRequest, "AbstractRequest")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function MediaTagRequest(loadItem, tag, srcAttribute) {
            this.AbstractRequest_constructor(loadItem),
                this._tag = tag,
                this._tagSrcAttribute = srcAttribute,
                this._loadedHandler = createjs.proxy(this._handleTagComplete, this)
        }
        var p = createjs.extend(MediaTagRequest, createjs.TagRequest)
        ;
        p.load = function() {
                this._tag.onstalled = createjs.proxy(this._handleStalled, this),
                    this._tag.onprogress = createjs.proxy(this._handleProgress, this),
                    this._tag.addEventListener && this._tag.addEventListener("canplaythrough", this._loadedHandler, !1),
                    this.TagRequest_load()
            },
            p._handleReadyStateChange = function() {
                clearTimeout(this._loadTimeout)
                ;
                var tag = this._tag
                ;
                "loaded" != tag.readyState && "complete" != tag.readyState || this._handleTagComplete()
            },
            p._handleStalled = function() {},
            p._handleProgress = function(event) {
                if (
                    event && !(0 < event.loaded && 0 == event.total)) {
                    var newEvent = new createjs.ProgressEvent(event.loaded, event.total);
                    this.dispatchEvent(newEvent)
                }
            },
            p._clean = function() {
                this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler),
                    this._tag.onstalled = null,
                    this._tag.onprogress = null,
                    this.TagRequest__clean()
            },
            createjs.MediaTagRequest = createjs.promote(MediaTagRequest, "TagRequest")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function XHRRequest(item) {
            this.AbstractRequest_constructor(item),
                this._request = null,
                this._loadTimeout = null,
                this._xhrLevel = 1,
                this._response = null,
                this._rawResponse = null,
                this._canceled = !1,
                this._handleLoadStartProxy = createjs.proxy(this._handleLoadStart, this),
                this._handleProgressProxy = createjs.proxy(this._handleProgress, this),
                this._handleAbortProxy = createjs.proxy(this._handleAbort, this),
                this._handleErrorProxy = createjs.proxy(this._handleError, this),
                this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this),
                this._handleLoadProxy = createjs.proxy(this._handleLoad, this),
                this._handleReadyStateChangeProxy = createjs.proxy(this._handleReadyStateChange, this),
                this._createXHR(item)
        }
        var p = createjs.extend(XHRRequest, createjs.AbstractRequest)
        ;
        XHRRequest.ACTIVEX_VERSIONS = [
                "Msxml2.XMLHTTP.6.0",
                "Msxml2.XMLHTTP.5.0",
                "Msxml2.XMLHTTP.4.0",
                "MSXML2.XMLHTTP.3.0",
                "MSXML2.XMLHTTP",
                "Microsoft.XMLHTTP"
            ],
            p.getResult = function(raw) {
                return raw && this._rawResponse ? this._rawResponse : this._response
            },
            p.cancel = function() {
                this.canceled = !0,
                    this._clean(),
                    this._request.abort()
            },
            p.load = function() {
                if (
                    null != this._request) {
                    this._request.addEventListener("loadstart", this._handleLoadStartProxy, !1),
                        this._request.addEventListener("progress", this._handleProgressProxy, !1),
                        this._request.addEventListener("abort", this._handleAbortProxy, !1),
                        this._request.addEventListener("error", this._handleErrorProxy, !1),
                        this._request.addEventListener("timeout", this._handleTimeoutProxy, !1),
                        this._request.addEventListener("load", this._handleLoadProxy, !1),
                        this._request.addEventListener("readystatechange", this._handleReadyStateChangeProxy, !1),
                        1 == this._xhrLevel && (
                            this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout));
                    try {
                        this._item.values && this._item.method != createjs.AbstractLoader.GET ? this._item.method == createjs.AbstractLoader.POST && this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)) : this._request.send()
                    } catch (
                        error) {
                        this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, error))
                    }
                } else this._handleError()
            },
            p.setResponseType = function(type) {
                this._request.responseType = type
            },
            p.getAllResponseHeaders = function() {
                return this._request.getAllResponseHeaders instanceof Function ? this._request.getAllResponseHeaders(
                ) : null
            },
            p.getResponseHeader = function(header) {
                return this._request.getResponseHeader instanceof Function ? this._request.getResponseHeader(header
                ) : null
            },
            p._handleProgress = function(event) {
                if (
                    event && !(0 < event.loaded && 0 == event.total)) {
                    var newEvent = new createjs.ProgressEvent(event.loaded, event.total);
                    this.dispatchEvent(newEvent)
                }
            },
            p._handleLoadStart = function() {
                clearTimeout(this._loadTimeout),
                    this.dispatchEvent("loadstart")
            },
            p._handleAbort = function(event) {
                this._clean(),
                    this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, event))
            },
            p._handleError = function(event) {
                this._clean(),
                    this.dispatchEvent(new createjs.ErrorEvent(event.message))
            },
            p._handleReadyStateChange = function() {
                4 == this._request.readyState && this._handleLoad()
            },
            p._handleLoad = function() {
                if (!this.loaded) {
                    this.loaded = !0
                    ;
                    var error = this._checkError()
                    ;
                    error ? this._handleError(error) : (
                        this._response = this._getResponse(),
                        this._clean(),
                        this.dispatchEvent(new createjs.Event("complete")))
                }
            },
            p._handleTimeout = function(event) {
                this._clean(),
                    this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, event))
            },
            p._checkError = function() {
                var status = parseInt(this._request.status);
                switch (
                    status) {
                    case 404:
                    case 0:
                        return new Error(status)
                }
                return null
            },
            p._getResponse = function() {
                if (
                    null != this._response
                ) return this._response;
                if (
                    null != this._request.response
                ) return this._request.response;
                try {
                    if (
                        null != this._request.responseText
                    ) return this._request.responseText
                } catch (
                    e) {}
                try {
                    if (
                        null != this._request.responseXML
                    ) return this._request.responseXML
                } catch (
                    e) {}
                return null
            },
            p._createXHR = function(item) {
                var crossdomain = createjs.RequestUtils.isCrossDomain(item),
                    headers = {},
                    req = null;
                if (
                    window.XMLHttpRequest
                ) req = new XMLHttpRequest,
                    crossdomain && req.withCredentials === undefined && window.XDomainRequest && (
                        req = new XDomainRequest);
                else {
                    for (
                        var i = 0, l = s.ACTIVEX_VERSIONS.length; i < l; i++) {
                        s.ACTIVEX_VERSIONS[i];
                        try {
                            req = new ActiveXObject(axVersions);
                            break
                        } catch (
                            e) {}
                    }
                    if (
                        null == req) return !1
                }
                item.mimeType && req.overrideMimeType && req.overrideMimeType(item.mimeType),
                    this._xhrLevel = "string" == typeof req.responseType ? 2 : 1
                ;
                var src = null;
                if (
                    src = item.method == createjs.AbstractLoader.GET ? createjs.RequestUtils.buildPath(item.src, item.values
                    ) : item.src,
                    req.open(item.method || createjs.AbstractLoader.GET, src, !0),
                    crossdomain && req instanceof XMLHttpRequest && 1 == this._xhrLevel && (
                        headers.Origin = location.origin),
                    item.values && item.method == createjs.AbstractLoader.POST && (
                        headers["Content-Type"] = "application/x-www-form-urlencoded"),
                    crossdomain || headers["X-Requested-With"] || (
                        headers["X-Requested-With"] = "XMLHttpRequest"),
                    item.headers)
                    for (
                        var n in item.headers
                    ) headers[n] = item.headers[n];
                for (
                    n in headers
                ) req.setRequestHeader(n, headers[n])
                ;
                return req instanceof XMLHttpRequest && item.withCredentials !== undefined && (
                        req.withCredentials = item.withCredentials),
                    this._request = req,
                    !0
            },
            p._clean = function() {
                clearTimeout(this._loadTimeout),
                    this._request.removeEventListener("loadstart", this._handleLoadStartProxy),
                    this._request.removeEventListener("progress", this._handleProgressProxy),
                    this._request.removeEventListener("abort", this._handleAbortProxy),
                    this._request.removeEventListener("error", this._handleErrorProxy),
                    this._request.removeEventListener("timeout", this._handleTimeoutProxy),
                    this._request.removeEventListener("load", this._handleLoadProxy),
                    this._request.removeEventListener("readystatechange", this._handleReadyStateChangeProxy)
            },
            p.toString = function() {
                return "[PreloadJS XHRRequest]"
            },
            createjs.XHRRequest = createjs.promote(XHRRequest, "AbstractRequest")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function SoundLoader(loadItem, preferXHR) {
            this.AbstractMediaLoader_constructor(loadItem, preferXHR, createjs.AbstractLoader.SOUND),
                createjs.RequestUtils.isAudioTag(loadItem
                ) ? this._tag = loadItem : createjs.RequestUtils.isAudioTag(loadItem.src
                ) ? this._tag = loadItem : createjs.RequestUtils.isAudioTag(loadItem.tag) && (
                    this._tag = createjs.RequestUtils.isAudioTag(loadItem) ? loadItem : loadItem.src),
                null != this._tag && (
                    this._preferXHR = !1)
        }
        var p = createjs.extend(SoundLoader, createjs.AbstractMediaLoader)
        ;
        SoundLoader.canLoadItem = function(item) {
                return item.type == createjs.AbstractLoader.SOUND
            },
            p._createTag = function(src) {
                var tag = document.createElement("audio");
                return tag.autoplay = !1,
                    tag.preload = "none",
                    tag.src = src,
                    tag
            },
            createjs.SoundLoader = createjs.promote(SoundLoader, "AbstractMediaLoader")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function Sound() {
            throw "Sound cannot be instantiated"
        }
        function SoundChannel(src, max) {
            this.init(src, max)
        }
        var s = Sound;
        s.INTERRUPT_ANY = "any", s.INTERRUPT_EARLY = "early", s.INTERRUPT_LATE = "late", s.INTERRUPT_NONE = "none", s.PLAY_INITED = "playInited", s.PLAY_SUCCEEDED = "playSucceeded", s.PLAY_INTERRUPTED = "playInterrupted", s.PLAY_FINISHED = "playFinished", s.PLAY_FAILED = "playFailed", s.SUPPORTED_EXTENSIONS = ["mp3", "ogg", "mpeg", "wav", "m4a", "mp4", "aiff", "wma", "mid"], s.EXTENSION_MAP = {
                "m4a": "mp4"
            }, s.FILE_PATTERN = /^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/, s.defaultInterruptBehavior = s.INTERRUPT_NONE, s.alternateExtensions = [], s.activePlugin = null, s._pluginsRegistered = !1, s._lastID = 0, s._masterVolume = 1, s._masterMute = !1, s._instances = [], s._idHash = {}, s._preloadHash = {}, s.addEventListener = null, s.removeEventListener = null, s.removeAllEventListeners = null, s.dispatchEvent = null, s.hasEventListener = null, s._listeners = null, createjs.EventDispatcher.initialize(s), s.getPreloadHandlers = function() {
                return {
                    "callback": createjs.proxy(s.initLoad, s),
                    "types": ["sound"],
                    "extensions": s.SUPPORTED_EXTENSIONS
                }
            }, s._handleLoadComplete = function(event) {
                var src = event.target.getItem().src;
                if (s._preloadHash[src])
                    for (var i = 0, l = s._preloadHash[src].length; i < l; i++) {
                        var item = s._preloadHash[src][i];
                        if (s._preloadHash[src][i] = !0, s.hasEventListener("fileload"))(event = new createjs.Event("fileload")).src = item.src, event.id = item.id, event.data = item.data, event.sprite = item.sprite, s.dispatchEvent(event)
                    }
            }, s._handleLoadError = function(event) {
                var src = event.target.getItem().src;
                if (s._preloadHash[src])
                    for (var i = 0, l = s._preloadHash[src].length; i < l; i++) {
                        var item = s._preloadHash[src][i];
                        if (s._preloadHash[src][i] = !1, s.hasEventListener("fileerror"))(event = new createjs.Event("fileerror")).src = item.src, event.id = item.id, event.data = item.data, event.sprite = item.sprite, s.dispatchEvent(event)
                    }
            }, s._registerPlugin = function(plugin) {
                return !!plugin.isSupported() && (s.activePlugin = new plugin, !0)
            }, s.registerPlugins = function(plugins) {
                s._pluginsRegistered = !0;
                for (var i = 0, l = plugins.length; i < l; i++)
                    if (s._registerPlugin(plugins[i])) return !0;
                return !1
            }, s.initializeDefaultPlugins = function() {
                return null != s.activePlugin || !s._pluginsRegistered && !!s.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin])
            }, s.isReady = function() {
                return null != s.activePlugin
            }, s.getCapabilities = function() {
                return null == s.activePlugin ? null : s.activePlugin._capabilities
            }, s.getCapability = function(key) {
                return null == s.activePlugin ? null : s.activePlugin._capabilities[key]
            }, s.initLoad = function(loadItem) {
                return s._registerSound(loadItem)
            }, s._registerSound = function(loadItem) {
                if (!s.initializeDefaultPlugins()) return !1;
                var details = s._parsePath(loadItem.src);
                if (null == details) return !1;
                loadItem.src = details.src, loadItem.type = "sound";
                var data = loadItem.data,
                    numChannels = s.activePlugin.defaultNumChannels || null;
                if (null != data && (isNaN(data.channels) ? isNaN(data) || (numChannels = parseInt(data)) : numChannels = parseInt(data.channels), data.audioSprite))
                    for (var sp, i = data.audioSprite.length; i--;) sp = data.audioSprite[i], s._idHash[sp.id] = {
                        "src": loadItem.src,
                        "startTime": parseInt(sp.startTime),
                        "duration": parseInt(sp.duration)
                    };
                null != loadItem.id && (s._idHash[loadItem.id] = {
                    "src": loadItem.src
                });
                var loader = s.activePlugin.register(loadItem, numChannels);
                return SoundChannel.create(loadItem.src, numChannels), null != data && isNaN(data) ? loadItem.data.channels = numChannels || SoundChannel.maxPerChannel() : loadItem.data = numChannels || SoundChannel.maxPerChannel(), loader.type && (loadItem.type = loader.type), loader
            }, s.registerSound = function(src, id, data, basePath) {
                var loadItem = {
                    "src": src,
                    "id": id,
                    "data": data
                };
                src instanceof Object && (basePath = id, loadItem = src), loadItem = createjs.LoadItem.create(loadItem), null != basePath && (loadItem.src = basePath + src);
                var loader = s._registerSound(loadItem);
                if (!loader) return !1;
                if (s._preloadHash[loadItem.src] || (s._preloadHash[loadItem.src] = []), s._preloadHash[loadItem.src].push(loadItem), 1 == s._preloadHash[loadItem.src].length) loader.on("complete", createjs.proxy(this._handleLoadComplete, this)), loader.on("error", createjs.proxy(this._handleLoadError, this)), s.activePlugin.preload(loader);
                else if (1 == s._preloadHash[loadItem.src][0]) return !0;
                return loadItem
            }, s.registerSounds = function(sounds, basePath) {
                var returnValues = [];
                sounds.path && (basePath ? basePath += sounds.path : basePath = sounds.path);
                for (var i = 0, l = sounds.length; i < l; i++) returnValues[i] = createjs.Sound.registerSound(sounds[i].src, sounds[i].id, sounds[i].data, basePath);
                return returnValues
            }, s.registerManifest = function(manifest, basePath) {
                try {
                    console.log("createjs.Sound.registerManifest is deprecated, please use createjs.Sound.registerSounds.")
                } catch (error) {}
                return this.registerSounds(manifest, basePath)
            }, s.removeSound = function(src, basePath) {
                if (null == s.activePlugin) return !1;
                src instanceof Object && (src = src.src), src = s._getSrcById(src).src, null != basePath && (src = basePath + src);
                var details = s._parsePath(src);
                if (null == details) return !1;
                for (var prop in src = details.src, s._idHash) s._idHash[prop].src == src && delete s._idHash[prop];
                return SoundChannel.removeSrc(src), delete s._preloadHash[src], s.activePlugin.removeSound(src), !0
            }, s.removeSounds = function(sounds, basePath) {
                var returnValues = [];
                sounds.path && (basePath ? basePath += sounds.path : basePath = sounds.path);
                for (var i = 0, l = sounds.length; i < l; i++) returnValues[i] = createjs.Sound.removeSound(sounds[i].src, basePath);
                return returnValues
            }, s.removeManifest = function(manifest, basePath) {
                try {
                    console.log("createjs.Sound.removeManifest is deprecated, please use createjs.Sound.removeSounds.")
                } catch (error) {}
                return s.removeSounds(manifest, basePath)
            }, s.removeAllSounds = function() {
                s._idHash = {}, s._preloadHash = {}, SoundChannel.removeAll(), s.activePlugin && s.activePlugin.removeAllSounds()
            }, s.loadComplete = function(src) {
                if (!s.isReady()) return !1;
                var details = s._parsePath(src);
                return src = details ? s._getSrcById(details.src).src : s._getSrcById(src).src, 1 == s._preloadHash[src][0]
            }, s._parsePath = function(value) {
                "string" != typeof value && (value = value.toString());
                var match = value.match(s.FILE_PATTERN);
                if (null == match) return !1;
                for (var name = match[4], ext = match[5], c = s.getCapabilities(), i = 0; !c[ext];)
                    if (ext = s.alternateExtensions[i++], i > s.alternateExtensions.length) return null;
                return {
                    "name": name,
                    "src": value = value.replace("." + match[5], "." + ext),
                    "extension": ext
                }
            }, s.play = function(src, interrupt, delay, offset, loop, volume, pan, startTime, duration) {
                interrupt instanceof Object && (delay = interrupt.delay, offset = interrupt.offset, loop = interrupt.loop, volume = interrupt.volume, pan = interrupt.pan, startTime = interrupt.startTime, duration = interrupt.duration, interrupt = interrupt.interrupt);
                var instance = s.createInstance(src, startTime, duration);
                return s._playInstance(instance, interrupt, delay, offset, loop, volume, pan) || instance._playFailed(), instance
            }, s.createInstance = function(src, startTime, duration) {
                if (!s.initializeDefaultPlugins()) return new createjs.DefaultSoundInstance(src, startTime, duration);
                src = s._getSrcById(src);
                var details = s._parsePath(src.src),
                    instance = null;
                return null != details && null != details.src ? (SoundChannel.create(details.src), null == startTime && (startTime = src.startTime), instance = s.activePlugin.create(details.src, startTime, duration || src.duration)) : instance = new createjs.DefaultSoundInstance(src, startTime, duration), instance.uniqueId = s._lastID++, instance
            }, s.setVolume = function(value) {
                if (null == Number(value)) return !1;
                if (value = Math.max(0, Math.min(1, value)), s._masterVolume = value, !this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(value))
                    for (var instances = this._instances, i = 0, l = instances.length; i < l; i++) instances[i].setMasterVolume(value)
            }, s.getVolume = function() {
                return s._masterVolume
            }, s.setMute = function(value) {
                if (null == value) return !1;
                if (this._masterMute = value, !this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(value))
                    for (var instances = this._instances, i = 0, l = instances.length; i < l; i++) instances[i].setMasterMute(value);
                return !0
            }, s.getMute = function() {
                return this._masterMute
            }, s.stop = function() {
                for (var instances = this._instances, i = instances.length; i--;) instances[i].stop()
            }, s._playInstance = function(instance, interrupt, delay, offset, loop, volume, pan) {
                if (interrupt instanceof Object && (delay = interrupt.delay, offset = interrupt.offset, loop = interrupt.loop, volume = interrupt.volume, pan = interrupt.pan, interrupt = interrupt.interrupt), interrupt = interrupt || s.defaultInterruptBehavior, null == delay && (delay = 0), null == offset && (offset = instance.getPosition()), null == loop && (loop = instance.loop), null == volume && (volume = instance.volume), null == pan && (pan = instance.pan), 0 == delay) {
                    if (!s._beginPlaying(instance, interrupt, offset, loop, volume, pan)) return !1
                } else {
                    var delayTimeoutId = setTimeout(function() {
                        s._beginPlaying(instance, interrupt, offset, loop, volume, pan)
                    }, delay);
                    instance.delayTimeoutId = delayTimeoutId
                }
                return this._instances.push(instance), !0
            }, s._beginPlaying = function(instance, interrupt, offset, loop, volume, pan) {
                if (!SoundChannel.add(instance, interrupt)) return !1;
                if (instance._beginPlaying(offset, loop, volume, pan)) return !0;
                var index = createjs.indexOf(this._instances, instance);
                return -1 < index && this._instances.splice(index, 1), !1
            }, s._getSrcById = function(value) {
                return s._idHash[value] || {
                    "src": value
                }
            }, s._playFinished = function(instance) {
                SoundChannel.remove(instance);
                var index = createjs.indexOf(this._instances, instance); - 1 < index && this._instances.splice(index, 1)
            }, createjs.Sound = Sound,
            SoundChannel.channels = {},
            SoundChannel.create = function(src, max) {
                return null == SoundChannel.get(src) && (
                    SoundChannel.channels[src] = new SoundChannel(src, max), !0)
            },
            SoundChannel.removeSrc = function(src) {
                var channel = SoundChannel.get(src);
                return null != channel && (
                    channel._removeAll(),
                    delete SoundChannel.channels[src], !0)
            },
            SoundChannel.removeAll = function() {
                for (
                    var channel in SoundChannel.channels
                ) SoundChannel.channels[channel]._removeAll()
                ;
                SoundChannel.channels = {}
            },
            SoundChannel.add = function(instance, interrupt) {
                var channel = SoundChannel.get(instance.src)
                ;
                return null != channel && channel._add(instance, interrupt)
            },
            SoundChannel.remove = function(instance) {
                var channel = SoundChannel.get(instance.src);
                return null != channel && (
                    channel._remove(instance), !0)
            },
            SoundChannel.maxPerChannel = function() {
                return p.maxDefault
            },
            SoundChannel.get = function(src) {
                return SoundChannel.channels[src]
            }
        ;
        var p = SoundChannel.prototype;
        p.constructor = SoundChannel,
            p.src = null,
            p.max = null,
            p.maxDefault = 100,
            p.length = 0,
            p.init = function(src, max) {
                this.src = src,
                    this.max = max || this.maxDefault, -1 == this.max && (this.max = this.maxDefault),
                    this._instances = []
            },
            p._get = function(index) {
                return this._instances[index]
            },
            p._add = function(instance, interrupt) {
                return !!this._getSlot(interrupt, instance) && (
                    this._instances.push(instance),
                    this.length++, !0)
            },
            p._remove = function(instance) {
                var index = createjs.indexOf(this._instances, instance);
                return -1 != index && (
                    this._instances.splice(index, 1),
                    this.length--, !0)
            },
            p._removeAll = function() {
                for (
                    var i = this.length - 1; 0 <= i; i--
                ) this._instances[i].stop()
            },
            p._getSlot = function(interrupt) {
                var target, replacement;
                if (
                    interrupt != Sound.INTERRUPT_NONE && null == (replacement = this._get(0))
                ) return !0;
                for (
                    var i = 0, l = this.max; i < l; i++) {
                    if (
                        null == (target = this._get(i))
                    ) return !0;
                    if (
                        target.playState == Sound.PLAY_FINISHED || target.playState == Sound.PLAY_INTERRUPTED || target.playState == Sound.PLAY_FAILED) {
                        replacement = target;
                        break
                    }
                    interrupt != Sound.INTERRUPT_NONE && ((
                        interrupt == Sound.INTERRUPT_EARLY && target.getPosition() < replacement.getPosition() || interrupt == Sound.INTERRUPT_LATE && target.getPosition() > replacement.getPosition()) && (
                        replacement = target))
                }
                return null != replacement && (
                    replacement._interrupt(),
                    this._remove(replacement), !0)
            },
            p.toString = function() {
                return "[Sound SoundChannel]"
            }
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        var AbstractSoundInstance = function(src, startTime, duration, playbackResource) {
                this.EventDispatcher_constructor(),
                    this.src = src,
                    this.uniqueId = -1,
                    this.playState = null,
                    this.delayTimeoutId = null,
                    this._startTime = Math.max(0, startTime || 0),
                    this._volume = 1,
                    createjs.definePropertySupported && Object.defineProperty(this, "volume", {
                        "get": this.getVolume,
                        "set": this.setVolume
                    }),
                    this._pan = 0,
                    createjs.definePropertySupported && Object.defineProperty(this, "pan", {
                        "get": this.getPan,
                        "set": this.setPan
                    }),
                    this._duration = Math.max(0, duration || 0),
                    createjs.definePropertySupported && Object.defineProperty(this, "duration", {
                        "get": this.getDuration,
                        "set": this.setDuration
                    }),
                    this._playbackResource = null,
                    createjs.definePropertySupported && Object.defineProperty(this, "playbackResource", {
                        "get": this.getPlaybackResource,
                        "set": this.setPlaybackResource
                    }),
                    !1 !== playbackResource && !0 !== playbackResource && this.setPlaybackResource(playbackResource),
                    this._position = 0,
                    createjs.definePropertySupported && Object.defineProperty(this, "position", {
                        "get": this.getPosition,
                        "set": this.setPosition
                    }),
                    this._loop = 0,
                    createjs.definePropertySupported && Object.defineProperty(this, "loop", {
                        "get": this.getLoop,
                        "set": this.setLoop
                    }),
                    this._muted = !1,
                    createjs.definePropertySupported && Object.defineProperty(this, "muted", {
                        "get": this.getMuted,
                        "set": this.setMuted
                    }),
                    this._paused = !1,
                    createjs.definePropertySupported && Object.defineProperty(this, "paused", {
                        "get": this.getPaused,
                        "set": this.setPaused
                    })
            },
            p = createjs.extend(AbstractSoundInstance, createjs.EventDispatcher)
        ;
        p.play = function(interrupt, delay, offset, loop, volume, pan) {
                return this.playState == createjs.Sound.PLAY_SUCCEEDED ? (
                    interrupt instanceof Object && (
                        offset = interrupt.offset,
                        loop = interrupt.loop,
                        volume = interrupt.volume,
                        pan = interrupt.pan),
                    null != offset && this.setPosition(offset),
                    null != loop && this.setLoop(loop),
                    null != volume && this.setVolume(volume),
                    null != pan && this.setPan(pan), void(
                        this._paused && this.setPaused(!1))) : (
                    this._cleanUp(),
                    createjs.Sound._playInstance(this, interrupt, delay, offset, loop, volume, pan),
                    this)
            },
            p.pause = function() {
                return !this._paused && this.playState == createjs.Sound.PLAY_SUCCEEDED && (
                    this.setPaused(!0), !0)
            },
            p.resume = function() {
                return !!this._paused && (
                    this.setPaused(!1), !0)
            },
            p.stop = function() {
                return this._position = 0,
                    this._paused = !1,
                    this._handleStop(),
                    this._cleanUp(),
                    this.playState = createjs.Sound.PLAY_FINISHED,
                    this
            },
            p.destroy = function() {
                this._cleanUp(),
                    this.src = null,
                    this.playbackResource = null,
                    this.removeAllEventListeners()
            },
            p.toString = function() {
                return "[AbstractSoundInstance]"
            },
            p.getPaused = function() {
                return this._paused
            },
            p.setPaused = function(value) {
                if (!(
                        !0 !== value && !1 !== value || this._paused == value || 1 == value && this.playState != createjs.Sound.PLAY_SUCCEEDED)) return (
                        this._paused = value
                    ) ? this._pause(
                    ) : this._resume(),
                    clearTimeout(this.delayTimeoutId),
                    this
            },
            p.setVolume = function(value) {
                return value == this._volume || (
                    this._volume = Math.max(0, Math.min(1, value)),
                    this._muted || this._updateVolume()), this
            },
            p.getVolume = function() {
                return this._volume
            },
            p.setMute = function(value) {
                this.setMuted(value)
            },
            p.getMute = function() {
                return this._muted
            },
            p.setMuted = function(value) {
                if (!0 === value || !1 === value) return this._muted = value,
                    this._updateVolume(),
                    this
            },
            p.getMuted = function() {
                return this._muted
            },
            p.setPan = function(value) {
                return value == this._pan || (
                    this._pan = Math.max(-1, Math.min(1, value)),
                    this._updatePan()), this
            },
            p.getPan = function() {
                return this._pan
            },
            p.getPosition = function() {
                return this._paused || this.playState != createjs.Sound.PLAY_SUCCEEDED ? this._position : this._calculateCurrentPosition()
            },
            p.setPosition = function(value) {
                return this._position = Math.max(0, value),
                    this.playState == createjs.Sound.PLAY_SUCCEEDED && this._updatePosition(),
                    this
            },
            p.getDuration = function() {
                return this._duration
            },
            p.setDuration = function(value) {
                return value == this._duration || (
                    this._duration = Math.max(0, value || 0),
                    this._updateDuration()), this
            },
            p.setPlaybackResource = function(value) {
                return this._playbackResource = value,
                    0 == this._duration && this._setDurationFromSource(),
                    this
            },
            p.getPlaybackResource = function() {
                return this._playbackResource
            },
            p.getLoop = function() {
                return this._loop
            },
            p.setLoop = function(value) {
                null != this._playbackResource && (
                        0 != this._loop && 0 == value && this._removeLooping(value),
                        0 == this._loop && 0 != value && this._addLooping(value)),
                    this._loop = value
            },
            p._sendEvent = function(type) {
                var event = new createjs.Event(type);
                this.dispatchEvent(event)
            },
            p._cleanUp = function() {
                clearTimeout(this.delayTimeoutId),
                    this._handleCleanUp(),
                    this._paused = !1,
                    createjs.Sound._playFinished(this)
            },
            p._interrupt = function() {
                this._cleanUp(),
                    this.playState = createjs.Sound.PLAY_INTERRUPTED,
                    this._sendEvent("interrupted")
            },
            p._beginPlaying = function(offset, loop, volume, pan) {
                return this.setPosition(offset),
                    this.setLoop(loop),
                    this.setVolume(volume),
                    this.setPan(pan),
                    null != this._playbackResource && this._position < this._duration ? (
                        this._paused = !1,
                        this._handleSoundReady(),
                        this.playState = createjs.Sound.PLAY_SUCCEEDED,
                        this._sendEvent("succeeded"), !0) : (
                        this._playFailed(), !1)
            },
            p._playFailed = function() {
                this._cleanUp(),
                    this.playState = createjs.Sound.PLAY_FAILED,
                    this._sendEvent("failed")
            },
            p._handleSoundComplete = function() {
                if ((
                        this._position = 0
                    ) != this._loop) return this._loop--,
                    this._handleLoop(),
                    void this._sendEvent("loop")
                ;
                this._cleanUp(),
                    this.playState = createjs.Sound.PLAY_FINISHED,
                    this._sendEvent("complete")
            },
            p._handleSoundReady = function() {},
            p._updateVolume = function() {},
            p._updatePan = function() {},
            p._updateDuration = function() {},
            p._setDurationFromSource = function() {},
            p._calculateCurrentPosition = function() {},
            p._updatePosition = function() {},
            p._removeLooping = function() {},
            p._addLooping = function() {},
            p._pause = function() {},
            p._resume = function() {},
            p._handleStop = function() {},
            p._handleCleanUp = function() {},
            p._handleLoop = function() {},
            createjs.AbstractSoundInstance = createjs.promote(AbstractSoundInstance, "EventDispatcher"),
            createjs.DefaultSoundInstance = createjs.AbstractSoundInstance
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        var AbstractPlugin = function() {
                this._capabilities = null,
                    this._loaders = {},
                    this._audioSources = {},
                    this._soundInstances = {},
                    this._loaderClass,
                    this._soundInstanceClass
            },
            p = AbstractPlugin.prototype
        ;
        AbstractPlugin._capabilities = null,
            AbstractPlugin.isSupported = function() {
                return !0
            },
            p.register = function(loadItem) {
                if (
                    this._audioSources[loadItem.src] = !0,
                    this._soundInstances[loadItem.src] = [],
                    this._loaders[loadItem.src]) return this._loaders[loadItem.src]
                ;
                var loader = new this._loaderClass(loadItem);
                return loader.on("complete", createjs.proxy(this._handlePreloadComplete, this)),
                    this._loaders[loadItem.src] = loader
            },
            p.preload = function(loader) {
                loader.on("error", createjs.proxy(this._handlePreloadError, this)),
                    loader.load()
            },
            p.isPreloadStarted = function(src) {
                return null != this._audioSources[src]
            },
            p.isPreloadComplete = function(src) {
                return !(
                    null == this._audioSources[src] || 1 == this._audioSources[src])
            },
            p.removeSound = function(src) {
                if (
                    this._soundInstances[src]) {
                    for (
                        var i = this._soundInstances[src].length; i--;) {
                        this._soundInstances[src][i].destroy()
                    }
                    delete this._soundInstances[src],
                        delete this._audioSources[src],
                        this._loaders[src] && this._loaders[src].destroy(),
                        delete this._loaders[src]
                }
            },
            p.removeAllSounds = function() {
                for (
                    var key in this._audioSources
                ) this.removeSound(key)
            },
            p.create = function(src, startTime, duration) {
                this.isPreloadStarted(src) || this.preload(this.register(src))
                ;
                var si = new this._soundInstanceClass(src, startTime, duration, this._audioSources[src]);
                return this._soundInstances[src].push(si),
                    si
            },
            p.setVolume = function(value) {
                return this._volume = value,
                    this._updateVolume(), !0
            },
            p.getVolume = function() {
                return this._volume
            },
            p.setMute = function() {
                return this._updateVolume(), !0
            },
            p.toString = function() {
                return "[AbstractPlugin]"
            },
            p._handlePreloadComplete = function(event) {
                var src = event.target.getItem().src;
                this._audioSources[src] = event.result;
                for (
                    var i = 0, l = this._soundInstances[src].length; i < l; i++) {
                    this._soundInstances[src][i].setPlaybackResource(this._audioSources[src])
                }
            },
            p._handlePreloadError = function() {},
            p._updateVolume = function() {},
            createjs.AbstractPlugin = AbstractPlugin
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function Loader(loadItem) {
            this.AbstractLoader_constructor(loadItem, !0, createjs.AbstractLoader.SOUND)
        }
        var p = createjs.extend(Loader, createjs.AbstractLoader)
        ;
        Loader.context = null,
            p.toString = function() {
                return "[WebAudioLoader]"
            },
            p._createRequest = function() {
                this._request = new createjs.XHRRequest(this._item, !1),
                    this._request.setResponseType("arraybuffer")
            },
            p._sendComplete = function() {
                Loader.context.decodeAudioData(this._rawResult,
                    createjs.proxy(this._handleAudioDecoded, this),
                    createjs.proxy(this._handleError, this))
            },
            p._handleAudioDecoded = function(decodedAudio) {
                this._result = decodedAudio,
                    this.AbstractLoader__sendComplete()
            },
            createjs.WebAudioLoader = createjs.promote(Loader, "AbstractLoader")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function WebAudioSoundInstance(src, startTime, duration, playbackResource) {
            this.AbstractSoundInstance_constructor(src, startTime, duration, playbackResource),
                this.gainNode = s.context.createGain(),
                this.panNode = s.context.createPanner(),
                this.panNode.panningModel = s._panningModel,
                this.panNode.connect(this.gainNode),
                this.sourceNode = null,
                this._soundCompleteTimeout = null,
                this._sourceNodeNext = null,
                this._playbackStartTime = 0,
                this._endedHandler = createjs.proxy(this._handleSoundComplete, this)
        }
        var p = createjs.extend(WebAudioSoundInstance, createjs.AbstractSoundInstance),
            s = WebAudioSoundInstance
        ;
        s.context = null,
            s.destinationNode = null,
            s._panningModel = "equalpower",
            p.destroy = function() {
                this.AbstractSoundInstance_destroy(),
                    this.panNode.disconnect(0),
                    this.panNode = null,
                    this.gainNode.disconnect(0),
                    this.gainNode = null
            },
            p.toString = function() {
                return "[WebAudioSoundInstance]"
            },
            p._updatePan = function() {
                this.panNode.setPosition(this._pan, 0, -.5)
            },
            p._removeLooping = function() {
                this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)
            },
            p._addLooping = function() {
                this.playState == createjs.Sound.PLAY_SUCCEEDED && (
                    this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0))
            },
            p._setDurationFromSource = function() {
                this._duration = 1e3 * this.playbackResource.duration
            },
            p._handleCleanUp = function() {
                this.sourceNode && this.playState == createjs.Sound.PLAY_SUCCEEDED && (
                        this.sourceNode = this._cleanUpAudioNode(this.sourceNode),
                        this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)),
                    0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0),
                    clearTimeout(this._soundCompleteTimeout),
                    this._playbackStartTime = 0
            },
            p._cleanUpAudioNode = function(audioNode) {
                return audioNode && (
                        audioNode.stop(0),
                        audioNode.disconnect(0),
                        audioNode = null),
                    audioNode
            },
            p._handleSoundReady = function() {
                this.gainNode.connect(s.destinationNode)
                ;
                var dur = .001 * this._duration,
                    pos = .001 * this._position;
                this.sourceNode = this._createAndPlayAudioNode(s.context.currentTime - dur, pos),
                    this._playbackStartTime = this.sourceNode.startTime - pos,
                    this._soundCompleteTimeout = setTimeout(this._endedHandler, 1e3 * (dur - pos)),
                    0 != this._loop && (
                        this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0))
            },
            p._createAndPlayAudioNode = function(startTime, offset) {
                var audioNode = s.context.createBufferSource();
                audioNode.buffer = this.playbackResource,
                    audioNode.connect(this.panNode);
                var dur = .001 * this._duration;
                return audioNode.startTime = startTime + dur,
                    audioNode.start(audioNode.startTime, offset + .001 * this._startTime, dur - offset),
                    audioNode
            },
            p._pause = function() {
                this._position = 1e3 * (s.context.currentTime - this._playbackStartTime),
                    this.sourceNode = this._cleanUpAudioNode(this.sourceNode),
                    this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext),
                    0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0),
                    clearTimeout(this._soundCompleteTimeout)
            },
            p._resume = function() {
                this._handleSoundReady()
            },
            p._updateVolume = function() {
                var newVolume = this._muted ? 0 : this._volume;
                newVolume != this.gainNode.gain.value && (
                    this.gainNode.gain.value = newVolume)
            },
            p._calculateCurrentPosition = function() {
                return 1e3 * (s.context.currentTime - this._playbackStartTime)
            },
            p._updatePosition = function() {
                this.sourceNode = this._cleanUpAudioNode(this.sourceNode),
                    this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext),
                    clearTimeout(this._soundCompleteTimeout),
                    this._paused || this._handleSoundReady()
            },
            p._handleLoop = function() {
                this._cleanUpAudioNode(this.sourceNode),
                    this.sourceNode = this._sourceNodeNext,
                    this._playbackStartTime = this.sourceNode.startTime,
                    this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0),
                    this._soundCompleteTimeout = setTimeout(this._endedHandler, this._duration)
            },
            p._updateDuration = function() {
                this._pause(),
                    this._resume()
            },
            createjs.WebAudioSoundInstance = createjs.promote(WebAudioSoundInstance, "AbstractSoundInstance")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function WebAudioPlugin() {
            this.AbstractPlugin_constructor(),
                this._panningModel = s._panningModel,
                this._volume = 1,
                this.context = s.context,
                this.dynamicsCompressorNode = this.context.createDynamicsCompressor(),
                this.dynamicsCompressorNode.connect(this.context.destination),
                this.gainNode = this.context.createGain(),
                this.gainNode.connect(this.dynamicsCompressorNode),
                createjs.WebAudioSoundInstance.destinationNode = this.gainNode,
                this._capabilities = s._capabilities,
                this._loaderClass = createjs.WebAudioLoader,
                this._soundInstanceClass = createjs.WebAudioSoundInstance,
                this._addPropsToClasses()
        }
        var p = createjs.extend(WebAudioPlugin, createjs.AbstractPlugin),
            s = WebAudioPlugin
        ;
        s._capabilities = null,
            s._panningModel = "equalpower",
            s.context = null,
            s.isSupported = function() {
                var isMobilePhoneGap = createjs.BrowserDetect.isIOS || createjs.BrowserDetect.isAndroid || createjs.BrowserDetect.isBlackberry;
                return !(
                    "file:" == location.protocol && !isMobilePhoneGap && !this._isFileXHRSupported()) && (
                    s._generateCapabilities(),
                    null != s.context)
            },
            s.playEmptySound = function() {
                var source = s.context.createBufferSource();
                source.buffer = s.context.createBuffer(1, 1, 22050),
                    source.connect(s.context.destination),
                    source.start(0, 0, 0)
            },
            s._isFileXHRSupported = function() {
                var supported = !0,
                    xhr = new XMLHttpRequest;
                try {
                    xhr.open("GET", "WebAudioPluginTest.fail", !1)
                } catch (
                    error) {
                    return supported = !1
                }
                xhr.onerror = function() {
                        supported = !1
                    },
                    xhr.onload = function() {
                        supported = 404 == this.status || 200 == this.status || 0 == this.status && "" != this.response
                    };
                try {
                    xhr.send()
                } catch (
                    error) {
                    supported = !1
                }
                return supported
            },
            s._generateCapabilities = function() {
                if (
                    null == s._capabilities) {
                    var t = document.createElement("audio");
                    if (
                        null == t.canPlayType) return null;
                    if (
                        null == s.context)
                        if (
                            window.AudioContext
                        ) s.context = new AudioContext;
                        else {
                            if (!window.webkitAudioContext
                            ) return null;
                            s.context = new webkitAudioContext
                        }
                    s._compatibilitySetUp(),
                        s.playEmptySound(),
                        s._capabilities = {
                            "panning": !0,
                            "volume": !0,
                            "tracks": -1
                        };
                    for (
                        var supportedExtensions = createjs.Sound.SUPPORTED_EXTENSIONS,
                            extensionMap = createjs.Sound.EXTENSION_MAP,
                            i = 0, l = supportedExtensions.length; i < l; i++) {
                        var ext = supportedExtensions[i],
                            playType = extensionMap[ext] || ext;
                        s._capabilities[ext] = "no" != t.canPlayType("audio/" + ext) && "" != t.canPlayType("audio/" + ext) || "no" != t.canPlayType("audio/" + playType) && "" != t.canPlayType("audio/" + playType)
                    }
                    s.context.destination.numberOfChannels < 2 && (
                        s._capabilities.panning = !1)
                }
            },
            s._compatibilitySetUp = function() {
                if (
                    s._panningModel = "equalpower",
                    !s.context.createGain) {
                    s.context.createGain = s.context.createGainNode
                    ;
                    var audioNode = s.context.createBufferSource();
                    audioNode.__proto__.start = audioNode.__proto__.noteGrainOn,
                        audioNode.__proto__.stop = audioNode.__proto__.noteOff,
                        s._panningModel = 0
                }
            },
            p.toString = function() {
                return "[WebAudioPlugin]"
            },
            p._addPropsToClasses = function() {
                var c = this._soundInstanceClass;
                c.context = this.context,
                    c.destinationNode = this.gainNode,
                    c._panningModel = this._panningModel,
                    this._loaderClass.context = this.context
            },
            p._updateVolume = function() {
                var newVolume = createjs.Sound._masterMute ? 0 : this._volume;
                newVolume != this.gainNode.gain.value && (
                    this.gainNode.gain.value = newVolume)
            },
            createjs.WebAudioPlugin = createjs.promote(WebAudioPlugin, "AbstractPlugin")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function TagPool(src) {
            this.src = src,
                this.length = 0,
                this.available = 0,
                this.tags = [],
                this.duration = 0
        }
        var p = TagPool.prototype,
            s = p.constructor = TagPool
        ;
        s.tags = {},
            s.get = function(src) {
                var channel = s.tags[src];
                return null == channel && (
                        channel = s.tags[src] = new TagPool(src)),
                    channel
            },
            s.remove = function(src) {
                var channel = s.tags[src];
                return null != channel && (
                    channel.removeAll(),
                    delete s.tags[src], !0)
            },
            s.getInstance = function(src) {
                var channel = s.tags[src]
                ;
                return null == channel ? null : channel.get()
            },
            s.setInstance = function(src, tag) {
                var channel = s.tags[src]
                ;
                return null == channel ? null : channel.set(tag)
            },
            s.getDuration = function(src) {
                var channel = s.tags[src]
                ;
                return null == channel ? 0 : channel.getDuration()
            },
            p.add = function(tag) {
                this.tags.push(tag),
                    this.length++,
                    this.available++
            },
            p.removeAll = function() {
                for (
                    var tag; this.length--;)(
                        tag = this.tags[this.length]
                    ).parentNode && tag.parentNode.removeChild(tag),
                    delete this.tags[this.length]
                ;
                this.src = null,
                    this.tags.length = 0
            },
            p.get = function() {
                if (
                    0 == this.tags.length) return null;
                this.available = this.tags.length;
                var tag = this.tags.pop();
                return null == tag.parentNode && document.body.appendChild(tag),
                    tag
            },
            p.set = function(tag) {
                -1 == createjs.indexOf(this.tags, tag) && this.tags.push(tag),
                    this.available = this.tags.length
            },
            p.getDuration = function() {
                return this.duration || (this.duration = 1e3 * this.tags[this.tags.length - 1].duration),
                    this.duration
            },
            p.toString = function() {
                return "[HTMLAudioTagPool]"
            },
            createjs.HTMLAudioTagPool = TagPool
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function HTMLAudioSoundInstance(src, startTime, duration, playbackResource) {
            this.AbstractSoundInstance_constructor(src, startTime, duration, playbackResource),
                this._audioSpriteStopTime = null,
                this._delayTimeoutId = null,
                this._endedHandler = createjs.proxy(this._handleSoundComplete, this),
                this._readyHandler = createjs.proxy(this._handleTagReady, this),
                this._stalledHandler = createjs.proxy(this.playFailed, this),
                this._audioSpriteEndHandler = createjs.proxy(this._handleAudioSpriteLoop, this),
                this._loopHandler = createjs.proxy(this._handleSoundComplete, this),
                duration ? this._audioSpriteStopTime = .001 * (startTime + duration
                ) : this._duration = createjs.HTMLAudioTagPool.getDuration(this.src)
        }
        var p = createjs.extend(HTMLAudioSoundInstance, createjs.AbstractSoundInstance)
        ;
        p.setMasterVolume = function() {
                this._updateVolume()
            },
            p.setMasterMute = function() {
                this._updateVolume()
            },
            p.toString = function() {
                return "[HTMLAudioSoundInstance]"
            },
            p._removeLooping = function() {
                null != this._playbackResource && (
                    this._playbackResource.loop = !1,
                    this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
            },
            p._addLooping = function() {
                null == this._playbackResource || this._audioSpriteStopTime || (
                    this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1),
                    this._playbackResource.loop = !0)
            },
            p._handleCleanUp = function() {
                var tag = this._playbackResource;
                if (
                    null != tag) {
                    tag.pause(),
                        tag.loop = !1,
                        tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1),
                        tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1),
                        tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1),
                        tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1),
                        tag.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1);
                    try {
                        tag.currentTime = this._startTime
                    } catch (
                        e) {}
                    createjs.HTMLAudioTagPool.setInstance(this.src, tag),
                        this._playbackResource = null
                }
            },
            p._beginPlaying = function(offset, loop, volume, pan) {
                return this._playbackResource = createjs.HTMLAudioTagPool.getInstance(this.src),
                    this.AbstractSoundInstance__beginPlaying(offset, loop, volume, pan)
            },
            p._handleSoundReady = function() {
                if (
                    4 !== this._playbackResource.readyState) {
                    var tag = this._playbackResource;
                    return tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1),
                        tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1),
                        tag.preload = "auto",
                        void tag.load()
                }
                this._updateVolume(),
                    this._playbackResource.currentTime = .001 * (this._startTime + this._position),
                    this._audioSpriteStopTime ? this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1) : (
                        this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1),
                        0 != this._loop && (
                            this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1),
                            this._playbackResource.loop = !0)),
                    this._playbackResource.play()
            },
            p._handleTagReady = function() {
                this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1),
                    this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1),
                    this._handleSoundReady()
            },
            p._pause = function() {
                this._playbackResource.pause()
            },
            p._resume = function() {
                this._playbackResource.play()
            },
            p._updateVolume = function() {
                if (
                    null != this._playbackResource) {
                    var newVolume = this._muted || createjs.Sound._masterMute ? 0 : this._volume * createjs.Sound._masterVolume;
                    newVolume != this._playbackResource.volume && (this._playbackResource.volume = newVolume)
                }
            },
            p._calculateCurrentPosition = function() {
                return 1e3 * this._playbackResource.currentTime - this._startTime
            },
            p._updatePosition = function() {
                this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1),
                    this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1);
                try {
                    this._playbackResource.currentTime = .001 * (this._position + this._startTime)
                } catch (
                    error) {
                    this._handleSetPositionSeek(null)
                }
            },
            p._handleSetPositionSeek = function() {
                null != this._playbackResource && (
                    this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1),
                    this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
            },
            p._handleAudioSpriteLoop = function() {
                this._playbackResource.currentTime <= this._audioSpriteStopTime || (
                    this._playbackResource.pause(),
                    0 == this._loop ? this._handleSoundComplete(null) : (
                        this._position = 0,
                        this._loop--,
                        this._playbackResource.currentTime = .001 * this._startTime,
                        this._paused || this._playbackResource.play(),
                        this._sendEvent("loop")))
            },
            p._handleLoop = function() {
                0 == this._loop && (
                    this._playbackResource.loop = !1,
                    this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
            },
            p._updateDuration = function() {
                this._audioSpriteStopTime = .001 * (startTime + duration),
                    this.playState == createjs.Sound.PLAY_SUCCEEDED && (
                        this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1),
                        this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1))
            },
            createjs.HTMLAudioSoundInstance = createjs.promote(HTMLAudioSoundInstance, "AbstractSoundInstance")
    }(),
    this.createjs = this.createjs || {},
    function() {
        "use strict"
        ;
        function HTMLAudioPlugin() {
            this.AbstractPlugin_constructor(),
                this.defaultNumChannels = 2,
                this._capabilities = s._capabilities,
                this._loaderClass = createjs.SoundLoader,
                this._soundInstanceClass = createjs.HTMLAudioSoundInstance
        }
        var p = createjs.extend(HTMLAudioPlugin, createjs.AbstractPlugin),
            s = HTMLAudioPlugin
        ;
        s.MAX_INSTANCES = 30,
            s._AUDIO_READY = "canplaythrough",
            s._AUDIO_ENDED = "ended",
            s._AUDIO_SEEKED = "seeked",
            s._AUDIO_STALLED = "stalled",
            s._TIME_UPDATE = "timeupdate",
            s._capabilities = null,
            s.enableIOS = !1,
            s.isSupported = function() {
                return s._generateCapabilities(),
                    null != s._capabilities
            },
            s._generateCapabilities = function() {
                if (
                    null == s._capabilities) {
                    var t = document.createElement("audio");
                    if (
                        null == t.canPlayType) return null
                    ;
                    s._capabilities = {
                        "panning": !0,
                        "volume": !0,
                        "tracks": -1
                    };
                    for (
                        var supportedExtensions = createjs.Sound.SUPPORTED_EXTENSIONS,
                            extensionMap = createjs.Sound.EXTENSION_MAP,
                            i = 0, l = supportedExtensions.length; i < l; i++) {
                        var ext = supportedExtensions[i],
                            playType = extensionMap[ext] || ext;
                        s._capabilities[ext] = "no" != t.canPlayType("audio/" + ext) && "" != t.canPlayType("audio/" + ext) || "no" != t.canPlayType("audio/" + playType) && "" != t.canPlayType("audio/" + playType)
                    }
                }
            },
            p.register = function(loadItem, instances) {
                for (
                    var channel = createjs.HTMLAudioTagPool.get(loadItem.src),
                        tag = null,
                        i = 0; i < instances; i++
                ) tag = this._createTag(loadItem.src),
                    channel.add(tag)
                ;
                var loader = this.AbstractPlugin_register(loadItem, instances);
                return loader.setTag(tag),
                    loader
            },
            p.removeSound = function(src) {
                this.AbstractPlugin_removeSound(src),
                    createjs.HTMLAudioTagPool.remove(src)
            },
            p.create = function(src, startTime, duration) {
                var si = this.AbstractPlugin_create(src, startTime, duration);
                return si.setPlaybackResource(null),
                    si
            },
            p.toString = function() {
                return "[HTMLAudioPlugin]"
            },
            p.setVolume = p.getVolume = p.setMute = null,
            p._createTag = function(src) {
                var tag = document.createElement("audio");
                return tag.autoplay = !1,
                    tag.preload = "none",
                    tag.src = src,
                    tag
            },
            createjs.HTMLAudioPlugin = createjs.promote(HTMLAudioPlugin, "AbstractPlugin")
    }(),
    function() {
        Hs.EnvironmentSettings = function() {
            function EnvironmentSettings(default_locale, locale, current_currency) {
                this.default_locale = default_locale,
                    this.locale = locale,
                    this.current_currency = current_currency,
                    this.load()
            }
            return EnvironmentSettings.prototype.currencies = function() {
                    return Hs.CurrencyLocaliser.get(this.current_currency),
                        new Hs.CurrencySelector("#currency-selector select#currency", $("#currency-selector .placeholder"))
                },
                EnvironmentSettings.prototype.locales = function() {
                    return I18n.defaultLocale = this.default_locale,
                        I18n.locale = this.locale,
                        I18n.fallbacks = !0,
                        moment.lang(this.locale.toLowerCase())
                },
                EnvironmentSettings.prototype.datepickers = function() {
                    return $.fn.datepicker.DPGlobal.formatDate = Hs.Util.Date.formatUTCDate,
                        $.fn.datepicker.DPGlobal.parseDate = Hs.Util.Date.parseDate,
                        $.fn.datepicker.DPGlobal.parseFormat = function() {
                            return Hs.Util.Date.HOMESTAY_FORMAT
                        }
                },
                EnvironmentSettings.prototype.load = function() {
                    return this.locales(),
                        this.currencies(),
                        this.datepickers()
                },
                EnvironmentSettings
        }()
    }.call(
        this),
    function(
        window, document, $, undefined) {
        "use strict"
        ;
        function init(el, options) {
            if (
                this.el = el,
                this.$el = $(el),
                !this.$el.length || !this.$el.is("form")
            ) throw new Error("validatr needs a form to work.")
            ;
            this.isSubmit = !1,
                this.firstError = !1,
                this.options = $.extend({}, $.fn.validatr.defaultOptions, options),
                this.template = function(options) {
                    var template = $(options.template).addClass("validatr-message")
                    ;
                    return options.theme.length ? template.addClass(theme[options.theme] || options.theme
                        ) : template.css(inlineStyles),
                        template[0].outerHTML
                }(
                    this.options),
                this.option = function(key, value) {
                    return arguments.length ? value === undefined ? this.options[key] === undefined ? null : this.options[key] : void(
                        this.options[key] = value) : $.extend({}, this.options)
                },
                this.formElements = this.getElements(this.el).on(
                    "valid.validatr", $.proxy(validElement, this)).on(
                    "invalid.validatr", $.proxy(invalidElement, this)),
                this.el.noValidate = !0,
                this.$el.on("submit.validatr", $.proxy(submitForm, this)),
                this.$el.on("reset.validatr", $.proxy(resetForm, this))
        }
        function bindElements() {
            this.formElements.on({
                    "focus.validatrelement": bindEvents,
                    "blur.validatrelement": unbindEvents
                }),
                $("input[type=radio], input[type=checkbox]").on("click.validatrelement", function(e) {
                    validateElement(e.target)
                })
        }
        function unbindElements() {
            this.formElements.off(".validatrelement")
        }
        function bindEvents(e) {
            var target = e.target,
                $target = $(target)
            ;
            "select" === target.nodeName.toLowerCase() && $target.on("change.validatrinput", function() {
                    setTimeout(function() {
                            validateElement(target)
                        },
                        1)
                }),
                $target.on({
                    "blur.validatrinput": function() {
                        validateElement(target)
                    },
                    "keyup.validatrinput": function(
                        event) {
                        target.value.length && -1 === $.inArray(keyCodes, event.keyCode) && validateElement(target)
                    }
                })
        }
        function unbindEvents(e) {
            $(e.target).off(".validatrinput")
        }
        function validateElement(element) {
            if (
                "radio" === element.type) {
                var radio = $(document.getElementsByName(element.name)).filter("[required]");
                radio.length && (
                    element = radio[0])
            }
            var $element = $(element),
                type = filters.notInput.test(element.nodeName) ? element.nodeName.toLowerCase() : element.getAttribute("type"),
                required = Support.attributes.required ? element.required : $(element).is("[required]"),
                check = {
                    "valid": !0,
                    "message": ""
                };
            if (
                Support.inputtypes[type] ? (
                    check.valid = element.validity.valid,
                    check.message = element.validationMessage) : (
                    required && (
                        check = Tests.required(element)),
                    check.valid && element.value.length && !filters.boxes.test(type) && (
                        element.pattern && (
                            type = "pattern"),
                        Tests[type] && (
                            check = Tests[type](element)))),
                check.valid)
                for (
                    var test in CustomTests)
                    if (
                        CustomTests.hasOwnProperty(test) && $element.is("[data-" + test + "]") && !(
                            check = CustomTests[test](element)
                        ).valid
                    ) break
                    ;
            return check.valid ? (
                $element.trigger("valid"), !0) : (
                $.data(element, "validationMessage", check.message),
                $element.trigger("invalid"),
                !1)
        }
        function validateForm(elements) {
            var valid = !0
            ;
            return elements.each(function(i, element) {
                    validateElement(element) || (
                        valid = !1)
                }),
                valid
        }
        function submitForm() {
            this.isSubmit = !0,
                resetForm.call(this);
            var valid = validateForm(this.formElements)
            ;
            return valid ? this.options.valid.call(this.el, this.el) : (
                bindElements.call(this),
                this.isSubmit = !1,
                valid)
        }
        function resetForm() {
            unbindElements.call(this),
                this.firstError = !1,
                this.formElements.next(".validatr-message").remove()
        }
        function invalidElement(e) {
            if (
                !supressError) {
                e.preventDefault()
                ;
                var target = e.target,
                    $target = $(target),
                    options = this.options,
                    msg = target.getAttribute("data-message") || $.data(target, "validationMessage"),
                    error = $(this.template.replace("{{message}}", msg));
                if (
                    this.isSubmit && !this.firstError
                ) return this.firstError = $target.after(error),
                    void options.position.call(this, error, $target)
                ;
                this.isSubmit && !options.showall || (
                    validElement(e),
                    $target.after(error),
                    options.position.call(this, error, $target))
            }
        }
        function validElement(e) {
            supressError || $(e.target).next(".validatr-message").remove()
        }
        function position(error, $target) {
            error.css("position", "absolute")
            ;
            var offset = $target.offset(),
                location = $target[0].getAttribute("data-location") || this.options.location
            ;
            filters.topbottom.test(location) ? (
                error.offset({
                    "left": offset.left
                }),
                "top" === location && error.offset({
                    "top": offset.top - error.outerHeight() - 2
                }),
                "bottom" === location && error.offset({
                    "top": offset.top + error.outerHeight()
                })
            ) : filters.leftright.test(location) && (
                error.offset({
                    "top": offset.top + $target.outerHeight() / 2 - error.outerHeight() / 2
                }),
                "left" === location && error.offset({
                    "left": offset.left - error.outerWidth() - 2
                }),
                "right" === location && error.offset({
                    "left": offset.left + $target.outerWidth() + 2
                }))
        }
        var rules, utils, minMax, Support = function() {
                var testElem, Support = {},
                    docElement = document.documentElement,
                    inputElem = document.createElement("input"),
                    selectElem = document.createElement("select"),
                    textareaElem = document.createElement("textarea"),
                    smile = ":)",
                    inputs = {},
                    attrs = {};
                return Support.attributes = function(props) {
                        for (var i = 0, len = props.length; i < len; i++) attrs[props[i]] = !!(props[i] in inputElem);
                        return attrs
                    }("max min multiple pattern required step".split(" ")), Support.inputtypes = function(props) {
                        for (var bool, inputElemType, defaultView, i = 0, len = props.length; i < len; i++) inputElem.setAttribute("type", inputElemType = props[i]), (bool = "text" !== inputElem.type) && (inputElem.value = smile, inputElem.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined ? (docElement.appendChild(inputElem), bool = (defaultView = document.defaultView).getComputedStyle && "textfield" !== defaultView.getComputedStyle(inputElem, null).WebkitAppearance && 0 !== inputElem.offsetHeight, docElement.removeChild(inputElem)) : /^(search|tel)$/.test(inputElemType) || (bool = /^(url|email)$/.test(inputElemType) ? inputElem.checkValidity && !1 === inputElem.checkValidity() : inputElem.value !== smile)), inputs[props[i]] = !!bool;
                        return inputs
                    }("search tel url email datetime date month week time datetime-local number range color".split(" ")),
                    function(props) {
                        for (var i = 0, len = props.length; i < len; i++) {
                            testElem = inputElem;
                            try {
                                testElem.setAttribute("type", props[i])
                            } catch (e) {
                                testElem = document.createElement('<input type="' + props[i] + '">')
                            }
                            testElem.style.cssText = "position:absolute;visibility:hidden;", Support.inputtypes[props[i]] = !!testElem.checkValidity
                        }
                    }("text password radio checkbox".split(" ")), Support.inputtypes.select = !!selectElem.checkValidity, Support.inputtypes.textarea = !!textareaElem.checkValidity, textareaElem = selectElem = testElem = inputElem = null, Support
            }(),
            Format = function() {
                function indexOf(array, value) {
                    for (var index = -1, length = array ? array.length : 0; ++index < length;)
                        if (array[index] === value) return index;
                    return -1
                }
                function parseDate(element) {
                    var format = element.getAttribute("data-format") || $.fn.validatr.defaultOptions.dateFormat,
                        split = format.split(utils.separatorsNoGroup),
                        dateSplit = element.value.split(utils.separatorsNoGroup),
                        isoSplit = "yyyy-mm-dd".split("-"),
                        rule = format.replace(utils.separators, "\\$1").replace("yyyy", utils.dateParts.yyyy).replace("mm", utils.dateParts.mm).replace("dd", utils.dateParts.dd),
                        index = -1,
                        length = isoSplit.length,
                        iso = [];
                    if (!(rule = new RegExp(rule)).test(element.value)) return !1;
                    for (; ++index < length;) iso[index] = dateSplit[indexOf(split, isoSplit[index])];
                    return parseISODate(iso.join("-"))
                }
                function parseISODate(dateString) {
                    if (!rules.isoDate.test(dateString)) return !1;
                    var date = rules.isoDate.exec(dateString);
                    return new Date(parseInt(date[1], 10), parseInt(date[2], 10) - 1, parseInt(date[3], 10))
                }
                function formatISODate(dateObj, element) {
                    function pad(n) {
                        return n < 10 ? "0" + n : n
                    }
                    var date = pad(dateObj.getDate()),
                        month = pad(dateObj.getMonth() + 1),
                        year = dateObj.getFullYear();
                    return (element.getAttribute("data-format") || $.fn.validatr.defaultOptions.dateFormat).replace("mm", month).replace("yyyy", year).replace("dd", date)
                }
                var rules = {
                        "isoDate": /^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/
                    },
                    utils = {
                        "separators": /(\/|\-|\.)/g,
                        "separatorsNoGroup": /\/|\-|\./g,
                        "dateParts": {
                            "dd": "(0[1-9]|[12][0-9]|3[01])",
                            "mm": "(0[1-9]|1[012])",
                            "yyyy": "(\\d{4})"
                        }
                    };
                return {
                    "formatISODate": formatISODate,
                    "parseDate": parseDate,
                    "parseISODate": parseISODate
                }
            }(),
            Tests = (rules = {
                "color": /^#[0-9A-F]{6}$/i,
                "email": /^[a-zA-Z0-9.!#$%&\u2019*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*$/,
                "isoDate": /^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,
                "number": /^-?\d*\.?\d*$/,
                "time": /^([01][0-9]|2[0-3])(:([0-5][0-9])){2}$/,
                "url": /^\s*https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?\s*$/
            }, utils = {
                "boxes": /checkbox|radio/i,
                "spaces": /,\s*/
            }, minMax = function(value, min, max, step, type) {
                var result = !0,
                    msg = $.validatr.messages.range.base,
                    minString = min,
                    maxString = max;
                return "date" === type && (minString = min && Format.formatISODate(min, this), maxString = max && Format.formatISODate(max, this)), !1 !== value && (!1 !== step && (result = "any" === step || (value - min) % step == 0, msg = $.validatr.messages.range.invalid), result && (!1 !== min && !1 !== max ? (result = min <= value && value <= max, msg = $.validatr.messages.range.overUnder) : !1 !== min ? (result = min <= value, msg = $.validatr.messages.range.overflow) : !1 !== max && (result = value <= max, msg = $.validatr.messages.range.underflow))), {
                    "valid": !1 !== value && result,
                    "message": msg.replace("{{type}}", type).replace("{{min}}", minString).replace("{{max}}", maxString)
                }
            }, {
                "checkbox": function(element) {
                    return {
                        "valid": element.checked,
                        "message": $.validatr.messages.checkbox
                    }
                },
                "color": function(element) {
                    return {
                        "valid": rules.color.test(element.value),
                        "message": $.validatr.messages.color
                    }
                },
                "date": function(element) {
                    var $element = $(element),
                        value = Support.inputtypes.date ? Format.parseISODate(element.value) : Format.parseDate(element),
                        min = !!$element.attr("min") && Format.parseISODate($element.attr("min")),
                        max = !!$element.attr("max") && Format.parseISODate($element.attr("max")),
                        step = !1;
                    return minMax.call(element, value, min, max, step, "date")
                },
                "email": function(element) {
                    var valid = !0,
                        msg = $.validatr.messages.email.single;
                    if (Support.attributes.multiple ? element.multiple : $(element).is("[multiple]")) {
                        var values = element.value.split(utils.spaces);
                        $.each(values, function(i, value) {
                            if (!rules.email.test(value)) return valid = !1, void(msg = $.validatr.messages.email.multiple)
                        })
                    } else valid = rules.email.test(element.value);
                    return {
                        "valid": valid,
                        "message": msg
                    }
                },
                "number": function(element) {
                    var value = element.value.replace(",", ""),
                        min = (!!rules.number.test(value) && parseFloat(value), !!rules.number.test(element.getAttribute("min")) && parseFloat(element.getAttribute("min"))),
                        max = !!rules.number.test(element.getAttribute("max")) && parseFloat(element.getAttribute("max")),
                        step = rules.number.test(element.getAttribute("step")) ? parseFloat(element.getAttribute("step")) : "any" === element.getAttribute("step") && "any";
                    return (!1 === step || step <= 0) && (step = 1), minMax.call(element, value, min, max, step, "number")
                },
                "pattern": function(element) {
                    return {
                        "valid": new RegExp(element.getAttribute("pattern")).test(element.value),
                        "message": $.validatr.messages.pattern
                    }
                },
                "radio": function(element) {
                    return {
                        "valid": $(document.getElementsByName(element.name)).is(":checked"),
                        "message": $.validatr.messages.radio
                    }
                },
                "range": function(element) {
                    return this.number(element)
                },
                "required": function(element) {
                    return utils.boxes.test(element.type) ? this[element.type](element) : {
                        "valid": !!element.value.length,
                        "message": "select" === element.nodeName.toLowerCase() ? $.validatr.messages.select : $.validatr.messages.required
                    }
                },
                "time": function(element) {
                    return {
                        "valid": rules.time.test(element.value),
                        "message": $.validatr.messages.time
                    }
                },
                "url": function(element) {
                    return {
                        "valid": rules.url.test(element.value),
                        "message": $.validatr.messages.url
                    }
                }
            }),
            CustomTests = function() {
                function as(element) {
                    if ("text" !== element.type) throw new Error("element must have a type of text");
                    var type = element.getAttribute("data-as");
                    if (Tests[type]) return Tests[type](element)
                }
                function match(element) {
                    var value = element.getAttribute("data-match"),
                        source = document.getElementById(value) || document.getElementsByName(value)[0];
                    return source ? ($(source).off("valid.validatrinput").on("valid.validatrinput", function() {
                        element.value === source.value && validateElement(element)
                    }), {
                        "valid": element.value === source.value,
                        "message": "'" + element.name + "' does not equal '" + source.name + "'"
                    }) : {
                        "valid": !1,
                        "message": "'" + value + "' can not be found"
                    }
                }
                return {
                    "as": as,
                    "match": match
                }
            }(),
            filters = {
                "boxes": /checkbox|radio/i,
                "leftright": /left|right/i,
                "notInput": /select|textarea/i,
                "topbottom": /top|bottom/i
            },
            keyCodes = [16, 17, 18, 19, 20, 33, 34, 35, 36, 37, 39],
            theme = {
                "bootstrap": "alert alert-error",
                "jqueryui": "ui-state-error ui-corner-all"
            },
            inlineStyles = {
                "color": "#f0444d",
                "backgroundColor": "#ffcbcb",
                "border": "1px solid #e4a6af",
                "padding": "2px 6px",
                "borderRadius": "2px"
            },
            supressError = !1,
            Validatr = function() {};
        Validatr.prototype = {
                "addTest": function(name) {
                    var isObject = "string" != typeof name,
                        args = Array.prototype.slice.call(arguments, 1)[0];
                    if (isObject) $.extend(CustomTests, name);
                    else {
                        if (!args) throw new Error("You must include a callback function");
                        CustomTests[name] = args
                    }
                },
                "getElements": function(form) {
                    if (this.formElements) return this.formElements;
                    var elements = $(form).map(function() {
                        return $.makeArray(this.elements)
                    }).not("fieldset, button, input[type=submit], input[type=button], input[type=reset]");
                    return form.id && (elements = elements.add($('[form="' + form.id + '"]'))), elements
                },
                "validateElement": function(element) {
                    if (!element) throw new Error("method requires an element");
                    supressError = !0;
                    var valid = validateElement(element[0] || element);
                    return supressError = !1, valid
                },
                "validateForm": function(form) {
                    var valid, element = this.el || (form instanceof jQuery ? form[0] : form);
                    if ("form" !== element.nodeName.toLowerCase()) throw new Error("you must pass a form to this method");
                    return supressError = !0, valid = validateForm(this.formElements || this.getElements(element)), supressError = !1, valid
                }
            },
            $.fn.validatr = function(options) {
                var instance,
                    widget, isMethod = "string" == typeof options,
                    args = Array.prototype.slice.call(arguments, 1),
                    returnValue = this;
                isMethod ? this.each(function() {
                    var methodValue;
                    if (!(instance = $.data(this, "validatr"))) throw new Error("cannot call methods on validatr prior to initialization; attempted to call method '" + options + "'");
                    if (!$.isFunction(instance[options])) throw new Error("no such method '" + options + "' for validatr instance");
                    if ((methodValue = instance[options].apply(instance, args)) !== instance && methodValue !== undefined) return returnValue = methodValue && methodValue.jquery ? returnValue.pushStack(methodValue.get()) : methodValue, !1
                }) : this.each(function() {
                    (
                        instance = $.data(this, "validatr")) || (
                        widget = new Validatr,
                        init.call(widget, this, options || {}),
                        $.data(this, "validatr", widget))
                })
                ;
                return returnValue
            },
            $.fn.validatr.defaultOptions = {
                "dateFormat": "yyyy-mm-dd",
                "location": "right",
                "position": position,
                "showall": !1,
                "template": "<div>{{message}}</div>",
                "theme": "",
                "valid": $.noop
            },
            $.validatr = new Validatr,
            $.validatr.messages = {
                "checkbox": "Please check this box if you want to proceed.",
                "color": "Please enter a color in the format #xxxxxx",
                "email": {
                    "single": "Please enter an email address.",
                    "multiple": "Please enter a comma separated list of email addresses."
                },
                "pattern": "Please match the requested format.",
                "radio": "Please select one of these options.",
                "range": {
                    "base": "Please enter a {{type}}",
                    "overflow": "Please enter a {{type}} greater than or equal to {{min}}.",
                    "overUnder": "Please enter a {{type}} greater than or equal to {{min}}<br> and less than or equal to {{max}}.",
                    "invalid": "Invalid {{type}}",
                    "underflow": "Please enter a {{type}} less than or equal to {{max}}."
                },
                "required": "Please fill out this field.",
                "select": "Please select an item in the list.",
                "time": "Please enter a time in the format hh:mm:ss",
                "url": "Please enter a url."
            },
            $.validatr.debug = function() {
                if (
                    !QUnit
                ) throw new Error("QUnit is required for debugging")
                ;
                this.Support = Support,
                    this.Tests = Tests,
                    this.CustomTests = CustomTests,
                    this.Format = Format
            },
            $.expr[":"].validatr = function(elem) {
                return !!$.data(elem, "validatr")
            }
    }(
        0, this.document, jQuery),
    function webpackUniversalModuleDefinition(root, factory) {
        "object" == typeof exports && "object" == typeof module ? module.exports = factory(
        ) : "function" == typeof define && define.amd ? define([], factory
        ) : "object" == typeof exports ? exports.Handlebars = factory(
        ) : root.Handlebars = factory()
    }(
        this,
        function() {
            return function(
                modules) {
                function __webpack_require__(moduleId) {
                    if (
                        installedModules[moduleId]
                    ) return installedModules[moduleId].exports
                    ;
                    var module = installedModules[moduleId] = {
                        "exports": {},
                        "id": moduleId,
                        "loaded": !1
                    }
                    ;
                    return modules[moduleId].call(module.exports, module, module.exports, __webpack_require__),
                        module.loaded = !0,
                        module.exports
                }
                var installedModules = {}
                ;
                return __webpack_require__.m = modules,
                    __webpack_require__.c = installedModules,
                    __webpack_require__.p = "",
                    __webpack_require__(0)
            }([function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                function create() {
                    var hb = new base.HandlebarsEnvironment
                    ;
                    return Utils.extend(hb, base),
                        hb.SafeString = _handlebarsSafeString2["default"],
                        hb.Exception = _handlebarsException2["default"],
                        hb.Utils = Utils,
                        hb.escapeExpression = Utils.escapeExpression,
                        hb.VM = runtime,
                        hb.template = function(spec) {
                            return runtime.template(spec, hb)
                        },
                        hb
                }
                var _interopRequireWildcard = __webpack_require__(1)["default"],
                    _interopRequireDefault = __webpack_require__(2)["default"];
                exports.__esModule = !0;
                var base = _interopRequireWildcard(__webpack_require__(3)),
                    _handlebarsSafeString2 = _interopRequireDefault(__webpack_require__(20)),
                    _handlebarsException2 = _interopRequireDefault(__webpack_require__(5)),
                    Utils = _interopRequireWildcard(__webpack_require__(4)),
                    runtime = _interopRequireWildcard(__webpack_require__(21)),
                    _handlebarsNoConflict2 = _interopRequireDefault(__webpack_require__(33)),
                    inst = create();
                inst.create = create,
                    _handlebarsNoConflict2["default"](inst),
                    inst["default"] = inst,
                    exports["default"] = inst,
                    module.exports = exports["default"]
            }, function(
                module, exports) {
                "use strict"
                ;
                exports["default"] = function(obj) {
                        if (
                            obj && obj.__esModule
                        ) return obj
                        ;
                        var newObj = {};
                        if (
                            null != obj)
                            for (
                                var key in obj
                            ) Object.prototype.hasOwnProperty.call(obj, key) && (newObj[key] = obj[key])
                        ;
                        return newObj["default"] = obj,
                            newObj
                    },
                    exports.__esModule = !0
            }, function(
                module, exports) {
                "use strict"
                ;
                exports["default"] = function(obj) {
                        return obj && obj.__esModule ? obj : {
                            "default": obj
                        }
                    },
                    exports.__esModule = !0
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                function HandlebarsEnvironment(helpers, partials, decorators) {
                    this.helpers = helpers || {},
                        this.partials = partials || {},
                        this.decorators = decorators || {},
                        _helpers.registerDefaultHelpers(this),
                        _decorators.registerDefaultDecorators(this)
                }
                var _interopRequireDefault = __webpack_require__(2)["default"];
                exports.__esModule = !0, exports.HandlebarsEnvironment = HandlebarsEnvironment;
                var _utils = __webpack_require__(4),
                    _exception2 = _interopRequireDefault(__webpack_require__(5)),
                    _helpers = __webpack_require__(9),
                    _decorators = __webpack_require__(17),
                    _logger2 = _interopRequireDefault(__webpack_require__(19)),
                    VERSION = "4.1.0";
                exports.VERSION = VERSION;
                var COMPILER_REVISION = 7;
                exports.COMPILER_REVISION = COMPILER_REVISION;
                var REVISION_CHANGES = {
                    "1": "<= 1.0.rc.2",
                    "2": "== 1.0.0-rc.3",
                    "3": "== 1.0.0-rc.4",
                    "4": "== 1.x.x",
                    "5": "== 2.0.0-alpha.x",
                    "6": ">= 2.0.0-beta.1",
                    "7": ">= 4.0.0"
                };
                exports.REVISION_CHANGES = REVISION_CHANGES;
                var objectType = "[object Object]"
                ;
                HandlebarsEnvironment.prototype = {
                    "constructor": HandlebarsEnvironment,
                    "logger": _logger2["default"],
                    "log": _logger2["default"].log,
                    "registerHelper": function registerHelper(name, fn) {
                        if (
                            _utils.toString.call(name) === objectType) {
                            if (
                                fn
                            ) throw new _exception2["default"]("Arg not supported with multiple helpers")
                            ;
                            _utils.extend(this.helpers, name)
                        } else this.helpers[name] = fn
                    },
                    "unregisterHelper": function unregisterHelper(name) {
                        delete this.helpers[name]
                    },
                    "registerPartial": function registerPartial(name, partial) {
                        if (
                            _utils.toString.call(name) === objectType
                        ) _utils.extend(this.partials, name);
                        else {
                            if (
                                void 0 === partial
                            ) throw new _exception2["default"]('Attempting to register a partial called "' + name + '" as undefined')
                            ;
                            this.partials[name] = partial
                        }
                    },
                    "unregisterPartial": function unregisterPartial(name) {
                        delete this.partials[name]
                    },
                    "registerDecorator": function registerDecorator(name, fn) {
                        if (
                            _utils.toString.call(name) === objectType) {
                            if (
                                fn
                            ) throw new _exception2["default"]("Arg not supported with multiple decorators")
                            ;
                            _utils.extend(this.decorators, name)
                        } else this.decorators[name] = fn
                    },
                    "unregisterDecorator": function unregisterDecorator(name) {
                        delete this.decorators[name]
                    }
                }
                ;
                var log = _logger2["default"].log
                ;
                exports.log = log,
                    exports.createFrame = _utils.createFrame,
                    exports.logger = _logger2["default"]
            }, function(
                module, exports) {
                "use strict"
                ;
                function escapeChar(chr) {
                    return escape[chr]
                }
                function extend(obj) {
                    for (
                        var i = 1; i < arguments.length; i++)
                        for (
                            var key in arguments[i]
                        ) Object.prototype.hasOwnProperty.call(arguments[i], key) && (
                            obj[key] = arguments[i][key])
                    ;
                    return obj
                }
                function indexOf(array, value) {
                    for (
                        var i = 0, len = array.length; i < len; i++)
                        if (
                            array[i] === value
                        ) return i
                        ;
                    return -1
                }
                function escapeExpression(string) {
                    if (
                        "string" != typeof string) {
                        if (
                            string && string.toHTML
                        ) return string.toHTML();
                        if (
                            null == string
                        ) return "";
                        if (!string) return string + ""
                        ;
                        string = "" + string
                    }
                    return possible.test(string
                    ) ? string.replace(badChars, escapeChar) : string
                }
                function isEmpty(value) {
                    return !value && 0 !== value || !(
                        !isArray(value) || 0 !== value.length)
                }
                function createFrame(object) {
                    var frame = extend({}, object);
                    return frame._parent = object,
                        frame
                }
                function blockParams(params, ids) {
                    return params.path = ids,
                        params
                }
                function appendContextPath(contextPath, id) {
                    return (
                        contextPath ? contextPath + "." : "") + id
                }
                exports.__esModule = !0, exports.extend = extend, exports.indexOf = indexOf, exports.escapeExpression = escapeExpression, exports.isEmpty = isEmpty, exports.createFrame = createFrame, exports.blockParams = blockParams, exports.appendContextPath = appendContextPath;
                var escape = {
                        "&": "&amp;",
                        "<": "&lt;",
                        ">": "&gt;",
                        '"': "&quot;",
                        "'": "&#x27;",
                        "`": "&#x60;",
                        "=": "&#x3D;"
                    },
                    badChars = /[&<>"'`=]/g,
                    possible = /[&<>"'`=]/,
                    toString = Object.prototype.toString;
                exports.toString = toString;
                var isFunction = function isFunction(value) {
                    return "function" == typeof value
                };
                isFunction(/x/) && (exports.isFunction = isFunction = function(value) {
                    return "function" == typeof value && "[object Function]" === toString.call(value)
                }), exports.isFunction = isFunction;
                var isArray = Array.isArray || function(value) {
                    return !(!value || "object" != typeof value) && "[object Array]" === toString.call(value)
                };
                exports.isArray = isArray
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                function Exception(message, node) {
                    var loc = node && node.loc,
                        line = undefined,
                        column = undefined;
                    loc && (
                        message += " - " + (line = loc.start.line) + ":" + (column = loc.start.column));
                    for (
                        var tmp = Error.prototype.constructor.call(this, message),
                            idx = 0; idx < errorProps.length; idx++
                    ) this[errorProps[idx]] = tmp[errorProps[idx]]
                    ;
                    Error.captureStackTrace && Error.captureStackTrace(this, Exception);
                    try {
                        loc && (
                            this.lineNumber = line,
                            _Object$defineProperty ? Object.defineProperty(this, "column", {
                                    "value": column,
                                    "enumerable": !0
                                }
                            ) : this.column = column)
                    } catch (
                        nop) {}
                }
                var _Object$defineProperty = __webpack_require__(6)["default"];
                exports.__esModule = !0;
                var errorProps = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"]
                ;
                Exception.prototype = new Error,
                    exports["default"] = Exception,
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                module.exports = {
                    "default": __webpack_require__(7),
                    "__esModule": !0
                }
            }, function(
                module, exports, __webpack_require__) {
                var $ = __webpack_require__(8);
                module.exports = function defineProperty(it, key, desc) {
                    return $.setDesc(it, key, desc)
                }
            }, function(
                module) {
                var $Object = Object;
                module.exports = {
                    "create": $Object.create,
                    "getProto": $Object.getPrototypeOf,
                    "isEnum": {}.propertyIsEnumerable,
                    "getDesc": $Object.getOwnPropertyDescriptor,
                    "setDesc": $Object.defineProperty,
                    "setDescs": $Object.defineProperties,
                    "getKeys": $Object.keys,
                    "getNames": $Object.getOwnPropertyNames,
                    "getSymbols": $Object.getOwnPropertySymbols,
                    "each": [].forEach
                }
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                function registerDefaultHelpers(instance) {
                    _helpersBlockHelperMissing2["default"](instance),
                        _helpersEach2["default"](instance),
                        _helpersHelperMissing2["default"](instance),
                        _helpersIf2["default"](instance),
                        _helpersLog2["default"](instance),
                        _helpersLookup2["default"](instance),
                        _helpersWith2["default"](instance)
                }
                var _interopRequireDefault = __webpack_require__(2)["default"];
                exports.__esModule = !0, exports.registerDefaultHelpers = registerDefaultHelpers;
                var _helpersBlockHelperMissing2 = _interopRequireDefault(__webpack_require__(10)),
                    _helpersEach2 = _interopRequireDefault(__webpack_require__(11)),
                    _helpersHelperMissing2 = _interopRequireDefault(__webpack_require__(12)),
                    _helpersIf2 = _interopRequireDefault(__webpack_require__(13)),
                    _helpersLog2 = _interopRequireDefault(__webpack_require__(14)),
                    _helpersLookup2 = _interopRequireDefault(__webpack_require__(15)),
                    _helpersWith2 = _interopRequireDefault(__webpack_require__(16))
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                exports.__esModule = !0
                ;
                var _utils = __webpack_require__(4)
                ;
                exports["default"] = function(instance) {
                        instance.registerHelper("blockHelperMissing", function(context, options) {
                            var inverse = options.inverse,
                                fn = options.fn;
                            if (
                                !0 === context
                            ) return fn(this);
                            if (!1 === context || null == context) return inverse(this);
                            if (
                                _utils.isArray(context)
                            ) return 0 < context.length ? (
                                options.ids && (
                                    options.ids = [options.name]),
                                instance.helpers.each(context, options)
                            ) : inverse(this);
                            if (
                                options.data && options.ids) {
                                var data = _utils.createFrame(options.data);
                                data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name),
                                    options = {
                                        "data": data
                                    }
                            }
                            return fn(context, options)
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                var _interopRequireDefault = __webpack_require__(2)["default"]
                ;
                exports.__esModule = !0
                ;
                var _utils = __webpack_require__(4),
                    _exception2 = _interopRequireDefault(__webpack_require__(5))
                ;
                exports["default"] = function(instance) {
                        instance.registerHelper("each", function(context, options) {
                            function execIteration(field, index, last) {
                                data && (
                                        data.key = field,
                                        data.index = index,
                                        data.first = 0 === index,
                                        data.last = !!last,
                                        contextPath && (
                                            data.contextPath = contextPath + field)),
                                    ret += fn(context[field], {
                                        "data": data,
                                        "blockParams": _utils.blockParams([context[field], field], [contextPath + field, null])
                                    })
                            }
                            if (!options) throw new _exception2["default"]("Must pass iterator to #each");
                            var fn = options.fn,
                                inverse = options.inverse,
                                i = 0,
                                ret = "",
                                data = undefined,
                                contextPath = undefined;
                            if (options.data && options.ids && (contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + "."), _utils.isFunction(context) && (context = context.call(this)), options.data && (data = _utils.createFrame(options.data)),
                                context && "object" == typeof context)
                                if (
                                    _utils.isArray(context))
                                    for (
                                        var j = context.length; i < j; i++
                                    ) i in context && execIteration(i, i, i === context.length - 1);
                                else {
                                    var priorKey = undefined;
                                    for (
                                        var key in context
                                    ) context.hasOwnProperty(key) && (
                                        priorKey !== undefined && execIteration(priorKey, i - 1),
                                        priorKey = key,
                                        i++)
                                    ;
                                    priorKey !== undefined && execIteration(priorKey, i - 1, !0)
                                }
                            return 0 === i && (
                                    ret = inverse(this)),
                                ret
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                var _interopRequireDefault = __webpack_require__(2)["default"]
                ;
                exports.__esModule = !0
                ;
                var _exception2 = _interopRequireDefault(__webpack_require__(5))
                ;
                exports["default"] = function(instance) {
                        instance.registerHelper("helperMissing", function() {
                            if (
                                1 === arguments.length
                            ) return undefined
                            ;
                            throw new _exception2["default"]('Missing helper: "' + arguments[arguments.length - 1].name + '"')
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                exports.__esModule = !0
                ;
                var _utils = __webpack_require__(4)
                ;
                exports["default"] = function(instance) {
                        instance.registerHelper("if", function(conditional, options) {
                                return _utils.isFunction(conditional) && (
                                        conditional = conditional.call(this)),
                                    !options.hash.includeZero && !conditional || _utils.isEmpty(conditional) ? options.inverse(this
                                    ) : options.fn(this)
                            }),
                            instance.registerHelper("unless", function(conditional, options) {
                                return instance.helpers["if"].call(this, conditional, {
                                    "fn": options.inverse,
                                    "inverse": options.fn,
                                    "hash": options.hash
                                })
                            })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports) {
                "use strict"
                ;
                exports.__esModule = !0,
                    exports["default"] = function(instance) {
                        instance.registerHelper("log", function() {
                            for (
                                var args = [undefined],
                                    options = arguments[arguments.length - 1],
                                    i = 0; i < arguments.length - 1; i++
                            ) args.push(arguments[i])
                            ;
                            var level = 1
                            ;
                            null != options.hash.level ? level = options.hash.level : options.data && null != options.data.level && (
                                    level = options.data.level),
                                args[0] = level,
                                instance.log.apply(instance, args)
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports) {
                "use strict"
                ;
                exports.__esModule = !0,
                    exports["default"] = function(instance) {
                        instance.registerHelper("lookup", function(obj, field) {
                            return obj && obj[field]
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                exports.__esModule = !0
                ;
                var _utils = __webpack_require__(4)
                ;
                exports["default"] = function(instance) {
                        instance.registerHelper("with", function(context, options) {
                            _utils.isFunction(context) && (
                                context = context.call(this))
                            ;
                            var fn = options.fn;
                            if (
                                _utils.isEmpty(context)
                            ) return options.inverse(this);
                            var data = options.data;
                            return options.data && options.ids && ((data = _utils.createFrame(options.data)).contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0])), fn(context, {
                                "data": data,
                                "blockParams": _utils.blockParams([context], [data && data.contextPath])
                            })
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                function registerDefaultDecorators(instance) {
                    _decoratorsInline2["default"](instance)
                }
                var _interopRequireDefault = __webpack_require__(2)["default"];
                exports.__esModule = !0, exports.registerDefaultDecorators = registerDefaultDecorators;
                var _decoratorsInline2 = _interopRequireDefault(__webpack_require__(18))
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                exports.__esModule = !0
                ;
                var _utils = __webpack_require__(4)
                ;
                exports["default"] = function(instance) {
                        instance.registerDecorator("inline", function(fn, props, container, options) {
                            var ret = fn;
                            return props.partials || (
                                    props.partials = {},
                                    ret = function(context, options) {
                                        var original = container.partials;
                                        container.partials = _utils.extend({}, original, props.partials);
                                        var ret = fn(context, options);
                                        return container.partials = original,
                                            ret
                                    }),
                                props.partials[options.args[0]] = options.fn,
                                ret
                        })
                    },
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                exports.__esModule = !0
                ;
                var _utils = __webpack_require__(4),
                    logger = {
                        "methodMap": [
                            "debug", "info", "warn", "error"
                        ],
                        "level": "info",
                        "lookupLevel": function lookupLevel(level) {
                            if (
                                "string" == typeof level) {
                                var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase())
                                ;
                                level = 0 <= levelMap ? levelMap : parseInt(level, 10)
                            }
                            return level
                        },
                        "log": function log(level) {
                            if (
                                level = logger.lookupLevel(level),
                                "undefined" != typeof console && logger.lookupLevel(logger.level) <= level) {
                                var method = logger.methodMap[level];
                                console[method] || (
                                    method = "log");
                                for (
                                    var _len = arguments.length, message = Array(1 < _len ? _len - 1 : 0), _key = 1; _key < _len; _key++
                                ) message[_key - 1] = arguments[_key]
                                ;
                                console[method].apply(console, message)
                            }
                        }
                    }
                ;
                exports["default"] = logger,
                    module.exports = exports["default"]
            }, function(
                module, exports) {
                "use strict"
                ;
                function SafeString(string) {
                    this.string = string
                }
                exports.__esModule = !0,
                    SafeString.prototype.toString = SafeString.prototype.toHTML = function() {
                        return "" + this.string
                    },
                    exports["default"] = SafeString,
                    module.exports = exports["default"]
            }, function(
                module, exports, __webpack_require__) {
                "use strict"
                ;
                function checkRevision(compilerInfo) {
                    var compilerRevision = compilerInfo && compilerInfo[0] || 1,
                        currentRevision = _base.COMPILER_REVISION;
                    if (
                        compilerRevision !== currentRevision) {
                        if (
                            compilerRevision < currentRevision) {
                            var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
                                compilerVersions = _base.REVISION_CHANGES[compilerRevision];
                            throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + runtimeVersions + ") or downgrade your runtime to an older version (" + compilerVersions + ").")
                        }
                        throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + compilerInfo[1] + ").")
                    }
                }
                function template(templateSpec, env) {
                    function invokePartialWrapper(partial, context, options) {
                        options.hash && (
                                context = Utils.extend({}, context, options.hash),
                                options.ids && (
                                    options.ids[0] = !0)),
                            partial = env.VM.resolvePartial.call(this, partial, context, options);
                        var result = env.VM.invokePartial.call(this, partial, context, options);
                        if (
                            null == result && env.compile && (
                                options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env),
                                result = options.partials[options.name](context, options)),
                            null == result
                        ) throw new _exception2["default"]("The partial " + options.name + " could not be compiled when running in runtime-only mode");
                        if (options.indent) {
                            for (var lines = result.split("\n"), i = 0, l = lines.length; i < l && (lines[i] || i + 1 !== l); i++) lines[i] = options.indent + lines[i];
                            result = lines.join("\n")
                        }
                        return result
                    }
                    function ret(context, argument_1) {
                        function main(context) {
                            return "" + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths)
                        }
                        var options = arguments.length <= 1 || argument_1 === undefined ? {} : arguments[1],
                            data = options.data;
                        ret._setup(options), !options.partial && templateSpec.useData && (data = initData(context, data));
                        var depths = undefined,
                            blockParams = templateSpec.useBlockParams ? [] : undefined;
                        return templateSpec.useDepths && (depths = options.depths ? context != options.depths[0] ? [context].concat(options.depths) : options.depths : [context]), (
                            main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams))(
                            context, options)
                    }
                    if (!env) throw new _exception2["default"]("No environment passed to template");
                    if (!templateSpec || !templateSpec.main) throw new _exception2["default"]("Unknown template object: " + typeof templateSpec);
                    templateSpec.main.decorator = templateSpec.main_d, env.VM.checkRevision(templateSpec.compiler);
                    var container = {
                        "strict": function strict(obj, name) {
                            if (!(name in obj)) throw new _exception2["default"]('"' + name + '" not defined in ' + obj);
                            return obj[name]
                        },
                        "lookup": function lookup(depths, name) {
                            for (var len = depths.length, i = 0; i < len; i++)
                                if (depths[i] && null != depths[i][name]) return depths[i][name]
                        },
                        "lambda": function lambda(current, context) {
                            return "function" == typeof current ? current.call(context) : current
                        },
                        "escapeExpression": Utils.escapeExpression,
                        "invokePartial": invokePartialWrapper,
                        "fn": function fn(i) {
                            var ret = templateSpec[i];
                            return ret.decorator = templateSpec[i + "_d"], ret
                        },
                        "programs": [],
                        "program": function program(i, data, declaredBlockParams, blockParams, depths) {
                            var programWrapper = this.programs[i],
                                fn = this.fn(i);
                            return data || depths || blockParams || declaredBlockParams ? programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths) : programWrapper || (programWrapper = this.programs[i] = wrapProgram(this, i, fn)), programWrapper
                        },
                        "data": function data(value, depth) {
                            for (; value && depth--;) value = value._parent;
                            return value
                        },
                        "merge": function merge(param, common) {
                            var obj = param || common;
                            return param && common && param !== common && (obj = Utils.extend({}, common, param)), obj
                        },
                        "nullContext": _Object$seal({}),
                        "noop": env.VM.noop,
                        "compilerInfo": templateSpec.compiler
                    }
                    ;
                    return ret.isTop = !0,
                        ret._setup = function(options) {
                            options.partial ? (
                                container.helpers = options.helpers,
                                container.partials = options.partials,
                                container.decorators = options.decorators) : (container.helpers = container.merge(options.helpers, env.helpers), templateSpec.usePartial && (container.partials = container.merge(options.partials, env.partials)), (templateSpec.usePartial || templateSpec.useDecorators) && (container.decorators = container.merge(options.decorators, env.decorators)))
                        },
                        ret._child = function(i, data, blockParams, depths) {
                            if (
                                templateSpec.useBlockParams && !blockParams
                            ) throw new _exception2["default"]("must pass block params");
                            if (
                                templateSpec.useDepths && !depths
                            ) throw new _exception2["default"]("must pass parent depths")
                            ;
                            return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths)
                        },
                        ret
                }
                function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
                    function prog(context, argument_1) {
                        var options = arguments.length <= 1 || argument_1 === undefined ? {} : arguments[1],
                            currentDepths = depths;
                        return !depths || context == depths[0] || context === container.nullContext && null === depths[0] || (
                                currentDepths = [context].concat(depths)),
                            fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths)
                    }
                    return (
                            prog = executeDecorators(fn, prog, container, depths, data, blockParams)
                        ).program = i,
                        prog.depth = depths ? depths.length : 0,
                        prog.blockParams = declaredBlockParams || 0,
                        prog
                }
                function resolvePartial(partial, context, options) {
                    return partial ? partial.call || options.name || (
                            options.name = partial,
                            partial = options.partials[partial]) : partial = "@partial-block" === options.name ? options.data["partial-block"] : options.partials[options.name],
                        partial
                }
                function invokePartial(partial, context, options) {
                    var currentPartialBlock = options.data && options.data["partial-block"];
                    options.partial = !0,
                        options.ids && (
                            options.data.contextPath = options.ids[0] || options.data.contextPath)
                    ;
                    var partialBlock = undefined;
                    if (
                        options.fn && options.fn !== noop && function() {
                            options.data = _base.createFrame(options.data)
                            ;
                            var fn = options.fn;
                            partialBlock = options.data["partial-block"] = function partialBlockWrapper(context, argument_1) {
                                    var options = arguments.length <= 1 || argument_1 === undefined ? {} : arguments[1]
                                    ;
                                    return options.data = _base.createFrame(options.data),
                                        options.data["partial-block"] = currentPartialBlock,
                                        fn(context, options)
                                },
                                fn.partials && (
                                    options.partials = Utils.extend({}, options.partials, fn.partials))
                        }(),
                        partial === undefined && partialBlock && (
                            partial = partialBlock),
                        partial === undefined
                    ) throw new _exception2["default"]("The partial " + options.name + " could not be found");
                    if (
                        partial instanceof Function
                    ) return partial(context, options)
                }
                function noop() {
                    return ""
                }
                function initData(context, data) {
                    return data && "root" in data || ((
                            data = data ? _base.createFrame(data) : {}
                        ).root = context),
                        data
                }
                function executeDecorators(fn, prog, container, depths, data, blockParams) {
                    if (
                        fn.decorator) {
                        var props = {};
                        prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths),
                            Utils.extend(prog, props)
                    }
                    return prog
                }
                var _Object$seal = __webpack_require__(22)["default"],
                    _interopRequireWildcard = __webpack_require__(1)["default"],
                    _interopRequireDefault = __webpack_require__(2)["default"];
                exports.__esModule = !0, exports.checkRevision = checkRevision, exports.template = template, exports.wrapProgram = wrapProgram, exports.resolvePartial = resolvePartial, exports.invokePartial = invokePartial, exports.noop = noop;
                var Utils = _interopRequireWildcard(__webpack_require__(4)),
                    _exception2 = _interopRequireDefault(__webpack_require__(5)),
                    _base = __webpack_require__(3)
            }, function(
                module, exports, __webpack_require__) {
                module.exports = {
                    "default": __webpack_require__(23),
                    "__esModule": !0
                }
            }, function(
                module, exports, __webpack_require__) {
                __webpack_require__(24),
                    module.exports = __webpack_require__(29).Object.seal
            }, function(
                module, exports, __webpack_require__) {
                var isObject = __webpack_require__(25)
                ;
                __webpack_require__(26)("seal", function($seal) {
                    return function seal(it) {
                        return $seal && isObject(it) ? $seal(it) : it
                    }
                })
            }, function(
                module) {
                module.exports = function(it) {
                    return "object" == typeof it ? null !== it : "function" == typeof it
                }
            }, function(
                module, exports, __webpack_require__) {
                var $export = __webpack_require__(27),
                    core = __webpack_require__(29),
                    fails = __webpack_require__(32);
                module.exports = function(KEY, exec) {
                    var fn = (core.Object || {})[KEY] || Object[KEY],
                        exp = {};
                    exp[KEY] = exec(fn),
                        $export($export.S + $export.F * fails(function() {
                            fn(1)
                        }), "Object", exp)
                }
            }, function(
                module, exports, __webpack_require__) {
                var global = __webpack_require__(28),
                    core = __webpack_require__(29),
                    ctx = __webpack_require__(30),
                    PROTOTYPE = "prototype",
                    $export = function(type, name, source) {
                        var key, own, out, IS_FORCED = type & $export.F,
                            IS_GLOBAL = type & $export.G,
                            IS_STATIC = type & $export.S,
                            IS_PROTO = type & $export.P,
                            IS_BIND = type & $export.B,
                            IS_WRAP = type & $export.W,
                            exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),
                            target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
                        for (
                            key in IS_GLOBAL && (source = name), source)(
                            own = !IS_FORCED && target && key in target
                        ) && key in exports || (
                            out = own ? target[key] : source[key],
                            exports[key] = IS_GLOBAL && "function" != typeof target[key] ? source[key] : IS_BIND && own ? ctx(out, global
                            ) : IS_WRAP && target[key] == out ? function(C) {
                                var F = function(param) {
                                    return this instanceof C ? new C(param) : C(param)
                                }
                                ;
                                return F[PROTOTYPE] = C[PROTOTYPE],
                                    F
                            }(
                                out) : IS_PROTO && "function" == typeof out ? ctx(Function.call, out) : out,
                            IS_PROTO && ((exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out))
                    }
                ;
                $export.F = 1,
                    $export.G = 2,
                    $export.S = 4,
                    $export.P = 8,
                    $export.B = 16,
                    $export.W = 32,
                    module.exports = $export
            }, function(
                module) {
                var global = module.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
                "number" == typeof __g && (__g = global)
            }, function(
                module) {
                var core = module.exports = {
                    "version": "1.2.6"
                };
                "number" == typeof __e && (__e = core)
            }, function(
                module, exports, __webpack_require__) {
                var aFunction = __webpack_require__(31);
                module.exports = function(fn, that, length) {
                    if (
                        aFunction(fn),
                        that === undefined) return fn;
                    switch (
                        length) {
                        case 1:
                            return function(a) {
                                return fn.call(that, a)
                            }
                            ;
                        case 2:
                            return function(a, b) {
                                return fn.call(that, a, b)
                            }
                            ;
                        case 3:
                            return function(a, b, c) {
                                return fn.call(that, a, b, c)
                            }
                    }
                    return function() {
                        return fn.apply(that, arguments)
                    }
                }
            }, function(
                module) {
                module.exports = function(it) {
                    if (
                        "function" != typeof it) throw TypeError(it + " is not a function!");
                    return it
                }
            }, function(
                module) {
                module.exports = function(exec) {
                    try {
                        return !!exec()
                    } catch (
                        e) {
                        return !0
                    }
                }
            }, function(
                module, exports) {
                (function(
                    global) {
                    "use strict"
                    ;
                    exports.__esModule = !0,
                        exports["default"] = function(Handlebars) {
                            var root = void 0 !== global ? global : window,
                                $Handlebars = root.Handlebars
                            ;
                            Handlebars.noConflict = function() {
                                return root.Handlebars === Handlebars && (
                                        root.Handlebars = $Handlebars),
                                    Handlebars
                            }
                        },
                        module.exports = exports["default"]
                }).call(
                    exports,
                    function() {
                        return this
                    }())
            }])
        }),
    function() {
        "use strict";
        var $, Draggable, Gridly,
            bind = function(fn, me) {
                return function() {
                    return fn.apply(me, arguments)
                }
            },
            slice = [].slice
        ;
        $ = jQuery,
            function() {
                function Animation() {}
                Animation.transitions = {
                        "webkitTransition": "webkitTransitionEnd",
                        "mozTransition": "mozTransitionEnd",
                        "oTransition": "oTransitionEnd",
                        "transition": "transitionend"
                    },
                    Animation.transition = function($el) {
                        var el, ref, result, type;
                        for (
                            type in el = $el[0], ref = this.transitions)
                            if (
                                result = ref[type],
                                null != el.style[type]
                            ) return result
                    },
                    Animation.execute = function($el, callback) {
                        var transition
                        ;
                        return null != (transition = this.transition($el)) ? $el.one(transition, callback
                        ) : callback()
                    }
            }(),
            Draggable = function() {
                function Draggable($container, selector, callbacks) {
                    this.touchend = bind(this.touchend, this),
                        this.click = bind(this.click, this),
                        this.moved = bind(this.moved, this),
                        this.ended = bind(this.ended, this),
                        this.began = bind(this.began, this),
                        this.coordinate = bind(this.coordinate, this),
                        this.off = bind(this.off, this),
                        this.on = bind(this.on, this),
                        this.toggle = bind(this.toggle, this),
                        this.bind = bind(this.bind, this),
                        this.$container = $container,
                        this.selector = selector,
                        this.callbacks = callbacks,
                        this.toggle()
                }
                return Draggable.prototype.bind = function(method) {
                        return null == method && (
                                method = "on"),
                            $(document)[method]("mousemove touchmove", this.moved),
                            $(document)[method]("mouseup touchcancel", this.ended)
                    },
                    Draggable.prototype.toggle = function(method) {
                        return null == method && (
                                method = "on"),
                            this.$container[method]("mousedown touchstart", this.selector, this.began),
                            this.$container[method]("touchend", this.selector, this.touchend),
                            this.$container[method]("click", this.selector, this.click)
                    },
                    Draggable.prototype.on = function() {
                        return this.toggle("on")
                    },
                    Draggable.prototype.off = function() {
                        return this.toggle("off")
                    },
                    Draggable.prototype.coordinate = function(event) {
                        switch (
                            event.type) {
                            case "touchstart":
                            case "touchmove":
                            case "touchend":
                            case "touchcancel":
                                return event.originalEvent.touches[0];
                            default:
                                return event
                        }
                    },
                    Draggable.prototype.began = function(event) {
                        var ref;
                        if (!this.$target
                        ) return event.preventDefault(),
                            event.stopPropagation(),
                            this.bind("on"),
                            this.$target = $(event.target).closest(this.$container.find(this.selector)),
                            this.$target.addClass("dragging"),
                            this.origin = {
                                "x": this.coordinate(event).pageX - this.$target.position().left,
                                "y": this.coordinate(event).pageY - this.$target.position().top
                            },
                            null != (ref = this.callbacks) && "function" == typeof ref.began ? ref.began(event) : void 0
                    },
                    Draggable.prototype.ended = function(event) {
                        var ref;
                        if (
                            null != this.$target
                        ) return "touchend" !== event.type && (
                                event.preventDefault(),
                                event.stopPropagation()),
                            this.bind("off"),
                            this.$target.removeClass("dragging"),
                            delete this.$target,
                            delete this.origin,
                            null != (ref = this.callbacks) && "function" == typeof ref.ended ? ref.ended(event) : void 0
                    },
                    Draggable.prototype.moved = function(event) {
                        var ref;
                        if (
                            null != this.$target
                        ) return event.preventDefault(),
                            event.stopPropagation(),
                            this.$target.css({
                                "left": this.coordinate(event).pageX - this.origin.x,
                                "top": this.coordinate(event).pageY - this.origin.y
                            }),
                            this.dragged = this.$target,
                            null != (ref = this.callbacks) && "function" == typeof ref.moved ? ref.moved(event) : void 0
                    },
                    Draggable.prototype.click = function(event) {
                        if (
                            this.dragged
                        ) return event.preventDefault(),
                            event.stopPropagation(),
                            delete this.dragged
                    },
                    Draggable.prototype.touchend = function(event) {
                        return this.ended(event),
                            this.click(event)
                    },
                    Draggable
            }(),
            Gridly = function() {
                function Gridly($el, settings) {
                    return null == settings && (
                            settings = {}),
                        this.optimize = bind(this.optimize, this),
                        this.layout = bind(this.layout, this),
                        this.structure = bind(this.structure, this),
                        this.position = bind(this.position, this),
                        this.size = bind(this.size, this),
                        this.draggingMoved = bind(this.draggingMoved, this),
                        this.draggingEnded = bind(this.draggingEnded, this),
                        this.draggingBegan = bind(this.draggingBegan, this),
                        this.$sorted = bind(this.$sorted, this),
                        this.draggable = bind(this.draggable, this),
                        this.compare = bind(this.compare, this),
                        this.$ = bind(this.$, this),
                        this.reordinalize = bind(this.reordinalize, this),
                        this.ordinalize = bind(this.ordinalize, this),
                        this.$el = $el,
                        this.settings = $.extend({}, Gridly.settings, settings),
                        this.ordinalize(this.$("> *")),
                        !1 !== this.settings.draggable && this.draggable(),
                        this
                }
                return Gridly.settings = {
                        "base": 60,
                        "gutter": 20,
                        "columns": 12,
                        "draggable": {
                            "zIndex": 800,
                            "selector": "> *"
                        }
                    }, Gridly.gridly = function($el, options) {
                        var data;
                        return null == options && (options = {}), (data = $el.data("_gridly")) ? $.extend(data.settings, options) : (data = new Gridly($el, options), $el.data("_gridly", data)), data
                    },
                    Gridly.prototype.ordinalize = function($elements) {
                        var $element, i, j, ref, results1;
                        for (
                            results1 = [],
                            i = j = 0, ref = $elements.length; 0 <= ref ? j <= ref : ref <= j; i = 0 <= ref ? ++j : --j
                        ) $element = $($elements[i]),
                            results1.push($element.data("position", i))
                        ;
                        return results1
                    },
                    Gridly.prototype.reordinalize = function($element, position) {
                        return $element.data("position", position)
                    },
                    Gridly.prototype.$ = function(selector) {
                        return this.$el.find(selector)
                    },
                    Gridly.prototype.compare = function(d, s) {
                        return d.y > s.y + s.h ? 1 : s.y > d.y + d.h ? -1 : d.x + d.w / 2 > s.x + s.w / 2 ? 1 : s.x + s.w / 2 > d.x + d.w / 2 ? -1 : 0
                    },
                    Gridly.prototype.draggable = function(method) {
                        if (
                            null == this._draggable && (
                                this._draggable = new Draggable(this.$el, this.settings.draggable.selector, {
                                    "began": this.draggingBegan,
                                    "ended": this.draggingEnded,
                                    "moved": this.draggingMoved
                                })),
                            null != method
                        ) return this._draggable[method]()
                    },
                    Gridly.prototype.$sorted = function($elements) {
                        return (
                            $elements || this.$("> *")).sort(function(a, b) {
                            var $a, $b, aPosition, aPositionInt, bPosition, bPositionInt;
                            return $a = $(a),
                                $b = $(b),
                                aPosition = $a.data("position"),
                                bPosition = $b.data("position"),
                                aPositionInt = parseInt(aPosition),
                                bPositionInt = parseInt(bPosition),
                                null != aPosition && null == bPosition ? -1 : null != bPosition && null == aPosition ? 1 : !aPosition && !bPosition && $a.index() < $b.index(
                                ) ? -1 : !bPosition && !aPosition && $b.index() < $a.index(
                                ) ? 1 : aPositionInt < bPositionInt ? -1 : bPositionInt < aPositionInt ? 1 : 0
                        })
                    },
                    Gridly.prototype.draggingBegan = function() {
                        var $elements, ref, ref1;
                        return $elements = this.$sorted(),
                            this.ordinalize($elements),
                            setTimeout(this.layout, 0),
                            null != (ref = this.settings) && null != (ref1 = ref.callbacks) && "function" == typeof ref1.reordering ? ref1.reordering($elements) : void 0
                    },
                    Gridly.prototype.draggingEnded = function() {
                        var $elements, ref, ref1;
                        return $elements = this.$sorted(),
                            this.ordinalize($elements),
                            setTimeout(this.layout, 0),
                            null != (ref = this.settings) && null != (ref1 = ref.callbacks) && "function" == typeof ref1.reordered ? ref1.reordered($elements, this._draggable.dragged) : void 0
                    },
                    Gridly.prototype.draggingMoved = function(event) {
                        var $dragging, $elements, element, i, j, k, len, positions, ref, ref1, ref2;
                        for (
                            $dragging = $(event.target).closest(this.$(this.settings.draggable.selector)),
                            $elements = this.$sorted(this.$(this.settings.draggable.selector)),
                            positions = this.structure($elements).positions,
                            $dragging.data("position"),
                            j = 0, len = (ref = positions.filter(function(position) {
                                return position.$element.is($dragging)
                            })).length; j < len; j++)(
                                element = ref[j]
                            ).x = $dragging.position().left,
                            element.y = $dragging.position().top,
                            element.w = $dragging.data("width") || $dragging.outerWidth(),
                            element.h = $dragging.data("height") || $dragging.outerHeight();
                        for (
                            positions.sort(this.compare),
                            $elements = positions.map(function(position) {
                                return position.$element
                            }),
                            i = k = 0, ref2 = ($elements = ((null != (ref1 = this.settings.callbacks) ? ref1.optimize : void 0) || this.optimize)($elements)).length; 0 <= ref2 ? k < ref2 : ref2 < k; i = 0 <= ref2 ? ++k : --k
                        ) this.reordinalize($($elements[i]), i)
                        ;
                        return this.layout()
                    },
                    Gridly.prototype.size = function($element) {
                        return ((
                            $element.data("width") || $element.outerWidth()) + this.settings.gutter) / (this.settings.base + this.settings.gutter)
                    },
                    Gridly.prototype.position = function($element, columns) {
                        var column, height, i, j, k, max, ref, ref1, ref2, size;
                        for (
                            size = this.size($element),
                            height = Infinity,
                            i = j = column = 0, ref = columns.length - size; 0 <= ref ? j < ref : ref < j; i = 0 <= ref ? ++j : --j)(
                            max = Math.max.apply(Math, columns.slice(i, i + size))
                        ) < height && (
                            height = max,
                            column = i);
                        for (
                            i = k = ref1 = column, ref2 = column + size; ref1 <= ref2 ? k < ref2 : ref2 < k; i = ref1 <= ref2 ? ++k : --k
                        ) columns[i] = height + ($element.data("height") || $element.outerHeight()) + this.settings.gutter;
                        return {
                            "x": column * (this.settings.base + this.settings.gutter),
                            "y": height
                        }
                    },
                    Gridly.prototype.structure = function($elements) {
                        var $element, columns, index, j, position, positions, ref;
                        for (
                            null == $elements && (
                                $elements = this.$sorted()),
                            positions = [],
                            columns = function() {
                                var j, ref, results1;
                                for (
                                    results1 = [],
                                    j = 0, ref = this.settings.columns; 0 <= ref ? j <= ref : ref <= j; 0 <= ref ? ++j : --j
                                ) results1.push(0)
                                ;
                                return results1
                            }.call(
                                this),
                            index = j = 0, ref = $elements.length; 0 <= ref ? j < ref : ref < j; index = 0 <= ref ? ++j : --j
                        ) $element = $($elements[index]),
                            position = this.position($element, columns),
                            positions.push({
                                "x": position.x,
                                "y": position.y,
                                "w": $element.data("width") || $element.outerWidth(),
                                "h": $element.data("height") || $element.outerHeight(),
                                "$element": $element
                            });
                        return {
                            "height": Math.max.apply(Math, columns),
                            "positions": positions
                        }
                    },
                    Gridly.prototype.layout = function() {
                        var $element, $elements, index, j, position, ref, ref1, structure;
                        for (
                            $elements = ((null != (ref = this.settings.callbacks) ? ref.optimize : void 0) || this.optimize)(this.$sorted()),
                            structure = this.structure($elements),
                            index = j = 0, ref1 = $elements.length; 0 <= ref1 ? j < ref1 : ref1 < j; index = 0 <= ref1 ? ++j : --j
                        ) $element = $($elements[index]),
                            position = structure.positions[index],
                            $element.is(".dragging"
                            ) || $element.css({
                                "position": "absolute",
                                "left": position.x,
                                "top": position.y
                            })
                        ;
                        return this.$el.css({
                            "height": structure.height
                        })
                    },
                    Gridly.prototype.optimize = function(originals) {
                        var columns, index, j, ref, results;
                        for (
                            results = [],
                            columns = 0; 0 < originals.length;) {
                            for (
                                columns === this.settings.columns && (
                                    columns = 0),
                                index = j = index = 0, ref = originals.length;
                                (0 <= ref ? j < ref : ref < j) && columns + this.size($(originals[index])) > this.settings.columns; index = 0 <= ref ? ++j : --j);
                            index === originals.length && (
                                    columns = index = 0),
                                columns += this.size($(originals[index])),
                                results.push(originals.splice(index, 1)[0])
                        }
                        return results
                    },
                    Gridly
            }(),
            $.fn.extend({
                "gridly": function(
                    argument_0) {
                    var option, parameters;
                    return option = argument_0, parameters = 2 <= arguments.length ? slice.call(arguments, 1) : [],
                        null == option && (
                            option = {}),
                        this.each(function() {
                            var $this, action, options;
                            return $this = $(this),
                                options = $.extend({}, $.fn.gridly.defaults, "object" == typeof option && option),
                                null == (action = "string" == typeof option ? option : option.action) && (
                                    action = "layout"),
                                Gridly.gridly($this, options)[action](parameters)
                        })
                }
            })
    }.call(
        this),
    function(
        $) {
        function appeared(selector) {
            return $(selector).filter(function() {
                return $(this).is(":appeared")
            })
        }
        function process() {
            check_lock = !1;
            for (
                var index = 0, selectorsLength = selectors.length; index < selectorsLength; index++) {
                var $appeared = appeared(selectors[index]);
                if (
                    $appeared.trigger("appear", [$appeared]),
                    $prior_appeared[index]) {
                    var $disappeared = $prior_appeared[index].not($appeared);
                    $disappeared.trigger("disappear", [$disappeared])
                }
                $prior_appeared[index] = $appeared
            }
        }
        function add_selector(selector) {
            selectors.push(selector),
                $prior_appeared.push()
        }
        var selectors = [],
            check_binded = !1,
            check_lock = !1,
            defaults = {
                "interval": 250,
                "force_process": !1,
                "scroll_selector": window
            },
            $window = $(window),
            $prior_appeared = []
        ;
        $.expr.pseudos.appeared = $.expr.createPseudo(function() {
                return function(
                    element) {
                    var $element = $(element);
                    if (!$element.is(":visible")) return !1
                    ;
                    var window_left = $window.scrollLeft(),
                        window_top = $window.scrollTop(),
                        offset = $element.offset(),
                        left = offset.left,
                        top = offset.top
                    ;
                    return top + $element.height() >= window_top && top - ($element.data("appear-top-offset") || 0) <= window_top + $window.height() && left + $element.width() >= window_left && left - ($element.data("appear-left-offset") || 0) <= window_left + $window.width()
                }
            }),
            $.fn.extend({
                "appear": function(
                    selector, options) {
                    return $.appear(this, options),
                        this
                }
            }),
            $.extend({
                "appear": function(
                    selector, options) {
                    var opts = $.extend({}, defaults, options || {});
                    if (
                        !check_binded) {
                        var on_check = function() {
                            check_lock || (
                                check_lock = !0,
                                setTimeout(process, opts.interval))
                        }
                        ;
                        $(opts.scroll_selector).scroll(on_check).resize(on_check),
                            check_binded = !0
                    }
                    opts.force_process && setTimeout(process, opts.interval),
                        add_selector(selector)
                },
                "force_appear": function() {
                    return !!check_binded && (
                        process(), !0)
                }
            })
    }(
        "undefined" != typeof module ? require("jquery"
        ) : jQuery),
    function(
        factory) {
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : factory(jQuery)
    }(function(
        $) {
        $.extend($.fn, {
                "validate": function(
                    options) {
                    if (
                        this.length) {
                        var validator = $.data(this[0], "validator");
                        return validator || (
                            this.attr("novalidate", "novalidate"),
                            validator = new $.validator(options, this[0]),
                            $.data(this[0], "validator", validator),
                            validator.settings.onsubmit && (
                                this.on("click.validate", ":submit", function(event) {
                                    validator.settings.submitHandler && (
                                            validator.submitButton = event.target),
                                        $(this).hasClass("cancel") && (
                                            validator.cancelSubmit = !0),
                                        $(this).attr("formnovalidate") !== undefined && (
                                            validator.cancelSubmit = !0)
                                }),
                                this.on("submit.validate", function(event) {
                                    function handle() {
                                        var hidden, result;
                                        return !validator.settings.submitHandler || (
                                            validator.submitButton && (
                                                hidden = $("<input type='hidden'/>").attr(
                                                    "name", validator.submitButton.name).val(
                                                    $(validator.submitButton).val()).appendTo(
                                                    validator.currentForm)),
                                            result = validator.settings.submitHandler.call(validator, validator.currentForm, event),
                                            validator.submitButton && hidden.remove(),
                                            result !== undefined && result)
                                    }
                                    return validator.settings.debug && event.preventDefault(),
                                        validator.cancelSubmit ? (
                                            validator.cancelSubmit = !1,
                                            handle()
                                        ) : validator.form() ? validator.pendingRequest ? !(
                                            validator.formSubmitted = !0
                                        ) : handle() : (
                                            validator.focusInvalid(), !1)
                                })),
                            validator)
                    }
                    options && options.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing.")
                },
                "valid": function() {
                    var valid, validator, errorList
                    ;
                    return $(this[0]).is("form") ? valid = this.validate().form() : (
                            errorList = [],
                            valid = !0,
                            validator = $(this[0].form).validate(),
                            this.each(function() {
                                valid = validator.element(this) && valid,
                                    errorList = errorList.concat(validator.errorList)
                            }),
                            validator.errorList = errorList),
                        valid
                },
                "rules": function(
                    command, argument) {
                    var settings, staticRules, existingRules, data, param, filtered, element = this[0];
                    if (
                        command) switch (
                        staticRules = (settings = $.data(element.form, "validator").settings).rules,
                        existingRules = $.validator.staticRules(element),
                        command) {
                        case "add":
                            $.extend(existingRules, $.validator.normalizeRule(argument)),
                                delete existingRules.messages,
                                staticRules[element.name] = existingRules,
                                argument.messages && (
                                    settings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages))
                            ;
                            break;
                        case "remove":
                            return argument ? (
                                filtered = {},
                                $.each(argument.split(/\s/), function(index, method) {
                                    filtered[method] = existingRules[method],
                                        delete existingRules[method],
                                        "required" === method && $(element).removeAttr("aria-required")
                                }),
                                filtered) : (delete staticRules[element.name], existingRules)
                    }
                    return (
                            data = $.validator.normalizeRules(
                                $.extend({},
                                    $.validator.classRules(element),
                                    $.validator.attributeRules(element),
                                    $.validator.dataRules(element),
                                    $.validator.staticRules(element)),
                                element)
                        ).required && (
                            param = data.required,
                            delete data.required,
                            data = $.extend({
                                "required": param
                            }, data),
                            $(element).attr("aria-required", "true")),
                        data.remote && (
                            param = data.remote,
                            delete data.remote,
                            data = $.extend(data, {
                                "remote": param
                            })),
                        data
                }
            }),
            $.extend($.expr[":"], {
                "blank": function(
                    a) {
                    return !$.trim("" + $(a).val())
                },
                "filled": function(
                    a) {
                    return !!$.trim("" + $(a).val())
                },
                "unchecked": function(
                    a) {
                    return !$(a).prop("checked")
                }
            }),
            $.validator = function(options, form) {
                this.settings = $.extend(!0, {}, $.validator.defaults, options),
                    this.currentForm = form,
                    this.init()
            },
            $.validator.format = function(source, params) {
                return 1 === arguments.length ? function() {
                    var args = $.makeArray(arguments);
                    return args.unshift(source),
                        $.validator.format.apply(this, args)
                } : (
                    2 < arguments.length && params.constructor !== Array && (
                        params = $.makeArray(arguments).slice(1)),
                    params.constructor !== Array && (
                        params = [params]),
                    $.each(params, function(i, n) {
                        source = source.replace(new RegExp("\\{" + i + "\\}", "g"), function() {
                            return n
                        })
                    }),
                    source)
            },
            $.extend($.validator, {
                "defaults": {
                    "messages": {},
                    "groups": {},
                    "rules": {},
                    "errorClass": "error",
                    "validClass": "valid",
                    "errorElement": "label",
                    "focusCleanup": !1,
                    "focusInvalid": !0,
                    "errorContainer": $([]),
                    "errorLabelContainer": $([]),
                    "onsubmit": !0,
                    "ignore": ":hidden",
                    "ignoreTitle": !1,
                    "onfocusin": function(
                        element) {
                        this.lastActive = element,
                            this.settings.focusCleanup && (
                                this.settings.unhighlight && this.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass),
                                this.hideThese(this.errorsFor(element)))
                    },
                    "onfocusout": function(
                        element) {
                        this.checkable(element) || !(element.name in this.submitted) && this.optional(element) || this.element(element)
                    },
                    "onkeyup": function(
                        element, event) {
                        var excludedKeys = [
                            16, 17, 18, 20, 35, 36, 37,
                            38, 39, 40, 45, 144, 225
                        ]
                        ;
                        9 === event.which && "" === this.elementValue(element) || -1 !== $.inArray(event.keyCode, excludedKeys) || (
                            element.name in this.submitted || element === this.lastElement
                        ) && this.element(element)
                    },
                    "onclick": function(
                        element) {
                        element.name in this.submitted ? this.element(element
                        ) : element.parentNode.name in this.submitted && this.element(element.parentNode)
                    },
                    "highlight": function(
                        element, errorClass, validClass) {
                        "radio" === element.type ? this.findByName(element.name).addClass(errorClass).removeClass(validClass
                        ) : $(element).addClass(errorClass).removeClass(validClass)
                    },
                    "unhighlight": function(
                        element, errorClass, validClass) {
                        "radio" === element.type ? this.findByName(element.name).removeClass(errorClass).addClass(validClass
                        ) : $(element).removeClass(errorClass).addClass(validClass)
                    }
                },
                "setDefaults": function(
                    settings) {
                    $.extend($.validator.defaults, settings)
                },
                "messages": {
                    "required": "This field is required.",
                    "remote": "Please fix this field.",
                    "email": "Please enter a valid email address.",
                    "url": "Please enter a valid URL.",
                    "date": "Please enter a valid date.",
                    "dateISO": "Please enter a valid date ( ISO ).",
                    "number": "Please enter a valid number.",
                    "digits": "Please enter only digits.",
                    "creditcard": "Please enter a valid credit card number.",
                    "equalTo": "Please enter the same value again.",
                    "maxlength": $.validator.format("Please enter no more than {0} characters."),
                    "minlength": $.validator.format("Please enter at least {0} characters."),
                    "rangelength": $.validator.format("Please enter a value between {0} and {1} characters long."),
                    "range": $.validator.format("Please enter a value between {0} and {1}."),
                    "max": $.validator.format("Please enter a value less than or equal to {0}."),
                    "min": $.validator.format("Please enter a value greater than or equal to {0}.")
                },
                "autoCreateRanges": !1,
                "prototype": {
                    "init": function() {
                        function delegate(event) {
                            var validator = $.data(this.form, "validator"),
                                eventType = "on" + event.type.replace(/^validate/, ""),
                                settings = validator.settings;
                            settings[eventType] && !$(this).is(settings.ignore) && settings[eventType].call(validator, this, event)
                        }
                        this.labelContainer = $(this.settings.errorLabelContainer), this.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm), this.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer), this.submitted = {}, this.valueCache = {}, this.pendingRequest = 0, this.pending = {}, this.invalid = {}, this.reset();
                        var rules, groups = this.groups = {};
                        $.each(this.settings.groups, function(key, value) {
                                "string" == typeof value && (value = value.split(/\s/)), $.each(value, function(index, name) {
                                    groups[name] = key
                                })
                            }), rules = this.settings.rules, $.each(rules, function(key, value) {
                                rules[key] = $.validator.normalizeRule(value)
                            }),
                            $(this.currentForm).on(
                                "focusin.validate focusout.validate keyup.validate",
                                ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",
                                delegate).on(
                                "click.validate", "select, option, [type='radio'], [type='checkbox']", delegate),
                            this.settings.invalidHandler && $(this.currentForm).on("invalid-form.validate", this.settings.invalidHandler),
                            $(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required", "true")
                    },
                    "form": function() {
                        return this.checkForm(),
                            $.extend(this.submitted, this.errorMap),
                            this.invalid = $.extend({}, this.errorMap),
                            this.valid() || $(this.currentForm).triggerHandler("invalid-form", [this]),
                            this.showErrors(),
                            this.valid()
                    },
                    "checkForm": function() {
                        this.prepareForm();
                        for (
                            var i = 0, elements = this.currentElements = this.elements(); elements[i]; i++
                        ) this.check(elements[i])
                        ;
                        return this.valid()
                    },
                    "element": function(
                        element) {
                        var cleanElement = this.clean(element),
                            checkElement = this.validationTargetFor(cleanElement),
                            result = !0;
                        return (
                                this.lastElement = checkElement
                            ) === undefined ? delete this.invalid[cleanElement.name] : (
                                this.prepareElement(checkElement),
                                this.currentElements = $(checkElement), (
                                    result = !1 !== this.check(checkElement)
                                ) ? delete this.invalid[checkElement.name] : this.invalid[checkElement.name] = !0),
                            $(element).attr("aria-invalid", !result),
                            this.numberOfInvalids() || (
                                this.toHide = this.toHide.add(this.containers)),
                            this.showErrors(),
                            result
                    },
                    "showErrors": function(
                        errors) {
                        if (
                            errors) {
                            for (
                                var name in $.extend(this.errorMap, errors), this.errorList = [], errors
                            ) this.errorList.push({
                                "message": errors[name],
                                "element": this.findByName(name)[0]
                            })
                            ;
                            this.successList = $.grep(this.successList, function(element) {
                                return !(
                                    element.name in errors)
                            })
                        }
                        this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList
                        ) : this.defaultShowErrors()
                    },
                    "resetForm": function() {
                        $.fn.resetForm && $(this.currentForm).resetForm(),
                            this.submitted = {},
                            this.lastElement = null,
                            this.prepareForm(),
                            this.hideErrors();
                        var i, elements = this.elements().removeData(
                            "previousValue").removeAttr(
                            "aria-invalid");
                        if (
                            this.settings.unhighlight)
                            for (
                                i = 0; elements[i]; i++
                            ) this.settings.unhighlight.call(this, elements[i],
                                this.settings.errorClass, ""
                            );
                        else elements.removeClass(this.settings.errorClass)
                    },
                    "numberOfInvalids": function() {
                        return this.objectLength(this.invalid)
                    },
                    "objectLength": function(
                        obj) {
                        var i, count = 0;
                        for (
                            i in obj
                        ) count++
                        ;
                        return count
                    },
                    "hideErrors": function() {
                        this.hideThese(this.toHide)
                    },
                    "hideThese": function(
                        errors) {
                        errors.not(this.containers).text(""),
                            this.addWrapper(errors).hide()
                    },
                    "valid": function() {
                        return 0 === this.size()
                    },
                    "size": function() {
                        return this.errorList.length
                    },
                    "focusInvalid": function() {
                        if (
                            this.settings.focusInvalid) try {
                            $(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(
                                ":visible").focus().trigger(
                                "focusin")
                        } catch (
                            e) {}
                    },
                    "findLastActive": function() {
                        var lastActive = this.lastActive
                        ;
                        return lastActive && 1 === $.grep(this.errorList, function(n) {
                            return n.element.name === lastActive.name
                        }).length && lastActive
                    },
                    "elements": function() {
                        var validator = this,
                            rulesCache = {}
                        ;
                        return $(this.currentForm).find(
                            "input, select, textarea").not(
                            ":submit, :reset, :image, :disabled").not(
                            this.settings.ignore).filter(function() {
                            return !this.name && validator.settings.debug && window.console && console.error("%o has no name assigned", this), !(
                                this.name in rulesCache || !validator.objectLength($(this).rules())) && (
                                rulesCache[this.name] = !0)
                        })
                    },
                    "clean": function(
                        selector) {
                        return $(selector)[0]
                    },
                    "errors": function() {
                        var errorClass = this.settings.errorClass.split(" ").join(".");
                        return $(this.settings.errorElement + "." + errorClass, this.errorContext)
                    },
                    "reset": function() {
                        this.successList = [],
                            this.errorList = [],
                            this.errorMap = {},
                            this.toShow = $([]),
                            this.toHide = $([]),
                            this.currentElements = $([])
                    },
                    "prepareForm": function() {
                        this.reset(),
                            this.toHide = this.errors().add(this.containers)
                    },
                    "prepareElement": function(
                        element) {
                        this.reset(),
                            this.toHide = this.errorsFor(element)
                    },
                    "elementValue": function(
                        element) {
                        var val,
                            $element = $(element),
                            type = element.type
                        ;
                        return "radio" === type || "checkbox" === type ? this.findByName(element.name).filter(":checked").val(
                        ) : "number" === type && "undefined" != typeof element.validity ? !element.validity.badInput && $element.val(
                        ) : "string" == typeof(val = $element.val()) ? val.replace(/\r/g, ""
                        ) : val
                    },
                    "check": function(
                        element) {
                        element = this.validationTargetFor(this.clean(element))
                        ;
                        var result, method, rule, rules = $(element).rules(),
                            rulesCount = $.map(rules, function(n, i) {
                                return i
                            }).length,
                            dependencyMismatch = !1,
                            val = this.elementValue(element);
                        for (
                            method in rules) {
                            rule = {
                                "method": method,
                                "parameters": rules[method]
                            };
                            try {
                                if (
                                    "dependency-mismatch" === (result = $.validator.methods[method].call(this, val, element, rule.parameters)) && 1 === rulesCount) {
                                    dependencyMismatch = !0;
                                    continue
                                }
                                if (
                                    dependencyMismatch = !1,
                                    "pending" === result) return void(
                                    this.toHide = this.toHide.not(this.errorsFor(element))
                                );
                                if (
                                    !result
                                ) return this.formatAndAdd(element, rule), !1
                            } catch (
                                e) {
                                throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + element.id + ", check the '" + rule.method + "' method.", e),
                                    e instanceof TypeError && (
                                        e.message += ".  Exception occurred when checking element " + element.id + ", check the '" + rule.method + "' method."),
                                    e
                            }
                        }
                        if (
                            !dependencyMismatch
                        ) return this.objectLength(rules) && this.successList.push(element),
                            !0
                    },
                    "customDataMessage": function(
                        element, method) {
                        return $(element).data("msg" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase()) || $(element).data("msg")
                    },
                    "customMessage": function(
                        name, method) {
                        var m = this.settings.messages[name];
                        return m && (m.constructor === String ? m : m[method])
                    },
                    "findDefined": function() {
                        for (
                            var i = 0; i < arguments.length; i++)
                            if (
                                arguments[i] !== undefined
                            ) return arguments[i]
                            ;
                        return undefined
                    },
                    "defaultMessage": function(
                        element, method) {
                        return this.findDefined(
                            this.customMessage(element.name, method),
                            this.customDataMessage(element, method),
                            !this.settings.ignoreTitle && element.title || undefined,
                            $.validator.messages[method],
                            "<strong>Warning: No message defined for " + element.name + "</strong>")
                    },
                    "formatAndAdd": function(
                        element, rule) {
                        var message = this.defaultMessage(element, rule.method),
                            theregex = /\$?\{(\d+)\}/g
                        ;
                        "function" == typeof message ? message = message.call(this, rule.parameters, element) : theregex.test(message) && (
                                message = $.validator.format(message.replace(theregex, "{$1}"), rule.parameters)),
                            this.errorList.push({
                                "message": message,
                                "element": element,
                                "method": rule.method
                            }),
                            this.errorMap[element.name] = message,
                            this.submitted[element.name] = message
                    },
                    "addWrapper": function(
                        toToggle) {
                        return this.settings.wrapper && (
                                toToggle = toToggle.add(toToggle.parent(this.settings.wrapper))),
                            toToggle
                    },
                    "defaultShowErrors": function() {
                        var i, elements, error;
                        for (
                            i = 0; this.errorList[i]; i++
                        ) error = this.errorList[i],
                            this.settings.highlight && this.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass),
                            this.showLabel(error.element, error.message);
                        if (
                            this.errorList.length && (
                                this.toShow = this.toShow.add(this.containers)),
                            this.settings.success)
                            for (
                                i = 0; this.successList[i]; i++
                            ) this.showLabel(this.successList[i]);
                        if (
                            this.settings.unhighlight)
                            for (
                                i = 0, elements = this.validElements(); elements[i]; i++
                            ) this.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass)
                        ;
                        this.toHide = this.toHide.not(this.toShow),
                            this.hideErrors(),
                            this.addWrapper(this.toShow).show()
                    },
                    "validElements": function() {
                        return this.currentElements.not(this.invalidElements())
                    },
                    "invalidElements": function() {
                        return $(this.errorList).map(function() {
                            return this.element
                        })
                    },
                    "showLabel": function(
                        element, message) {
                        var place, group, errorID,
                            error = this.errorsFor(element),
                            elementID = this.idOrName(element),
                            describedBy = $(element).attr("aria-describedby");
                        error.length ? (
                                error.removeClass(this.settings.validClass).addClass(this.settings.errorClass),
                                error.html(message)) : (
                                place = error = $("<" + this.settings.errorElement + ">").attr("id", elementID + "-error").addClass(this.settings.errorClass).html(message || ""),
                                this.settings.wrapper && (
                                    place = error.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()),
                                this.labelContainer.length ? this.labelContainer.append(place
                                ) : this.settings.errorPlacement ? this.settings.errorPlacement(place, $(element)
                                ) : place.insertAfter(element),
                                error.is("label"
                                ) ? error.attr("for", elementID) : 0 === error.parents("label[for='" + elementID + "']").length && (
                                    errorID = error.attr("id").replace(/(:|\.|\[|\]|\$)/g, "\\$1"),
                                    describedBy ? describedBy.match(new RegExp("\\b" + errorID + "\\b")) || (
                                        describedBy += " " + errorID) : describedBy = errorID,
                                    $(element).attr("aria-describedby", describedBy), (
                                        group = this.groups[element.name]
                                    ) && $.each(this.groups, function(name, testgroup) {
                                        testgroup === group && $("[name='" + name + "']", this.currentForm).attr(
                                            "aria-describedby", error.attr("id"))
                                    }))),
                            !message && this.settings.success && (
                                error.text(""),
                                "string" == typeof this.settings.success ? error.addClass(this.settings.success
                                ) : this.settings.success(error, element)),
                            this.toShow = this.toShow.add(error)
                    },
                    "errorsFor": function(
                        element) {
                        var name = this.idOrName(element),
                            describer = $(element).attr("aria-describedby"),
                            selector = "label[for='" + name + "'], label[for='" + name + "'] *"
                        ;
                        return describer && (
                                selector = selector + ", #" + describer.replace(/\s+/g, ", #")),
                            this.errors().filter(
                                selector)
                    },
                    "idOrName": function(
                        element) {
                        return this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name)
                    },
                    "validationTargetFor": function(
                        element) {
                        return this.checkable(element) && (
                                element = this.findByName(element.name)),
                            $(element).not(this.settings.ignore)[0]
                    },
                    "checkable": function(
                        element) {
                        return /radio|checkbox/i.test(element.type)
                    },
                    "findByName": function(
                        name) {
                        return $(this.currentForm).find("[name='" + name + "']")
                    },
                    "getLength": function(
                        value, element) {
                        switch (
                            element.nodeName.toLowerCase()) {
                            case "select":
                                return $("option:selected", element).length;
                            case "input":
                                if (
                                    this.checkable(element)
                                ) return this.findByName(element.name).filter(":checked").length
                        }
                        return value.length
                    },
                    "depend": function(
                        param, element) {
                        return !this.dependTypes[typeof param] || this.dependTypes[typeof param](param, element)
                    },
                    "dependTypes": {
                        "boolean": function(
                            param) {
                            return param
                        },
                        "string": function(
                            param, element) {
                            return !!$(param, element.form).length
                        },
                        "function": function(
                            param, element) {
                            return param(element)
                        }
                    },
                    "optional": function(
                        element) {
                        var val = this.elementValue(element);
                        return !$.validator.methods.required.call(this, val, element) && "dependency-mismatch"
                    },
                    "startRequest": function(
                        element) {
                        this.pending[element.name] || (
                            this.pendingRequest++,
                            this.pending[element.name] = !0)
                    },
                    "stopRequest": function(
                        element, valid) {
                        this.pendingRequest--,
                            this.pendingRequest < 0 && (
                                this.pendingRequest = 0),
                            delete this.pending[element.name],
                            valid && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (
                                $(this.currentForm).submit(),
                                this.formSubmitted = !1
                            ) : !valid && 0 === this.pendingRequest && this.formSubmitted && (
                                $(this.currentForm).triggerHandler("invalid-form", [this]),
                                this.formSubmitted = !1)
                    },
                    "previousValue": function(
                        element) {
                        return $.data(element, "previousValue") || $.data(element, "previousValue", {
                            "old": null,
                            "valid": !0,
                            "message": this.defaultMessage(element, "remote")
                        })
                    },
                    "destroy": function() {
                        this.resetForm(),
                            $(this.currentForm).off(
                                ".validate").removeData(
                                "validator")
                    }
                },
                "classRuleSettings": {
                    "required": {
                        "required": !0
                    },
                    "email": {
                        "email": !0
                    },
                    "url": {
                        "url": !0
                    },
                    "date": {
                        "date": !0
                    },
                    "dateISO": {
                        "dateISO": !0
                    },
                    "number": {
                        "number": !0
                    },
                    "digits": {
                        "digits": !0
                    },
                    "creditcard": {
                        "creditcard": !0
                    }
                },
                "addClassRules": function(
                    className, rules) {
                    className.constructor === String ? this.classRuleSettings[className] = rules : $.extend(this.classRuleSettings, className)
                },
                "classRules": function(
                    element) {
                    var rules = {},
                        classes = $(element).attr("class")
                    ;
                    return classes && $.each(classes.split(" "), function() {
                            this in $.validator.classRuleSettings && $.extend(rules, $.validator.classRuleSettings[this])
                        }),
                        rules
                },
                "normalizeAttributeRule": function(
                    rules, type, method, value) {
                    /min|max/.test(method) && (null === type || /number|range|text/.test(type)) && (
                            value = Number(value),
                            isNaN(value) && (
                                value = undefined)),
                        value || 0 === value ? rules[method] = value : type === method && "range" !== type && (
                            rules[method] = !0)
                },
                "attributeRules": function(
                    element) {
                    var method, value, rules = {},
                        $element = $(element),
                        type = element.getAttribute("type");
                    for (
                        method in $.validator.methods
                    ) "required" === method ? (
                            "" === (value = element.getAttribute(method)) && (
                                value = !0),
                            value = !!value
                        ) : value = $element.attr(method),
                        this.normalizeAttributeRule(rules, type, method, value)
                    ;
                    return rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength) && delete rules.maxlength,
                        rules
                },
                "dataRules": function(
                    element) {
                    var method, value, rules = {},
                        $element = $(element),
                        type = element.getAttribute("type");
                    for (
                        method in $.validator.methods
                    ) value = $element.data("rule" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase()),
                        this.normalizeAttributeRule(rules, type, method, value)
                    ;
                    return rules
                },
                "staticRules": function(
                    element) {
                    var rules = {},
                        validator = $.data(element.form, "validator")
                    ;
                    return validator.settings.rules && (
                            rules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {}),
                        rules
                },
                "normalizeRules": function(
                    rules, element) {
                    return $.each(rules, function(prop, val) {
                            if (
                                !1 !== val) {
                                if (
                                    val.param || val.depends) {
                                    var keepRule = !0;
                                    switch (
                                        typeof val.depends) {
                                        case "string":
                                            keepRule = !!$(val.depends, element.form).length;
                                            break;
                                        case "function":
                                            keepRule = val.depends.call(element, element)
                                    }
                                    keepRule ? rules[prop] = val.param === undefined || val.param : delete rules[prop]
                                }
                            } else delete rules[prop]
                        }),
                        $.each(rules, function(rule, parameter) {
                            rules[rule] = $.isFunction(parameter) ? parameter(element) : parameter
                        }),
                        $.each(["minlength", "maxlength"], function() {
                            rules[this] && (
                                rules[this] = Number(rules[this]))
                        }),
                        $.each(["rangelength", "range"], function() {
                            var parts;
                            rules[this] && (
                                $.isArray(rules[this]) ? rules[this] = [Number(rules[this][0]), Number(rules[this][1])] : "string" == typeof rules[this] && (
                                    parts = rules[this].replace(/[\[\]]/g, "").split(/[\s,]+/),
                                    rules[this] = [Number(parts[0]), Number(parts[1])]))
                        }),
                        $.validator.autoCreateRanges && (
                            null != rules.min && null != rules.max && (
                                rules.range = [rules.min, rules.max],
                                delete rules.min,
                                delete rules.max),
                            null != rules.minlength && null != rules.maxlength && (
                                rules.rangelength = [rules.minlength, rules.maxlength],
                                delete rules.minlength,
                                delete rules.maxlength)),
                        rules
                },
                "normalizeRule": function(
                    data) {
                    if (
                        "string" == typeof data) {
                        var transformed = {};
                        $.each(data.split(/\s/), function() {
                                transformed[this] = !0
                            }),
                            data = transformed
                    }
                    return data
                },
                "addMethod": function(
                    name, method, message) {
                    $.validator.methods[name] = method,
                        $.validator.messages[name] = message !== undefined ? message : $.validator.messages[name],
                        method.length < 3 && $.validator.addClassRules(name, $.validator.normalizeRule(name))
                },
                "methods": {
                    "required": function(
                        value, element, param) {
                        if (
                            !this.depend(param, element)
                        ) return "dependency-mismatch";
                        if (
                            "select" !== element.nodeName.toLowerCase()
                        ) return this.checkable(element) ? 0 < this.getLength(value, element
                        ) : 0 < value.length;
                        var val = $(element).val();
                        return val && 0 < val.length
                    },
                    "email": function(
                        value, element) {
                        return this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value)
                    },
                    "url": function(
                        value, element) {
                        return this.optional(element) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value)
                    },
                    "date": function(
                        value, element) {
                        return this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString())
                    },
                    "dateISO": function(
                        value, element) {
                        return this.optional(element) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)
                    },
                    "number": function(
                        value, element) {
                        return this.optional(element) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)
                    },
                    "digits": function(
                        value, element) {
                        return this.optional(element) || /^\d+$/.test(value)
                    },
                    "creditcard": function(
                        value, element) {
                        if (
                            this.optional(element)
                        ) return "dependency-mismatch";
                        if (
                            /[^0-9 \-]+/.test(value)
                        ) return !1
                        ;
                        var n, cDigit, nCheck = 0,
                            nDigit = 0,
                            bEven = !1;
                        if ((
                                value = value.replace(/\D/g, "")
                            ).length < 13 || 19 < value.length) return !1;
                        for (
                            n = value.length - 1; 0 <= n; n--
                        ) cDigit = value.charAt(n),
                            nDigit = parseInt(cDigit, 10),
                            bEven && 9 < (nDigit *= 2) && (
                                nDigit -= 9),
                            nCheck += nDigit,
                            bEven = !bEven
                        ;
                        return nCheck % 10 == 0
                    },
                    "minlength": function(
                        value, element, param) {
                        var length = $.isArray(value) ? value.length : this.getLength(value, element);
                        return this.optional(element) || param <= length
                    },
                    "maxlength": function(
                        value, element, param) {
                        var length = $.isArray(value) ? value.length : this.getLength(value, element);
                        return this.optional(element) || length <= param
                    },
                    "rangelength": function(
                        value, element, param) {
                        var length = $.isArray(value) ? value.length : this.getLength(value, element);
                        return this.optional(element) || length >= param[0] && length <= param[1]
                    },
                    "min": function(
                        value, element, param) {
                        return this.optional(element) || param <= value
                    },
                    "max": function(
                        value, element, param) {
                        return this.optional(element) || value <= param
                    },
                    "range": function(
                        value, element, param) {
                        return this.optional(element) || value >= param[0] && value <= param[1]
                    },
                    "equalTo": function(
                        value, element, param) {
                        var target = $(param)
                        ;
                        return this.settings.onfocusout && target.off(".validate-equalTo").on("blur.validate-equalTo", function() {
                                $(element).valid()
                            }),
                            value === target.val()
                    },
                    "remote": function(
                        value, element, param) {
                        if (
                            this.optional(element)
                        ) return "dependency-mismatch"
                        ;
                        var validator, data, previous = this.previousValue(element)
                        ;
                        return this.settings.messages[element.name] || (
                                this.settings.messages[element.name] = {}),
                            previous.originalMessage = this.settings.messages[element.name].remote,
                            this.settings.messages[element.name].remote = previous.message,
                            param = "string" == typeof param && {
                                "url": param
                            } || param,
                            previous.old === value ? previous.valid : (
                                previous.old = value, (
                                    validator = this
                                ).startRequest(element), (
                                    data = {}
                                )[element.name] = value,
                                $.ajax($.extend(!0, {
                                        "mode": "abort",
                                        "port": "validate" + element.name,
                                        "dataType": "json",
                                        "data": data,
                                        "context": validator.currentForm,
                                        "success": function(
                                            response) {
                                            var errors, message, submitted, valid = !0 === response || "true" === response
                                            ;
                                            validator.settings.messages[element.name].remote = previous.originalMessage,
                                                valid ? (
                                                    submitted = validator.formSubmitted,
                                                    validator.prepareElement(element),
                                                    validator.formSubmitted = submitted,
                                                    validator.successList.push(element),
                                                    delete validator.invalid[element.name],
                                                    validator.showErrors()) : (
                                                    errors = {},
                                                    message = response || validator.defaultMessage(element, "remote"),
                                                    errors[element.name] = previous.message = $.isFunction(message) ? message(value) : message,
                                                    validator.invalid[element.name] = !0,
                                                    validator.showErrors(errors)),
                                                previous.valid = valid,
                                                validator.stopRequest(element, valid)
                                        }
                                    },
                                    param)),
                                "pending")
                    }
                }
            })
        ;
        var ajax, pendingRequests = {}
        ;
        $.ajaxPrefilter ? $.ajaxPrefilter(function(settings, _, xhr) {
            var port = settings.port;
            "abort" === settings.mode && (
                pendingRequests[port] && pendingRequests[port].abort(),
                pendingRequests[port] = xhr)
        }) : (
            ajax = $.ajax,
            $.ajax = function(settings) {
                var mode = ("mode" in settings ? settings : $.ajaxSettings).mode,
                    port = ("port" in settings ? settings : $.ajaxSettings).port;
                return "abort" === mode ? (
                    pendingRequests[port] && pendingRequests[port].abort(),
                    pendingRequests[port] = ajax.apply(this, arguments),
                    pendingRequests[port]
                ) : ajax.apply(this, arguments)
            })
    }),
    function(
        root, factory) {
        "function" == typeof define && define.amd ? define([], factory
        ) : "object" == typeof exports ? module.exports = factory(
        ) : root.Layzr = factory()
    }(
        this,
        function() {
            "use strict"
            ;
            function Layzr(options) {
                this._lastScroll = 0,
                    this._ticking = !1,
                    options = options || {},
                    this._optionsContainer = document.querySelector(options.container) || window,
                    this._optionsSelector = options.selector || "[data-layzr]",
                    this._optionsAttr = options.attr || "data-layzr",
                    this._optionsAttrRetina = options.retinaAttr || "data-layzr-retina",
                    this._optionsAttrBg = options.bgAttr || "data-layzr-bg",
                    this._optionsAttrHidden = options.hiddenAttr || "data-layzr-hidden",
                    this._optionsThreshold = options.threshold || 0,
                    this._optionsCallback = options.callback || null,
                    this._retina = 1 < window.devicePixelRatio,
                    this._srcAttr = this._retina ? this._optionsAttrRetina : this._optionsAttr,
                    this._nodes = document.querySelectorAll(this._optionsSelector),
                    this._create()
            }
            return Layzr.prototype._requestScroll = function() {
                    this._optionsContainer === window ? this._lastScroll = window.scrollY || window.pageYOffset : this._lastScroll = this._optionsContainer.scrollTop + this._getOffset(this._optionsContainer),
                        this._requestTick()
                },
                Layzr.prototype._requestTick = function() {
                    this._ticking || (
                        requestAnimationFrame(this.update.bind(this)),
                        this._ticking = !0)
                },
                Layzr.prototype._getOffset = function(element) {
                    for (
                        var offsetTop = 0; isNaN(element.offsetTop) || (
                            offsetTop += element.offsetTop),
                        element = element.offsetParent;);
                    return offsetTop
                },
                Layzr.prototype._getContainerHeight = function() {
                    return this._optionsContainer.innerHeight || this._optionsContainer.offsetHeight
                },
                Layzr.prototype._create = function() {
                    this._requestScroll(),
                        this._optionsContainer.addEventListener("scroll", this._requestScroll.bind(this), !1),
                        this._optionsContainer.addEventListener("resize", this._requestScroll.bind(this), !1)
                },
                Layzr.prototype._destroy = function() {
                    this._optionsContainer.removeEventListener("scroll", this._requestScroll.bind(this), !1),
                        this._optionsContainer.removeEventListener("resize", this._requestScroll.bind(this), !1)
                },
                Layzr.prototype._inViewport = function(node) {
                    var viewportTop = this._lastScroll,
                        viewportBottom = viewportTop + this._getContainerHeight(),
                        elementTop = this._getOffset(node),
                        elementBottom = elementTop + this._getContainerHeight(),
                        threshold = this._optionsThreshold / 100 * window.innerHeight
                    ;
                    return viewportTop - threshold <= elementBottom && elementTop <= viewportBottom + threshold && !node.hasAttribute(this._optionsAttrHidden)
                },
                Layzr.prototype._reveal = function(node) {
                    var source = node.getAttribute(this._srcAttr) || node.getAttribute(this._optionsAttr)
                    ;
                    node.hasAttribute(this._optionsAttrBg
                        ) ? node.style.backgroundImage = "url(" + source + ")" : node.setAttribute("src", source),
                        "function" == typeof this._optionsCallback && this._optionsCallback.call(node),
                        node.removeAttribute(this._optionsAttr),
                        node.removeAttribute(this._optionsAttrRetina),
                        node.removeAttribute(this._optionsAttrBg),
                        node.removeAttribute(this._optionsAttrHidden)
                },
                Layzr.prototype.updateSelector = function() {
                    this._nodes = document.querySelectorAll(this._optionsSelector)
                },
                Layzr.prototype.update = function() {
                    for (
                        var nodesLength = this._nodes.length,
                            i = 0; i < nodesLength; i++) {
                        var node = this._nodes[i]
                        ;
                        node.hasAttribute(this._optionsAttr
                        ) && this._inViewport(node
                        ) && this._reveal(node)
                    }
                    this._ticking = !1
                },
                Layzr
        }),
    function(
    ) {}.call(
        this),
    function() {
        Hs.Ready = function() {
            function Ready() {}
            return Ready.trigger = function() {
                    var homestay_ready_event;
                    return (
                            homestay_ready_event = document.createEvent("Event")
                        ).initEvent("hs_ready", !0, !0),
                        document.dispatchEvent(homestay_ready_event),
                        $("body").addClass("hs-page-ready")
                },
                Ready
        }()
    }.call(
        this),
    function() {
        Hs.Util.Addthis = function() {
            function Addthis() {}
            return Addthis.addCustomButtonListener = function() {
                    return $("a.social").click(function(evt) {
                        var $link, windowFeatures;
                        return $link = $(this),
                            Hs.GTM.trackCustomEvent($link.attr("data-social"), $link.attr("data-share-url"), "addthis"),
                            evt.preventDefault(),
                            windowFeatures = "menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=620,height=468",
                            window.open($link.attr("href"), "social", windowFeatures).focus()
                    })
                },
                Addthis
        }()
    }.call(
        this),
    function() {
        Hs.Util.CountdownClock = function() {
            function CountdownClock(startTimeInMilliseconds) {
                this.startCountDown(startTimeInMilliseconds)
            }
            return CountdownClock.prototype.startCountDown = function(milliseconds) {
                    return this.countDownDate = moment().add(milliseconds)
                },
                CountdownClock.prototype.pause = function() {
                    return this.pausedAt = this.timeLeft()
                },
                CountdownClock.prototype.resume = function() {
                    return this.startCountDown(this.pausedAt),
                        this.pausedAt = void 0
                },
                CountdownClock.prototype.hasFinished = function() {
                    return this.timeLeft() <= 0
                },
                CountdownClock.prototype.hasPaused = function() {
                    return void 0 !== this.pausedAt
                },
                CountdownClock.prototype.clock = function() {
                    return moment.utc(this.pausedAt || this.timeLeft()).format("mm:ss")
                },
                CountdownClock.prototype.timeLeft = function() {
                    var diff;
                    return (
                        diff = this.countDownDate.diff(moment())
                    ) < 0 ? 0 : diff
                },
                CountdownClock
        }()
    }.call(
        this),
    function() {
        Hs.Util.Currency = function() {
            function Currency() {}
            return Currency.formatPriceTiny = function(amount, isoCode) {
                    return this.formatDecimalPriceTiny(this.amountAsSubmitToUnit(amount, isoCode), isoCode)
                },
                Currency.formatPriceTinyAsText = function(amount, isoCode) {
                    return this.formatDecimalPriceTinyAsText(this.amountAsSubmitToUnit(amount, isoCode), isoCode)
                },
                Currency.formatDecimalPriceTinyAsText = function(decimalAmount, isoCode) {
                    var currency, displayAmount;
                    return currency = this.Currencies[isoCode],
                        displayAmount = I18n.toNumber(decimalAmount, {
                            "precision": 0
                        }),
                        currency.symbol_first ? "" + currency.symbol + displayAmount : "" + displayAmount + currency.symbol
                },
                Currency.formatDecimalPriceTiny = function(decimalAmount, isoCode) {
                    var currency, displayAmount;
                    currency = this.Currencies[isoCode],
                        displayAmount = I18n.toNumber(decimalAmount, {
                            "precision": 0
                        });
                    try {
                        return currency.symbol_first ? '<span class="price-amount"><span class="currency_symbol">' + currency.symbol + "</span>" + displayAmount + "</span>" : '<span class="price-amount">' + displayAmount + '<span class="currency_symbol">' + currency.symbol + "</span></span>"
                    } catch (
                        error) {
                        return trackJs.track("symbol_first called on nil currency. ISO code was " + isoCode)
                    }
                },
                Currency.amountAsSubmitToUnit = function(amount, isoCode) {
                    var subunit_to_unit;
                    return subunit_to_unit = this.SpecialCurrencySubunits[isoCode] || 100,
                        Math.floor(amount / subunit_to_unit)
                },
                Currency.formatDecimalPriceFull = function(decimalAmount, isoCode) {
                    var amount
                    ;
                    return amount = decimalAmount * (this.SpecialCurrencySubunits[isoCode] || 100),
                        this.formatPriceFull(amount, isoCode)
                },
                Currency.formatPriceRoundTo5Units = function(amount, isoCode) {
                    var decimalAmount
                    ;
                    return decimalAmount = amount / (this.SpecialCurrencySubunits[isoCode] || 100),
                        this.formatDecimalPriceRoundTo5Units(decimalAmount, isoCode)
                },
                Currency.formatDecimalPriceRoundTo5Units = function(decimalAmount, isoCode) {
                    var amount, subunit_to_unit;
                    return subunit_to_unit = this.SpecialCurrencySubunits[isoCode] || 100,
                        amount = 5 * Math.round(decimalAmount / 5) * subunit_to_unit,
                        this.formatPriceFull(amount, isoCode, !0)
                },
                Currency.formatPriceFull = function(amount, isoCode, withoutDecimal, withoutCurrencyCode) {
                    var currency, displayAmount, str, subunit_to_unit;
                    return null == withoutDecimal && (
                            withoutDecimal = !1),
                        null == withoutCurrencyCode && (
                            withoutCurrencyCode = !1),
                        currency = this.Currencies[isoCode],
                        subunit_to_unit = this.SpecialCurrencySubunits[isoCode] || 100,
                        displayAmount = I18n.toNumber(amount / subunit_to_unit, {
                            "precision": subunit_to_unit.toString().length - 1
                        }),
                        withoutDecimal && (
                            displayAmount = displayAmount.replace(/\.(.+)/g, "")),
                        str = currency.symbol_first ? '<span class="price-amount"><span class="currency_symbol">' + currency.symbol + "</span>" + displayAmount + "</span>" : '<span class="price-amount">' + displayAmount + '<span class="currency_symbol">' + currency.symbol + "</span></span>",
                        withoutCurrencyCode || (
                            str += ' <span class="currency-isoCode">' + isoCode + "</span>"),
                        str
                },
                Currency.formatPriceTinyWithData = function(className, amount, isoCode) {
                    return $("<strong/>").addClass(className).html(Currency.formatPriceTiny(amount, isoCode)).attr("data-currency-code", isoCode).attr("data-format", "no-cents").attr("data-price", "").attr("data-amount", amount)
                },
                Currency.formatPriceFullWithData = function(className, amount, isoCode) {
                    return $("<strong/>").addClass(className).html(Currency.formatPriceFull(amount, isoCode)).attr("data-currency-code", isoCode).attr("data-format", "full").attr("data-price", "").attr("data-amount", amount)
                },
                Currency.SpecialCurrencySubunits = {
                    "BHD": 1e3,
                    "BTC": 1e8,
                    "BYR": 1,
                    "CLF": 1,
                    "IQD": 1e3,
                    "ISK": 1,
                    "JPY": 1,
                    "KWD": 1e3,
                    "LYD": 1e3,
                    "MGA": 5,
                    "MRO": 5,
                    "OMR": 1e3,
                    "TND": 1e3,
                    "VND": 1,
                    "VUV": 1,
                    "XAG": 1,
                    "XAU": 1,
                    "XDR": 1
                },
                Currency.Currencies = {
                    "AED": {
                        "symbol": "\u062f.\u0625",
                        "symbol_first": !0
                    },
                    "AFN": {
                        "symbol": "\u060b",
                        "symbol_first": !1
                    },
                    "ALL": {
                        "symbol": "L",
                        "symbol_first": !1
                    },
                    "AMD": {
                        "symbol": "\u0564\u0580.",
                        "symbol_first": !1
                    },
                    "ANG": {
                        "symbol": "\u0192",
                        "symbol_first": !0
                    },
                    "AOA": {
                        "symbol": "Kz",
                        "symbol_first": !1
                    },
                    "ARS": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "AUD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "AWG": {
                        "symbol": "\u0192",
                        "symbol_first": !1
                    },
                    "AZN": {
                        "symbol": "",
                        "symbol_first": !0
                    },
                    "BAM": {
                        "symbol": "\u041a\u041c",
                        "symbol_first": !0
                    },
                    "BBD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "BDT": {
                        "symbol": "\u09f3",
                        "symbol_first": !0
                    },
                    "BGN": {
                        "symbol": "\u043b\u0432",
                        "symbol_first": !1
                    },
                    "BHD": {
                        "symbol": "\u0628.\u062f",
                        "symbol_first": !0
                    },
                    "BIF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "BMD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "BND": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "BOB": {
                        "symbol": "Bs.",
                        "symbol_first": !0
                    },
                    "BRL": {
                        "symbol": "R$ ",
                        "symbol_first": !0
                    },
                    "BSD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "BTC": {
                        "symbol": "\u0243",
                        "symbol_first": !0
                    },
                    "BTN": {
                        "symbol": "Nu.",
                        "symbol_first": !1
                    },
                    "BWP": {
                        "symbol": "P",
                        "symbol_first": !0
                    },
                    "BYR": {
                        "symbol": "Br",
                        "symbol_first": !1
                    },
                    "BZD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "BYN": {
                        "symbol": "Br",
                        "symbol_first": !1
                    },
                    "CAD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "CDF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "CHF": {
                        "symbol": "Fr",
                        "symbol_first": !0
                    },
                    "CLF": {
                        "symbol": "UF",
                        "symbol_first": !0
                    },
                    "CLP": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "CNY": {
                        "symbol": "\xa5",
                        "symbol_first": !0
                    },
                    "COP": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "CRC": {
                        "symbol": "\u20a1",
                        "symbol_first": !0
                    },
                    "CUC": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "CVE": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "CZK": {
                        "symbol": "K\u010d",
                        "symbol_first": !0
                    },
                    "DJF": {
                        "symbol": "Fdj",
                        "symbol_first": !1
                    },
                    "DKK": {
                        "symbol": "kr",
                        "symbol_first": !1
                    },
                    "DOP": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "DZD": {
                        "symbol": "\u062f.\u062c",
                        "symbol_first": !1
                    },
                    "EGP": {
                        "symbol": "\u062c.\u0645",
                        "symbol_first": !0
                    },
                    "ERN": {
                        "symbol": "Nfk",
                        "symbol_first": !1
                    },
                    "ETB": {
                        "symbol": "Br",
                        "symbol_first": !1
                    },
                    "EUR": {
                        "symbol": "\u20ac",
                        "symbol_first": !0
                    },
                    "FJD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "FKP": {
                        "symbol": "\xa3",
                        "symbol_first": !1
                    },
                    "GBP": {
                        "symbol": "\xa3",
                        "symbol_first": !0
                    },
                    "GEL": {
                        "symbol": "\u10da",
                        "symbol_first": !1
                    },
                    "GGP": {
                        "symbol": "\xa3",
                        "symbol_first": !0
                    },
                    "GHS": {
                        "symbol": "\u20b5",
                        "symbol_first": !0
                    },
                    "GIP": {
                        "symbol": "\xa3",
                        "symbol_first": !0
                    },
                    "GMD": {
                        "symbol": "D",
                        "symbol_first": !1
                    },
                    "GNF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "GTQ": {
                        "symbol": "Q",
                        "symbol_first": !0
                    },
                    "GYD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "HKD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "HNL": {
                        "symbol": "L",
                        "symbol_first": !0
                    },
                    "HRK": {
                        "symbol": "kn",
                        "symbol_first": !0
                    },
                    "HTG": {
                        "symbol": "G",
                        "symbol_first": !1
                    },
                    "HUF": {
                        "symbol": "Ft",
                        "symbol_first": !1
                    },
                    "IDR": {
                        "symbol": "Rp",
                        "symbol_first": !0
                    },
                    "ILS": {
                        "symbol": "\u20aa",
                        "symbol_first": !0
                    },
                    "IMP": {
                        "symbol": "\xa3",
                        "symbol_first": !0
                    },
                    "INR": {
                        "symbol": "\u20b9",
                        "symbol_first": !0
                    },
                    "IQD": {
                        "symbol": "\u0639.\u062f",
                        "symbol_first": !1
                    },
                    "IRR": {
                        "symbol": "\ufdfc",
                        "symbol_first": !0
                    },
                    "ISK": {
                        "symbol": "kr",
                        "symbol_first": !0
                    },
                    "JEP": {
                        "symbol": "\xa3",
                        "symbol_first": !0
                    },
                    "JMD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "JOD": {
                        "symbol": "\u062f.\u0627",
                        "symbol_first": !0
                    },
                    "JPY": {
                        "symbol": "\xa5",
                        "symbol_first": !0
                    },
                    "KES": {
                        "symbol": "KSh",
                        "symbol_first": !0
                    },
                    "KGS": {
                        "symbol": "som",
                        "symbol_first": !1
                    },
                    "KHR": {
                        "symbol": "\u17db",
                        "symbol_first": !1
                    },
                    "KMF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "KPW": {
                        "symbol": "\u20a9",
                        "symbol_first": !1
                    },
                    "KRW": {
                        "symbol": "\u20a9",
                        "symbol_first": !0
                    },
                    "KWD": {
                        "symbol": "\u062f.\u0643",
                        "symbol_first": !0
                    },
                    "KYD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "KZT": {
                        "symbol": "\u3012",
                        "symbol_first": !1
                    },
                    "LAK": {
                        "symbol": "\u20ad",
                        "symbol_first": !1
                    },
                    "LBP": {
                        "symbol": "\u0644.\u0644",
                        "symbol_first": !0
                    },
                    "LKR": {
                        "symbol": "\u20a8",
                        "symbol_first": !1
                    },
                    "LRD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "LSL": {
                        "symbol": "L",
                        "symbol_first": !1
                    },
                    "LYD": {
                        "symbol": "\u0644.\u062f",
                        "symbol_first": !1
                    },
                    "MAD": {
                        "symbol": "\u062f.\u0645.",
                        "symbol_first": !1
                    },
                    "MDL": {
                        "symbol": "L",
                        "symbol_first": !1
                    },
                    "MGA": {
                        "symbol": "Ar",
                        "symbol_first": !0
                    },
                    "MKD": {
                        "symbol": "\u0434\u0435\u043d",
                        "symbol_first": !1
                    },
                    "MMK": {
                        "symbol": "K",
                        "symbol_first": !1
                    },
                    "MNT": {
                        "symbol": "\u20ae",
                        "symbol_first": !1
                    },
                    "MOP": {
                        "symbol": "P",
                        "symbol_first": !1
                    },
                    "MRO": {
                        "symbol": "UM",
                        "symbol_first": !1
                    },
                    "MUR": {
                        "symbol": "\u20a8",
                        "symbol_first": !0
                    },
                    "MVR": {
                        "symbol": "MVR",
                        "symbol_first": !1
                    },
                    "MWK": {
                        "symbol": "MK",
                        "symbol_first": !1
                    },
                    "MXN": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "MYR": {
                        "symbol": "RM",
                        "symbol_first": !0
                    },
                    "MZN": {
                        "symbol": "MTn",
                        "symbol_first": !0
                    },
                    "NAD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "NGN": {
                        "symbol": "\u20a6",
                        "symbol_first": !1
                    },
                    "NIO": {
                        "symbol": "C$",
                        "symbol_first": !1
                    },
                    "NOK": {
                        "symbol": "kr",
                        "symbol_first": !0
                    },
                    "NPR": {
                        "symbol": "\u20a8",
                        "symbol_first": !0
                    },
                    "NZD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "OMR": {
                        "symbol": "\u0631.\u0639.",
                        "symbol_first": !0
                    },
                    "PAB": {
                        "symbol": "B/.",
                        "symbol_first": !1
                    },
                    "PEN": {
                        "symbol": "S/.",
                        "symbol_first": !0
                    },
                    "PGK": {
                        "symbol": "K",
                        "symbol_first": !1
                    },
                    "PHP": {
                        "symbol": "\u20b1",
                        "symbol_first": !0
                    },
                    "PKR": {
                        "symbol": "\u20a8",
                        "symbol_first": !0
                    },
                    "PLN": {
                        "symbol": "z\u0142",
                        "symbol_first": !1
                    },
                    "PYG": {
                        "symbol": "\u20b2",
                        "symbol_first": !0
                    },
                    "QAR": {
                        "symbol": "\u0631.\u0642",
                        "symbol_first": !1
                    },
                    "RON": {
                        "symbol": "Lei",
                        "symbol_first": !0
                    },
                    "RSD": {
                        "symbol": "\u0420\u0421\u0414",
                        "symbol_first": !0
                    },
                    "RUB": {
                        "symbol": "\u0440.",
                        "symbol_first": !1
                    },
                    "RWF": {
                        "symbol": "FRw",
                        "symbol_first": !1
                    },
                    "SAR": {
                        "symbol": "\u0631.\u0633",
                        "symbol_first": !0
                    },
                    "SBD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "SCR": {
                        "symbol": "\u20a8",
                        "symbol_first": !1
                    },
                    "SDG": {
                        "symbol": "\xa3",
                        "symbol_first": !0
                    },
                    "SEK": {
                        "symbol": "kr",
                        "symbol_first": !1
                    },
                    "SGD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "SHP": {
                        "symbol": "\xa3",
                        "symbol_first": !1
                    },
                    "SKK": {
                        "symbol": "Sk",
                        "symbol_first": !0
                    },
                    "SLL": {
                        "symbol": "Le",
                        "symbol_first": !1
                    },
                    "SOS": {
                        "symbol": "Sh",
                        "symbol_first": !1
                    },
                    "SRD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "SSP": {
                        "symbol": "\xa3",
                        "symbol_first": !1
                    },
                    "STD": {
                        "symbol": "Db",
                        "symbol_first": !1
                    },
                    "SVC": {
                        "symbol": "\u20a1",
                        "symbol_first": !0
                    },
                    "SYP": {
                        "symbol": "\xa3S",
                        "symbol_first": !1
                    },
                    "SZL": {
                        "symbol": "L",
                        "symbol_first": !0
                    },
                    "THB": {
                        "symbol": "\u0e3f",
                        "symbol_first": !0
                    },
                    "TJS": {
                        "symbol": "\u0405\u041c",
                        "symbol_first": !1
                    },
                    "TMM": {
                        "symbol": "m",
                        "symbol_first": !1
                    },
                    "TMT": {
                        "symbol": "m",
                        "symbol_first": !1
                    },
                    "TND": {
                        "symbol": "\u062f.\u062a",
                        "symbol_first": !1
                    },
                    "TOP": {
                        "symbol": "T$",
                        "symbol_first": !0
                    },
                    "TRY": {
                        "symbol": "TL",
                        "symbol_first": !1
                    },
                    "TTD": {
                        "symbol": "$",
                        "symbol_first": !1
                    },
                    "TWD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "TZS": {
                        "symbol": "Sh",
                        "symbol_first": !0
                    },
                    "UAH": {
                        "symbol": "\u20b4",
                        "symbol_first": !1
                    },
                    "UGX": {
                        "symbol": "USh",
                        "symbol_first": !1
                    },
                    "USD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "UYU": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "UZS": {
                        "symbol": "",
                        "symbol_first": !1
                    },
                    "VEF": {
                        "symbol": "Bs F",
                        "symbol_first": !0
                    },
                    "VND": {
                        "symbol": "\u20ab",
                        "symbol_first": !0
                    },
                    "VUV": {
                        "symbol": "Vt",
                        "symbol_first": !0
                    },
                    "WST": {
                        "symbol": "T",
                        "symbol_first": !1
                    },
                    "XAF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "XAG": {
                        "symbol": "oz t",
                        "symbol_first": !1
                    },
                    "XAU": {
                        "symbol": "oz t",
                        "symbol_first": !1
                    },
                    "XCD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "XDR": {
                        "symbol": "SDR",
                        "symbol_first": !1
                    },
                    "XOF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "XPF": {
                        "symbol": "Fr",
                        "symbol_first": !1
                    },
                    "YER": {
                        "symbol": "\ufdfc",
                        "symbol_first": !1
                    },
                    "ZAR": {
                        "symbol": "R",
                        "symbol_first": !0
                    },
                    "ZMK": {
                        "symbol": "ZK",
                        "symbol_first": !1
                    },
                    "ZMW": {
                        "symbol": "ZK",
                        "symbol_first": !1
                    },
                    "ZWD": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "ZWL": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "ZWN": {
                        "symbol": "$",
                        "symbol_first": !0
                    },
                    "ZWR": {
                        "symbol": "$",
                        "symbol_first": !0
                    }
                },
                Currency
        }()
    }.call(
        this),
    function() {
        Hs.Util.Date = function() {
            function Date() {}
            var HOMESTAY_FORMAT, HOMESTAY_FORMAT_WITHOUT_YEAR
            ;
            return HOMESTAY_FORMAT = "DD MMM YYYY",
                HOMESTAY_FORMAT_WITHOUT_YEAR = "DD MMMM",
                Date.formatDate = function(date) {
                    return date ? moment(date.toDateString()).format(HOMESTAY_FORMAT
                    ) : ""
                },
                Date.formatUTCDate = function(date) {
                    return date ? moment.utc(date.toUTCString()).format(HOMESTAY_FORMAT
                    ) : ""
                },
                Date.parseDate = function(date) {
                    var parsedDate
                    ;
                    return "" === date || void 0 === date ? moment(
                    )._d : "string" == typeof date ? (
                        parsedDate = moment.utc(date, HOMESTAY_FORMAT)
                    ).isValid() && 0 !== parsedDate.year() ? parsedDate._d : (
                        parsedDate = moment.utc(date, HOMESTAY_FORMAT_WITHOUT_YEAR)
                    ).isValid() ? (
                        parsedDate.year(moment().year()),
                        parsedDate._d
                    ) : void 0 : moment(date.toDateString())._d
                },
                Date.toUtcMidnight = function(m) {
                    return 0 === m.hour() && 0 === m.minute() ? m.minute(-m.zone()
                    ) : m.utc().startOf("day")
                },
                Date.format = function() {
                    return HOMESTAY_FORMAT
                },
                Date
        }()
    }.call(
        this),
    function() {
        Hs.log = function() {
            if (
                "undefined" != typeof window.console
            ) return "production" !== Hs.environment && "test" !== Hs.environment ? console.log.apply(console, arguments) : void 0
        }
    }.call(
        this);
var Facebook = {
    "sdk": function() {
        var d, s, id,
            js, fjs;
        "undefined" == typeof FB && (window.fbAsyncInit = function() {
                FB.init({
                    "appId": Hs.facebook_app_id,
                    "xfbml": !0,
                    "version": Hs.facebook_api_version
                })
            },
            d = document, s = "script", id = "facebook-jssdk", fjs = d.getElementsByTagName(s)[0], d.getElementById(id) || ((js = d.createElement(s)).id = id, js.src = "//connect.facebook.net/en_US/sdk.js", fjs.parentNode.insertBefore(js, fjs)))
    }
};
(function() {
    Hs.ready(function() {
        var $passwordToggle;
        if (
            $("[data-incrementor='true']").on("click", "button", function(e) {
                var $elm, $input, val;
                if (
                    e.preventDefault(),
                    $input = ($elm = $(e.currentTarget)).parents("[data-target='true']").find("input"),
                    val = parseInt($input.val()),
                    $elm.data("positive"
                    ) ? val++ : val--,
                    val >= parseInt($input.attr("min")) && val <= parseInt($input.attr("max"))
                ) return $input.val(val),
                    $input.trigger("change")
            }),
            $("[data-incrementor='true']").on("click", ".field", function(e) {
                return $(e.currentTarget).find("input").focus()
            }),
            $(".form-group.password").on("click", "[data-toggle]", function(e) {
                var $elm, $input;
                return e.preventDefault(),
                    $elm = $(e.currentTarget),
                    "password" === ($input = $(e.currentTarget).prev("input")).attr("type") ? (
                        $input.attr("type", "text"),
                        $elm.removeClass("hs-icon-eye").addClass("hs-icon-eye-blocked")) : (
                        $input.attr("type", "password"),
                        $elm.removeClass("hs-icon-eye-blocked").addClass("hs-icon-eye"))
            }), (
                $passwordToggle = $(".form-group.password [data-toggle]")
            ).length
        ) return $passwordToggle.parents("form").submit(function() {
            return $passwordToggle.prev("input").attr("type", "password")
        })
    })
}).call(
        this),
    function() {
        Hs.promises = {},
            Hs.getPromise = function(key) {
                return Hs.promises[key] || new Promise(function() {})
            },
            Hs.setPromise = function(key, cb) {
                return Hs.promises[key] = new Promise(cb)
            }
    }.call(
        this),
    function() {
        Hs.stacked_modals = function() {
                return $("body").off("show.bs.modal", ".modal").on("show.bs.modal", ".modal", function(evt) {
                        var $dialog, $previous_modal;
                        return $dialog = $(this),
                            $previous_modal = $(".modal.in"), !!$(evt.target).is(this) && (
                                $previous_modal.length && !$dialog.data("previous-dialog") ? (
                                    $dialog.data("previous-dialog", $previous_modal),
                                    $previous_modal.modal("hide"),
                                    $dialog.off("shown.bs.modal").on("shown.bs.modal", function() {
                                        return $("body").addClass("modal-open")
                                    })) : void 0)
                    }),
                    $("body").off("hide.bs.modal", ".modal").on("hide.bs.modal", ".modal", function() {
                        var $dialog, $previous_dialog;
                        if (
                            $dialog = $(this),
                            $previous_dialog = $dialog.data("previous-dialog"),
                            $dialog.data("previous-dialog", null),
                            $previous_dialog && !$dialog.hasClass("js-no-history")
                        ) return $dialog.off("hidden.bs.modal").on("hidden.bs.modal", function() {
                            return $previous_dialog.modal("show"),
                                $dialog.off("hidden.bs.modal")
                        })
                    })
            },
            Hs.ready(function() {
                return Hs.stacked_modals.call(this)
            })
    }.call(
        this),
    function() {
        Hs.ready(function() {
            return $("body").on("click", ".truncate-more", function(evt) {
                return evt.preventDefault(),
                    $(this).siblings(".truncate-fade").removeClass("truncate-fade"),
                    $(this).remove()
            })
        })
    }.call(
        this),
    function() {
        Hs.Util.UrlBuilder = function() {
            function UrlBuilder(path) {
                var url;
                this.path = path ? (url = I18n.locale !== I18n.defaultLocale ? "/" + I18n.locale : "", url += $.url(path).attr("path")) : $.url().attr("path"),
                    this.params = {},
                    this.blacklisted_params = []
            }
            return UrlBuilder.prototype.addCurrentParams = function() {
                    return this.addParams($.url().param()),
                        this
                },
                UrlBuilder.prototype.addParams = function(params) {
                    return this.params = $.extend(this.params, params),
                        this
                },
                UrlBuilder.prototype.blacklistParams = function(params) {
                    return this.blacklisted_params = $.extend(this.blacklisted_params, params),
                        this
                },
                UrlBuilder.prototype.get = function() {
                    var i, len, param, ref, url;
                    for (
                        url = this.path,
                        i = 0, len = (ref = this.blacklisted_params).length; i < len; i++
                    ) param = ref[i],
                        delete this.params[param]
                    ;
                    return jQuery.isEmptyObject(this.params) || (
                            url += "?" + jQuery.param(this.params)),
                        url
                },
                UrlBuilder
        }()
    }.call(
        this),
    function() {
        var $;
        (
            $ = jQuery
        ).fn.extend({
            "hostSignupFormValidation": function() {
                return this.each(function() {
                    return $(this).submit(function() {
                        var valid;
                        return valid = !0,
                            $("form#sign_up input[type=text]").each(function() {
                                if (
                                    "" === $(this).val()
                                ) return $(this).focus(),
                                    valid = !1
                            }),
                            valid
                    })
                })
            }
        })
    }.call(
        this),
    function() {
        jQuery.fn.extend({
            "officeMap": function() {
                return this.each(function() {
                    var infowindow, map, mapOptions, marker, office, self;
                    return self = this,
                        mapOptions = {
                            "zoom": 15,
                            "center": office = new google.maps.LatLng(53.335277, -6.265564),
                            "mapTypeId": google.maps.MapTypeId.ROADMAP
                        },
                        map = new google.maps.Map(self, mapOptions),
                        marker = new google.maps.Marker({
                            "map": map,
                            "animation": google.maps.Animation.DROP,
                            "position": office
                        }),
                        infowindow = new google.maps.InfoWindow({
                            "content": "<p>Homestay.com<br>Top Floor, 77 Camden Street Lower, D02 XE80, Dublin 2, Ireland</p>"
                        }),
                        google.maps.event.addListenerOnce(map, "idle", function() {
                            return google.maps.event.addListener(marker, "click", function() {
                                return infowindow.open(map, marker)
                            })
                        })
                })
            }
        })
    }.call(
        this),
    function() {
        var $;
        (
            $ = jQuery
        ).fn.extend({
            "stickyBar": function(
                container) {
                return this.each(function() {
                    var $container, $element, maxScroll;
                    return $element = $(this),
                        $container = $(container),
                        maxScroll = $element.offset().top,
                        $(window).scroll(function() {
                            var scrollTop;
                            return scrollTop = $(document).scrollTop(),
                                maxScroll < scrollTop && !$element.is(".stuck") ? (
                                    $element.addClass("stuck"),
                                    $container.addClass("stuck")
                                ) : scrollTop < maxScroll && $element.is(".stuck") ? (
                                    $element.removeClass("stuck"),
                                    $container.removeClass("stuck")) : void 0
                        })
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.AbandonedRequest = function() {
            function AbandonedRequest(modal) {
                this.modal = modal,
                    this.onLeaving = bind(this.onLeaving, this),
                    this.modal.on("hide.bs.modal", function() {
                        return Hs.Cookie.set("dont_show_abandoned_request", !0, 60),
                            Hs.GTM.trackCustomEvent("Host profile", "Abandoned request form dismissed")
                    }),
                    this.modal.find(".modal-footer button").click(function() {
                        return "" !== $("#abandoned_request_first_name").val() && "" !== $("#abandoned_request_first_email").val() && (
                            Hs.GTM.trackCustomEvent("Host profile", "Abandoned request form answered"),
                            $("#abandoned_request_form").submit())
                    })
            }
            return AbandonedRequest.prototype.registerLeavingEvent = function() {
                    if (!Hs.current_user_logged_in) return new Hs.LeavingWindow(this.onLeaving)
                },
                AbandonedRequest.prototype.onLeaving = function() {
                    if (!this.anyModalIsVisible() && !this.userSawForm()) return Hs.GTM.trackCustomEvent("Host profile", "Abandoned request form shown"),
                        this.modal.modal("show")
                },
                AbandonedRequest.prototype.anyModalIsVisible = function() {
                    return 0 < $(".modal").filter(function() {
                        return ($(this).data("bs.modal") || {}).isShown
                    }).length
                },
                AbandonedRequest.prototype.userSawForm = function() {
                    return Hs.Cookie.get("dont_show_abandoned_request")
                },
                AbandonedRequest
        }()
    }.call(
        this),
    function() {
        Hs.ActivityBox = function() {
            function ActivityBox(selector, template, data, remove_after_count) {
                var j, ref;
                for (
                    null == remove_after_count && (
                        remove_after_count = 10),
                    this.data = data,
                    this.data_index = 0,
                    this.remove_after_count = remove_after_count,
                    this.towait = {
                        "max": 7e3,
                        "min": 4e3
                    },
                    this.$selector = $(selector),
                    this.$template = $(template).contents(),
                    this.$template.find("a").addClass("keep-out").addClass("tohide"),
                    j = ref = remove_after_count; ref <= 1 ? j <= 1 : 1 <= j; ref <= 1 ? ++j : --j
                ) this.showItem({
                    "noanimation": !0
                })
                ;
                this.randomPrepend()
            }
            return ActivityBox.prototype.removeOldest = function() {
                    var $list_items;
                    if ((
                            $list_items = this.$selector.find("li")
                        ).length > this.remove_after_count) return $list_items.last().remove()
                },
                ActivityBox.prototype.randomPrepend = function() {
                    var time,
                        _this;
                    return time = Math.random() * (this.towait.max - this.towait.min) + this.towait.min, setTimeout((
                        _this = this,
                        function() {
                            return _this.showItem(), _this.removeOldest(), _this.randomPrepend()
                        }), time)
                },
                ActivityBox.prototype.showItem = function(noanimation) {
                    var $template, content, current_item, url;
                    if (
                        null == noanimation && (
                            noanimation = !1),
                        current_item = this.data[this.data_index],
                        this.data.length <= this.data_index + 1 ? this.data_index = 0 : this.data_index++,
                        current_item && current_item.homestay && current_item.homestay.city_location && current_item.homestay.address.country && (
                            $template = this.$template.clone(),
                            "" !== (content = this.getTypeContent(current_item)).icon && "" !== content.text)) {
                        if (
                            content.text = markdown.toHTML(content.text),
                            content.text = content.text.replace(/\&quot\;/g, "'").replace(/\&gt\;/g, ">").replace(/\&lt\;/g, "<"),
                            url = current_item.homestay.url,
                            $template.find(".content-container").html(content.text),
                            $template.find(".hs-icon").addClass(content.icon),
                            $template.find("a").attr({
                                "href": url,
                                "data-type": current_item.type
                            }),
                            this.$selector.prepend($template), !noanimation
                        ) return $template.find("a").css({
                                "margin-top": -1 * $template.find("a").outerHeight()
                            }),
                            setTimeout(function() {
                                    return $template.find("a").removeClass("keep-out"),
                                        setTimeout(function() {
                                                return $template.find("a").removeClass("tohide")
                                            },
                                            600)
                                },
                                400);
                        $template.find("a").removeClass("keep-out").removeClass("tohide")
                    }
                },
                ActivityBox.prototype.getTypeContent = function(item) {
                    var booking_price, homestay_price, icon, key_append, meta, price, request_price, text;
                    switch (
                        request_price = booking_price = homestay_price = key_append = text = "", (
                            price = (item.homestay || {}).minimum_price_per_room_per_night || {}
                        ).amount && (
                            homestay_price = Hs.Util.Currency.formatPriceFull(price.amount, Hs.current_currency || price.currency, !0)), (
                            price = (item.leisure_booking || {}).price_per_night || {}
                        ).amount && (
                            booking_price = Hs.Util.Currency.formatPriceFull(price.amount, Hs.current_currency || price.currency, !0)), (
                            price = (item.leisure_request || {}).price_per_night || {}
                        ).amount && (
                            request_price = Hs.Util.Currency.formatPriceFull(price.amount, Hs.current_currency || price.currency, !0)), (
                            meta = {
                                "host_name": item.homestay.first_name,
                                "host_from": item.homestay.city_location.name + ", " + item.homestay.address.country,
                                "guest_name": (
                                    item.user || {}).first_name,
                                "guest_from": (
                                    item.user || {}).country,
                                "count": (
                                    item.leisure_booking || {}).number_of_nights || 0,
                                "homestay_price": homestay_price,
                                "booking_price": booking_price,
                                "request_price": request_price,
                                "url": ""
                            }
                        ).guest_from || (
                            key_append = "_no_guest_from"),
                        item.type) {
                        case "guest_request":
                            icon = "hs-icon-luggage",
                                text = I18n.t.apply(I18n, ["home.activity.events.guest_request" + key_append, meta]);
                            break;
                        case "booking_created":
                            icon = "hs-icon-moon",
                                text = I18n.t.apply(I18n, ["home.activity.events.booking_created" + key_append, meta]);
                            break;
                        case "review_created":
                            icon = "hs-icon-heart",
                                text = I18n.t.apply(I18n, ["home.activity.events.guest_review" + key_append, meta]);
                            break;
                        case "user_review_created":
                            icon = "hs-icon-heart",
                                text = I18n.t.apply(I18n, ["home.activity.events.user_review" + key_append, meta]);
                            break;
                        case "host_went_live":
                            icon = "hs-icon-house",
                                text = I18n.t.apply(I18n, ["home.activity.events.host_live", meta]);
                            break;
                        default:
                            text = icon = ""
                    }
                    return {
                        "text": text,
                        "icon": icon
                    }
                },
                ActivityBox
        }()
    }.call(
        this),
    function() {
        var $,
            bind = function(fn, me) {
                return function() {
                    return fn.apply(me, arguments)
                }
            }
        ;
        Hs.EnterCompetition = function() {
            function EnterCompetition(element) {
                this.element = element,
                    this.installHandler = bind(this.installHandler, this),
                    this.installHandler(this.element)
            }
            return EnterCompetition.prototype.installHandler = function() {
                    return $(this.element).click(function(e) {
                        return e.preventDefault(),
                            $(this).hide(),
                            $("#competition-form").removeClass("hide")
                    })
                },
                EnterCompetition
        }(), (
            $ = jQuery
        ).fn.extend({
            "competitionButton": function() {
                return this.each(function() {
                    return new Hs.EnterCompetition($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.AvailabilityCalendar = function() {
            function AvailabilityCalendar(element, url, preview) {
                this.element = element,
                    this.url = url,
                    null == preview && (
                        preview = !1),
                    this.element = $(this.element),
                    this.installListener(),
                    null != Hs.marketplace && null != Hs.marketplace.start_date ? this.fetchAvailabilityCalendar(new Date(Hs.marketplace.start_date)
                    ) : this.fetchAvailabilityCalendar(new Date($("#booking_data_check_in").val()))
            }
            return AvailabilityCalendar.prototype.fetchAvailabilityCalendar = function(date) {
                    var params,
                        _this;
                    return (isNaN(date.getMonth()) || isNaN(date.getFullYear())) && (date = new Date), this.overlay = this.showOverlay(), this.date = date, params = {
                        "month": this.date.getMonth() + 1,
                        "year": this.date.getFullYear()
                    }, Hs.preview_mode && (params.preview = !0), $.get(this.url, params).error((
                        _this = this,
                        function() {
                            return _this.hideOverlay()
                        })).done(function(_this) {
                        return function(
                            data) {
                            var selectValue;
                            if (
                                _this.putCalendarPerRoom(data),
                                _this.hideOverlay(),
                                selectValue = moment(_this.date).format("MM-YYYY"),
                                $(".room-list select#date").val(selectValue),
                                Hs.CurrencyLocaliser
                            ) return Hs.CurrencyLocaliser.get().updateCurrencies(_this.element)
                        }
                    }(
                        this))
                },
                AvailabilityCalendar.prototype.putCalendarPerRoom = function(data) {
                    var $elem, elem, i, len, ref;
                    for (
                        i = 0, len = (ref = $(data).closest("div.availability")).length; i < len; i++
                    ) elem = ref[i],
                        $elem = $(elem),
                        $("#" + $elem.data("availabilityFor") + "-availability").find(".availability-calendar").html($elem)
                    ;
                    return this.installPopovers()
                },
                AvailabilityCalendar.prototype.showOverlay = function() {
                    return $('<div class="loading"></div>').css({
                            "position": "absolute",
                            "width": this.element.width() + "px",
                            "height": this.element.height() + "px",
                            "top": 0
                        }
                    ).appendTo(this.element)
                },
                AvailabilityCalendar.prototype.hideOverlay = function() {
                    return this.element.find("div.loading").remove()
                },
                AvailabilityCalendar.prototype.installPopovers = function() {
                    return this.element.find("td.with-popover").each(function() {
                        var $el, content, popover, title;
                        return $el = $(this),
                            title = (popover = $el.find(".popover-content").clone()).data("title"),
                            $el.find(".popover-content ul").css({
                                "margin-left": "-20px"
                            }),
                            content = function() {
                                return popover.html()
                            },
                            $el.popover({
                                "html": !0,
                                "placement": "right",
                                "title": title,
                                "content": content,
                                "trigger": "hover",
                                "container": "body",
                                "animation": !1
                            })
                    })
                },
                AvailabilityCalendar.prototype.installListener = function() {
                    var _this;
                    return $("#availability-controls select").on("change", (
                            _this = this,
                            function(e) {
                                var month, ref, year;
                                return month = (ref = e.currentTarget.value.split("-"))[0], year = ref[1], _this.element.find("select").val(month + "-" + year), _this.fetchAvailabilityCalendar(new Date(year, month - 1))
                            })),
                        $(".room-availability-container").on("click", ".nav-controls", function(_this) {
                            return function(
                                evt) {
                                var $select, momentDate, momentFirstDate, momentLastDate, month, ref, ref1, ref2, year;
                                if (
                                    month = (ref = ($select = $(evt.target).parent().find("select")).val().split("-"))[0], year = ref[1],
                                    momentDate = moment(year + "-" + month),
                                    month = (ref1 = $select.find("option:first").attr("value").split("-"))[0], year = ref1[1],
                                    momentFirstDate = moment(year + "-" + month),
                                    month = (ref2 = $select.find("option:last").attr("value").split("-"))[0], year = ref2[1],
                                    momentLastDate = moment(year + "-" + month), !(
                                        momentDate = function() {
                                            switch (
                                                $(evt.currentTarget).attr("data-nav")) {
                                                case "next":
                                                    return momentDate.add(1, "month");
                                                case "prev":
                                                    return momentDate.add(-1, "month")
                                            }
                                        }()
                                    ).isBefore(momentFirstDate) && !momentDate.isAfter(momentLastDate)
                                ) return _this.fetchAvailabilityCalendar(momentDate.toDate())
                            }
                        }(
                            this)),
                        $("#booking_data_check_in").on("change", function(_this) {
                            return function(
                                e) {
                                return _this.fetchAvailabilityCalendar(new Date(e.currentTarget.value))
                            }
                        }(
                            this))
                },
                AvailabilityCalendar
        }()
    }.call(
        this),
    function() {
        Hs.AvailabilityDateRanges = function() {
            function AvailabilityDateRanges(topLevelSelector, gtmCategory) {
                this.topLevelSelector = topLevelSelector,
                    this.gtmParams = {
                        "category": gtmCategory,
                        "action": "Availabilty Date Ranges"
                    },
                    this.installTrackingListeners()
            }
            return AvailabilityDateRanges.prototype.installTrackingListeners = function() {
                    return $("" + this.topLevelSelector).on("click", ".range a", (
                        _this = this,
                        function(e) {
                            var nights;
                            return $(e.currentTarget), nights = $(e.currentTarget).find("[data-nights]").data("nights"), Hs.GTM.trackCustomEvent(_this.gtmParams.action, "Clicked range for " + nights + " nights", _this.gtmParams.category)
                        }));
                    var _this
                },
                AvailabilityDateRanges.prototype.installRoomListListeners = function() {
                    return $(".room-list").on("click", ".range a", function(
                        e) {
                        var $target, endDate, startDate;
                        return e.preventDefault(),
                            $target = $(e.currentTarget),
                            startDate = moment($target.find(".start-date").data("date")).format(Hs.Util.Date.format()),
                            endDate = moment($target.find(".end-date").data("date")).format(Hs.Util.Date.format()),
                            $("#booking_data_check_in").val(""),
                            $("#booking_data_check_out").val(""),
                            $("#booking_data_check_in").datepicker("setDate", startDate),
                            $("#booking_data_check_out").datepicker("setDate", endDate)
                    })
                },
                AvailabilityDateRanges.prototype.pushTrackingEvents = function(count) {
                    return Hs.GTM.trackCustomEvent(this.gtmParams.action, "found " + count, this.gtmParams.category)
                },
                AvailabilityDateRanges.prototype.getForHomestayCard = function($parent, checkIn, checkOut) {
                    return $parent.off("click.roomDateRanges").on("click.roomDateRanges", ".js.request-availability-room-date-ranges-toggle", (
                        _this = this,
                        function(e) {
                            var $collapsable, $homestayCard, $target, params, url;
                            return e.stopPropagation(), e.preventDefault(), $target = $(e.currentTarget), $homestayCard = $target.parents("li.homestay-card"), ($collapsable = $("#availability-room-date-ranges-for-" + $homestayCard.data("id"))).hasClass("in") ? $collapsable.collapse("hide") : $collapsable.find(".range").length ? $collapsable.collapse("show") : ($homestayCard.find(".spinner-backdrop").removeClass("hidden"), url = $target.data("url"), params = {
                                "homestay_id": $homestayCard.data("id"),
                                "room_id": $homestayCard.data("roomId"),
                                "arrival_date": checkIn,
                                "departure_date": checkOut
                            }, $.get(url, params).done(function(html) {
                                return $homestayCard.find(".spinner-backdrop").addClass("hidden"), $collapsable.html(html).collapse({
                                    "toggle": !0
                                }), _this.pushTrackingEvents($collapsable.find(".range").length)
                            }))
                        }));
                    var _this
                },
                AvailabilityDateRanges.prototype.getForRoomList = function($parent) {
                    var checkIn, checkOut, homestayId, params, url,
                        _this;
                    return url = Hs.homestay_room_date_ranges_url, homestayId = $parent.find("#booking_data_homestay_id").val(), checkIn = $parent.find("#booking_data_check_in").val(), checkOut = $parent.find("#booking_data_check_out").val(), params = {
                        "homestay_id": homestayId,
                        "arrival_date": checkIn,
                        "departure_date": checkOut,
                        "room_id": ""
                    }, $parent.find(".room-item.unavailable").each((
                        _this = this,
                        function(index, element) {
                            var $container, $element;
                            return $element = $(element), params.room_id = $element.data("room-id"), $container = $element.find(".date-suggestions .dates"), $.get(url, params).done(function(html) {
                                if ("" !== html) return $container.html(html), $element.find(".status .unavailable").addClass("hidden"), $element.find(".availability-room-date-ranges").removeClass("hidden"), _this.pushTrackingEvents($element.find(".availability-room-date-ranges .range").length)
                            })
                        }))
                },
                AvailabilityDateRanges
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.BasicMap = function() {
            function BasicMap(element, options) {
                var ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9,
                    _this;
                null == options && (options = {}), this.drawCircle = bind(this.drawCircle, this), this.enableMapInteraction = bind(this.enableMapInteraction, this), this.disableMapInteraction = bind(this.disableMapInteraction, this), this.redrawMap = bind(this.redrawMap, this), this.executeWithoutSynchronization = bind(this.executeWithoutSynchronization, this), this.synchronizeMapCenter = bind(this.synchronizeMapCenter, this), this.synchronizeZoom = bind(this.synchronizeZoom, this), this.announceMapCenterChange = bind(this.announceMapCenterChange, this), this.announceMapZoomLevelChange = bind(this.announceMapZoomLevelChange, this), this.setupSynchronization = bind(this.setupSynchronization, this), this.boundingBoxOptions = bind(this.boundingBoxOptions, this), this.boundingBoxOptionsPresent = bind(this.boundingBoxOptionsPresent, this), this.buildMap = bind(this.buildMap, this), this.element = $(element), this.options = options, this.accuracy = null != (ref = this.element.data("accuracy")) ? ref : "coarse", this.latitude = null != (ref1 = options.latitude) ? ref1 : null != (ref2 = this.element.data("lat")) ? ref2 : null, this.longitude = null != (ref3 = options.longitude) ? ref3 : null != (ref4 = this.element.data("lng")) ? ref4 : null, this.ne_lat = null != (ref5 = options.ne_lat) ? ref5 : null != (ref6 = this.element.data("ne_lat")) ? ref6 : null, this.ne_lng = null != (ref7 = options.ne_lng) ? ref7 : null != (ref8 = this.element.data("ne_lng")) ? ref8 : null, this.sw_lat = null != (ref9 = options.sw_lat) ? ref9 : null != (ref10 = this.element.data("sw_lat")) ? ref10 : null, this.sw_lng = null != (ref11 = options.sw_lng) ? ref11 : null != (ref12 = this.element.data("sw_lng")) ? ref12 : null, this.country_code = null != (ref13 = options.country_code) ? ref13 : null != (ref14 = this.element.data("country_code")) ? ref14 : null, this.zoom = null != (ref15 = options.zoom) ? ref15 : 13, this.synchronization_enabled = !1, this.map_options = null != (ref16 = options.map_options) ? ref16 : {}, this.map_id = null != (ref17 = options.map_id) ? ref17 : "ROADMAP", this.redraw_state = {}, this.needs_map_redraw = !this.element.is(":visible"), this.initialising = !0, Hs.GoogleMapClient.get().registerGoogleMapsCallback((
                        _this = this,
                        function() {
                            if (_this.buildMap(), _this.drawCircle(), options.debug_mode) return _this.drawBoundingBox(options)
                        })),
                    this.element.data("map-instance", this)
            }
            return BasicMap.prototype.buildMap = function() {
                    var interactiveMap;
                    return this.center = this.boundingBoxOptionsPresent() ? this.boundingBoxOptions().getCenter() : this.longitude && this.latitude ? new google.maps.LatLng(this.latitude, this.longitude) : new google.maps.LatLng(0, 0),
                        interactiveMap = $("<div/>").addClass("interactive"),
                        this.element.append(interactiveMap),
                        this.map = new google.maps.Map(interactiveMap.get(0), this.mapOptions()),
                        this.boundingBoxOptionsPresent() && this.map.fitBounds(this.boundingBoxOptions()),
                        this.redraw_state = {
                            "center": this.center,
                            "zoom": this.zoom,
                            "box": this.boundingBoxOptions()
                        },
                        google.maps.event.addListener(this.map, "dragend", this.announceMapCenterChange),
                        google.maps.event.addListener(this.map, "zoom_changed", this.announceMapZoomLevelChange),
                        google.maps.event.addListener(this.map, "dblclick", this.announceMapCenterChange),
                        google.maps.event.addListener(this.map, "dblclick", this.announceMapZoomLevelChange)
                },
                BasicMap.prototype.mapOptions = function() {
                    return $.extend({
                            "zoom": this.zoom,
                            "center": this.center,
                            "mapTypeId": google.maps.MapTypeId[this.map_id],
                            "scrollwheel": !1,
                            "clickableIcons": !1
                        },
                        this.map_options)
                },
                BasicMap.prototype.boundingBoxOptionsPresent = function() {
                    return this.ne_lat && this.ne_lng && this.sw_lat && this.sw_lng
                },
                BasicMap.prototype.boundingBoxOptions = function() {
                    if (
                        this.boundingBoxOptionsPresent()
                    ) return new google.maps.LatLngBounds(new google.maps.LatLng(this.sw_lat, this.sw_lng), new google.maps.LatLng(this.ne_lat, this.ne_lng))
                },
                BasicMap.prototype.setupSynchronization = function() {
                    if (
                        this.options.synchronize
                    ) return Hs.PubSub.subscribe("google::maps::zoomLevelChange", this.synchronizeZoom),
                        Hs.PubSub.subscribe("google::maps::mapCenterChange", this.synchronizeMapCenter),
                        this.synchronization_enabled = !0
                },
                BasicMap.prototype.announceMapZoomLevelChange = function() {
                    if (
                        this.synchronization_enabled && !this.needs_map_redraw
                    ) return Hs.PubSub.publish("google::maps::zoomLevelChange", {
                        "zoom": this.map.getZoom()
                    })
                },
                BasicMap.prototype.announceMapCenterChange = function() {
                    if (
                        this.synchronization_enabled && !this.needs_map_redraw
                    ) return Hs.PubSub.publish("google::maps::mapCenterChange", {
                        "latlng": this.map.getCenter()
                    })
                },
                BasicMap.prototype.synchronizeZoom = function(args) {
                    if (
                        this.synchronization_enabled) {
                        if (
                            this.needs_map_redraw
                        ) return this.redraw_state.zoom = args.zoom,
                            this.redraw_state.box = null;
                        if (
                            this.map.getZoom() !== args.zoom
                        ) return this.executeWithoutSynchronization((
                            _this = this,
                            function() {
                                return _this.map.setZoom(args.zoom)
                            }))
                    }
                    var _this
                },
                BasicMap.prototype.synchronizeMapCenter = function(args) {
                    if (
                        this.synchronization_enabled) {
                        if (
                            this.needs_map_redraw
                        ) return this.redraw_state.center = args.latlng,
                            this.redraw_state.box = null;
                        if (!this.map.getCenter().equals(args.latlng)) return this.executeWithoutSynchronization((
                            _this = this,
                            function() {
                                return _this.map.setCenter(args.latlng)
                            }))
                    }
                    var _this
                },
                BasicMap.prototype.executeWithoutSynchronization = function(callback) {
                    var sync_status;
                    return sync_status = this.synchronization_enabled,
                        this.synchronization_enabled = !1,
                        callback(),
                        this.synchronization_enabled = sync_status
                },
                BasicMap.prototype.redrawMap = function(forceRedraw) {
                    return null == forceRedraw && (
                            forceRedraw = !1),
                        this.needs_map_redraw || forceRedraw ? (
                            google.maps.event.trigger(this.map, "resize"),
                            this.executeWithoutSynchronization((
                                _this = this,
                                function() {
                                    return _this.redraw_state.box ? _this.map.fitBounds(_this.redraw_state.box) : (_this.redraw_state.center && _this.map.setCenter(_this.redraw_state.center), _this.redraw_state.zoom ? _this.map.setZoom(_this.redraw_state.zoom) : void 0)
                                })),
                            this.needs_map_redraw = !1,
                            this.initialising = !1) : null;
                    var _this
                },
                BasicMap.prototype.disableMapInteraction = function() {
                    return this.map.setOptions({
                        "draggable": !1,
                        "disableDoubleClickZoom": !0,
                        "scrollwheel": !1,
                        "zoomControl": !1
                    })
                },
                BasicMap.prototype.enableMapInteraction = function() {
                    return this.map.setOptions({
                        "draggable": !0,
                        "disableDoubleClickZoom": !1,
                        "scrollwheel": !0,
                        "zoomControl": !0
                    })
                },
                BasicMap.prototype.removeCircle = function() {
                    if (
                        this.circle
                    ) return this.circle.setMap(null)
                },
                BasicMap.prototype.drawCircle = function() {
                    return this.circle = new google.maps.Circle({
                        "strokeColor": "#FF0000",
                        "strokeOpacity": .15,
                        "strokeWeight": 1,
                        "fillColor": "#FF0000",
                        "fillOpacity": .09,
                        "map": this.map,
                        "center": new google.maps.LatLng($(this.options.latitude)[0], $(this.options.longitude)[0]),
                        "radius": parseInt($("#search_filter_radius").val())
                    })
                },
                BasicMap.prototype.drawBoundingBox = function(options) {
                    var bounds
                    ;
                    return this.rectangle && this.rectangle.setMap(null),
                        bounds = new google.maps.LatLngBounds(new google.maps.LatLng(options.sw_lat, options.sw_lng), new google.maps.LatLng(options.ne_lat, options.ne_lng)),
                        this.rectangle = new google.maps.Rectangle({
                            "bounds": bounds
                        }),
                        this.rectangle.setMap(this.map)
                },
                BasicMap.prototype.redrawCircle = function() {
                    return this.removeCircle(),
                        this.drawCircle()
                },
                BasicMap.prototype.createCustomMarker = function(latitude, longitude, url, icon) {
                    var position;
                    return position = new google.maps.LatLng(latitude, longitude),
                        new google.maps.Marker({
                            "url": url,
                            "map": this.map,
                            "position": position,
                            "icon": icon
                        })
                },
                BasicMap
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.BookingCheapestRate = function() {
            function BookingCheapestRate() {
                this.updatePrice = bind(this.updatePrice, this),
                    this.defaultRate = bind(this.defaultRate, this),
                    this.setDefaultRate = bind(this.setDefaultRate, this),
                    this.$parent = $(".cheapest-rate"),
                    Hs.PubSub.subscribe("booking::rates::cheapestRate", this.updatePrice),
                    Hs.PubSub.subscribe("booking::noDates", this.setDefaultRate),
                    Hs.PubSub.subscribe("booking::unavailable", this.setDefaultRate)
            }
            return BookingCheapestRate.prototype.setDefaultRate = function() {
                    if (
                        this.$parent.data("default-cheapest-rate-amount")
                    ) return this.updatePrice(this.defaultRate())
                },
                BookingCheapestRate.prototype.defaultRate = function() {
                    var rate;
                    return (
                            rate = {}
                        ).amount = this.$parent.data("default-cheapest-rate-amount"),
                        rate.currency_code = this.$parent.data("default-cheapest-rate-currency-code"),
                        rate.room_id = this.$parent.data("default-cheapest-rate-room-id"),
                        rate.rate_divisor = 1,
                        rate.default_rate = !0,
                        rate
                },
                BookingCheapestRate.prototype.updatePrice = function(cheapest_rate) {
                    var displayPrice, text;
                    if (
                        cheapest_rate.amount || (
                            cheapest_rate = this.defaultRate()),
                        this.$parent.removeClass("invisible"),
                        displayPrice = Hs.Util.Currency.formatPriceTinyWithData("", cheapest_rate.amount, cheapest_rate.currency_code)[0].outerHTML,
                        text = 30 <= cheapest_rate.rate_divisor ? I18n.t("homestays.homestay.price.from_with_price_per_month", {
                            "price": displayPrice
                        }) : 7 <= cheapest_rate.rate_divisor ? I18n.t("homestays.homestay.price.from_with_price_per_week", {
                            "price": displayPrice
                        }) : I18n.t("homestays.homestay.price.from_with_price_per_night", {
                            "price": displayPrice
                        }),
                        this.$parent.find(".value").html(text),
                        1 < $(".room-item").length && (
                            $(".best-price").addClass("hidden"),
                            $(".room-item[data-room-id='" + cheapest_rate.room_id + "'] .best-price").removeClass("hidden")),
                        Hs.CurrencyLocaliser
                    ) return Hs.CurrencyLocaliser.get().updateCurrencies(this.$parent)
                },
                BookingCheapestRate
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.BookingDetailsForm = function() {
            function BookingDetailsForm() {
                new Hs.GuestFormDetails,
                    this.installCallbacks()
            }
            return BookingDetailsForm.prototype.installCallbacks = function() {
                    return this.onChangeBookingPaymentMethod(),
                        this.onClickTermsAndConditions(),
                        this.onClickCancellationPolicies(),
                        this.onShownTermsAndConditions(), (
                            new Hs.TermsAndConditions).privacyPolicy()
                },
                BookingDetailsForm.prototype.onChangeBookingPaymentMethod = function() {
                    return $(".booking-details").on("change", "#booking_payment_method", function() {
                        return $(".payment-method-logo").hide(),
                            $(".payment-method-logo-" + this.value).show()
                    })
                },
                BookingDetailsForm.prototype.onClickTermsAndConditions = function() {
                    return $(".booking-details").on("click", 'a[rel="terms-popup"]', function() {
                        return $("#terms-and-conditions-modal").modal(), !1
                    })
                },
                BookingDetailsForm.prototype.onShownTermsAndConditions = function() {
                    return $(".booking-details").on("shown.bs-modal", "#terms-and-conditions-modal", function() {
                        return $("#terms-and-conditions-modal .modal-content").focus()
                    })
                },
                BookingDetailsForm.prototype.onClickCancellationPolicies = function() {
                    return $(".booking-details").on("click", 'a[rel="cancellation-policies-popup"]', function() {
                        return $("#cancellation-policies-modal").modal(), !1
                    })
                },
                BookingDetailsForm
        }(), (
            $ = jQuery
        ).fn.extend({
            "bookingDetailsForm": function() {
                return this.each(function() {
                    return new Hs.BookingDetailsForm
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.BookingForm = function() {
            function BookingForm(parent) {
                this.parent = parent,
                    this.disableSubmit = bind(this.disableSubmit, this),
                    this.enableSubmit = bind(this.enableSubmit, this),
                    this.updateRates = bind(this.updateRates, this),
                    this.totalNumberOfGuests = bind(this.totalNumberOfGuests, this),
                    this.rooms = bind(this.rooms, this),
                    this.initDatePickers = bind(this.initDatePickers, this),
                    this.initRoomGuests = bind(this.initRoomGuests, this),
                    this.initPromotionCode = bind(this.initPromotionCode, this),
                    this.parent.length && (
                        this.initRoomGuests(),
                        this.initDatePickers(),
                        this.initPromotionCode(),
                        this.updateRates(),
                        this.submitButton = this.parent.find("[type='submit']"),
                        Hs.PubSub.subscribe("booking::noGuests", this.disableSubmit),
                        Hs.PubSub.subscribe("booking::noDates", this.disableSubmit),
                        Hs.PubSub.subscribe("booking::unavailable", this.disableSubmit),
                        Hs.PubSub.subscribe("booking::totals", this.enableSubmit))
            }
            return BookingForm.prototype.initPromotionCode = function() {
                    return this.promotion_code = this.parent.find("[data-promotion-code] input")
                },
                BookingForm.prototype.initRoomGuests = function() {
                    var $roomSelect, i, len, ref, room,
                        _this;
                    for (i = 0, len = (ref = this.rooms()).length; i < len; i++) room = ref[i], $roomSelect = $(room).find("[data-guest-selector]"), this.toggleGuestSelector({
                        "$room": $(room),
                        "show": "0" !== $roomSelect.val()
                    }), $(".room-list").off("change.room-value").on("change.room-value", "[data-guest-selector]", function(_this) {
                        return function(e) {
                            return $roomSelect = $(e.target), _this.updateRates(), "0" === $roomSelect.val() && _this.toggleGuestSelector({
                                "$room": $roomSelect.parents(".room-item"),
                                "show": !1
                            }), $roomSelect.parents(".room-item").find("[data-unselect]").toggleClass("hidden", "0" === $roomSelect.val())
                        }
                    }(this));
                    return $(".room-list").on("click", ".room-add button", (
                            _this = this,
                            function(e) {
                                return _this.toggleGuestSelector({
                                    "$room": $(e.target).parents(".room-item"),
                                    "show": !0
                                })
                            })),
                        $(".room-list").on("click", "[data-unselect]", function(evt) {
                            return evt.preventDefault(),
                                $(evt.currentTarget).siblings(".select").find("select").val("0").trigger("change")
                        })
                },
                BookingForm.prototype.initDatePickers = function() {
                    return this.checkIn = this.parent.find("[data-check-in]"),
                        this.checkOut = this.parent.find("[data-check-out]"),
                        null != Hs.marketplace && null != Hs.marketplace.start_date && null != Hs.marketplace.end_date ? this.range = new Hs.DateRangeSelectorRestricted(this.checkIn, this.checkOut, Hs.marketplace.start_date, Hs.marketplace.end_date
                        ) : this.range = new Hs.DateRangeSelector(this.checkIn, this.checkOut),
                        this.range.onChange = this.updateRates
                },
                BookingForm.prototype.roomGuests = function() {
                    var guests, i, len, ref, room;
                    for (
                        guests = {},
                        i = 0, len = (ref = this.rooms()).length; i < len; i++
                    ) room = ref[i],
                        guests[(room = $(room)).data("roomId")] = room.find("[data-guest-selector]").val()
                    ;
                    return guests
                },
                BookingForm.prototype.rooms = function() {
                    return this.parent.find(".room-list [data-room-id]")
                },
                BookingForm.prototype.getCheckIn = function() {
                    if (
                        this.checkIn.val()
                    ) return this.range.startDate.getDate()
                },
                BookingForm.prototype.getCheckOut = function() {
                    if (
                        this.checkOut.val()
                    ) return this.range.endDate.getDate()
                },
                BookingForm.prototype.getPromotionCode = function() {
                    return this.promotion_code.val()
                },
                BookingForm.prototype.totalNumberOfGuests = function() {
                    var guests, id, numberOfGuests, ref;
                    for (
                        id in numberOfGuests = 0, ref = this.roomGuests()
                    ) guests = ref[id],
                        numberOfGuests += parseInt(guests)
                    ;
                    return numberOfGuests
                },
                BookingForm.prototype.updateRates = function() {
                    return this.getCheckIn() && this.getCheckOut() && moment(this.getCheckIn()).isValid() && moment(this.getCheckOut()).isValid() ? (
                        Hs.PubSub.publish("booking::dates", this.getCheckIn(), this.getCheckOut()),
                        Hs.PubSub.publish("booking::form", this.getCheckIn(), this.getCheckOut(), this.roomGuests(), this.getPromotionCode())
                    ) : Hs.PubSub.publish("booking::noDates")
                },
                BookingForm.prototype.toggleGuestSelector = function(arg) {
                    var $room, show;
                    return $room = arg.$room, show = arg.show,
                        $room.find(".room-add").toggleClass("hidden", show),
                        $room.find(".room-guest-select").toggleClass("hidden", !show),
                        $(".room-list .popover").popover("hide")
                },
                BookingForm.prototype.enableSubmit = function() {
                    return this.submitButton.attr("disabled", !1)
                },
                BookingForm.prototype.disableSubmit = function() {
                    return this.submitButton.attr("disabled", !0)
                },
                BookingForm
        }()
    }.call(
        this),
    function() {
        Hs.BookingGtmTracking = function() {
            function BookingGtmTracking() {
                Hs.PubSub.subscribe("booking::form", function() {
                        return Hs.GTM.trackCustomEvent("Host profile", "Search availability")
                    }),
                    Hs.PubSub.subscribe("booking::unavailable", function() {
                        return Hs.GTM.trackCustomEvent("Host profile", "Searched unavailable")
                    }),
                    Hs.PubSub.subscribe("booking::available", function() {
                        return Hs.GTM.trackCustomEvent("Host profile", "Searched available")
                    }),
                    Hs.PubSub.subscribe("booking::totals", function() {
                        return Hs.GTM.trackCustomEvent("Host profile", "Price summary")
                    })
            }
            return BookingGtmTracking
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.BookingInformationExpander = function() {
            function BookingInformationExpander(container) {
                this.container = container,
                    this.paragraphs = $("h4", this.container).next("p").andSelf().slice(2),
                    this.paragraphs.hide(),
                    this.buildExpandLink().insertAfter(this.paragraphs.last())
            }
            var READ_MORE;
            return READ_MORE = I18n.t("misc.read_more"),
                BookingInformationExpander.prototype.buildExpandLink = function() {
                    return $('<a href="#" class="read-more"></a>').text(READ_MORE).click((
                        _this = this,
                        function(e) {
                            return e.preventDefault(), $(e.target).hide(), _this.paragraphs.show()
                        }));
                    var _this
                },
                BookingInformationExpander
        }(), (
            $ = jQuery
        ).fn.extend({
            "bookingInformationExpander": function() {
                return this.each(function() {
                    return new Hs.BookingInformationExpander($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.BookingMessages = function() {
            function BookingMessages(parent) {
                this.parent = parent,
                    this.toggleError = bind(this.toggleError, this),
                    this.arrivalDateExceedsBookingWindow = bind(this.arrivalDateExceedsBookingWindow, this),
                    this.maximumLengthOfStay = bind(this.maximumLengthOfStay, this),
                    this.minimumLengthOfStay = bind(this.minimumLengthOfStay, this),
                    this.available = bind(this.available, this),
                    this.unavailable = bind(this.unavailable, this),
                    this.noGuests = bind(this.noGuests, this),
                    this.noDates = bind(this.noDates, this),
                    this.processErrors = bind(this.processErrors, this),
                    Hs.PubSub.subscribe("booking::rates::errors", this.processErrors),
                    Hs.PubSub.subscribe("booking::noDates", this.noDates),
                    Hs.PubSub.subscribe("booking::noGuests", this.noGuests),
                    Hs.PubSub.subscribe("booking::unavailable", this.unavailable),
                    Hs.PubSub.subscribe("booking::available", this.available)
            }
            return BookingMessages.prototype.processErrors = function(errors) {
                    return this.minimumLengthOfStay(!(!errors || !errors.length_of_stay_too_short)),
                        this.maximumLengthOfStay(!(!errors || !errors.length_of_stay_too_long)),
                        this.arrivalDateExceedsBookingWindow(!(!errors || !errors.arrival_date_exceeds_booking_window))
                },
                BookingMessages.prototype.noDates = function() {
                    var message;
                    return message = this.parent.find(".error.date-error").removeClass("hidden"),
                        Hs.PubSub.publish("booking::message", message.html())
                },
                BookingMessages.prototype.noGuests = function() {
                    var message;
                    return message = this.parent.find(".error.guests-error").removeClass("hidden"),
                        Hs.PubSub.publish("booking::message", message.html())
                },
                BookingMessages.prototype.unavailable = function() {
                    return this.toggleError("#room-availability", !0),
                        $("#not-available-alert").removeClass("hidden")
                },
                BookingMessages.prototype.available = function() {
                    return this.toggleError("#room-availability", !1),
                        $("#not-available-alert").addClass("hidden")
                },
                BookingMessages.prototype.minimumLengthOfStay = function(hasError) {
                    return this.toggleError("#minimum-length-of-stay", hasError)
                },
                BookingMessages.prototype.maximumLengthOfStay = function(hasError) {
                    return this.toggleError("#maximum-length-of-stay", hasError)
                },
                BookingMessages.prototype.arrivalDateExceedsBookingWindow = function(hasError) {
                    return this.toggleError("#booking-availability-window", hasError)
                },
                BookingMessages.prototype.toggleError = function(element, hasError) {
                    return this.parent.find(element).toggleClass("error", hasError)
                },
                BookingMessages
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.BookingPromotion = function() {
            function BookingPromotion(parent) {
                var _this;
                this.parent = parent, this.assignPromotionCodeToBookingRequestAndRedrawPaymentBits = bind(this.assignPromotionCodeToBookingRequestAndRedrawPaymentBits, this), this.disableUseCreditLink = bind(this.disableUseCreditLink, this), this.disableRemoveButton = bind(this.disableRemoveButton, this), this.getPromotionCodeFromInput = bind(this.getPromotionCodeFromInput, this), this.redrawPaymentBits = bind(this.redrawPaymentBits, this), this.disableLinks = bind(this.disableLinks, this), this.form = this.parent.find(".form-group"), this.input = this.parent.find("input.string"), this.assignPromotionCodeButton = this.parent.find("#assign-promotion-code"), this.useCreditLink = this.parent.find(".use-credit-link"), this.parent.find("#remove-promotion-code").on("ajax:success", (
                        _this = this,
                        function() {
                            return _this.redrawPaymentBits({
                                "remove_promotion_code": !0
                            })
                        })),
                    this.parent.find("#remove-promotion-code").on("ajax:before", function(_this) {
                        return function() {
                            return _this.disableRemoveButton()
                        }
                    }(
                        this)),
                    this.parent.find("#use-credit-link").on("ajax:before", function(_this) {
                        return function() {
                            return _this.disableUseCreditLink()
                        }
                    }(
                        this)),
                    this.parent.find("#use-credit-link").on("ajax:success", function(_this) {
                        return function() {
                            return _this.redrawPaymentBits()
                        }
                    }(
                        this)),
                    this.parent.find("a").on("ajax:before", function(_this) {
                        return function() {
                            return _this.disableLinks()
                        }
                    }(
                        this)),
                    this.assignPromotionCodeButton.click(this.assignPromotionCodeToBookingRequestAndRedrawPaymentBits),
                    this.useCreditLink.trigger("click")
            }
            return BookingPromotion.prototype.disableLinks = function() {
                    return this.parent.find("[data-disable-message]").html(this.parent.find("[data-disable-message]").data("disable-message"))
                },
                BookingPromotion.prototype.redrawPaymentBits = function(params) {
                    return null == params && (
                            params = {}),
                        $.get(Hs.booking_url, params).done((
                            _this = this,
                            function(result) {
                                return $(".your_trip").replaceWith($(result).find(".your_trip")), $(".your_payment").replaceWith($(result).find(".your_payment")), $(".form_actions").replaceWith($(result).find(".form_actions")), $("#booking-summary").replaceWith($(result).find("#booking-summary")), Hs.CurrencyLocaliser.get().updateCurrencies(), (new Hs.TermsAndConditions).privacyPolicy(), _this.constructor($(_this.parent.selector))
                            }));
                    var _this
                },
                BookingPromotion.prototype.getPromotionCodeFromInput = function() {
                    return this.assignPromotionCodeButton.prop("disabled", !0),
                        $.get("/promotion_codes/" + this.input.val()).done((
                            _this = this,
                            function() {
                                return _this.assignPromotionCodeButton.prop("disabled", !1)
                            }));
                    var _this
                },
                BookingPromotion.prototype.disableRemoveButton = function() {
                    return this.parent.find("#remove-promotion-code").addClass("disabled")
                },
                BookingPromotion.prototype.disableUseCreditLink = function() {
                    return this.parent.find("#use-credit-link").addClass("disabled")
                },
                BookingPromotion.prototype.assignPromotionCodeToBookingRequestAndRedrawPaymentBits = function() {
                    var _this;
                    return this.assignPromotionCodeButton.attr("value", this.assignPromotionCodeButton.data("disable-message")), this.assignPromotionCodeButton.prop("disabled", !0), $.ajax({
                            "url": Hs.booking_request_assign_promotion_code_url,
                            "type": "PUT",
                            "dataType": "script",
                            "data": {
                                "promotion_code": this.input.val()
                            },
                            "success": (
                                _this = this,
                                function() {
                                    return _this.redrawPaymentBits()
                                })
                        }),
                        !1
                },
                BookingPromotion
        }()
    }.call(
        this),
    function() {
        Hs.Edit.Avatar = function() {
            function Avatar(element, options) {
                null == options && (
                        options = {}),
                    this.element = element,
                    this.handlePhotoUpload(),
                    $(".profile-picture").on("click", function() {
                        return $("input.fileupload").click()
                    })
            }
            return Avatar.prototype.handlePhotoUpload = function() {
                    var placeholder, profile_picture, upload_button, upload_button_text,
                        _this;
                    return placeholder = this.element.find(".placeholder"), profile_picture = this.element.find(".profile-picture"), upload_button = this.element.find(".upload-button"), upload_button_text = upload_button.text(), 0, this.element.find(".fileupload").fileupload({
                        "dataType": "json",
                        "formData": {
                            "_method": "POST"
                        },
                        "url": Hs.avatars_url,
                        "autoUpload": !0,
                        "previewCrop": !1,
                        "disableImageResize": !0,
                        "previewThumbnail": !1,
                        "disableImageMetaDataLoad": !0,
                        "disableImageLoad": !0,
                        "dropZone": placeholder
                    }).on("fileuploadstart", (
                        _this = this,
                        function() {
                            return Hs.log("fileuploadstart"), profile_picture.find(".spinner-backdrop").removeClass("hide"), profile_picture.find("img").addClass("hide"), _this.element.find("input[type='submit']").prop("disabled", !0), upload_button.prop("disabled", !0), upload_button.text(I18n.t("misc.general.please_wait"))
                        })).on("fileuploaddone", function(_this) {
                        return function(
                            e, data) {
                            var newItem;
                            return Hs.log("fileuploaddone"),
                                newItem = (newItem = _this.element.find(".profile-picture-template").clone().html()).replace(/\[placeholder-id\]/g, data.response().result.id).replace(/data-src/g, "src").replace(/\[placeholder-url\]/g, data.response().result.url),
                                _this.element.find(".profile-picture").html(newItem),
                                _this.element.find("input[type='submit']").prop("disabled", !1),
                                upload_button.prop("disabled", !1),
                                upload_button.text(upload_button_text),
                                profile_picture.closest(".profile-picture-upload").find(".alert.alert-error").addClass("hide"),
                                Hs.HomestayEdit && Hs.HomestayEdit.updateProgress(),
                                _this.element.trigger("avatar.fileuploaddone")
                        }
                    }(
                        this)).on("fileuploadfail", function(
                        e, data) {
                        var form;
                        return Hs.log("fileuploadfail", e, data),
                            upload_button.prop("disabled", !1),
                            upload_button.text(upload_button_text),
                            profile_picture.find(".spinner-backdrop").addClass("hide"),
                            profile_picture.find("img").removeClass("hide"), (
                                form = $(e.target).closest("form")
                            ) && form.find("input[type='submit']").prop("disabled", !1),
                            "Unsupported Media Type" === data.errorThrown ? profile_picture.closest(".profile-picture-upload").find(".alert.alert-error.format-error").removeClass("hide"
                            ) : profile_picture.closest(".profile-picture-upload").find(".alert.alert-error.generic-error").removeClass("hide")
                    })
                },
                Avatar
        }()
    }.call(
        this),
    function() {
        Hs.BookingRequestForm = function() {
            function BookingRequestForm() {
                var _this;
                this.parent = $("#booking-data"), this.facebookReturnUrl = this.parent.find(".booking-request-facebook-login").data("fromReturnUrl"), Hs.current_user_logged_in ? (Hs.getScript("/assets/fileupload-7f0a4641d7d69138d26a1cddcaec0775a78524d5ed524f847b15c20b0b331d89.js", (
                            _this = this,
                            function() {
                                return _this.initAvatar()
                            })),
                        this.installStateAutoComplete()) : (
                        this.initFacebookLogin(),
                        this.initEmailLogin(),
                        this.initGoogleLogin()),
                    this.onPrefillMessage(),
                    this.onSubmit(),
                    this.formSessionStorage = new Hs.FormSessionStorage,
                    new Hs.Initializers.MessageBox,
                    new Hs.GuestFormDetails,
                    Hs.GTM.trackFormInteraction(this.parent.find("#new_booking_request"), "Booking Request Form"),
                    Hs.Initializers.Tooltips(),
                    this.checkGenderMatch($("#booking_request_gender").val()),
                    this.handleMandatoryFields(),
                    this.handleDuplicateInJunction(),
                    Hs.mobile_device || (
                        new Hs.TermsAndConditions).bookingRequest(),
                    Hs.PubSub.publish("bookingRequestForm::initialized")
            }
            return BookingRequestForm.prototype.handleMandatoryFields = function() {
                    var events,
                        _this;
                    return this.parent.find("[data-mandatory-field='true']").filter(function() {
                        return "" === $(this).val()
                    }).each(function(index, elm) {
                        var $elm;
                        if (!($elm = $(elm)).val().length && 0 !== index) return $elm.prop("disabled", !0)
                    }), events = "change.mf keyup.mf keydown.mf paste.mf", this.parent.off(events).on(events, "[data-mandatory-field]", (
                        _this = this,
                        function(evt) {
                            var $field, $nextField, canEnableNextField, index, nextField;
                            if (canEnableNextField = 0 < ($field = $(evt.currentTarget)).val().length, "booking_request_gender" === $field.attr("id") && (canEnableNextField = _this.checkGenderMatch($field.val())), $field.data("min-length") && (canEnableNextField = $field.val().length > $field.data("min-length")), canEnableNextField) {
                                for (index = $field.index("[data-mandatory-field]"), nextField = _this.parent.find("[data-mandatory-field]")[index + 1]; void 0 !== nextField && $(nextField).val().length;)($nextField = $(nextField)).prop("disabled", !1), index = $nextField.index("[data-mandatory-field]"), nextField = _this.parent.find("[data-mandatory-field]")[index + 1];
                                return $(nextField).prop("disabled", !1)
                            }
                        }))
                },
                BookingRequestForm.prototype.checkGenderMatch = function(gender_option) {
                    var isGenderMatch;
                    return isGenderMatch = !0,
                        Hs.host_gender_accepts && 0 < Hs.host_gender_accepts.length && gender_option && (
                            isGenderMatch = -1 !== $.inArray(gender_option, Hs.host_gender_accepts),
                            $("#gender-message").toggleClass("hidden", isGenderMatch),
                            $("#gender-message .m").toggleClass("hidden", "f" === gender_option),
                            $("#gender-message .f").toggleClass("hidden", "m" === gender_option),
                            $("input#submit-booking-request").prop("disabled", !isGenderMatch)),
                        Hs.GTM.trackCustomEvent("Gender Match", isGenderMatch, "Host Profile Page"),
                        isGenderMatch
                },
                BookingRequestForm.prototype.onPrefillMessage = function() {
                    var $form,
                        _this;
                    return ($form = $("#new_booking_request")).on("change.prefill", "[data-prefill-prerequisite]", (
                            _this = this,
                            function() {
                                return _this.prefillMessage()
                            })),
                        $form.on("click", "[data-action-clear-message]", function(
                            e) {
                            var $message, prefillText, text;
                            return e.preventDefault(),
                                text = ($message = $("#message_body")).val(),
                                prefillText = $message.attr("data-prefilled-message"),
                                text = text.replace(prefillText, ""),
                                $message.val(text),
                                $(e.currentTarget).addClass("hidden"),
                                $("[data-action-prefill-message]").removeClass("hidden")
                        }),
                        $form.on("click", "[data-action-prefill-message]", function(_this) {
                            return function(
                                e) {
                                return e.preventDefault(),
                                    _this.prefillMessage(!1)
                            }
                        }(
                            this))
                },
                BookingRequestForm.prototype.prefillMessage = function(checkMessageEmpty) {
                    var $form, $message, arePreRequisitesMet, guestCount, guests, id, messageTrimmed, params, ref, roomNames, url;
                    if (
                        null == checkMessageEmpty && (
                            checkMessageEmpty = !0),
                        $form = $("#new_booking_request"),
                        $message = $("#message_body"),
                        arePreRequisitesMet = !0,
                        $form.find("[data-prefill-prerequisite]").each(function() {
                            if (!$(this).val()) return arePreRequisitesMet = !1
                        }),
                        messageTrimmed = $message.val().replace(/\s+/g, ""),
                        arePreRequisitesMet && (!checkMessageEmpty || 0 === messageTrimmed.length)) {
                        for (
                            id in url = Hs.prefill_message_body_url, (params = {}).host_name = Hs.hostName, params.guest_name = $("#booking_request_first_name").val(), params.guest_country = $("#nationality").val(), params.travel_reason = $("#booking_request_travel_reason").val(), params.check_in = Hs.checkIn, params.check_out = Hs.checkOut, params.agent = Hs.marketplace.agent, guests = 0, roomNames = [], ref = Hs.roomGuests
                        ) guestCount = ref[id],
                            roomNames.push($(".room-list.sortable .room-item[data-room-id='" + id + "'] header").text()),
                            guests += parseInt(guestCount)
                        ;
                        return params.guests = guests,
                            params.room_names = roomNames.join("||"),
                            $.get(url, params).done(function(
                                text) {
                                var $hint, $prefillControls;
                                return $message.val(text + " " + $message.val()).focus().autosize({
                                        "append": "\n"
                                    }),
                                    $message.trigger("autosize.resize"),
                                    $message.attr("data-prefilled-message", text),
                                    $form.off(".prefill"), (
                                        $hint = $("div[data-message-body-prefill-hint]")
                                    ).find(".small").text($hint.data("message-body-prefill-hint")), (
                                        $prefillControls = $(".prefill-controls")
                                    ).find("[data-action-prefill-message]").addClass("hidden"),
                                    $prefillControls.find("[data-action-clear-message]").removeClass("hidden"),
                                    $prefillControls.removeClass("hidden")
                            })
                    }
                },
                BookingRequestForm.prototype.initAvatar = function() {
                    return new Hs.Edit.Avatar($("#profile-picture-upload")),
                        $("#profile-picture-upload").on("click", "input.fileupload", function() {
                            return Hs.GTM.dataLayerPush("hs.form_event", "Booking Request Form", "profile-picture-upload")
                        })
                },
                BookingRequestForm.prototype.onSubmit = function() {
                    return this.parent.off("submit", "#new_booking_request").on("submit", "#new_booking_request", (
                        _this = this,
                        function(evt) {
                            var $self;
                            return ($self = $(evt.currentTarget)).data("hasSent") && (evt.preventDefault(), evt.stopPropagation()), $self.data("hasSent", !0), $("#submit-booking-request").val(I18n.t("misc.general.please_wait")).prop("disabled", !0), _this.formSessionStorage.clearFormSessionStorage()
                        }));
                    var _this
                },
                BookingRequestForm.prototype.initFacebookLogin = function() {
                    return navigator.userAgent.match("CriOS") ? this.facebookChromeIOSLogin(
                    ) : this.facebookSDKLogin()
                },
                BookingRequestForm.prototype.initGoogleLogin = function() {
                    if (
                        $(".booking-request-google-login").length
                    ) return new Hs.GoogleLogin($(".booking-request-google-login"), $(".booking-request-google-login").parent("form"))
                },
                BookingRequestForm.prototype.facebookSDKLogin = function() {
                    return $("body").off("click.facebookLogin").on("click.facebookLogin", ".booking-request-facebook-login", function(
                        e) {
                        var fromReturnUrl;
                        return e.preventDefault(),
                            fromReturnUrl = $(e.target).data("fromReturnUrl"),
                            FB.login(function(response) {
                                if (
                                    "connected" === response.status
                                ) return $.ajax({
                                    "url": "/sessions/facebook",
                                    "type": "POST",
                                    "dataType": "script",
                                    "data": {
                                        "user_id": response.authResponse.userID,
                                        "access_token": response.authResponse.accessToken,
                                        "from": "booking_request_form",
                                        "from_return_url": fromReturnUrl
                                    }
                                })
                            }, {
                                "scope": Hs.facebook_permissions
                            })
                    })
                },
                BookingRequestForm.prototype.facebookChromeIOSLogin = function() {
                    return this.parent.off("click.facebookLogin").on("click.facebookLogin", ".booking-request-facebook-login", (
                        _this = this,
                        function(e) {
                            var url;
                            return e.preventDefault(), Hs.facebook_chrome_ios_login, url = "https://www.facebook.com/dialog/oauth?client_id=655132704539181&redirect_uri=" + Hs.facebook_chrome_ios_login, _this.facebookWindow = window.open(url)
                        }));
                    var _this
                },
                BookingRequestForm.prototype.facebookChromeIOSLoginSuccess = function() {
                    return FB.getLoginStatus((
                        _this = this,
                        function(response) {
                            return $.ajax({
                                "url": "/sessions/facebook",
                                "type": "POST",
                                "dataType": "script",
                                "data": {
                                    "user_id": response.authResponse.userID,
                                    "access_token": response.authResponse.accessToken,
                                    "from": "booking_request_form",
                                    "from_return_url": _this.facebookReturnUrl
                                },
                                "success": function() {
                                    return _this.facebookWindow.close()
                                }
                            })
                        }), !0);
                    var _this
                },
                BookingRequestForm.prototype.initEmailLogin = function() {
                    return this.parent.on("click", 'a[data-guest-signup="true"]', function() {
                            return $("#booking-request-signup-modal").modal({
                                    "backdrop": !0
                                }),
                                !1
                        }),
                        this.parent.on("click", 'a[data-login="true"]', function() {
                            return $("#booking-request-login-modal").modal({
                                    "backdrop": !0
                                }),
                                !1
                        })
                },
                BookingRequestForm.prototype.installStateAutoComplete = function() {
                    var $stateField;
                    return !!(
                        $stateField = this.parent.find("#booking_request_city")
                    ).length && Hs.GoogleMapClient.get().registerGoogleMapsCallback(function() {
                        return new google.maps.places.Autocomplete($stateField[0], {
                                "componentRestrictions": {
                                    "country": "us"
                                },
                                "types": [
                                    "(regions)"
                                ]
                            }),
                            google.maps.event.addDomListener($stateField[0], "keydown", function(e) {
                                if (
                                    13 === e.keyCode
                                ) return e.currentTarget.blur(),
                                    e.preventDefault()
                            })
                    })
                },
                BookingRequestForm.prototype.handleDuplicateInJunction = function() {
                    return $("body").on("click", "#duplicate-injunction #submit-action", function() {
                        switch (
                            $("#duplicate-injunction input[name='action']:checked").val()) {
                            case "update":
                                return $("#duplicate-injunction form").submit();
                            case "show":
                                return window.location.href = $("#duplicate-injunction").data("bookingRequestUrl");
                            case "create":
                                return $("#duplicate-injunction").addClass("hidden"),
                                    $("#hidden-request-form").removeClass("hidden")
                        }
                    })
                },
                BookingRequestForm
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.BookingSummary = function() {
            function BookingSummary(parent) {
                this.parent = parent,
                    this.rooms = bind(this.rooms, this),
                    this.guests = bind(this.guests, this),
                    this.noGuests = bind(this.noGuests, this),
                    this.displayMoney = bind(this.displayMoney, this),
                    this.totals = bind(this.totals, this),
                    this.dates = bind(this.dates, this),
                    this.available = bind(this.available, this),
                    this.unavailable = bind(this.unavailable, this),
                    this.hide = bind(this.hide, this),
                    this.show = bind(this.show, this),
                    this.unfocus = bind(this.unfocus, this),
                    this.focus = bind(this.focus, this),
                    this.parent.length && (
                        this.summary = this.parent.find(".box-container-booking-summary"),
                        this.nights = this.parent.find("[data-booking-summary-nights]"),
                        this.price = this.parent.find("[data-booking-summary-price]"),
                        this.chargedBeforeDepositDiscount = this.parent.find("[data-booking-summary-charged-before-deposit-discount]"),
                        this.totalDeposit = this.parent.find("[data-booking-summary-total-deposit]"),
                        this.charged = this.parent.find("[data-booking-summary-charged]"),
                        this.balance = this.parent.find("[data-booking-summary-balance]"),
                        this.hostTotal = this.parent.find("[data-booking-summary-host-total]"),
                        this.total = this.parent.find("[data-booking-summary-total]"),
                        this.balanceBeforeDiscountAmount = this.parent.find("[data-booking-summary-balance-before-discount]"),
                        this.totalEncashment = this.parent.find("[data-booking-summary-total-encashment]"),
                        Hs.PubSub.subscribe("booking::totals", this.totals),
                        Hs.PubSub.subscribe("booking::dates", this.dates),
                        Hs.PubSub.subscribe("booking::noDates", this.hide),
                        Hs.PubSub.subscribe("booking::guests", this.guests),
                        Hs.PubSub.subscribe("booking::noGuests", this.noGuests),
                        Hs.PubSub.subscribe("booking::available", this.available),
                        Hs.PubSub.subscribe("booking::unavailable", this.unavailable),
                        Hs.PubSub.subscribe("booking::rooms", this.rooms))
            }
            return BookingSummary.prototype.focus = function() {
                    return this.showSummaryPopover(),
                        this.parent.addClass("summary"),
                        this.summary.addClass("focus"),
                        this.summary.removeClass("unavailable")
                },
                BookingSummary.prototype.unfocus = function() {
                    return $(".box-container-booking-summary .popover").popover("hide"),
                        this.parent.removeClass("summary"),
                        this.summary.removeClass("focus"),
                        this.summary.removeClass("unavailable")
                },
                BookingSummary.prototype.show = function() {
                    return this.parent.find(".box-container-body").show(),
                        $(".contact-host-cta").addClass("hidden"),
                        $(".add-bedroom").addClass("light").removeClass("secondary")
                },
                BookingSummary.prototype.hide = function() {
                    return this.unfocus(),
                        $(".contact-host-cta").removeClass("hidden"),
                        this.parent.removeClass("no-guests").addClass("no-dates"),
                        $(".add-bedroom").addClass("secondary").removeClass("light")
                },
                BookingSummary.prototype.unavailable = function() {
                    return this.hide(),
                        this.summary.addClass("unavailable"),
                        $("#availability-message").addClass("hidden")
                },
                BookingSummary.prototype.available = function(count) {
                    return this.parent.removeClass("no-guests").removeClass("no-dates"),
                        $("#availability-message").html(I18n.t("homestays.show.rooms.rooms_found", {
                            "count": count
                        })).removeClass(
                            "hidden")
                },
                BookingSummary.prototype.dates = function(startDate, endDate) {
                    var endDateMs, nights, one_day, startDateMs;
                    return one_day = 864e5,
                        startDateMs = startDate.getTime(),
                        endDateMs = endDate.getTime(),
                        nights = Math.round((endDateMs - startDateMs) / one_day),
                        this.parent.find("[data-booking-summary-nights]").text(nights),
                        $(".date-fields .popover").popover("hide"),
                        this.parent.removeClass("no-guests").removeClass("no-dates"),
                        $("#js-request-total-nights").text(I18n.t("homestays.show.rates.number_of_nights", {
                            "count": nights
                        })),
                        this.parent.find("[data-booking-summary-check-in]").html(Hs.Util.Date.formatDate(startDate)),
                        this.parent.find("[data-booking-summary-check-out]").html(Hs.Util.Date.formatDate(endDate)),
                        this.nights.html(nights)
                },
                BookingSummary.prototype.totals = function(currencyCode, priceAmount, standardPriceAmount, chargedBeforeDepositDiscountAmount, balanceAmount, hostTotalAmount, totalAmount, depositBeforeDepositDiscountAmount, balanceBeforeDiscountAmount, chargedAmount, totalDeposit, totalEncashment) {
                    if (
                        this.show(),
                        this.focus(),
                        this.displayMoney(this.price, priceAmount, currencyCode),
                        this.displayMoney(this.chargedBeforeDepositDiscount, chargedBeforeDepositDiscountAmount, currencyCode),
                        this.displayMoney(this.charged, chargedAmount, currencyCode),
                        this.displayMoney(this.totalDeposit, totalDeposit, currencyCode),
                        this.displayMoney(this.balance, balanceAmount, currencyCode),
                        this.displayMoney(this.total, totalAmount, currencyCode),
                        this.displayMoney(this.hostTotal, hostTotalAmount, currencyCode),
                        this.displayMoney(this.balanceBeforeDiscountAmount, balanceBeforeDiscountAmount, currencyCode),
                        this.displayMoney(this.totalEncashment, totalEncashment, currencyCode),
                        Hs.CurrencyLocaliser
                    ) return Hs.CurrencyLocaliser.get().updateCurrencies(this.parent)
                },
                BookingSummary.prototype.displayMoney = function(element, amount, currencyCode) {
                    var display;
                    return display = Hs.Util.Currency.formatPriceFullWithData("", amount, currencyCode),
                        element.html(display).attr("data-amount", amount)
                },
                BookingSummary.prototype.noGuests = function() {
                    return this.hide(),
                        this.parent.addClass("no-guests")
                },
                BookingSummary.prototype.guests = function(guests) {
                    return this.parent.find("[data-booking-summary-number-of-guests]").html(guests)
                },
                BookingSummary.prototype.rooms = function(roomsData) {
                    var $room, guests, html, i, id, len, room, roomData, rooms, totalGuests;
                    for (
                        id in html = "", rooms = [], totalGuests = 0, roomsData
                    ) roomData = roomsData[id],
                        $room = $(".room-item[data-room-id='" + id + "']"),
                        0 < (guests = parseInt(roomData.guests)) && (
                            totalGuests += guests,
                            rooms.push({
                                "id": id,
                                "guests": roomData.guests,
                                "name": $room.attr("data-room-name")
                            }));
                    if (
                        3 < rooms.length
                    ) html = "<p>" + I18n.t("homestays.show.rates.rooms_selected_summary", {
                        "length": rooms.length,
                        "guests": totalGuests
                    }) + "</p>";
                    else
                        for (
                            i = 0, len = rooms.length; i < len; i++
                        ) html = html + '<p><a href="#room-' + (room = rooms[i]).id + '" data-scroll-offset="-100" data-scroll-to="true"> ' + I18n.t("homestays.show.rates.room_selected", {
                            "count": parseInt(room.guests),
                            "room": room.name
                        }) + "</span></a></p>"
                    ;
                    return $(".box-container-booking-summary td #rooms").html(html)
                },
                BookingSummary.prototype.showSummaryPopover = function() {
                    var cookieName;
                    if (!Hs.mobile_device
                    ) return cookieName = "popover_profile_summary",
                        Hs.Cookie.get(cookieName) ? void 0 : (
                            Hs.Popover.createPopover(".box-container-booking-summary input", ".box-container-booking-summary", I18n.t("homestays.show.popovers.summary"), {
                                "placement": "top"
                            }),
                            Hs.Cookie.set(cookieName, 1, 365))
                },
                BookingSummary
        }()
    }.call(
        this),
    function() {
        Hs.CardsContainer = function() {
            function CardsContainer(container) {
                this.container = container,
                    Hs.ImageLazyload.initialize(),
                    $(this.container).find(".card").length && (
                        this.setupCardEvents(),
                        this.applyCardMosaic())
            }
            return CardsContainer.prototype.setupCardEvents = function() {
                    return $(window).off("resize.gridly-" + this.container).on("resize.gridly-" + this.container, (
                        _this = this,
                        function() {
                            return clearTimeout(_this.windowTimeout), _this.windowTimeout = setTimeout(function() {
                                return _this.applyCardMosaic()
                            }, 300)
                        }));
                    var _this
                },
                CardsContainer.prototype.applyCardMosaic = function() {
                    var $cards, $container, $current, card_width, columns, container_width, fadeInterval, gutter, index
                    ;
                    return card_width = ($container = $(this.container)).find(".card .contents").outerWidth(),
                        container_width = $container.outerWidth(),
                        gutter = parseInt($container.data("gutter-size"), 10) || 20,
                        columns = Math.floor(container_width / card_width),
                        isFinite(columns) || (
                            columns = 3),
                        $container.gridly({
                            "base": card_width,
                            "gutter": gutter,
                            "columns": columns,
                            "draggable": !1
                        }),
                        $cards = $container.find(".card"),
                        index = 0,
                        $current = $cards.eq(index),
                        fadeInterval = setInterval(function() {
                                if (
                                    $current.addClass("make-visible"), !(
                                        $current = $cards.eq(++index)
                                    ).length
                                ) return clearInterval(fadeInterval)
                            },
                            20)
                },
                CardsContainer
        }()
    }.call(
        this),
    function() {
        Hs.Cfa = function() {
            function Cfa() {
                this.enforceOneRoomSelection()
            }
            return Cfa.prototype.enforceOneRoomSelection = function() {
                    return $(".room-list").on("change", "select[data-guest-selector]", function() {
                        var $otherRooms, $select, roomId
                        ;
                        return roomId = ($select = $(this)).parents(".room-item").data("roomId"),
                            $otherRooms = $(".room-list .room-item:not([data-room-id='" + roomId + "'])"),
                            0 < $select.val() ? $otherRooms.addClass("cfa-unavailable").removeClass("available"
                            ) : $otherRooms.removeClass("cfa-unavailable")
                    })
                },
                Cfa
        }()
    }.call(
        this),
    function() {
        var extend = function(child, parent) {
                function ctor() {
                    this.constructor = child
                }
                for (var key in parent) hasProp.call(parent, key) && (child[key] = parent[key]);
                return ctor.prototype = parent.prototype, child.prototype = new ctor, child.__super__ = parent.prototype, child
            },
            hasProp = {}.hasOwnProperty
        ;
        Hs.CoarseMap = function(superClass) {
                function CoarseMap(element, options) {
                    null == options && (
                            options = {}),
                        this.radius = options.radius,
                        this.hide_circle_zoom_level = options.hide_circle_zoom_level,
                        CoarseMap.__super__.constructor.call(this, element, options)
                }
                var CIRCLE_RADIUS;
                return extend(CoarseMap, superClass), CIRCLE_RADIUS = [4e6, 2e6, 1e6, 5e5, 25e4, 1e5, 5e4, 3e4, 2e4, 1e4, 5e3, 3e3, 2e3, 1e3, 500, 300, 150, 100],
                    CoarseMap.prototype.buildMap = function() {
                        var circleOptions,
                            _this;
                        if (CoarseMap.__super__.buildMap.call(this), "coarse" === this.accuracy) return circleOptions = {
                            "fillOpacity": .4,
                            "fillColor": "#EFAA00",
                            "strokeWeight": 0,
                            "map": this.map,
                            "center": this.center,
                            "radius": this.radius
                        }, this.circle = new google.maps.Circle(circleOptions), google.maps.event.addListener(this.map, "zoom_changed", (
                            _this = this,
                            function() {
                                var zoom;
                                return (zoom = _this.map.getZoom()) >= _this.hide_circle_zoom_level ? _this.circle.setVisible(!1) : 13 < zoom && zoom < _this.hide_circle_zoom_level ? (_this.circle.setVisible(!0), _this.circle.setRadius(CIRCLE_RADIUS[14])) : (_this.circle.setVisible(!0), _this.circle.setRadius(CIRCLE_RADIUS[zoom]))
                            }))
                    },
                    CoarseMap
            }(
                Hs.BasicMap),
            jQuery.fn.extend({
                "coarseMap": function(
                    options) {
                    return this.each(function() {
                        return new Hs.CoarseMap(this, options)
                    })
                }
            })
    }.call(
        this),
    function() {
        Hs.Cookie = function() {
            function Cookie() {}
            return Cookie.closeCookieBanner = function() {
                    return Hs.Cookie.set("hide_cookie_banner", 1, 365),
                        $("#cookies_banner").slideUp()
                },
                Cookie.set = function(name, value, expires, path, domain, secure) {
                    var expires_date, today;
                    return null == path && (
                            path = "/"),
                        null == domain && (
                            domain = ""),
                        null == secure && (
                            secure = ""), (
                            today = new Date
                        ).setTime(today.getTime()),
                        expires && (
                            expires = 1e3 * expires * 60 * 60 * 24,
                            expires_date = new Date(today.getTime() + expires)),
                        document.cookie = name + "=" + escape(value) + (expires ? "; expires=" + expires_date.toGMTString() : "") + (path ? "; path=" + path : "") + (domain ? "; domain=" + domain : "") + (secure ? "; secure" : "")
                },
                Cookie.getLocationSearch = function(name) {
                    var end_of_value, get_string, name_index, return_value, space, value;
                    for (
                        get_string = "" === document.location.search ? document.cookie : document.location.search,
                        return_value = ""; - 1 !== (name_index = get_string.indexOf(name + "=")) && (
                            value = -1 !== (end_of_value = (get_string = get_string.substr(name_index + name.length + 1, get_string.length - name_index)).indexOf("&")) ? get_string.substr(0, end_of_value
                            ) : get_string,
                            return_value += "" === return_value || "" === value ? value : ", " + value),
                        -1 !== name_index;);
                    for (
                        space = return_value.indexOf("+"); - 1 !== space;
                    ) space = (return_value = return_value.substr(0, space) + " " + return_value.substr(space + 1, return_value.length)).indexOf("+")
                    ;
                    return return_value
                },
                Cookie.get = function(name) {
                    var cookie, i, len, ref;
                    for (
                        name += "=",
                        i = 0, len = (ref = document.cookie.split(";")).length; i < len; i++) {
                        for (
                            cookie = ref[i];
                            " " === cookie.charAt(0);
                        ) cookie = cookie.substring(1);
                        if (
                            0 === cookie.indexOf(name)
                        ) return cookie.substring(name.length, cookie.length)
                    }
                    return ""
                },
                Cookie
        }()
    }.call(
        this),
    function() {
        Hs.CreditCard = function() {
            function CreditCard() {
                this.cardNum = $("#booking_payment_details_credit_card_number").payment("formatCardNumber"),
                    this.cardExp = $("#booking_payment_details_expiry_date").payment("formatCardExpiry"),
                    this.cardCvc = $("#booking_payment_details_cvc").payment("formatCardCVC"),
                    this.cardIcons = $("ul.credit-card-icons"),
                    this.installValidation(),
                    this.installCardTypeHighlighter()
            }
            return CreditCard.prototype.installValidation = function() {
                    return $("form").submit((
                        _this = this,
                        function(e) {
                            return $(".control-group").removeClass("has-error"), _this.cardNum.closest(".control-group").toggleClass("has-error", !$.payment.validateCardNumber(_this.cardNum.val())), _this.cardNum.toggleClass("input-with-feedback", !$.payment.validateCardNumber(_this.cardNum.val())), _this.cardExp.closest(".control-group").toggleClass("has-error", !$.payment.validateCardExpiry(_this.cardExp.payment("cardExpiryVal"))), _this.cardExp.toggleClass("input-with-feedback", !$.payment.validateCardExpiry(_this.cardExp.payment("cardExpiryVal"))), _this.cardCvc.closest(".control-group").toggleClass("has-error", !$.payment.validateCardCVC(_this.cardCvc.val(), _this.cardType())), _this.cardCvc.toggleClass("input-with-feedback", !$.payment.validateCardCVC(_this.cardCvc.val(), _this.cardType())), !$(".control-group.has-error").length || e.preventDefault()
                        }));
                    var _this
                },
                CreditCard.prototype.installCardTypeHighlighter = function() {
                    return this.cardNum.on("keyup", (
                        _this = this,
                        function() {
                            if (_this.cardIcons.find("li img").removeClass("active"), $.payment.validateCardNumber(_this.cardNum.val())) return _this.highlightCard(_this.cardType())
                        }));
                    var _this
                },
                CreditCard.prototype.highlightCard = function(type) {
                    return this.cardIcons.find("li." + type + " img").toggleClass("active")
                },
                CreditCard.prototype.cardType = function() {
                    return $.payment.cardType(this.cardNum.val())
                },
                CreditCard
        }()
    }.call(
        this),
    function() {
        Hs.CurrencyLocaliser = function() {
            function CurrencyLocaliser(currentCurrency) {
                this.currentCurrency = currentCurrency,
                    this.reloadOnChange = !1
            }
            var BASE, instance;
            return BASE = "USD", instance = null, CurrencyLocaliser.get = function(currency) {
                    return null != instance ? instance : instance = new Hs.CurrencyLocaliser(currency)
                },
                CurrencyLocaliser.prototype.changeCurrency = function(currency) {
                    var _this;
                    return $("body").removeClass("currency-" + this.currentCurrency), this.currentCurrency = currency, Hs.PubSub.publish("currency_changed"), this.reloadOnChange || this.updateCurrencies(), $.ajax({
                            "url": new Hs.Util.UrlBuilder("/currency").get(),
                            "type": "PUT",
                            "dataType": "script",
                            "data": {
                                "cc": currency
                            },
                            "done": (
                                _this = this,
                                function() {
                                    if (_this.reloadOnChange) return location.reload()
                                })
                        }),
                        !0
                },
                CurrencyLocaliser.prototype.updateCurrencies = function(scope) {
                    if (
                        this.currentCurrency
                    ) return $("body").addClass("currency-" + this.currentCurrency),
                        null == scope && (
                            scope = $("body")),
                        scope.find("[data-currency]").text(this.currentCurrency),
                        scope.find("[data-price]").each((
                            _this = this,
                            function(_idx, element) {
                                var amount, currency, format, formattedAmount, newAmount;
                                return amount = parseInt($(element).attr("data-amount")), currency = $(element).attr("data-currency-code"), format = $(element).attr("data-format"), newAmount = _this.convertWithSubunits(amount, currency), formattedAmount = "full" === format ? Hs.Util.Currency.formatPriceFull(newAmount, _this.currentCurrency) : "round-5-units" === format ? Hs.Util.Currency.formatPriceRoundTo5Units(newAmount, _this.currentCurrency) : "full-no-currency-code" === format ? Hs.Util.Currency.formatPriceFull(newAmount, _this.currentCurrency, !1, !0) : Hs.Util.Currency.formatPriceTiny(newAmount, _this.currentCurrency), $(element).html(formattedAmount)
                            })),
                        scope.find("[data-hide-if-currency]").show(),
                        scope.find("[data-hide-if-currency='" + this.currentCurrency + "']").hide();
                    var _this
                },
                CurrencyLocaliser.prototype.convertWithSubunits = function(amountFrom, currencyFrom, currencyTo) {
                    var amount, newAmount;
                    return null == currencyTo && (
                            currencyTo = this.currentCurrency),
                        amount = amountFrom / (Hs.Util.Currency.SpecialCurrencySubunits[currencyFrom] || 100),
                        newAmount = this.convert(amount, currencyFrom, currencyTo), (
                            newAmount *= Hs.Util.Currency.SpecialCurrencySubunits[this.currentCurrency] || 100
                        ).toFixed(0)
                },
                CurrencyLocaliser.prototype.convert = function(amountFrom, currencyFrom, currencyTo) {
                    var amountBase;
                    return null == currencyTo && (
                            currencyTo = this.currentCurrency),
                        currencyFrom === currencyTo ? amountFrom : currencyFrom === BASE ? amountFrom * Hs.exchangeRates[currencyTo] : currencyTo === BASE ? amountFrom * (1 / Hs.exchangeRates[currencyFrom]) : (
                            amountBase = this.convert(amountFrom, currencyFrom, BASE),
                            this.convert(amountBase, BASE, currencyTo))
                },
                CurrencyLocaliser
        }()
    }.call(
        this),
    function() {
        Hs.CurrencySelector = function() {
            function CurrencySelector(element, placeholder) {
                this.element = element,
                    this.placeholder = placeholder,
                    $(this.element).removeClass("hide"),
                    $(this.placeholder).remove(),
                    $(this.element).select2({
                        "width": "off",
                        "formatResult": this.resultFormatter,
                        "formatSelection": this.selectionFormatter,
                        "dropdownCssClass": "select2-currency-dropdown",
                        "dropdownCss": function() {
                            return {
                                "width": "326px"
                            }
                        },
                        "escapeMarkup": function(
                            m) {
                            return m
                        }
                    }).on(
                        "change", this.changeCurrency)
            }
            return CurrencySelector.prototype.resultFormatter = function(object) {
                    var html, symbol;
                    return symbol = $(object.element).attr("data-symbol"),
                        html = '<span class="currency-name">' + $(object.element).attr("data-name") + '</span><span class="currency-code">(' + object.id + ")</span>",
                        symbol && (
                            html += '<span class="currency-symbol">' + symbol + "</span>"),
                        html
                },
                CurrencySelector.prototype.selectionFormatter = function(object) {
                    var symbol;
                    return (
                        symbol = $(object.element).attr("data-symbol")
                    ) ? symbol + " " + object.id : object.id
                },
                CurrencySelector.prototype.changeCurrency = function(evt) {
                    var newCurrency;
                    return newCurrency = $(evt.target).val(),
                        Hs.CurrencyLocaliser.get().changeCurrency(newCurrency)
                },
                CurrencySelector
        }()
    }.call(
        this),
    function() {
        Hs.DateRangeSelector = function() {
            function DateRangeSelector(startElement, endElement, orientation) {
                this.startElement = startElement,
                    this.endElement = endElement,
                    this.orientation = null != orientation ? orientation : "auto",
                    this.initialiseDatepickers(),
                    this.cleansePastDates(),
                    this.startElement.datepicker("hide"),
                    this.endElement.datepicker("hide"),
                    this.startElement.on("keydown", function() {
                        return $(this).trigger("blur")
                    }),
                    this.endElement.on("keydown", function() {
                        return $(this).trigger("blur")
                    })
            }
            var WEEK_START;
            return WEEK_START = 1,
                DateRangeSelector.prototype.initialiseDatepickers = function() {
                    var _this;
                    return this.startDate = this.startElement.datepicker({
                            "weekStart": WEEK_START,
                            "orientation": this.orientation,
                            "startDate": this.minStartDate(),
                            "endDate": this.maxStartDate(),
                            "language": Hs.locale,
                            "format": "d M yyyy",
                            "beforeShowDay": (
                                _this = this,
                                function(date) {
                                    var current_date, end_date;
                                    return _this.endElement && _this.endElement.data("datepicker") && (current_date = _this.startDate.getDate(), end_date = _this.endDate.getDate()), end_date && moment(date).isSame(end_date, "day") ? {
                                        "classes": "other-choice-date"
                                    } : end_date && moment(date).isBefore(end_date) && moment(date).isAfter(current_date) ? {
                                        "classes": "in-between-selection"
                                    } : void 0
                                })
                        }).on(
                            "changeDate clearDate",
                            function(_this) {
                                return function(
                                    e) {
                                    var minEndDate;
                                    return (
                                            minEndDate = new Date(e.date)
                                        ).setDate(minEndDate.getDate() + 1),
                                        _this.endDate.setStartDate(minEndDate),
                                        _this.endDate.getDate() < minEndDate && _this.endDate.setDate(minEndDate),
                                        _this.endDate.update(),
                                        _this.startElement.datepicker("hide"),
                                        _this.endElement.datepicker("show"),
                                        _this.onChange && _this.onChange(_this.startDate.getDate(), _this.endDate.getDate()),
                                        _this.startElement.trigger("date.change")
                                }
                            }(
                                this)).on("click", function(_this) {
                            return function() {
                                return _this.startElement.datepicker("show")
                            }
                        }(
                            this)).on("show", function() {
                            return $(".datepicker").removeClass("checkout-datepicker").addClass("checkin-datepicker")
                        }).data(
                            "datepicker"),
                        this.endDate = this.endElement.datepicker({
                            "orientation": this.orientation,
                            "weekStart": WEEK_START,
                            "startDate": this.minEndDate(),
                            "endDate": this.maxEndDate(),
                            "language": Hs.locale,
                            "format": "d M yyyy",
                            "beforeShowDay": function(
                                _this) {
                                return function(
                                    date) {
                                    var current_date;
                                    return _this.endElement && _this.endElement.data("datepicker") && (
                                            current_date = _this.endElement.data("datepicker").dates[0]),
                                        moment(date).isSame(_this.startDate.getDate(), "day") ? {
                                            "classes": "other-choice-date"
                                        } : current_date && moment(date).isBefore(current_date) && moment(date).add(1, "day").isAfter(_this.startDate.getDate()) ? {
                                            "classes": "in-between-selection"
                                        } : void 0
                                }
                            }(
                                this)
                        }).on(
                            "changeDate clearDate",
                            function(_this) {
                                return function() {
                                    return _this.startElement.datepicker("hide"),
                                        _this.endElement.datepicker("hide"),
                                        _this.startDate.update(),
                                        _this.onChange && _this.onChange(_this.startDate.getDate(), _this.endDate.getDate()),
                                        _this.onComplete && _this.onComplete(_this.startDate.getDate(), _this.endDate.getDate()),
                                        _this.endElement.trigger("date.change")
                                }
                            }(
                                this)).on("click", function(_this) {
                            return function() {
                                return _this.endElement.datepicker("show")
                            }
                        }(
                            this)).on("show", function() {
                            return $(".datepicker").removeClass("checkin-datepicker").addClass("checkout-datepicker")
                        }).data(
                            "datepicker")
                },
                DateRangeSelector.prototype.cleansePastDates = function() {
                    return moment(this.startElement.val()).isBefore(moment(this.minStartDate())) && this.startElement.datepicker("setDate", Hs.Util.Date.formatUTCDate(this.minStartDate())),
                        moment(this.endElement.val()).isBefore(moment(this.minEndDate())) ? this.endElement.datepicker("setDate", Hs.Util.Date.formatUTCDate(this.minEndDate())
                        ) : this.endElement.datepicker("setDate", this.endElement.val())
                },
                DateRangeSelector.prototype.getDates = function(callback) {
                    return callback(this.startDate.getDate(), this.endDate.getDate())
                },
                DateRangeSelector.prototype.minStartDate = function() {
                    return moment()._d
                },
                DateRangeSelector.prototype.minEndDate = function() {
                    var startDate;
                    return (
                            startDate = moment(this.startDate.getDate())
                        )._d < this.minStartDate() && (
                            startDate = moment(this.minStartDate())),
                        startDate.add("days", 1)._d
                },
                DateRangeSelector.prototype.maxStartDate = function() {
                    return moment().add("years", 2).subtract("days", 1)._d
                },
                DateRangeSelector.prototype.maxEndDate = function() {
                    return moment().add("years", 2)._d
                },
                DateRangeSelector.prototype.clearDates = function() {
                    return this.startElement.val(""),
                        this.endElement.val("")
                },
                DateRangeSelector
        }()
    }.call(
        this),
    function() {
        var extend = function(child, parent) {
                function ctor() {
                    this.constructor = child
                }
                for (var key in parent) hasProp.call(parent, key) && (child[key] = parent[key]);
                return ctor.prototype = parent.prototype, child.prototype = new ctor, child.__super__ = parent.prototype, child
            },
            hasProp = {}.hasOwnProperty
        ;
        Hs.DateRangeSelectorRestricted = function(superClass) {
            function DateRangeSelectorRestricted(startElement, endElement, minDate, maxDate) {
                this.minDate = minDate,
                    this.maxDate = maxDate,
                    DateRangeSelectorRestricted.__super__.constructor.call(this, startElement, endElement)
            }
            return extend(DateRangeSelectorRestricted, superClass),
                DateRangeSelectorRestricted.prototype.minStartDate = function() {
                    return this.between(this.minDate, this.maxDate) ? moment(
                    )._d : moment(this.minDate)._d
                },
                DateRangeSelectorRestricted.prototype.maxStartDate = function() {
                    return moment(this.maxDate)._d
                },
                DateRangeSelectorRestricted.prototype.minEndDate = function() {
                    return this.between(this.minDate, this.maxDate) ? moment(
                    )._d : moment(this.minDate)._d
                },
                DateRangeSelectorRestricted.prototype.maxEndDate = function() {
                    return moment(this.maxDate)._d
                },
                DateRangeSelectorRestricted.prototype.between = function(startDate, endDate) {
                    return moment()._d > moment(startDate)._d && moment()._d < moment(endDate)._d
                },
                DateRangeSelectorRestricted
        }(
            Hs.DateRangeSelector)
    }.call(
        this),
    function() {
        Hs.ElementFollow = function() {
            function ElementFollow(selector, options) {
                var $passedTarget, $window, window_timeout,
                    _this;
                if (null == options && (options = {}), window_timeout = void 0, this.target = $(selector), this.targetHeight = this.target.height(), this.stopSelector = $(options.stopSelector), this.fromBottom = options.fromBottom, this.offset = 0, this.heightFix = options.heightFix, !this.target.length) return !1;
                $passedTarget = options.oncePassedSelector ? $(options.oncePassedSelector) : this.target, $window = $(window), this.offset = $passedTarget.offset().top, $window.resize(function() {
                    return clearTimeout(window_timeout), window_timeout = setTimeout(function() {
                        return this.offset = $passedTarget.offset().top
                    }, 500)
                }), this.evalPosition(), $window.scroll((
                    _this = this,
                    function() {
                        return _this.target.hasClass("follow-window") && (_this.offset = $passedTarget.offset().top), _this.evalPosition()
                    }))
            }
            return ElementFollow.prototype.evalPosition = function() {
                    var has_class, position;
                    return position = $(window).scrollTop(),
                        this.heightFix && (
                            position += $(window).height()),
                        has_class = this.target.hasClass("follow-window"),
                        this.target.toggleClass("stop-follow-window", this.isPostionAfterStopElement(position)),
                        this.offset <= position && !has_class ? this.target.css({
                            "paddingTop": this.target.height()
                        }).addClass(
                            "follow-window").removeClass("stop-follow-window"
                        ) : this.offset >= position && has_class ? this.target.css({
                            "paddingTop": 0
                        }).removeClass(
                            "follow-window").remove("stop-follow-window") : void 0
                },
                ElementFollow.prototype.isPostionAfterStopElement = function(position) {
                    var stopSelectorOffset;
                    return !!this.stopSelector.length && (
                        stopSelectorOffset = Hs.mobile_device ? this.stopSelector.attr("data-stop-follow-offset-sm") : this.stopSelector.attr("data-stop-follow-offset"), (
                            this.fromBottom ? this.stopSelector.offset().top - stopSelectorOffset + this.targetHeight - $(window).height(
                            ) : this.stopSelector.offset().top - stopSelectorOffset - this.targetHeight
                        ) < position)
                },
                ElementFollow
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.EmailSuggestion = function() {
            function EmailSuggestion(element) {
                $(element).on("change", function() {
                    return $(this).mailcheck({
                        "suggested": function(
                            element, suggestion) {
                            var help;
                            return help = $("<p />", {
                                    "text": "Did you mean? ",
                                    "click": function() {
                                        return element.val(suggestion.full),
                                            $(this).slideUp(100), !1
                                    }
                                }).addClass(
                                    "help-block email-suggestion").append($("<a />", {
                                    "href": "#",
                                    "text": suggestion.address + "@"
                                }).append(
                                    $("<span />", {
                                        "text": suggestion.domain
                                    }))),
                                element.parent().find(".email-suggestion").remove(),
                                element.parent().append(help),
                                help.hide().slideDown(100)
                        },
                        "empty": function(
                            element) {
                            return element.parent().find(".email-suggestion").remove()
                        }
                    })
                })
            }
            return EmailSuggestion
        }(), (
            $ = jQuery
        ).fn.extend({
            "emailSuggestion": function() {
                return this.each(function() {
                    return new Hs.EmailSuggestion(this)
                })
            }
        })
    }.call(
        this),
    function() {
        var extend = function(child, parent) {
                function ctor() {
                    this.constructor = child
                }
                for (var key in parent) hasProp.call(parent, key) && (child[key] = parent[key]);
                return ctor.prototype = parent.prototype, child.prototype = new ctor, child.__super__ = parent.prototype, child
            },
            hasProp = {}.hasOwnProperty
        ;
        Hs.ExactMap = function(superClass) {
                function ExactMap() {
                    return ExactMap.__super__.constructor.apply(this, arguments)
                }
                return extend(ExactMap, superClass),
                    ExactMap.prototype.buildMap = function() {
                        return ExactMap.__super__.buildMap.call(this),
                            this.addMarker(this.latitude, this.longitude)
                    },
                    ExactMap.prototype.addMarker = function(latitude, longitude) {
                        var bounds, position;
                        return bounds = new google.maps.LatLngBounds,
                            position = new google.maps.LatLng(latitude, longitude),
                            bounds.extend(position),
                            new google.maps.Marker({
                                "map": this.map,
                                "position": position
                            })
                    },
                    ExactMap
            }(
                Hs.BasicMap),
            jQuery.fn.extend({
                "exactMap": function(
                    options) {
                    return this.each(function() {
                        return new Hs.ExactMap(this, options)
                    })
                }
            })
    }.call(
        this),
    function() {
        Hs.ready(function() {
            return $("body").on("click", "[data-expand]", function() {
                var $button;
                return $button = $(this),
                    $($button.attr("data-expand")).removeClass("hidden"),
                    $button.addClass("hidden")
            })
        })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.Faq = function() {
            function Faq(container) {
                this.container = $(container),
                    this.setup()
            }
            return Faq.prototype.setup = function() {
                    return this.setContainerClass(),
                        this.createSections(),
                        this.setupSections()
                },
                Faq.prototype.setContainerClass = function() {
                    return this.container.addClass("accordion").attr("id", "faq")
                },
                Faq.prototype.createSections = function() {
                    return this.container.find("h3").each(function() {
                        return $(this).nextUntil("h3").andSelf().wrapAll('<div class="accordion-group"/>')
                    })
                },
                Faq.prototype.setupSections = function() {
                    return this.container.find("div.accordion-group").each(function() {
                        var $h3, $this, id, link
                        ;
                        return id = [id = ($h3 = ($this = $(this)).find("h3")).text().toLowerCase().replace(/[^a-z0-9 -]/g, "").replace(/\s+/g, "-").replace(/-+/g, "-"), $this.index()].join("-"),
                            link = $('<a href="#' + id + '" class="accordion-toggle" data-toggle="collapse" data-parent="#faq">').text($h3.text()),
                            $h3.html(link).wrapAll('<div class="accordion-heading"/>'),
                            $this.find("p, ul, h4").wrapAll('<div class="accordion-inner"/>').wrapAll('<div class="accordion-body collapse" id="' + id + '"/>')
                    })
                },
                Faq
        }(), (
            $ = jQuery
        ).fn.extend({
            "homestayFaq": function() {
                return this.each(function() {
                    return new Hs.Faq(this)
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.Faq2 = function() {
            function Faq2() {
                this.faqs = $(".faqs"),
                    this.setup()
            }
            var instance;
            return instance = null, Faq2.get = function() {
                    return null != instance ? instance : instance = new Hs.Faq2
                },
                Faq2.prototype.setup = function() {
                    var faq, i, len, ref;
                    for (
                        i = 0, len = (ref = this.faqs.find(".faq")).length; i < len; i++
                    ) faq = ref[i],
                        $(faq).find("h4").append($("<i class='hs-icon-plus-circle pull-right'/>"))
                    ;
                    return this.faqs.on("click", ".faq", function(
                        e) {
                        return (
                            faq = $(e.currentTarget)
                        ).toggleClass("closed")
                    })
                },
                Faq2.prototype.show = function(section) {
                    var faq;
                    return faq = this.faqs.find("[data-faq='" + section + "']"),
                        $(faq).removeClass("closed")
                },
                Faq2.prototype.hide = function(section) {
                    var faq;
                    return faq = this.faqs.find("[data-faq='" + section + "']"),
                        $(faq).addClass("closed")
                },
                Faq2
        }()
    }.call(
        this),
    function() {
        Hs.FavouritesBookingRequestForm = function() {
            function FavouritesBookingRequestForm() {
                var _this;
                this.parent = $("#favourites"), this.elements = {
                        "checkIn": this.parent.find("input.check-in"),
                        "checkOut": this.parent.find("input.check-out"),
                        "bookingData": this.parent.find("#booking-data"),
                        "checkingAvailability": this.parent.find(".checking-availabilities"),
                        "noAvailability": this.parent.find(".no-availability"),
                        "continue": this.parent.find(".continue-btn"),
                        "filter": this.parent.find("#availability-filter"),
                        "results": this.parent.find(".results"),
                        "favouritesForm": this.parent.find("#favourites-form"),
                        "homestays": this.parent.find(".homestay-card-list")
                    }, this.ratesParams = {}, this.homestaysCount = this.parent.find(".homestay-card-container").length, this.ratesCallCount = 0, this.availableCount = 0, this.selectedCount = 0, this.dateRange = new Hs.DateRangeSelector(this.elements.checkIn, this.elements.checkOut), new Hs.HomestayCardCarousel(this.elements.homestays), new Hs.ElementFollow(".desktop-continue-button", {
                        "stopSelector": "#booking-data"
                    }), new Hs.ElementFollow(".mobile-continue-button", {
                        "oncePassedSelector": ".homestay-card-list",
                        "stopSelector": "#booking-data"
                    }), this.onChangeTripForm(), this.onSubmitBookingRequestForm(), this.onClickAvailabilityFilter(), this.onChangeCheckbox(), this.onClickAlreadyContacted(), this.onToggleFavourites(), this.onClickContinue(), 0 < this.homestaysCount && this.runAvailabilityCheck(), Hs.PubSub.subscribe("bookingRequestForm::initialized", (
                        _this = this,
                        function() {
                            return _this.updateCopyWithSelectedCount()
                        })),
                    Hs.PubSub.subscribe("favourites::afterAvailabilityCheck", function(_this) {
                        return function() {
                            return _this.afterAvailabilityCheck()
                        }
                    }(
                        this)),
                    0 < this.homestaysCount && Hs.GTM.trackVisit("visit_favourites_favourites_found")
            }
            return FavouritesBookingRequestForm.prototype.onClickContinue = function() {
                    return new Hs.ScrollTo(".fixed button"),
                        new Hs.ScrollTo(".mobile-continue-button button")
                },
                FavouritesBookingRequestForm.prototype.onToggleFavourites = function() {
                    return this.parent.on("favourite.toggled", (
                        _this = this,
                        function(evt) {
                            var $homestayCard;
                            return ($homestayCard = $(evt.target).parents(".homestay-card-container")).animate({
                                "height": 0
                            }, 200, function() {
                                if ($homestayCard.remove(), _this.homestaysCount = _this.parent.find(".homestay-card-container").length, 0 === _this.homestaysCount) return window.location.reload()
                            })
                        }));
                    var _this
                },
                FavouritesBookingRequestForm.prototype.onClickAlreadyContacted = function() {
                    return this.parent.on("click", ".host-already-contacted span", function(
                        evt) {
                        return window.open($(evt.target).data("bookingRequestUrl")), !1
                    })
                },
                FavouritesBookingRequestForm.prototype.onClickAvailabilityFilter = function() {
                    return this.elements.filter.on("click", "a", (
                        _this = this,
                        function() {
                            return $(".homestay-card-container.unavailable").toggleClass("hidden"), _this.elements.filter.find("a").toggleClass("hidden")
                        }));
                    var _this
                },
                FavouritesBookingRequestForm.prototype.onChangeTripForm = function() {
                    var _this;
                    return this.parent.on("date.change", "input.check-in, input.check-out", (
                            _this = this,
                            function() {
                                return _this.runAvailabilityCheck()
                            })),
                        this.parent.on("change", "select.guests", function(_this) {
                            return function() {
                                return _this.runAvailabilityCheck()
                            }
                        }(
                            this))
                },
                FavouritesBookingRequestForm.prototype.runAvailabilityCheck = function() {
                    var endDate, startDate,
                        _this;
                    return !(!this.elements.checkIn.val() || !this.elements.checkOut.val()) && (this.elements.checkingAvailability.removeClass("hidden"), this.elements.noAvailability.add(this.elements.results).addClass("hidden"), this.elements.bookingData.html(""), Hs.GTM.trackVisit("visit_favourites_availability_check"), startDate = this.dateRange.startDate.getDate(), endDate = this.dateRange.endDate.getDate(), this.ratesCallCount = 0, this.availableCount = 0, this.rateParams = {
                        "check_in": startDate.getFullYear() + "-" + (startDate.getMonth() + 1) + "-" + startDate.getDate(),
                        "check_out": endDate.getFullYear() + "-" + (endDate.getMonth() + 1) + "-" + endDate.getDate(),
                        "guests": this.parent.find("select.guests").val(),
                        "preallocate": !0
                    }, this.parent.find(".homestay-card-container").each((
                        _this = this,
                        function(i, homestay) {
                            return _this.checkAvailability($(homestay))
                        })))
                },
                FavouritesBookingRequestForm.prototype.afterAvailabilityCheck = function() {
                    var copy;
                    return this.elements.checkingAvailability.addClass("hidden"),
                        0 < this.availableCount ? (
                            this.elements.filter.find(".on:not(.hidden)").length && $(".homestay-card-container.unavailable").addClass("hidden"),
                            Hs.GTM.trackVisit("visit_favourites_availabilites_found"),
                            Hs.CurrencyLocaliser.get().updateCurrencies(),
                            this.elements.noAvailability.addClass("hidden"),
                            this.availableCount < this.homestaysCount ? this.elements.filter.removeClass("hidden"
                            ) : this.elements.filter.addClass("hidden"),
                            copy = this.availableCount < 4 ? I18n.t("booking_request.new.batch.few_homestays_found", {
                                    "count": this.availableCount
                                }
                            ) : I18n.t("booking_request.new.batch.homestays_found", {
                                "count": this.availableCount
                            }),
                            this.elements.results.find("p.success").html(copy),
                            this.elements.results.removeClass("hidden"),
                            this.getBookingRequestForm(),
                            this.elements["continue"].addClass("opacity")) : (
                            $(".homestay-card-container.unavailable").add(this.elements.noAvailability).removeClass("hidden"),
                            this.elements.results.add(this.elements.filter).addClass("hidden"),
                            this.elements["continue"].removeClass("opacity")),
                        this.toggleCheckboxesVisibility()
                },
                FavouritesBookingRequestForm.prototype.updateCopyWithSelectedCount = function() {
                    return this.updateSelectedCount(),
                        this.elements.bookingData.find("header h3").html(I18n.t("booking_request.new.batch.title", {
                            "count": this.selectedCount
                        })),
                        this.elements.bookingData.find("#booking-request-form input[type='submit']").val(I18n.t("booking_request.new.batch.submit_btn", {
                            "count": this.selectedCount
                        }))
                },
                FavouritesBookingRequestForm.prototype.updateSelectedCount = function() {
                    return this.selectedCount = this.parent.find(".homestay-card-list input[type='checkbox']:checked:not(:disabled)").length
                },
                FavouritesBookingRequestForm.prototype.onChangeCheckbox = function() {
                    return this.parent.on("change", ".homestay-card-list input[type='checkbox']", (
                        _this = this,
                        function() {
                            return _this.updateCopyWithSelectedCount(), _this.elements.bookingData.toggleClass("invisible", 0 === _this.selectedCount), _this.elements["continue"].toggleClass("opacity", 0 !== _this.selectedCount)
                        }));
                    var _this
                },
                FavouritesBookingRequestForm.prototype.getBookingRequestForm = function() {
                    return $.ajax({
                        "url": Hs.user_booking_requests_new_url,
                        "dataType": "script",
                        "data": this.elements.favouritesForm.serialize()
                    })
                },
                FavouritesBookingRequestForm.prototype.onSubmitBookingRequestForm = function() {
                    return this.parent.on("submit", "#booking-request-form", (
                        _this = this,
                        function(evt) {
                            return $(evt.target).find("input[type='submit']").prop("disabled", !0), evt.preventDefault(), $.ajax({
                                "url": $(evt.target).attr("action"),
                                "dataType": "script",
                                "method": "POST",
                                "data": _this.elements.favouritesForm.serialize() + "&" + $("#booking-request-form").serialize()
                            })
                        }));
                    var _this
                },
                FavouritesBookingRequestForm.prototype.checkAvailability = function($homestay) {
                    var _this;
                    return $homestay.data("homestay"), $homestay.find(".availability-check").html(I18n.t("booking_request.new.batch.availability.checking")), $.get($homestay.data("ratesUrl"), this.rateParams).done((
                        _this = this,
                        function(ratesData) {
                            var availableRoomsCapacity, id, ref, room_rates;
                            if (_this.ratesCallCount += 1, availableRoomsCapacity = 0, ratesData.error || $.isEmptyObject(ratesData.rooms)) _this.markUnavailable($homestay, ratesData.error);
                            else {
                                for (id in ref = ratesData.rooms)(room_rates = ref[id]).available && (availableRoomsCapacity += room_rates.room.capacity);
                                availableRoomsCapacity >= parseInt(_this.rateParams.guests, 10) && 0 === $homestay.find(".host-already-contacted").length ? _this.markAvailable($homestay, ratesData.totals.price_amount, ratesData.totals.currency) : _this.markUnavailable($homestay)
                            }
                            if (_this.ratesCallCount === _this.homestaysCount) return Hs.PubSub.publish("favourites::afterAvailabilityCheck")
                        }))
                },
                FavouritesBookingRequestForm.prototype.markAvailable = function($homestay, priceAmount, currencyCode) {
                    var $availableStatus, display;
                    return $homestay.data("homestay"),
                        $availableStatus = $homestay.find(".availability-check"),
                        $homestay.data("hidePrices") ? $availableStatus.html("") : (
                            display = Hs.Util.Currency.formatPriceFullWithData("", priceAmount, currencyCode),
                            $availableStatus.html(display).attr("data-amount", priceAmount).prepend(I18n.t("misc.prices.price") + "&nbsp;")),
                        this.availableCount += 1,
                        $homestay.removeClass("unavailable hidden no-highlight").addClass("available"),
                        $homestay.find(".homestay-card").removeClass("no-highlight")
                },
                FavouritesBookingRequestForm.prototype.markUnavailable = function($homestay, ratesDataErrors) {
                    var $availableStatus, statusMsg;
                    return $homestay.data("homestay"),
                        $availableStatus = $homestay.find(".availability-check"),
                        0 < $homestay.find(".host-already-contacted").length ? (
                            statusMsg = "",
                            Hs.GTM.trackCustomEvent("Favourites", "Not available: already contacted")
                        ) : ratesDataErrors ? (
                            ratesDataErrors.minimum && (
                                statusMsg = I18n.t("booking_request.new.batch.availability.length_of_stay_too_short", {
                                    "length": ratesDataErrors.minimum
                                })),
                            ratesDataErrors.maximum && (
                                statusMsg = I18n.t("booking_request.new.batch.availability.length_of_stay_too_long", {
                                    "length": ratesDataErrors.maximum
                                })),
                            Hs.GTM.trackCustomEvent("Favourites", "Not available: length of stay")) : (
                            statusMsg = I18n.t("booking_request.new.batch.availability.unavailable"),
                            Hs.GTM.trackCustomEvent("Favourites", "Not available: dates or guest count")),
                        $availableStatus.html(statusMsg),
                        $homestay.removeClass("available").addClass("unavailable"),
                        $homestay.find(".homestay-card").addClass("no-highlight")
                },
                FavouritesBookingRequestForm.prototype.toggleCheckboxesVisibility = function() {
                    return this.parent.find(".unavailable input[type='checkbox']").prop("disabled", !0).addClass("invisible"),
                        this.parent.find(".available input[type='checkbox']").prop("disabled", !1).removeClass("invisible"),
                        this.parent.find("input[type='checkbox']").removeClass("hidden"),
                        this.parent.find(".homestay-card").addClass("selectable")
                },
                FavouritesBookingRequestForm.prototype.hideFavouiteButtons = function() {
                    return this.parent.find(".favourite-buttons").addClass("hidden")
                },
                FavouritesBookingRequestForm
        }()
    }.call(
        this),
    function() {
        Hs.FormSessionStorage = function() {
            function FormSessionStorage() {
                this.storageFields = $(":input[data-session-storage='true']"),
                    this.getFormSessionStorage(),
                    this.setFormSessionStorage()
            }
            return FormSessionStorage.prototype.getFormSessionStorage = function() {
                    return this.storageFields.each((
                        _this = this,
                        function(index, field) {
                            var $field;
                            if (0 === ($field = $(field)).length) return !1;
                            if (_this.getSessionItem($field) && $field.is("input:checkbox")) {
                                if ("true" === _this.getSessionItem($field)) return $field.prop("checked", !0)
                            } else if (_this.getSessionItem($field)) return $field.val(_this.getSessionItem($field))
                        }));
                    var _this
                },
                FormSessionStorage.prototype.setFormSessionStorage = function() {
                    return this.storageFields.each((
                        _this = this,
                        function(index, field) {
                            var $field;
                            return 0 !== ($field = $(field)).length && ($field.is("textarea") || $field.is("input:text") ? $field.blur(function(e) {
                                return _this.setSessionItem($(e.target))
                            }) : $field.is("input:checkbox") ? $field.change(function() {
                                var checkbox;
                                return checkbox = $(this), sessionStorage.setItem(checkbox.attr("id"), checkbox.prop("checked"))
                            }) : $field.change(function(e) {
                                return _this.setSessionItem($(e.target))
                            }))
                        }));
                    var _this
                },
                FormSessionStorage.prototype.clearFormSessionStorage = function() {
                    return this.storageFields.each(function(
                        index, field) {
                        var $field;
                        if (
                            0 === ($field = $(field)).length
                        ) return !1;
                        try {
                            return sessionStorage.removeItem($field.attr("id"))
                        } catch (
                            error) {}
                    })
                },
                FormSessionStorage.prototype.getSessionItem = function($field) {
                    return sessionStorage.getItem($field.attr("id"))
                },
                FormSessionStorage.prototype.setSessionItem = function($field, value) {
                    var newValue;
                    newValue = value || $field.val();
                    try {
                        return sessionStorage.setItem($field.attr("id"), newValue)
                    } catch (
                        error) {
                        error
                    }
                },
                FormSessionStorage
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.GoogleLogin = function() {
            function GoogleLogin(button_el, form_el, options) {
                var skip_click_handling,
                    _this;
                null == options && (options = {}), this.submitData = bind(this.submitData, this), this.data = bind(this.data, this), this.triggerAuthorization = bind(this.triggerAuthorization, this), this.handleClick = bind(this.handleClick, this), this.$button = $(button_el), this.$form = $(form_el), this.$spinner = this.$button.find(".spinner-backdrop"), skip_click_handling = !!options.skip_click_handling, this.google_client = Hs.GooglePlatformClient.get(), this.google_client.requireLibrary("auth2"), skip_click_handling || this.google_client.registerCallback((
                    _this = this,
                    function() {
                        return _this.$button.on("click", _this.handleClick)
                    }))
            }
            return GoogleLogin.prototype.handleClick = function(ev) {
                    return ev.preventDefault(),
                        this.triggerAuthorization()
                },
                GoogleLogin.prototype.triggerAuthorization = function() {
                    return this.google_client.registerCallback((
                        _this = this,
                        function() {
                            return gapi.auth2.authorize({
                                "client_id": "598641058269-rdekg4hc7m9mfvq86ke5vgb000tquf1g.apps.googleusercontent.com",
                                "scope": "email profile",
                                "response_type": "id_token permission",
                                "prompt": "consent"
                            }, function(response) {
                                if (!response.error) return _this.$button.attr("disabled", "disabled"), _this.$spinner.removeClass("hide"), _this.submitData(_this.data(response))
                            })
                        }));
                    var _this
                },
                GoogleLogin.prototype.data = function(response) {
                    var data, i, len, ref, value;
                    for (
                        data = {},
                        i = 0, len = (ref = $(this.$form.find("form")).serializeArray()).length; i < len; i++
                    ) data[(value = ref[i]).name] = value.value
                    ;
                    return data = $.extend({}, data, {
                            "google_data": response,
                            "from_return_url": this.$button.data("fromReturnUrl"),
                            "from": this.$button.data("from")
                        }
                    )
                },
                GoogleLogin.prototype.submitData = function(data) {
                    return $.ajax({
                        "type": "POST",
                        "url": "/sessions/google.js",
                        "data": data,
                        "error": (
                            _this = this,
                            function() {
                                return _this.$spinner.addClass("hide"), _this.$button.removeAttr("disabled")
                            })
                    });
                    var _this
                },
                GoogleLogin
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.GoogleMapClient = function() {
            function GoogleMapClient() {
                var mapsUrl;
                this.onGoogleMapsLoaded = bind(this.onGoogleMapsLoaded, this), this.registerGoogleMapsCallback = bind(this.registerGoogleMapsCallback, this),
                    this.callback_backlog = [],
                    this.google_maps_loaded = !1,
                    mapsUrl = Hs.protocol + "://maps.googleapis.com/maps/api/js?key=AIzaSyAZw1Ae5z_ENZajtV9Am6RdStcIsp_FTMM&libraries=geometry,places&v=" + GOOGLE_MAPS_API_VERSION + "&language=" + I18n.locale + "&callback=Hs.GoogleMapClient.google_maps_callback",
                    "test" !== Hs.environment && Hs.getScript(mapsUrl)
            }
            var GOOGLE_MAPS_API_VERSION, instance;
            return instance = null, GOOGLE_MAPS_API_VERSION = 3, GoogleMapClient.get = function() {
                    return null != instance ? instance : instance = new Hs.GoogleMapClient
                }, GoogleMapClient.google_maps_callback = function() {
                    return this.get().onGoogleMapsLoaded()
                },
                GoogleMapClient.prototype.registerGoogleMapsCallback = function(callback) {
                    return this.google_maps_loaded ? callback.apply(null
                    ) : this.callback_backlog.push(callback)
                },
                GoogleMapClient.prototype.onGoogleMapsLoaded = function() {
                    var callback, i, len, ref, results;
                    for (
                        this.google_maps_loaded = !0,
                        results = [],
                        i = 0, len = (ref = this.callback_backlog).length; i < len; i++
                    ) callback = ref[i],
                        results.push(callback.apply(null))
                    ;
                    return results
                },
                GoogleMapClient
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
                return function() {
                    return fn.apply(me, arguments)
                }
            },
            indexOf = [].indexOf || function(item) {
                for (var i = 0, l = this.length; i < l; i++)
                    if (i in this && this[i] === item) return i;
                return -1
            }
        ;
        Hs.GooglePlatformClient = function() {
            function GooglePlatformClient() {
                var script_url;
                this.loadMissingLibraries = bind(this.loadMissingLibraries, this), this.ready = bind(this.ready, this), this.flushCallbacks = bind(this.flushCallbacks, this), this.loaded = bind(this.loaded, this), this.registerCallback = bind(this.registerCallback, this), this.requireLibrary = bind(this.requireLibrary, this),
                    this.callback_backlog = [],
                    this.required_libraries = [],
                    this.loaded_libraries = [],
                    this.library_loaded = !1,
                    script_url = "https://apis.google.com/js/api.js",
                    "test" !== Hs.environment && Hs.getScript(script_url, Hs.GooglePlatformClient.onload_callback)
            }
            var instance;
            return instance = null, GooglePlatformClient.get = function() {
                    return null != instance ? instance : instance = new Hs.GooglePlatformClient
                }, GooglePlatformClient.onload_callback = function() {
                    return GooglePlatformClient.get().ready()
                },
                GooglePlatformClient.prototype.requireLibrary = function(library) {
                    if (!(
                            0 <= indexOf.call(this.loaded_libraries, library))
                    ) return this.required_libraries.push(library)
                },
                GooglePlatformClient.prototype.registerCallback = function(callback) {
                    if (
                        this.callback_backlog.push(callback),
                        this.loaded()
                    ) return this.flushCallbacks()
                },
                GooglePlatformClient.prototype.loaded = function() {
                    return this.library_loaded
                },
                GooglePlatformClient.prototype.flushCallbacks = function() {
                    return this.loadMissingLibraries((
                        _this = this,
                        function() {
                            var callback, i, len, ref, results;
                            for (results = [], i = 0, len = (ref = _this.callback_backlog).length; i < len; i++) callback = ref[i], results.push(callback.apply(null));
                            return results
                        }));
                    var _this
                },
                GooglePlatformClient.prototype.ready = function() {
                    return this.library_loaded = !0,
                        this.flushCallbacks()
                },
                GooglePlatformClient.prototype.loadMissingLibraries = function(callback) {
                    var libs,
                        _this;
                    return 0 === this.required_libraries.length ? callback.apply(null) : (libs = this.required_libraries, this.required_libraries = [], gapi.load(libs.join(":"), (
                        _this = this,
                        function() {
                            return _this.loaded_libraries = _this.loaded_libraries.concat(libs), callback.apply(null)
                        })))
                },
                GooglePlatformClient
        }()
    }.call(
        this),
    function() {
        Hs.GTM = function() {
            function GTM() {}
            return GTM.trackFormInteraction = function($form_element, action) {
                    var _this;
                    return $form_element.on("blur", ".form-control", (
                            _this = this,
                            function(e) {
                                return _this.dataLayerPush("hs.form_event", action, $(e.target).attr("id"))
                            })),
                        $form_element.on("change", "select.form-control, input.boolean", function(_this) {
                            return function(
                                e) {
                                return _this.dataLayerPush("hs.form_event", action, $(e.target).attr("id"))
                            }
                        }(
                            this))
                },
                GTM.trackCustomEvent = function(action, label, category) {
                    var error;
                    null == category && (
                        category = "Interactions");
                    try {
                        return dataLayer.push({
                                "event": "hs.event",
                                "event_category": category,
                                "event_action": action,
                                "event_label": label,
                                "user_logged_in": Hs.current_user_type,
                                "locale": Hs.locale
                            }),
                            !0
                    } catch (
                        error1) {
                        return error = error1,
                            Hs.log(error),
                            null
                    }
                },
                GTM.trackScroll = function(action, label, scroll_elem, category) {
                    var $document, $scroll_elem, $window, event_id, scroll_top,
                        _this;
                    if (null == category && (category = "Interactions"), $scroll_elem = $(scroll_elem), $window = $(window), $document = $(document), $scroll_elem.length) return scroll_top = $scroll_elem.offset().top, event_id = "scroll." + ("trackScroll-" + scroll_top).replace(".", ""), $window.on(event_id, (
                        _this = this,
                        function() {
                            var bottom_viewport, window_scroll_top;
                            if (bottom_viewport = $document.height() - $window.height(), window_scroll_top = $window.scrollTop(), scroll_top <= window_scroll_top || bottom_viewport <= window_scroll_top && bottom_viewport <= scroll_top) return _this.trackCustomEvent(action, label, category), $window.off(event_id)
                        }))
                },
                GTM.trackVisit = function(event_name) {
                    if (
                        "undefined" != typeof dataLayer && null !== dataLayer
                    ) return dataLayer.push({
                        "event": event_name,
                        "locale": Hs.locale,
                        "marketplace": Hs.marketplace
                    })
                },
                GTM.dataLayerPush = function(event_name, action, label) {
                    var error;
                    try {
                        return dataLayer.push({
                                "event": event_name,
                                "event_action": action,
                                "event_label": label
                            }),
                            !0
                    } catch (
                        error1) {
                        return error = error1,
                            Hs.log(error),
                            null
                    }
                },
                GTM
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.GuestFormDetails = function() {
            function GuestFormDetails() {
                this.telephone = $(".telephone_number").payment("restrictNumeric"),
                    $("#booking_request_email").emailSuggestion(),
                    Hs.Select2.setupCountryCode("#nationality"),
                    Hs.Select2.setupPhoneCountryCode(".telephone_country_code")
            }
            return GuestFormDetails
        }(), (
            $ = jQuery
        ).fn.extend({
            "guestFormDetails": function() {
                return this.each(function() {
                    return new Hs.GuestFormDetails
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.GuestSignup = function() {
            function GuestSignup(element, options1) {
                this.element = element,
                    this.options = null != options1 ? options1 : {},
                    this.init()
            }
            return GuestSignup.prototype.init = function() {
                    var _this;
                    return $.each(this.options, (
                            _this = this,
                            function(key, value) {
                                return _this.element.find("a[data-login]").data(key, value)
                            })),
                        this.handleOptions()
                },
                GuestSignup.prototype.open = function() {
                    return (
                        Hs.Instances.guest_signup = this
                    ).element.modal({
                        "backdrop": !0
                    })
                },
                GuestSignup.prototype.handleOptions = function() {
                    if (
                        this.options.redirectUrl
                    ) return this.element.find("input.redirect_url").val(this.options.redirectUrl),
                        this.element.find(".social.facebook").attr("href", "/auth/facebook?origin=" + this.options.redirectUrl)
                },
                GuestSignup.open = function(options) {
                    return null == options && (
                            options = {}),
                        new Hs.GuestSignup($("#guest-signup-modal"), options).open()
                },
                GuestSignup
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.HeartRating = function() {
            function HeartRating(input) {
                this.input = input,
                    this.heartsContainer = this.buildHearts(),
                    this.input.after(this.heartsContainer),
                    $("a.heart-rating").tooltip(),
                    this.input.hide(),
                    this.installEventHandler()
            }
            return HeartRating.prototype.minRating = function() {
                    return Math.min.apply(Math, this.ratings())
                },
                HeartRating.prototype.maxRating = function() {
                    return Math.max.apply(Math, this.ratings())
                },
                HeartRating.prototype.selectedRating = function() {
                    var num;
                    return num = parseInt(this.input.val()),
                        isNaN(num
                        ) ? 0 : num
                },
                HeartRating.prototype.ratingRange = function() {
                    var ref, results;
                    return function() {
                        results = [];
                        for (
                            var i = ref = this.minRating(), ref1 = this.maxRating(); ref <= ref1 ? i <= ref1 : ref1 <= i; ref <= ref1 ? i++ : i--) results.push(i);
                        return results
                    }.apply(
                        this)
                },
                HeartRating.prototype.buildHearts = function() {
                    var container,
                        _this;
                    return (container = $('<div class="heart-rating-container"></div>')).append(this.ratingRange().map((
                            _this = this,
                            function(e) {
                                return _this.buildHeart(e)
                            }))),
                        container
                },
                HeartRating.prototype.buildHeart = function(rating) {
                    return $("<a/>", {
                        "href": "#heart-rating-" + rating,
                        "data-rating": rating,
                        "data-toggle": "tooltip",
                        "data-placement": "bottom",
                        "class": "heart-rating",
                        "title": I18n.t("reviews.rating_" + rating),
                        "text": rating
                    })
                },
                HeartRating.prototype.ratings = function() {
                    return $.map($("option[value]", this.input).toArray(), function(e) {
                        var num;
                        return num = parseInt($(e).val()),
                            isNaN(num
                            ) ? 1 : num
                    })
                },
                HeartRating.prototype.installEventHandler = function() {
                    var _this;
                    return this.heartsContainer.on("click", "a.heart-rating", (
                            _this = this,
                            function(e) {
                                return _this.setRating(e), _this.hoverOut(e)
                            })),
                        this.heartsContainer.on("touchstart", "a.heart-rating", function(_this) {
                            return function(
                                e) {
                                return _this.hoverIn(e),
                                    _this.setRating(e),
                                    _this.hoverOut(e)
                            }
                        }(
                            this)),
                        $("a.heart-rating", this.heartsContainer).hover(function(_this) {
                            return function(
                                e) {
                                return _this.hoverIn(e)
                            }
                        }(
                            this), function(_this) {
                            return function(
                                e) {
                                return _this.hoverOut(e)
                            }
                        }(
                            this)),
                        this.initialLoadRating()
                },
                HeartRating.prototype.setRating = function(e) {
                    var $target;
                    return e.preventDefault(),
                        $target = $(e.target),
                        this.input.val($target.data("rating")), !1
                },
                HeartRating.prototype.hoverIn = function(e) {
                    var $target, rating, ref, results;
                    return $target = $(e.target),
                        rating = parseInt($target.data("rating")),
                        function() {
                            results = [];
                            for (
                                var i = ref = this.minRating(); ref <= rating ? i <= rating : rating <= i; ref <= rating ? i++ : i--) results.push(i);
                            return results
                        }.apply(
                            this
                        ).forEach(function(
                            r) {
                            return $('a.heart-rating[data-rating="' + r + '"]').attr("class", "heart-rating hover")
                        })
                },
                HeartRating.prototype.hoverOut = function(e) {
                    var $target, ref, results;
                    return $target = $(e.target),
                        parseInt($target.data("rating")),
                        function() {
                            results = [];
                            for (
                                var i = ref = this.selectedRating() + 1, ref1 = this.maxRating() + 1; ref <= ref1 ? i <= ref1 : ref1 <= i; ref <= ref1 ? i++ : i--) results.push(i);
                            return results
                        }.apply(
                            this
                        ).forEach(function(
                            r) {
                            return $('a.heart-rating[data-rating="' + r + '"]').attr("class", "heart-rating")
                        })
                },
                HeartRating.prototype.initialLoadRating = function() {
                    var results;
                    return function() {
                        results = [];
                        for (
                            var i = 0, ref = this.input.val(); 0 <= ref ? i <= ref : ref <= i; 0 <= ref ? i++ : i--) results.push(i);
                        return results
                    }.apply(
                        this
                    ).forEach(function(
                        r) {
                        return $('a.heart-rating[data-rating="' + r + '"]').attr("class", "heart-rating hover")
                    })
                },
                HeartRating
        }(), (
            $ = jQuery
        ).fn.extend({
            "heartRating": function() {
                return this.each(function() {
                    return new Hs.HeartRating($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.Homepage = function() {
            function Homepage() {
                var $body, activityBoxTimeout, evt, isMobile, urls
                ;
                isMobile = ($body = $("body")).hasClass("touch-enabled"),
                    urls = {
                        "activity": new Hs.Util.UrlBuilder("/index_activity").get(),
                        "inspiration": new Hs.Util.UrlBuilder("/index_inspiration").get()
                    },
                    isMobile || (
                        Hs.hero_slider = new Hs.HeroSlider,
                        new Hs.ScrollTo('[data-scroll-to="true"]'), (
                            evt = document.createEvent("Event")
                        ).initEvent("ninjaSliderLoad", !1, !1),
                        window.dispatchEvent(evt)),
                    new Hs.ElementFollow("#js-follow-once-passed"),
                    new Hs.ElementFollow("#js-follow-button", {
                        "oncePassedSelector": "#js-follow-once-passed"
                    }),
                    $("#home-signup").signup(),
                    new Hs.YoutubeOndemand,
                    $body.on("click", ".bordered-list li a", function() {
                        var type;
                        return type = $(this).attr("data-type"),
                            Hs.GTM.trackCustomEvent("Homepage", "Activity Box, type: " + type)
                    }),
                    $("#inspiration").load(urls.inspiration, function() {
                        return new Hs.HostCardCTA(".host-card.alt-with-cta"),
                            Hs.CurrencyLocaliser.get().updateCurrencies(),
                            Hs.ImageLazyload.initialize()
                    }),
                    $(".homestay-container.activity-box").is(":visible") ? $.getJSON(urls.activity, function(data) {
                        return Hs.activity = data,
                            new Hs.ActivityBox(".bordered-list", "#activity-box-template", Hs.activity)
                    }) : (
                        activityBoxTimeout = null,
                        $(window).on("resize.activityBox", function() {
                            return clearTimeout(activityBoxTimeout),
                                activityBoxTimeout = setTimeout(function() {
                                        if (
                                            $(".homestay-container.activity-box").is(":visible")
                                        ) return $.getJSON(urls.activity, function(data) {
                                            return Hs.activity = data,
                                                new Hs.ActivityBox(".bordered-list", "#activity-box-template", Hs.activity),
                                                $(window).off("resize.activityBox")
                                        })
                                    },
                                    500)
                        })),
                    isMobile && $body.on("click touchstart", ".host-card a", function(evt) {
                        var $parent;
                        if (!(
                                $parent = $(this).closest(".host-card")
                            ).hasClass("hovered")) return evt.preventDefault(),
                            $(".host-card.hovered").removeClass("hovered"),
                            $parent.addClass("hovered")
                    }),
                    $(".btn-find-homestay").on("scrollTo:complete", function() {
                        return $("#search_location").focus()
                    })
            }
            return Homepage
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.HomestayBookingRequest = function() {
            function HomestayBookingRequest() {
                var _this;
                new Hs.Rates(Hs.homestay_rates_url), new Hs.BookingSummary($("#booking-summary")), Hs.PubSub.publish("booking::dates", new Date(moment(Hs.checkIn, "YYYY-MM-DD")), new Date(moment(Hs.checkOut, "YYYY-MM-DD"))), this.installCallbacks(), this.openModal(), !0 !== Hs.bookingRequestClosed && (new Hs.PubnubBookingRequestEvents, this.isCheckOutDatePassed() || new Hs.HomestayBookingRequestUserPresence, window.setInterval((
                        _this = this,
                        function() {
                            return _this.toggleReturnToVideo()
                        }), 2e3)),
                    this.showGuestIntroductionModal(),
                    this.showHostIntroductionModal()
            }
            return HomestayBookingRequest.prototype.installCallbacks = function() {
                    return this.onClickAccept(),
                        this.onClickDecline(),
                        this.onClickReply(),
                        this.onClickCall("a#video_call"),
                        this.onClickCall("a#voice_call"),
                        this.onMessageSubmit(),
                        this.onClickPresenceMoreInfo(),
                        this.onClickReturnToVideo()
                },
                HomestayBookingRequest.prototype.onClickCall = function(link) {
                    return $("body").on("click", link, function(
                        e) {
                        var window_features;
                        return e.preventDefault(),
                            Hs.current_user_logged_in ? (
                                window_features = "menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=620,height=468",
                                window.call_window = window.open($(link).prop("href"), "video", window_features),
                                window.call_window.focus()
                            ) : $("#guest-login-modal").modal({
                                "backdrop": !0
                            })
                    })
                },
                HomestayBookingRequest.prototype.toggleReturnToVideo = function() {
                    return window.call_window && !window.call_window.closed ? $("body").addClass("active-call"
                    ) : $("body").removeClass("active-call")
                },
                HomestayBookingRequest.prototype.onClickReturnToVideo = function() {
                    return $("body").on("click", "#return_to_video", function() {
                        if (
                            window.call_window && !window.call_window.closed
                        ) return window.call_window.focus()
                    })
                },
                HomestayBookingRequest.prototype.onClickAccept = function() {
                    return $("#button-accept").click((
                        _this = this,
                        function() {
                            return _this.setInputTextFor("accept")
                        }));
                    var _this
                },
                HomestayBookingRequest.prototype.onClickDecline = function() {
                    return $("#button-decline").click((
                        _this = this,
                        function() {
                            return _this.setInputTextFor("decline")
                        }));
                    var _this
                },
                HomestayBookingRequest.prototype.onClickReply = function() {
                    return $("#button-reply").click(function() {
                        return $("#reply_wrapper").removeClass("disabled"),
                            $("#button-reply").hide()
                    })
                },
                HomestayBookingRequest.prototype.onMessageSubmit = function() {
                    return $("#reply form").submit(function() {
                        return !!$("#message_body").val()
                    })
                },
                HomestayBookingRequest.prototype.onClickPresenceMoreInfo = function() {
                    return $("body").on("click", "#more_info_click", function() {
                        return $("#presence_container .more_info").toggle()
                    })
                },
                HomestayBookingRequest.prototype.setInputTextFor = function(action) {
                    if (
                        $("#message_body").val()
                    ) return $("#" + action + "_message_body").val($("#message_body").val())
                },
                HomestayBookingRequest.prototype.openModal = function() {
                    return "accept" === Hs.openModal ? $("#accept_modal").modal("show"
                    ) : "decline" === Hs.openModal ? $("#decline_modal").modal("show") : void 0
                },
                HomestayBookingRequest.prototype.isCheckOutDatePassed = function() {
                    return moment(Hs.checkOut).isBefore(moment(), "day")
                },
                HomestayBookingRequest.prototype.showGuestIntroductionModal = function() {
                    var $modal;
                    return !!Hs.show_guest_introduction_modal && ((
                            $modal = $("#guest-welcome-modal")
                        ).on("hide.bs.modal", function() {
                            return $modal.data("ignore-dismiss") || Hs.GTM.trackCustomEvent("Host thread", "Dismiss guest introduction modal"),
                                $modal.data("ignore-dismiss", !1)
                        }).on(
                            "click", ".dismiss-with-button",
                            function() {
                                return Hs.GTM.trackCustomEvent("Host thread", "Clicked on view guest introduction modal"),
                                    $modal.data("ignore-dismiss", !0),
                                    $modal.modal("hide")
                            }).on(
                            "click", "#guest-profile-link",
                            function() {
                                return Hs.GTM.trackCustomEvent("Host thread", "Guest intro modal: Clicked guest profile link")
                            }),
                        Hs.GTM.trackCustomEvent("Host thread", "Guest intro modal: Shown"),
                        $modal.modal("show"))
                },
                HomestayBookingRequest.prototype.showHostIntroductionModal = function() {
                    var $modal;
                    return !!Hs.show_host_introduction_modal && ((
                            $modal = $("#host-welcome-modal")
                        ).on("hide.bs.modal", function() {
                            return $modal.data("ignore-dismiss") || Hs.GTM.trackCustomEvent("Guest thread", "Dismiss host introduction modal"),
                                $modal.data("ignore-dismiss", !1)
                        }).on(
                            "click", ".dismiss-with-button",
                            function() {
                                return Hs.GTM.trackCustomEvent("Guest thread", "Clicked on view host introduction modal"),
                                    $modal.data("ignore-dismiss", !0),
                                    $modal.modal("hide")
                            }),
                        $modal.modal("show"))
                },
                HomestayBookingRequest
        }(), (
            $ = jQuery
        ).fn.extend({
            "homestayBookingRequest": function() {
                return this.each(function() {
                    return new Hs.HomestayBookingRequest($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.HomestayBookingRequestCheckInExpired = function() {
            function HomestayBookingRequestCheckInExpired() {
                this.checkInExpired()
            }
            return HomestayBookingRequestCheckInExpired.prototype.checkInExpired = function() {
                    if (
                        this.shouldShowExpiredMessage()
                    ) return $.ajax(Hs.booking_request_check_in_expired_url, {
                        "type": "GET",
                        "dataType": "script"
                    })
                },
                HomestayBookingRequestCheckInExpired.prototype.shouldShowExpiredMessage = function() {
                    return this.hasCheckInExpired() && !Hs.HostIsUser && !Hs.bookingRequestClosed
                },
                HomestayBookingRequestCheckInExpired.prototype.hasCheckInExpired = function() {
                    return moment(Hs.checkIn).isBefore(moment(), "day")
                },
                HomestayBookingRequestCheckInExpired
        }(), (
            $ = jQuery
        ).fn.extend({
            "homestayBookingRequestCheckInExpired": function() {
                return this.each(function() {
                    return new Hs.HomestayBookingRequestCheckInExpired
                })
            }
        })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.HomestayBookingRequestClosed = function() {
            function HomestayBookingRequestClosed() {
                new Hs.SimilarHomestays($("#similar-homestays")).search(new Date(moment.utc(Hs.checkIn, "YYYY-MM-DD")), new Date(moment.utc(Hs.checkOut, "YYYY-MM-DD")), Hs.guests)
            }
            return HomestayBookingRequestClosed
        }(), (
            $ = jQuery
        ).fn.extend({
            "homestayBookingRequestClosed": function() {
                return this.each(function() {
                    return new Hs.HomestayBookingRequestClosed
                })
            }
        })
    }.call(
        this),
    function() {
        var $,
            bind = function(fn, me) {
                return function() {
                    return fn.apply(me, arguments)
                }
            }
        ;
        Hs.HomestayBookingRequestPriceNegotiation = function() {
            function HomestayBookingRequestPriceNegotiation(selector) {
                this.selector = selector,
                    this.updateHostValue = bind(this.updateHostValue, this),
                    this.validateForm = bind(this.validateForm, this),
                    this.validateForm(),
                    this.installCallbacks()
            }
            return HomestayBookingRequestPriceNegotiation.prototype.validateForm = function() {
                    return this.selector.validatr()
                },
                HomestayBookingRequestPriceNegotiation.prototype.installCallbacks = function() {
                    return this.inputElement().on("input", this.updateHostValue)
                },
                HomestayBookingRequestPriceNegotiation.prototype.updateHostValue = function() {
                    var currency, value;
                    if (
                        value = this.inputElement().val() * (1 - Hs.homestay_charge_rate),
                        currency = this.selector.find(".calculated-host-pay").data("host-currency")
                    ) return this.selector.find(".calculated-host-pay").text(Hs.Util.Currency.formatDecimalPriceTinyAsText(value, currency.toUpperCase()))
                },
                HomestayBookingRequestPriceNegotiation.prototype.inputElement = function() {
                    return this.selector.find("#booking_request_amount")
                },
                HomestayBookingRequestPriceNegotiation
        }(), (
            $ = jQuery
        ).fn.extend({
            "homestayBookingRequestPriceNegotiation": function() {
                return this.each(function() {
                    return new Hs.HomestayBookingRequestPriceNegotiation($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.HomestayBookingRequestUserPresence = function() {
            function HomestayBookingRequestUserPresence() {
                this.enableInternal = bind(this.enableInternal, this),
                    this.disableInterval = bind(this.disableInterval, this),
                    this.pollPresence(),
                    this.interval = null,
                    Hs.PubSub.subscribe("pubnub::presence::inactive", this.disableInterval),
                    Hs.PubSub.subscribe("pubnub::presence::active", this.enableInternal)
            }
            return HomestayBookingRequestUserPresence.prototype.INTERVAL = 3e5,
                HomestayBookingRequestUserPresence.prototype.pollPresence = function() {
                    return Hs.log("polling user presence"),
                        $.get(Hs.booking_request_user_presence_url).success(function(
                            html) {
                            return $("#presence_container").html(html),
                                $("#presence_container").find("time[data-time-ago]").timeago(),
                                $(".tooltip").remove(),
                                $("#presence_container").find(".hs-tooltip").tooltip({
                                    "container": "body"
                                }),
                                $("#presence_container").show()
                        })
                },
                HomestayBookingRequestUserPresence.prototype.setInterval = function() {
                    return this.interval = setInterval(this.pollPresence, this.INTERVAL)
                },
                HomestayBookingRequestUserPresence.prototype.disableInterval = function() {
                    return clearInterval(this.interval)
                },
                HomestayBookingRequestUserPresence.prototype.enableInternal = function() {
                    return this.pollPresence(),
                        this.setInterval()
                },
                HomestayBookingRequestUserPresence
        }()
    }.call(
        this),
    function() {
        Hs.HomestayCardCarousel = function() {
            function HomestayCardCarousel($parent1, options) {
                var _this;
                (this.$parent = $parent1, Hs.search_bot) || Hs.getScript("/assets/slick.js/slick-0335fc243ecc8c304092a964f6c286296818b2d4f69dd1c1ceb962512d410875.js", (
                    _this = this,
                    function() {
                        return $.extend({
                            "scroll_selector": window
                        }, options || {}), _this.slickedCards = [], _this.$parent.on("click", ".arrow", function(evt) {
                            var $card;
                            if (evt.preventDefault(), evt.stopPropagation(), $card = $(evt.currentTarget).parents(".homestay-card"), -1 === jQuery.inArray($card.data("id"), _this.slickedCards)) return _this.loadSlick($card.find(".picture-carousel"), !0), _this.slickedCards.push($card.data("id"))
                        }), _this.mobileControlsHandler(), $.force_appear()
                    }))
            }
            return HomestayCardCarousel.prototype.reset = function() {
                    return this.slickedCards = []
                },
                HomestayCardCarousel.prototype.loadSlick = function($parent, nextSlide) {
                    if (!$parent.hasClass("slick-slider")) return $.getJSON($parent.data("src"), function(
                        data) {
                        var $picture, i, index, len, picture, ref;
                        for (
                            index = i = 0, len = (ref = data.pictures).length; i < len; index = ++i
                        ) picture = ref[index],
                            0 !== index && (
                                $picture = $("<div class='picture'></div>").css("background-image", "url(" + picture.medium_url + ")"),
                                $parent.append($picture));
                        if (
                            $parent.slick({
                                "infinite": !0,
                                "nextArrow": $parent.parent().find(".right-arrow"),
                                "prevArrow": $parent.parent().find(".left-arrow")
                            }),
                            nextSlide
                        ) return $parent.slick("slickNext")
                    })
                },
                HomestayCardCarousel.prototype.mobileControlsHandler = function() {
                    var isTouchDragging;
                    return isTouchDragging = !1,
                        $("body").on("touchstart", function() {
                            return !(
                                isTouchDragging = !1
                            )
                        }),
                        $("body").on("touchmove", function() {
                            return isTouchDragging = !0
                        }),
                        $("body").on("touchend", ".image-target", function(
                            evt) {
                            var $target;
                            if ((
                                    $target = $(evt.target)
                                ).hasClass("picture") && !isTouchDragging) return $target.parents(".homestay-card").toggleClass("show-carousel-controls")
                        })
                },
                HomestayCardCarousel
        }()
    }.call(
        this),
    function() {
        Hs.HomestayFavourites = function() {
            function HomestayFavourites() {
                this.addFavouriteHandlers(),
                    this.cookieName = "new_favourite_feature",
                    this.cookieExpires = 3e3
            }
            return HomestayFavourites.prototype.addFavouriteHandlers = function() {
                    var _this;
                    return $("body").on("click", ".favourite-button.favourite", (
                            _this = this,
                            function(e) {
                                return e.stopImmediatePropagation(), e.preventDefault(), _this.ajaxCall(e, "DELETE")
                            })),
                        $("body").on("click", ".favourite-button.unfavourite", function(_this) {
                            return function(
                                e) {
                                return e.stopImmediatePropagation(),
                                    e.preventDefault(),
                                    _this.ajaxCall(e, "POST")
                            }
                        }(
                            this))
                },
                HomestayFavourites.prototype.ajaxCall = function(event, method) {
                    var el, parent_el,
                        _this;
                    return el = $(event.currentTarget), parent_el = el.parent(), event.stopPropagation(), event.preventDefault(), $.ajax({
                        "url": el.data("href"),
                        "type": method,
                        "dataType": "json"
                    }).success((
                        _this = this,
                        function(data) {
                            return _this.toggleButtons(parent_el), _this.updateCookieFavouritesCount(data.cookie_favourites_count)
                        }))
                },
                HomestayFavourites.prototype.toggleButtons = function(parent_el) {
                    var el;
                    return el = $(".favourite_" + parent_el.data("homestay-id")),
                        $("nav .favourites a").tooltip("hide"),
                        this.showFavouritesLinkPopover(),
                        el.find(".favourite").toggleClass("hidden"),
                        el.find(".unfavourite").toggleClass("hidden"),
                        el.find(".unfavourite.hidden").length ? Hs.GTM.trackCustomEvent("Favourites", "Favourite Added"
                        ) : Hs.GTM.trackCustomEvent("Favourites", "Favourite Removed"),
                        parent_el.trigger("favourite.toggled")
                },
                HomestayFavourites.prototype.updateCookieFavouritesCount = function(count) {
                    return $(".favourites-count").attr("data-count", count).find("span").text(count)
                },
                HomestayFavourites.prototype.hasFavourites = function() {
                    return 0 < parseInt($(".favourites-count").attr("data-count"), 10)
                },
                HomestayFavourites.prototype.showFavouriteButtonPopoverProfile = function(container, placement) {
                    var $button, cookieName;
                    return cookieName = "popover_fav_button_profile", !!this.canShowButtonPopover(cookieName) && (!!(
                        $button = $(container + " .favourite-button:visible").first()
                    ).length && (
                        $button.offset().top,
                        this.showFavouriteButtonPopover($button, cookieName, container, placement)))
                },
                HomestayFavourites.prototype.withContactHostsToolip = function() {
                    var _this;
                    return Hs.mobile_device || $("nav .favourites").on("click", "a", (
                            _this = this,
                            function(evt) {
                                var $link;
                                if (!_this.hasFavourites() && !$("#main-mobile-nav:visible").length) return evt.preventDefault(), ($link = $(evt.target)).tooltip({
                                    "html": !0,
                                    "placement": "left",
                                    "title": "<i class='button-star'></i><span class='tooltip-with-icon'>" + I18n.t("homestays.index.tooltips.contact_hosts") + "</span>",
                                    "trigger": "manual",
                                    "container": "header#main",
                                    "animation": !0
                                }), $link.tooltip("show"), setTimeout(function() {
                                    return $link.tooltip("hide")
                                }, 3e3)
                            })),
                        this
                },
                HomestayFavourites.prototype.showFavouriteButtonPopover = function($button, cookieName, container, placement) {
                    return null == placement && (
                            placement = "right"),
                        !!$button.length && (
                            Hs.Popover.createPopover($button, container, I18n.t("user.favourites.popover.button"), {
                                "placement": placement
                            }),
                            Hs.Cookie.set(cookieName, 1, 1))
                },
                HomestayFavourites.prototype.showFavouriteButtonPopoverSearch = function(container, placement) {
                    var $button, cookieName;
                    return cookieName = "popover_fav_button_search", !!this.canShowButtonPopover(cookieName) && (
                        $button = $(container + " .favourite-button:visible").first(),
                        this.showFavouriteButtonPopover($button, cookieName, container, placement))
                },
                HomestayFavourites.prototype.showFavouritesLinkPopover = function() {
                    var $button, content, cookieValue, placement;
                    return $(".favourite-button:visible").first().popover("hide"),
                        cookieValue = 2, !(
                            parseInt(Hs.Cookie.get(this.cookieName), 10) >= cookieValue) && (
                            $("#session_favourites a").is(":visible") ? (
                                $button = $("#session_favourites a"),
                                placement = "bottom",
                                content = I18n.t("user.favourites.popover.link")) : (
                                $button = $("#main-mobile-nav"),
                                placement = "left",
                                content = I18n.t("user.favourites.popover.link_mobile")),
                            Hs.Popover.createPopover($button, "header#main", content, {
                                "placement": placement
                            }),
                            Hs.Cookie.set(this.cookieName, cookieValue, this.cookieExpires))
                },
                HomestayFavourites.prototype.canShowButtonPopover = function(cookieName) {
                    return !Hs.Cookie.get(cookieName) && (
                        !this.hasFavourites() || (
                            Hs.Cookie.set(cookieName, 1, this.cookieExpires), !1))
                },
                HomestayFavourites
        }()
    }.call(
        this),
    function() {
        Hs.HomestayLightGallery = function() {
            function HomestayLightGallery($parent) {
                Hs.getScript("/assets/lightgallery-b875b0663cd95c095bf05ebba32b4d836dd9943f6b9dda0ba55824817091eb7c.js", function() {
                    return $("<div id='lightgallery'></div>").insertAfter($parent),
                        $parent.on("click", ".gallery-button", function(evt) {
                            var button;
                            return button = $(evt.target),
                                $.getJSON(button.data("target"), function(data) {
                                    var i, len, picture, pictures, ref;
                                    for (
                                        pictures = [],
                                        i = 0, len = (ref = data.pictures).length; i < len; i++
                                    ) picture = {
                                            "src": (picture = ref[i]).gallery_large_url,
                                            "subHtml": picture.description
                                        },
                                        pictures.push(picture)
                                    ;
                                    return button.lightGallery({
                                        "dynamic": !0,
                                        "dynamicEl": pictures,
                                        "download": !1
                                    })
                                })
                        })
                })
            }
            return HomestayLightGallery
        }()
    }.call(
        this),
    function() {
        Hs.HomestayMessages = function() {
                function HomestayMessages(selector) {
                    this.selector = selector,
                        this.scollToBottomOfThread()
                }
                return HomestayMessages.prototype.scollToBottomOfThread = function() {
                        return this.selector.scrollTop(this.selector[0].scrollHeight)
                    },
                    HomestayMessages
            }(),
            $.fn.extend({
                "homestayMessages": function() {
                    return this.each(function() {
                        return new Hs.HomestayMessages($(this))
                    })
                }
            })
    }.call(
        this),
    function() {
        Hs.HomestayNew = function() {
            function HomestayNew() {
                this.setupSelect2(),
                    this.setupLock(),
                    this.setupCheckboxes(),
                    this.setupOtherHow(),
                    this.installCallbacks(),
                    $(".homestay_wizard .show-tips, .homestays .show-tips").off("click").on("click", function() {
                        return $("#sidebar-modal").modal("show")
                    })
            }
            return HomestayNew.prototype.setupSelect2 = function() {
                    return Hs.Select2.setupCountryCode("#homestay_nationality_country_code"),
                        Hs.Select2.setupPhoneCountryCode("#homestay_mobile_phone_country_code")
                },
                HomestayNew.prototype.setupLock = function() {
                    var $lock;
                    return $('[data-toggle="popover"]').popover(), (
                            $lock = $(".lock")
                        ).on("mouseup", function(
                            e) {
                            return $(e.target).closest(".lock").find('[data-toggle="popover"]').popover("show")
                        }),
                        $lock.on("mouseleave", function(
                            e) {
                            return $(e.target).closest(".lock").find('[data-toggle="popover"]').popover("hide")
                        })
                },
                HomestayNew.prototype.setupCheckboxes = function() {
                    return $(".homestay_confirm_live_alone").on("mouseenter", function() {
                        return Hs.Faq2.get().show("present")
                    }).on(
                        "mouseleave",
                        function() {
                            return Hs.Faq2.get().hide("present")
                        })
                },
                HomestayNew.prototype.setupOtherHow = function() {
                    return $("#new_homestay").on("change", "select#homestay_how", function(
                        e) {
                        var $how;
                        return "Other" === $(e.target).val() ? ((
                                $how = $(".how")
                            ).removeClass("hide"),
                            $how.find("input").prop("disabled", !1)) : ((
                                $how = $(".how")
                            ).addClass("hide"),
                            $how.find("input").prop("disabled", !0))
                    })
                },
                HomestayNew.prototype.installCallbacks = function() {
                    return $("#host-tcs-link").on("click", function(e) {
                        return e.preventDefault(),
                            $("#host-tcs-modal").modal("show")
                    })
                },
                HomestayNew
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.HomestayReviews = function() {
            function HomestayReviews(container) {
                this.container = container,
                    this.maxPage = Math.ceil(this.totalCount() / this.count()),
                    this.initPagination(),
                    this.url = Hs.homestay_reviews_url
            }
            return HomestayReviews.prototype.page = function() {
                    return parseInt(this.container.data("reviewPage"))
                },
                HomestayReviews.prototype.nextPage = function() {
                    return this.page() + 1
                },
                HomestayReviews.prototype.count = function() {
                    return this.container.find("li.review-list-item").length
                },
                HomestayReviews.prototype.totalCount = function() {
                    return parseInt(this.container.data("reviewTotal"))
                },
                HomestayReviews.prototype.hasMore = function() {
                    return this.page() < this.maxPage
                },
                HomestayReviews.prototype.initPagination = function() {
                    if (
                        this.hasMore()
                    ) return this.container.after(this.buildLink())
                },
                HomestayReviews.prototype.buildLink = function() {
                    var _this;
                    return this.moreLink = $('<a href="#" class="review-more border-button brown wide">' + I18n.t("reviews.show_review.read_more_reviews") + "...</a>"), this.moreLink.click("a", (
                            _this = this,
                            function(e) {
                                return _this.handleClick(e)
                            })),
                        this.moreLink
                },
                HomestayReviews.prototype.handleClick = function(e) {
                    if (
                        e.preventDefault(),
                        this.hasMore()
                    ) return $.get(this.url, {
                        "page": this.nextPage()
                    }).done((
                        _this = this,
                        function(data) {
                            if (_this.insertReviews(data), _this.incrementPage(), !_this.hasMore()) return _this.moreLink.remove()
                        })), !1;
                    var _this
                },
                HomestayReviews.prototype.incrementPage = function() {
                    return this.container.data("reviewPage", this.nextPage())
                },
                HomestayReviews.prototype.insertReviews = function(data) {
                    return this.container.append(data)
                },
                HomestayReviews
        }(), (
            $ = jQuery
        ).fn.extend({
            "homestayReviews": function() {
                return this.each(function() {
                    return new Hs.HomestayReviews(this)
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.HomestayRoomDescriptionToggler = function() {
                function HomestayRoomDescriptionToggler(selector) {
                    var $wrapper,
                        _this;
                    this.selector = selector, this.descriptionRow = this.selector.find(".room-description-row"), 0 < this.descriptionRow.length && (this.link = this.buildLink().click((
                        _this = this,
                        function(e) {
                            return e.preventDefault(), _this.handleClick($(e.target))
                        })), (
                        $wrapper = this.selector.find(".room-toggle-description-wrapper")
                    ).find("a." + this.link[0].className.replace(" ", ".")).length || (
                        this.descriptionRow = this.descriptionRow.toggle(),
                        $wrapper.append(this.link)))
                }
                return HomestayRoomDescriptionToggler.prototype.buildLink = function() {
                        return $('<a href="#" class="room-toggle-description"></a>').html(this.showDescriptionLabel())
                    },
                    HomestayRoomDescriptionToggler.prototype.handleClick = function(target) {
                        return this.descriptionRow.toggle().is(":visible") ? target.html(this.hideDescriptionLabel()
                        ) : target.html(this.showDescriptionLabel())
                    },
                    HomestayRoomDescriptionToggler.prototype.showDescriptionLabel = function() {
                        return I18n.t("misc.labels.show_more_details")
                    },
                    HomestayRoomDescriptionToggler.prototype.hideDescriptionLabel = function() {
                        return I18n.t("misc.labels.hide_details")
                    },
                    HomestayRoomDescriptionToggler
            }(),
            $.fn.extend({
                "homestayRoomDescriptionToggler": function() {
                    return this.each(function() {
                        return new Hs.HomestayRoomDescriptionToggler($(this))
                    })
                }
            })
    }.call(
        this),
    function() {
        Hs.HomestayShow = function() {
            function HomestayShow() {
                this.initMap(),
                    this.initRoomCalendars(),
                    this.initBookingRequestLinkNotification(),
                    this.initSimilarHomestays(),
                    this.initLightGallery(),
                    this.initStickySidebar(),
                    this.showReferencedBlogPost(),
                    this.onScrollHideCtaButton(),
                    this.modalIosFix(),
                    new Hs.BookingGtmTracking,
                    new Hs.ElementFollow("#js-follow-once-passed"),
                    new Hs.ScrollTo,
                    new Hs.Rooms,
                    new Hs.Rates(Hs.homestay_rates_url),
                    new Hs.BookingCheapestRate,
                    new Hs.BookingSummary($("form#new_booking_data")),
                    new Hs.BookingMessages($("#booking-messages")),
                    new Hs.BookingForm($("form#new_booking_data")),
                    new Hs.HomestayReviews($("ul.reviews-list")),
                    new Hs.HomestayProfileSlider, (
                        new Hs.HomestayFavourites).showFavouriteButtonPopoverProfile(".listing-banner", "right")
            }
            return HomestayShow.prototype.prefillBookingForm = function() {
                    return new Hs.ScrollAction({
                        "target": "#bedroom-section",
                        "offset": 0,
                        "actionLimit": 1,
                        "action": function() {
                            var $guestSelect;
                            if (
                                1 === $(".room-item.available").length && $("#booking_data_check_in").val() && $("#booking_data_check_out").val() && "0" === $(".room-item.available [data-guest-selector]").val()
                            ) return $(".room-item.available .add-bedroom").click(),
                                $('.room-item.available a[data-toggle="collapse"]').click(),
                                $guestSelect = $(".room-item.available [data-guest-selector]").val(1),
                                setTimeout(function() {
                                        return $guestSelect.trigger("change.room-value")
                                    },
                                    3e3)
                        }
                    })
                },
                HomestayShow.prototype.initMap = function() {
                    return new Hs.ScrollAction({
                        "target": "#coarse_map",
                        "offset": 100,
                        "actionLimit": 1,
                        "action": function(
                            $elm) {
                            return new Hs.StaticMap($elm, {
                                "location_marker_type": "circle"
                            })
                        }
                    })
                },
                HomestayShow.prototype.initRoomCalendars = function() {
                    return $(".room-list .panel-collapse").on("shown.bs.collapse", (
                        _this = this,
                        function() {
                            return _this.availabilityCalendar || (_this.availabilityCalendar = new Hs.AvailabilityCalendar(".room-availability-container", Hs.homestay_availability_url))
                        }));
                    var _this
                },
                HomestayShow.prototype.initSimilarHomestays = function() {
                    var hasSearchedBefore, hostAvailable, linkDisabled, results, search, searchParams, searchWithDates, similarHomestays;
                    if (
                        "test" !== Hs.environment
                    ) return similarHomestays = new Hs.SimilarHomestays($("#similar-homestays")),
                        linkDisabled = !(hostAvailable = hasSearchedBefore = !(searchParams = {
                            "startDate": null,
                            "endDate": null,
                            "guests": null
                        })),
                        search = function() {
                            return similarHomestays.search(searchParams.startDate, searchParams.endDate, searchParams.guests)
                        },
                        searchWithDates = function(startDate, endDate, guests) {
                            return searchParams.startDate = startDate,
                                searchParams.endDate = endDate,
                                searchParams.guests = guests,
                                search()
                        },
                        results = function(hasResults) {
                            return $(".link-to-similar-homestays").toggleClass("hidden", !hasResults || hostAvailable || linkDisabled),
                                hasSearchedBefore = !0
                        },
                        new Hs.ScrollAction({
                            "target": "#similar-homestays",
                            "offset": 100,
                            "actionLimit": 1,
                            "action": function() {
                                if (
                                    !hasSearchedBefore
                                ) return search()
                            }
                        }),
                        Hs.PubSub.subscribe("booking::dates", function() {
                            return linkDisabled = !1
                        }),
                        Hs.PubSub.subscribe("booking::form", function() {
                            return $(".link-to-similar-homestays").addClass("hidden")
                        }),
                        Hs.PubSub.subscribe("booking::unavailable", function(startDate, endDate, guests) {
                            return hostAvailable = !1,
                                searchWithDates(startDate, endDate, guests)
                        }),
                        Hs.PubSub.subscribe("booking::available", function(roomsCount, startDate, endDate, guests) {
                            return hostAvailable = !0,
                                searchWithDates(startDate, endDate, guests)
                        }),
                        Hs.PubSub.subscribe("similarHomestays::results", results)
                },
                HomestayShow.prototype.showReferencedBlogPost = function() {
                    var host_id;
                    if (
                        void 0 !== (host_id = $("#booking_data_homestay_id").val())
                    ) return $.get(new Hs.Util.UrlBuilder("/blog/host_reference_card/").get() + host_id, function(data) {
                        var $target;
                        if (!(
                                data.length < 2)) return (
                                $target = $(".host_referenced_post")
                            ).html(data),
                            setTimeout(function() {
                                    if (
                                        $target.addClass("shown"), -1 !== window.location.hash.indexOf("featured-post-")
                                    ) return window.location.href = window.location.hash
                                },
                                200)
                    })
                },
                HomestayShow.prototype.initBookingRequestLinkNotification = function() {
                    return Hs.booking_request_link ? this.showBookingRequestNotification(Hs.booking_request_link
                    ) : Hs.current_user_logged_in && Hs.booking_request_for_host ? $.ajax(Hs.booking_request_for_host, {
                        "type": "GET",
                        "dataType": "json",
                        "success": (
                            _this = this,
                            function(data) {
                                return _this.showBookingRequestNotification(data)
                            }),
                        "error": function() {
                            return !1
                        }
                    }) : void 0;
                    var _this
                },
                HomestayShow.prototype.initLightGallery = function() {
                    return Hs.getScript("/assets/lightgallery-b875b0663cd95c095bf05ebba32b4d836dd9943f6b9dda0ba55824817091eb7c.js", function() {
                        return $("#lightgallery").lightGallery({
                                "download": !1
                            }),
                            $("body").on("click", ".listing-banner", function() {
                                return $("#lightgallery li").eq(0).click()
                            }),
                            $("#ninja-slider").on("click", "li", function() {
                                return $("#lightgallery li").eq($(this).attr("data-slide-index")).click()
                            }),
                            $(".room-list").on("click", ".room-bg", function() {
                                return $("#lightgallery li").eq($(this).attr("data-slide-index")).click()
                            })
                    })
                },
                HomestayShow.prototype.initStickySidebar = function() {
                    if (!Hs.mobile_device
                    ) return $(".sticky").theiaStickySidebar({
                        "additionalMarginBottom": 50
                    })
                },
                HomestayShow.prototype.showBookingRequestNotification = function(booking_request) {
                    return $("body").append(Hs.Templates["notifications/link_to_booking_request"]({
                            "booking_request_url": booking_request.url,
                            "check_in": moment(booking_request.check_in).format("ll"),
                            "check_out": moment(booking_request.check_out).format("ll")
                        })),
                        $("#bottom-notification ").on("click", ".dismiss-icon", function() {
                            return $("#bottom-notification").remove()
                        })
                },
                HomestayShow.prototype.onScrollHideCtaButton = function() {
                    var hideArea,
                        _this;
                    return (hideArea = {}).top = $("#bedrooms").offset().top - 100, hideArea.bottom = $("#location").offset().top, $(window).scroll((
                        _this = this,
                        function() {
                            var position;
                            if ((position = $(window).scrollTop()) > hideArea.top && position < hideArea.bottom) return _this.showDateSelectPopover()
                        }))
                },
                HomestayShow.prototype.showDateSelectPopover = function() {
                    var cookieName;
                    if (
                        cookieName = "popover_profile_date_select",
                        $(".no-dates").length && 0 === $(".date-fields .popover").length && !Hs.Cookie.get(cookieName)
                    ) return Hs.Popover.createPopover("#booking_data_check_out", ".date-fields", I18n.t("homestays.show.popovers.date_select")),
                        Hs.Cookie.set(cookieName, 1, 365)
                },
                HomestayShow.prototype.modalIosFix = function() {
                    if (
                        Hs.tablet_device
                    ) return $("#new-booking-request-modal").on("show.bs.modal", function() {
                        return $("html,body").addClass("fixed-position-scroll-fix")
                    }).on(
                        "hide.bs.modal",
                        function() {
                            return $("html,body").removeClass("fixed-position-scroll-fix")
                        })
                },
                HomestayShow
        }()
    }.call(
        this),
    function() {
        Hs.HomestayShowMobile = function() {
            function HomestayShowMobile() {
                this.elements = {
                        "bookingRequestRoomsModal": $("#booking-request-rooms-modal"),
                        "bookingRequestMessageModal": $("#booking-request-message-modal"),
                        "roomList": $("#booking-request-rooms-modal .room-list")
                    },
                    new Hs.HomestayFavourites,
                    new Hs.BookingCheapestRate,
                    this.initCustomAddThisShareButton(),
                    this.initLightGallery(),
                    this.initPictureCarousel(),
                    this.initRoomCalendars(),
                    this.initMap(),
                    this.onClickOpenSlideModal(),
                    this.initbookingRequestRoomsModal(),
                    this.initBookingRequestMessageModel(),
                    new Hs.Rooms,
                    new Hs.BookingGtmTracking,
                    new Hs.Rates(Hs.homestay_rates_url),
                    new Hs.BookingSummary($("form#new_booking_data")),
                    new Hs.BookingMessages($("#booking-messages")),
                    new Hs.BookingForm($("form#new_booking_data")),
                    new Hs.HomestayReviews($("ul.reviews-list")),
                    new Hs.ScrollTo,
                    Hs.PubSub.subscribe("booking::unavailable", this.unavailable),
                    Hs.PubSub.subscribe("booking::available", this.available),
                    Hs.PubSub.subscribe("similarHomestays::results", showSimilarHostsLink),
                    Hs.PubSub.subscribe("booking::form", function() {
                        return $(".link-to-similar-homestays").addClass("hidden")
                    })
            }
            var showSimilarHostsLink
            ;
            return showSimilarHostsLink = function(show) {
                    return $(".link-to-similar-homestays").toggleClass("hidden", !show || $("#similar-homestays").hasClass("hidden"))
                },
                HomestayShowMobile.prototype.initRoomCalendars = function() {
                    return $("#section-bedrooms").on("shown.bs.collapse", (
                        _this = this,
                        function() {
                            return _this.calendar || (_this.calendar = new Hs.AvailabilityCalendar("#section-bedrooms", Hs.homestay_availability_url))
                        }));
                    var _this
                },
                HomestayShowMobile.prototype.initMap = function() {
                    var _this;
                    return $("#section-location").on("shown.bs.collapse", (
                            _this = this,
                            function() {
                                return _this.map || (_this.map = $(".location").find("#coarse_map").coarseMap({
                                    "zoom": 14,
                                    "radius": 500,
                                    "hide_circle_zoom_level": 16
                                }))
                            })),
                        $("#section-location #show-street-view").click(function() {
                            return this.streetView || (this.streetView = $(".location").find("#street_view").streetViewPanorama())
                        })
                },
                HomestayShowMobile.prototype.onClickOpenSlideModal = function() {
                    return $("#booking-request-rooms-modal-trigger").on("click", (
                        _this = this,
                        function() {
                            return _this.toggleModal($(".slide-modal.last-active-modal"), {
                                "open": !0
                            })
                        }));
                    var _this
                },
                HomestayShowMobile.prototype.markModalAsLastActive = function($modal) {
                    return $(".slide-modal").removeClass("last-active-modal"),
                        $modal.addClass("last-active-modal")
                },
                HomestayShowMobile.prototype.initbookingRequestRoomsModal = function() {
                    return this.elements.bookingRequestRoomsModal.find(".modal-close").on("click", (
                        _this = this,
                        function() {
                            return _this.toggleModal(_this.elements.bookingRequestRoomsModal, {
                                "open": !1
                            }), _this.markModalAsLastActive(_this.elements.bookingRequestRoomsModal)
                        }));
                    var _this
                },
                HomestayShowMobile.prototype.unavailable = function(startDate, endDate, guests) {
                    return this.similarHomestays || (this.similarHomestays = new Hs.SimilarHomestays($("#similar-homestays"))),
                        similarHomestays.search(startDate, endDate, guests)
                },
                HomestayShowMobile.prototype.available = function() {
                    return $("#similar-homestays").addClass("hidden")
                },
                HomestayShowMobile.prototype.initBookingRequestMessageModel = function() {
                    var _this;
                    return this.elements.bookingRequestMessageModal.find(".modal-close").on("click", (
                            _this = this,
                            function() {
                                return _this.toggleModal(_this.elements.bookingRequestRoomsModal, {
                                    "open": !1
                                }), _this.toggleModal(_this.elements.bookingRequestMessageModal, {
                                    "open": !1
                                }), _this.elements.bookingRequestMessageModal.removeClass("slide-modal-from-side"), _this.markModalAsLastActive(_this.elements.bookingRequestMessageModal)
                            })),
                        this.elements.bookingRequestMessageModal.find("#back-to-rooms").on("click", function(_this) {
                            return function(
                                evt) {
                                return evt.preventDefault(),
                                    _this.toggleModal(_this.elements.bookingRequestRoomsModal, {
                                        "open": !0
                                    }),
                                    _this.toggleModal(_this.elements.bookingRequestMessageModal, {
                                        "open": !1
                                    })
                            }
                        }(
                            this))
                },
                HomestayShowMobile.prototype.initPictureCarousel = function() {
                    return Hs.getScript("/assets/slick.js/slick-0335fc243ecc8c304092a964f6c286296818b2d4f69dd1c1ceb962512d410875.js", function() {
                        return $(".picture-carousel").slick({
                                "slidesToShow": 7,
                                "slidesToScroll": 3,
                                "lazyLoad": "ondemand",
                                "arrows": !1,
                                "infinite": !0,
                                "variableWidth": !0,
                                "variableHeight": !0
                            }),
                            $(".picture-carousel").on("click", ".image", function() {
                                return $("#lightgallery li").eq($(this).attr("data-slick-index")).click()
                            })
                    })
                },
                HomestayShowMobile.prototype.initLightGallery = function() {
                    return Hs.getScript("/assets/lightgallery-b875b0663cd95c095bf05ebba32b4d836dd9943f6b9dda0ba55824817091eb7c.js", function() {
                        return $("#lightgallery").lightGallery({
                                "controls": !1,
                                "download": !1
                            }),
                            $("body").on("click", ".bg", function() {
                                return $("#lightgallery li").eq(0).click()
                            })
                    })
                },
                HomestayShowMobile.prototype.toggleModal = function($modal, arg) {
                    var open;
                    return open = arg.open,
                        $modal.toggleClass("slide", open),
                        $("html,body").toggleClass("fixed-position-scroll-fix", 0 < $(".slide-modal.slide").length)
                },
                HomestayShowMobile.prototype.initCustomAddThisShareButton = function() {
                    return $("body").on("click", "a[data-addthis-custom-sharing-trigger]", function(evt) {
                        return evt.preventDefault(),
                            evt.stopImmediatePropagation(),
                            $("#atstbx a.at-svc-facebook > span:last").trigger("click")
                    })
                },
                HomestayShowMobile
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.HostCardCTA = function() {
            function HostCardCTA(selector) {
                var _this;
                this.applyCardSizes = bind(this.applyCardSizes, this), this.$selector = $(selector), $(window).resize((
                        _this = this,
                        function() {
                            return clearTimeout(_this.resizeTimeout), _this.resizeTimeout = setTimeout(function() {
                                return _this.applyCardSizes()
                            }, 500)
                        })),
                    setTimeout(function(_this) {
                        return function() {
                            return _this.applyCardSizes()
                        }
                    }(
                        this), 300)
            }
            return HostCardCTA.prototype.applyCardSizes = function() {
                    return this.$selector.each(function(
                        index, elem) {
                        var $elem, $overlay, locationHeight, locationTop, nameHeight, offset, overlayHeight, withLocation
                        ;
                        return withLocation = ($elem = $(elem)).hasClass("card-host") && $elem.find(".contents").hasClass("with-location"),
                            $overlay = $elem.find(".overlay"),
                            locationHeight = withLocation ? $elem.find(".location").outerHeight() : 0,
                            locationTop = withLocation ? parseInt($elem.find(".location").css("margin-top"), 10) : 0,
                            nameHeight = $elem.find(".name").outerHeight(),
                            overlayHeight = $overlay.outerHeight(),
                            offset = nameHeight + 2 * parseInt($overlay.css("padding-top"), 10) + locationHeight + locationTop,
                            $overlay.css({
                                "bottom": -1 * (overlayHeight - offset)
                            })
                    })
                },
                HostCardCTA
        }()
    }.call(
        this),
    function() {
        Hs.HostDeactivated = function() {
            function HostDeactivated() {
                this.modal = $("#host-deactivated-modal"),
                    this.modal.on("show.bs.modal", function() {
                        return Hs.GTM.trackCustomEvent("My listing", "Listing deactivated modal shown")
                    }),
                    this.modal.on("hide.bs.modal", function() {
                        return Hs.Cookie.set("host-deactivated-modal-closed", !0, 1),
                            Hs.GTM.trackCustomEvent("My listing", "Listing deactivated modal dismissed")
                    }),
                    !1 === Hs.host_active && (
                        Hs.Cookie.get("host-deactivated-modal-closed") || this.modal.modal("show"))
            }
            return HostDeactivated
        }()
    }.call(
        this),
    function() {
        Hs.HostPaused = function() {
            function HostPaused() {
                this.modal = $("#hidden-host-modal"), !0 === Hs.host_hidden && (
                        Hs.Cookie.get("host-hidden-modal-closed") || this.modal.modal("show")),
                    this.modal.on("show.bs.modal", function() {
                        return Hs.GTM.trackCustomEvent("My listing", "Listing hidden modal shown")
                    }),
                    this.modal.on("hide.bs.modal", function() {
                        return Hs.Cookie.set("host-hidden-modal-closed", !0, 1),
                            Hs.GTM.trackCustomEvent("My listing", "Listing hidden modal dismissed")
                    }),
                    Hs.PubSub.subscribe("pubnub::host_paused::unpaused", this.handleUnpause)
            }
            return HostPaused.prototype.handleUnpause = function() {
                    return $.post(new Hs.Util.UrlBuilder("/listing/unpause").get(), function() {
                        return $("#hidden-host-modal").modal("hide")
                    })
                },
                HostPaused
        }()
    }.call(
        this),
    function() {
        Hs.HostSignupForm = function() {
            function HostSignupForm() {
                this.setupSelect2(),
                    this.prefetchHostTcs()
            }
            return HostSignupForm.prototype.setupSelect2 = function() {
                    return Hs.Select2.setupPhoneCountryCode("#user_telephone_country_code")
                },
                HostSignupForm.prototype.prefetchHostTcs = function() {
                    return (
                        new Hs.TermsAndConditions).host()
                },
                HostSignupForm
        }()
    }.call(
        this),
    function() {
        Hs.ImageLazyload = function() {
            function ImageLazyload() {}
            return ImageLazyload.config = {
                    "threshold": 50,
                    "testEnv": "test" === Hs.environment
                },
                ImageLazyload.disableHiddenImages = function() {
                    return $("[data-layzr]:hidden").each(function(index, elem) {
                            var $elem, layzrValue
                            ;
                            return layzrValue = ($elem = $(elem)).attr("data-layzr"),
                                $elem.attr("data-disabled-layzr", layzrValue).removeAttr("data-layzr")
                        }),
                        $(window).on("resize", (
                            _this = this,
                            function() {
                                var resizeTimeout;
                                return clearTimeout(resizeTimeout), setTimeout(function() {
                                    return _this.enableHiddenImages()
                                }, 400)
                            }));
                    var _this
                },
                ImageLazyload.enableHiddenImages = function() {
                    return $("[data-disabled-layzr]:visible").each(function(index, elem) {
                            var $elem, layzrValue
                            ;
                            return layzrValue = ($elem = $(elem)).attr("data-disabled-layzr"),
                                $elem.attr("data-layzr", layzrValue).removeAttr("data-disabled-layzr")
                        }),
                        new Layzr({
                            "threshold": this.config.threshold
                        })
                },
                ImageLazyload.initialize = function(ignoreDisabled) {
                    return null == ignoreDisabled && (
                            ignoreDisabled = !1),
                        ignoreDisabled || this.disableHiddenImages(),
                        new Layzr({
                            "threshold": this.config.threshold
                        })
                },
                ImageLazyload.initContainer = function(id, minWidth, elseInitWindow, ignoreDisabled) {
                    var instance;
                    return null == elseInitWindow && (
                            elseInitWindow = !1),
                        null == ignoreDisabled && (
                            ignoreDisabled = !1),
                        instance = null,
                        document.getElementById(id) && window.innerWidth > minWidth ? instance = new Layzr({
                                "container": "#" + id,
                                "threshold": this.config.threshold
                            }
                        ) : elseInitWindow && (
                            instance = this.initialize(ignoreDisabled)),
                        instance
                },
                ImageLazyload
        }()
    }.call(
        this),
    function() {
        Hs.LanguageSelector = function() {
            function LanguageSelector(element) {
                this.element = element,
                    $(this.element).removeClass("hide"),
                    this.element.select2({
                        "width": "off",
                        "minimumResultsForSearch": -1,
                        "dropdownAutoWidth": !0
                    }).on(
                        "change", this.changeLanguage)
            }
            return LanguageSelector.prototype.changeLanguage = function(e) {
                    return document.location.href = e.val
                },
                LanguageSelector
        }()
    }.call(
        this),
    function() {
        Hs.LazyZopim = function() {
            function LazyZopim(element, callback) {
                var _this;
                callback || (callback = function() {}), $(element).on("click", (
                    _this = this,
                    function(evt) {
                        return evt.preventDefault(), ("undefined" == typeof $zopim || !$zopim.livechat.isChatting()) && _this.loadWidget(callback)
                    }))
            }
            return LazyZopim.prototype.loadWidget = function(callback) {
                    return window.zEmbed || window.zEmbed || function(e, t) {
                            var n, o, d, s, a = [],
                                r = document.createElement("iframe");
                            window.zEmbed = function() {
                                    a.push(arguments)
                                },
                                window.zE = window.zE || window.zEmbed, r.src = "javascript:false", r.title = "", r.role = "presentation", (
                                    r.frameElement || r).style.cssText = "display: none", (
                                    d = (d = document.getElementsByTagName("script"))[d.length - 1]).parentNode.insertBefore(r, d), s = r.contentWindow.document;
                            try {
                                o = s
                            } catch (c) {
                                n = document.domain, r.src = 'javascript:var d=document.open();d.domain="' + n + '";void(0);', o = s
                            }
                            o.open()._l = function() {
                                    var o = this.createElement("script");
                                    n && (this.domain = n), o.id = "js-iframe-async",
                                        o.src = e, this.t = +new Date, this.zendeskHost = t, this.zEQueue = a, this.body.appendChild(o)
                                },
                                o.write('<body onload="document._l();">'),
                                o.close()
                        }("https://assets.zendesk.com/embeddable_framework/main.js", "homestaycom.zendesk.com"),
                        zE && "undefined" != typeof $zopim ? (
                            $zopim.livechat.window.show(),
                            !window.lazyZopimCallbackSet && callback()
                        ) : zE(function() {
                            return zE.setLocale(Hs.locale),
                                zE.identify({
                                    "name": Hs.current_user_first_name,
                                    "email": Hs.current_user_email
                                }),
                                $zopim(function() {
                                    return $zopim.livechat.window.show(), !window.lazyZopimCallbackSet && (
                                        window.lazyZopimCallbackSet = !0,
                                        $zopim.livechat.setOnChatStart(function() {
                                            return callback()
                                        }))
                                })
                        })
                },
                LazyZopim
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.LeavingWindow = function() {
            function LeavingWindow(callback, sensitivity, delay) {
                var _this;
                this.callback = null != callback ? callback : function() {}, this.sensitivity = null != sensitivity ? sensitivity : 2, this.delay = null != delay ? delay : 1, this.setTimerIfMouseLeftWithEnoughSpeed = bind(this.setTimerIfMouseLeftWithEnoughSpeed, this), this.delayTimer = null, this.html = document.documentElement, this.html.addEventListener("mouseleave", this.setTimerIfMouseLeftWithEnoughSpeed), this.html.addEventListener("mouseenter", (
                    _this = this,
                    function() {
                        return clearTimeout(_this.delayTimer)
                    }))
            }
            return LeavingWindow.prototype.setTimerIfMouseLeftWithEnoughSpeed = function(e) {
                    var deltaY;
                    if (
                        0 < (deltaY = -e.clientY) && deltaY > this.sensitivity
                    ) return this.delayTimer = setTimeout(this.callback, 1e3 * this.delay)
                },
                LeavingWindow
        }()
    }.call(
        this),
    function() {
        window.Hs.getScript = function(url, callback) {
            var script;
            return (
                    script = document.createElement("script")
                ).type = "text/javascript",
                script.async = !0,
                callback && (
                    script.onload = callback),
                document.getElementsByTagName("head")[0].appendChild(script),
                script.src = url
        }
    }.call(
        this),
    function() {
        Hs.Login = function() {
            function Login(element, options1) {
                this.element = element,
                    this.options = null != options1 ? options1 : {},
                    this.init(),
                    this.initGoogleSignIn()
            }
            return Login.prototype.init = function() {
                    var _this;
                    if ($.each(this.options, (
                            _this = this,
                            function(key, value) {
                                return _this.element.find("a[data-guest-signup]").data(key, value)
                            })),
                        $("#login_as_host").val(!!this.options.host),
                        this.options.redirectUrl
                    ) return this.element.find("input.redirect_url").val(this.options.redirectUrl),
                        this.element.find(".social.facebook").attr("href", "/auth/facebook?origin=" + this.options.redirectUrl)
                },
                Login.prototype.initGoogleSignIn = function() {
                    if (
                        $("#sign_in_google").length
                    ) return new Hs.GoogleLogin($("#sign_in_google"), $("#sign_in_google").parent("form"))
                },
                Login.prototype.open = function() {
                    return (
                        Hs.Instances.login = this
                    ).element.modal({
                        "backdrop": !0
                    })
                },
                Login.open = function(options) {
                    var obj;
                    return null == options && (
                            options = {}), (
                            obj = new Hs.Login($("#guest-login-modal"), options)
                        ).open(),
                        obj
                },
                Login
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.MobileToolbar = function() {
            function MobileToolbar(container) {
                this.container = container,
                    this.initializeButtons(),
                    this.disableButtons()
            }
            return MobileToolbar.prototype.isScrolling = !1,
                MobileToolbar.prototype.initializeButtons = function() {
                    return this.container.click((
                        _this = this,
                        function(e) {
                            var $target, href;
                            if ("true" === _this.findLink($(e.target)).attr("data-trigger") && (e.preventDefault(), href = _this.findLink($(e.target)).attr("href"), !0 !== ($target = $(href)).prop("disabled"))) return _this.handleClick($target)
                        }));
                    var _this
                },
                MobileToolbar.prototype.disableButtons = function() {
                    return this.container.each(function() {
                        var $link, href;
                        if (
                            "true" === ($link = $(this)).attr("data-trigger") && (
                                href = $link.attr("href"),
                                !0 === $(href).prop("disabled"))
                        ) return $link.prop("disabled", !0).addClass("disabled")
                    })
                },
                MobileToolbar.prototype.findLink = function($target) {
                    switch (
                        $target[0].nodeName) {
                        case "I":
                            return $target.parent("a");
                        default:
                            return $target
                    }
                },
                MobileToolbar.prototype.handleClick = function($target) {
                    switch (
                        $target.attr("id")) {
                        case "message_body":
                        case "reply":
                            return this.handleReplyButtonClick($target);
                        default:
                            return this.handleGenericClick($target)
                    }
                },
                MobileToolbar.prototype.handleReplyButtonClick = function($target) {
                    return $("#reply_wrapper").removeClass("disabled"),
                        this.handleGenericClick($target)
                },
                MobileToolbar.prototype.handleGenericClick = function($target) {
                    var _this;
                    if (!this.isScrolling && $target && $target.length) return this.isScrolling = !0, $("html, body").animate({
                            "scrollTop": $target.offset().top - 200
                        }, 400).promise().then((
                            _this = this,
                            function() {
                                return _this.isScrolling = !1
                            })),
                        $target.focus(),
                        $target.click()
                },
                MobileToolbar
        }(), (
            $ = jQuery
        ).fn.extend({
            "mobileToolbar": function() {
                return this.each(function() {
                    return new Hs.MobileToolbar($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.Mosaic = function() {
            function Mosaic(element, contain) {
                var cardResizeTimeout,
                    _this;
                elementId = element, cardResizeTimeout = void 0, $container = $(contain), $(window).on("resize", (
                        _this = this,
                        function() {
                            return clearTimeout(cardResizeTimeout), cardResizeTimeout = setTimeout(_this.implementCardHeight, 250)
                        })),
                    this.implementCardHeight()
            }
            var $container, displayCard, elementId;
            return $container = elementId = "",
                displayCard = function($item, i, className, timer) {
                    if (!$item.hasClass(className)
                    ) return setTimeout(function() {
                            return $item.addClass(className)
                        },
                        timer * i)
                },
                Mosaic.prototype.implementCardHeight = function() {
                    var $elems, columns, containerHeight, recordedHeights
                    ;
                    return recordedHeights = [], (containerHeight = 0) !== (
                        $elems = $(elementId)
                    ).length && (
                        columns = parseInt(window.getComputedStyle($elems[0], ":after").content.replace(/\'|\"/g, "") || 4),
                        0,
                        $elems.each(function(i, elem) {
                            var $item, index, top;
                            return $item = $(elem),
                                top = recordedHeights[index = (i + columns) % columns] || 0,
                                recordedHeights[index] = top + $item.height(),
                                $item.css({
                                    "top": top + "px"
                                }),
                                containerHeight < recordedHeights[index] && (
                                    containerHeight = recordedHeights[index]),
                                displayCard($item, ++i, "fadein", 150)
                        }),
                        $container.addClass("shown").css({
                            "height": containerHeight + "px"
                        }))
                },
                Mosaic
        }()
    }.call(
        this),
    function() {
        Hs.NavSearchBar = function() {
            function NavSearchBar() {
                var _this;
                $("header#main").on("click", ".nav-search", (
                        _this = this,
                        function() {
                            return _this.openSearchBar()
                        })),
                    this.searchBar = $(".nav-search-bar-wrapper .search-bar"),
                    this.onClickLink()
            }
            return NavSearchBar.prototype.closeSearchIcon = function() {
                    return $("body").removeClass("js-show-search-icon")
                },
                NavSearchBar.prototype.openSearchIcon = function() {
                    return $("body").addClass("js-show-search-icon")
                },
                NavSearchBar.prototype.openSearchBar = function() {
                    return $("body").toggleClass("js-show-search-icon"),
                        this.searchBar.toggleClass("slide"),
                        this.searchBar.hasClass("slide") ? setTimeout((
                            _this = this,
                            function() {
                                return _this.searchBar.find("#search_location").focus()
                            }), 500) : (
                            this.searchBar.find("#search_location").blur(),
                            $("#search_check_in").datepicker("hide"));
                    var _this
                },
                NavSearchBar.prototype.isSearchBarOpen = function() {
                    return this.searchBar.hasClass("slide")
                },
                NavSearchBar.prototype.onClickLink = function() {
                    return $("#hs-wrapper").on("click", "a[data-open-search-bar]", (
                        _this = this,
                        function() {
                            return $("html, body").animate({
                                "scrollTop": $("body").offset().top
                            }, 100).promise().then(function() {
                                if (!_this.isSearchBarOpen()) return _this.openSearchBar()
                            }), !1
                        }));
                    var _this
                },
                NavSearchBar
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.PartnerPopup = function() {
            function PartnerPopup(image, content_container) {
                this.image = $(image),
                    this.content = $(content_container).html(),
                    this.image.popover({
                        "html": !0,
                        "placement": "bottom",
                        "content": this.content,
                        "trigger": "hover",
                        "container": "body"
                    })
            }
            return PartnerPopup
        }(), (
            $ = jQuery
        ).fn.extend({
            "partnerPopup": function(
                content) {
                return this.each(function() {
                    return new Hs.PartnerPopup(this, content)
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.Popover = function() {
            function Popover() {}
            return Popover.enablePopovers = function() {
                    return $("[data-rel=popover]").popover({
                        "html": !0,
                        "trigger": "hover",
                        "container": "body",
                        "content": function() {
                            return $(this).find("script").html()
                        },
                        "animation": !1
                    })
                },
                Popover.createPopover = function(element, container, content, options) {
                    return null == options && (
                            options = {}),
                        options.placement = options.placement || "right",
                        $(element).first().popover({
                            "html": !0,
                            "placement": options.placement,
                            "title": "",
                            "content": content,
                            "trigger": "manual",
                            "sanitize": !1,
                            "container": container,
                            "animation": !0
                        }).popover(
                            "show"),
                        $(container + " .popover").addClass("transition-bob transition-count-once bright")
                },
                Popover
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.PresenceChannel = function() {
            function PresenceChannel() {}
            var PresenceChannel, instance
            ;
            return instance = null, (
                    PresenceChannel = function() {
                        function PresenceChannel(client1) {
                            this.client = client1,
                                this.resetTimer = bind(this.resetTimer, this),
                                this.unsubscribe = bind(this.unsubscribe, this),
                                this.presence_channel = Hs.presence_channel,
                                this.subscribed = !1,
                                this.timeout = null,
                                this.timeout_limit = 3e4,
                                this.timeoutListeners(),
                                this.subscribe()
                        }
                        return PresenceChannel.prototype.subscribe = function() {
                                if (
                                    this.presence_channel
                                ) return this.client.subscribe({
                                        "channel": this.presence_channel,
                                        "connect": (
                                            _this = this,
                                            function() {
                                                return Hs.log("Subscribed to " + _this.presence_channel)
                                            }),
                                        "message": function() {
                                            return null
                                        }
                                    }),
                                    this.subscribed = !0,
                                    Hs.PubSub.publish("pubnub::presence::active");
                                var _this
                            },
                            PresenceChannel.prototype.unsubscribe = function() {
                                if (
                                    this.subscribed
                                ) return this.client.unsubscribe({
                                        "channel": this.presence_channel
                                    }),
                                    this.subscribed = !1,
                                    Hs.log("Unsubscribed " + this.presence_channel),
                                    Hs.PubSub.publish("pubnub::presence::inactive")
                            },
                            PresenceChannel.prototype.resubscribe = function() {
                                if (!this.subscribed
                                ) return this.subscribe()
                            },
                            PresenceChannel.prototype.timeoutListeners = function() {
                                return window.onload = this.resetTimer,
                                    window.onmousedown = this.resetTimer,
                                    window.onclick = this.resetTimer,
                                    window.onscroll = this.resetTimer,
                                    window.onkeypress = this.resetTimer
                            },
                            PresenceChannel.prototype.resetTimer = function() {
                                return this.timeout && clearTimeout(this.timeout),
                                    this.timeout = setTimeout(this.unsubscribe, this.timeout_limit),
                                    this.resubscribe()
                            },
                            PresenceChannel
                    }()
                ).get = function(client) {
                    return null != instance ? instance : instance = new PresenceChannel(client)
                },
                PresenceChannel
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.PriceRangeFilter = function() {
            function PriceRangeFilter(coordinator, wrapper_el, options) {
                null == options && (
                        options = {}),
                    this.handleSliderChange = bind(this.handleSliderChange, this),
                    this.updateMaxElements = bind(this.updateMaxElements, this),
                    this.updateMinElements = bind(this.updateMinElements, this),
                    this.buildSlider = bind(this.buildSlider, this),
                    this.updatePriceFilterCurrency = bind(this.updatePriceFilterCurrency, this),
                    this.coordinator = coordinator,
                    this.wrapper_el = wrapper_el,
                    this.slider = wrapper_el.find(".price-filter-slider")[0],
                    this.min_label_element = wrapper_el.find(".minimum-price-label"),
                    this.max_label_element = wrapper_el.find(".maximum-price-label"),
                    this.min_overflow_label_element = wrapper_el.find(".minimum-price .price-filter-overflow-label"),
                    this.max_overflow_label_element = wrapper_el.find(".maximum-price .price-filter-overflow-label"),
                    this.rate_element = wrapper_el.find(".price-filter-rate"),
                    this.min_value_element = options.min_value_el,
                    this.max_value_element = options.max_value_el,
                    this.price_filter_currency_el = options.price_filter_currency_el,
                    this.localiser = Hs.CurrencyLocaliser.get(),
                    this.min_price = parseInt(this.localiser.convertWithSubunits(parseInt(options.min_price), this.localiser.currentCurrency, BASE_CURRENCY)),
                    this.max_price = parseInt(this.localiser.convertWithSubunits(parseInt(options.max_price), this.localiser.currentCurrency, BASE_CURRENCY)),
                    this.price_filter_nights = this.nights(),
                    this.widget_label_el = wrapper_el.find(".title"),
                    this.slider_values_el = wrapper_el.find(".slider-values"),
                    this.values_label_shown = !1,
                    this.maxUserValue = this.MAX_USER_VALUE * this.nights(),
                    this.buildSlider(),
                    Hs.PubSub.subscribe("currency_changed", this.updatePriceFilterCurrency)
            }
            var BASE_CURRENCY;
            return PriceRangeFilter.prototype.ABS_MIN_VALUE = 0, PriceRangeFilter.prototype.MIN_USER_VALUE = 1e3, PriceRangeFilter.prototype.ABS_MAX_VALUE = 1e8, PriceRangeFilter.prototype.MAX_USER_VALUE = 1e4, PriceRangeFilter.prototype.STEP_SIZE = 5, BASE_CURRENCY = "EUR",
                PriceRangeFilter.prototype.rebuildSlider = function() {
                    var ref;
                    return this.maxUserValue = this.MAX_USER_VALUE * this.nights(),
                        this.price_filter_nights !== this.nights() ? (
                            this.min_price = this.min_price / this.price_filter_nights * this.nights(),
                            this.max_price = this.max_price / this.price_filter_nights * this.nights(),
                            this.price_filter_nights = this.nights()) : (
                            ref = this.slider.noUiSlider.get(), this.min_price = ref[0], this.max_price = ref[1]),
                        this.slider.noUiSlider.destroy(),
                        this.buildSlider()
                },
                PriceRangeFilter.prototype.nights = function() {
                    var _nights, original_nights
                    ;
                    return _nights = 1,
                        7 <= (original_nights = $("#homestays").data("nights") || 1) && (
                            _nights = 7),
                        30 <= original_nights && (
                            _nights = 30),
                        _nights
                },
                PriceRangeFilter.prototype.updatePriceFilterCurrency = function() {
                    return this.price_filter_currency_el.val(this.localiser.currentCurrency)
                },
                PriceRangeFilter.prototype.buildSlider = function() {
                    var text,
                        _this;
                    return noUiSlider.create(this.slider, {
                            "start": [this.min_price || this.ABS_MIN_VALUE, this.max_price || this.ABS_MAX_VALUE],
                            "connect": !0,
                            "behaviour": "drag-tap",
                            "range": {
                                "min": [this.ABS_MIN_VALUE, this.MIN_USER_VALUE],
                                "5%": [this.MIN_USER_VALUE, this.STEP_SIZE],
                                "95%": [this.maxUserValue, this.ABS_MAX_VALUE],
                                "max": this.ABS_MAX_VALUE
                            }
                        }), this.slider.noUiSlider.on("update", (
                            _this = this,
                            function() {
                                var maxValue, minValue, ref;
                                return minValue = (ref = _this.slider.noUiSlider.get())[0], maxValue = ref[1], _this.updatePriceFilterCurrency(), _this.updateMinElements(minValue), _this.updateMaxElements(maxValue), _this.refreshLabels()
                            })),
                        this.slider.noUiSlider.on("change", $.debounce(500, this.handleSliderChange)),
                        $(this.min_value_element, this.max_value_element).on("change", function(_this) {
                            return function() {
                                return _this.slider.noUiSlider.set(_this.formValues())
                            }
                        }(
                            this)),
                        text = "",
                        7 === this.nights(
                        ) ? text = "per week" : 30 === this.nights() && (
                            text = "per month"),
                        this.rate_element.html(text),
                        this.coordinator.form.priceFilterNights.val(this.nights())
                },
                PriceRangeFilter.prototype.showValueLabels = function() {
                    if (!this.values_label_shown) return this.widget_label_el.addClass("hidden"),
                        this.slider_values_el.removeClass("hidden"),
                        this.values_label_shown = !0
                },
                PriceRangeFilter.prototype.formValues = function() {
                    return [
                        Math.ceil(this.localiser.convertWithSubunits(parseInt(this.min_value_element.val()) || this.ABS_MIN_VALUE, this.localiser.currentCurrency, BASE_CURRENCY)), Math.ceil(this.localiser.convertWithSubunits(parseInt(this.max_value_element.val()) || this.ABS_MAX_VALUE, this.localiser.currentCurrency, BASE_CURRENCY))
                    ]
                },
                PriceRangeFilter.prototype.updateLabel = function(label_el, overflow_label, value) {
                    return value = parseInt(value),
                        this.ABS_MIN_VALUE < value && value < this.ABS_MAX_VALUE && this.widget_label_el && this.showValueLabels(),
                        value > this.ABS_MIN_VALUE ? label_el.attr("data-price", !0
                        ) : label_el.removeAttr("data-price"),
                        value === this.ABS_MAX_VALUE ? overflow_label.removeClass("hidden"
                        ) : overflow_label.addClass("hidden"),
                        value === this.ABS_MIN_VALUE ? label_el.html(I18n.t("homestays.sidebar.price_filter.bellow_min")
                        ) : value === this.ABS_MAX_VALUE ? label_el.attr("data-amount", this.maxUserValue
                        ) : label_el.attr("data-amount", value)
                },
                PriceRangeFilter.prototype.updateMinElements = function(value) {
                    var user_currency_value;
                    return (
                            value = parseInt(value)
                        ) === this.ABS_MAX_VALUE && (
                            value = this.maxUserValue),
                        user_currency_value = Math.ceil(this.localiser.convert(value, BASE_CURRENCY)),
                        this.min_value_element && (
                            value > this.ABS_MIN_VALUE ? this.min_value_element.val(user_currency_value
                            ) : this.min_value_element.val(null)),
                        this.updateLabel(this.min_label_element, this.min_overflow_label_element, value)
                },
                PriceRangeFilter.prototype.updateMaxElements = function(value) {
                    var user_currency_value;
                    return (
                            value = parseInt(value)
                        ) === this.ABS_MIN_VALUE && (
                            value = this.MIN_USER_VALUE),
                        user_currency_value = Math.ceil(this.localiser.convert(value, BASE_CURRENCY)),
                        this.max_value_element && (
                            value < this.ABS_MAX_VALUE ? this.max_value_element.val(user_currency_value
                            ) : this.max_value_element.val(null)),
                        this.updateLabel(this.max_label_element, this.max_overflow_label_element, value)
                },
                PriceRangeFilter.prototype.refreshLabels = function() {
                    if (
                        this.min_label_element && this.localiser.updateCurrencies(this.min_label_element.parent()),
                        this.max_label_element
                    ) return this.localiser.updateCurrencies(this.max_label_element.parent())
                },
                PriceRangeFilter.prototype.handleSliderChange = function() {
                    return $(this.min_value_element).trigger("change")
                },
                PriceRangeFilter.prototype.resetValues = function() {
                    return this.slider.noUiSlider.set([this.ABS_MIN_VALUE, this.ABS_MAX_VALUE]),
                        this.handleSliderChange()
                },
                PriceRangeFilter.prototype.filterVisible = function() {
                    return this.wrapper_el.is(":visible")
                },
                PriceRangeFilter.prototype.filterSet = function() {
                    var values;
                    return values = this.slider.noUiSlider.get(),
                        parseInt(values[0]) !== this.ABS_MIN_VALUE || parseInt(values[1]) !== this.ABS_MAX_VALUE
                },
                PriceRangeFilter
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.PromotionCodeBox = function() {
            function PromotionCodeBox(parent) {
                var _this;
                this.parent = parent, this.parent.find(".close, .close-trigger").click((
                    _this = this,
                    function() {
                        return _this.parent.remove(), Hs.Cookie.set("hide_promotion_code_box", !0, 3, "/")
                    }))
            }
            return PromotionCodeBox
        }(), (
            $ = jQuery
        ).fn.extend({
            "promotionCodeBox": function() {
                return this.each(function() {
                    return new Hs.PromotionCodeBox($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.PubnubBookingRequestEvents = function() {
            function PubnubBookingRequestEvents() {
                this.reloadPage = bind(this.reloadPage, this),
                    this.handleReloadEvent = bind(this.handleReloadEvent, this),
                    this.newMessage = bind(this.newMessage, this),
                    this.alert_sound = new Hs.Sound($("#thread").data("alert-sound")),
                    this.muteSiteNotifications(),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::newMessage", this.newMessage),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::state::accepted", this.handleReloadEvent),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::state::declined", this.handleReloadEvent),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::details_changed", this.handleReloadEvent),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::price_negotiated", this.handleReloadEvent)
            }
            return PubnubBookingRequestEvents.prototype.muteSiteNotifications = function() {
                    if (
                        Hs.booking_request_id && Hs.SiteNotifications
                    ) return Hs.SiteNotifications.get().addMuteRule("booking_request_id", Hs.booking_request_id)
                },
                PubnubBookingRequestEvents.prototype.newMessage = function(params) {
                    var booking_request_id, message_id, message_show_url,
                        _this;
                    if (message_id = params.message_id, booking_request_id = params.booking_request_id, message_show_url = Hs.message_show_url.replace("/0", "/" + message_id), !Hs.booking_request_id || Hs.booking_request_id === booking_request_id) return $.get(message_show_url).success((
                        _this = this,
                        function(html) {
                            return _this.alert_sound.play(), $("#thread").append(html), $("#thread").scrollTop($("#thread")[0].scrollHeight)
                        }))
                },
                PubnubBookingRequestEvents.prototype.handleReloadEvent = function(params) {
                    if (!Hs.booking_request_id || Hs.booking_request_id === params.booking_request_id
                    ) return this.reloadPage()
                },
                PubnubBookingRequestEvents.prototype.reloadPage = function() {
                    return window.location.reload()
                },
                PubnubBookingRequestEvents
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.PubnubCallEvents = function() {
            function PubnubCallEvents() {
                this.refreshData = bind(this.refreshData, this),
                    Hs.PubSub.subscribe("pubnub::call::declined", this.declined),
                    Hs.PubSub.subscribe("pubnub::call::missed", this.missed),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::state::accepted", this.refreshData),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::state::declined", this.refreshData),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::details_changed", this.refreshData),
                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::booked", this.refreshData)
            }
            return PubnubCallEvents.prototype.declined = function() {
                    return Hs.Instances.video_call.actionDeclinedCall()
                },
                PubnubCallEvents.prototype.missed = function() {
                    return Hs.Instances.video_call.actionMissedCall()
                },
                PubnubCallEvents.prototype.refreshData = function() {
                    return Hs.Instances.video_call.refreshData()
                },
                PubnubCallEvents
        }()
    }.call(
        this),
    function() {
        Hs.PubSub = function() {
            function PubSub() {}
            var LISTENERS
            ;
            return LISTENERS = {},
                PubSub.subscribe = function(name, callback) {
                    return LISTENERS[name] || (
                            LISTENERS[name] = []),
                        LISTENERS[name].push(callback)
                },
                PubSub.unsubscribePrefix = function(prefix) {
                    var name, pattern, results;
                    for (
                        name in pattern = new RegExp("^" + prefix + "::", "g"), results = [], LISTENERS
                    ) LISTENERS[name],
                        name.match(pattern) ? results.push(LISTENERS[name] = []
                        ) : results.push(void 0)
                    ;
                    return results
                },
                PubSub.listeners = function() {
                    return LISTENERS
                },
                PubSub.publish = function(name) {
                    var args, i, results;
                    if (
                        args = Array.prototype.slice.call(arguments, 1),
                        LISTENERS[name]) {
                        for (
                            i = 0,
                            Hs.debug_mode && (
                                0 < args.length ? console.log("event: ", name, "args: ", args
                                ) : console.log("event: ", name)),
                            results = []; i < LISTENERS[name].length;
                        ) LISTENERS[name][i].apply(null, args),
                            results.push(i++)
                        ;
                        return results
                    }
                },
                PubSub
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.Rates = function() {
            function Rates(ratesUrl, options) {
                this.ratesUrl = ratesUrl,
                    this.options = options,
                    this.ratesUrlParams = bind(this.ratesUrlParams, this),
                    this.arrivalDateExceedsBookingWindow = bind(this.arrivalDateExceedsBookingWindow, this),
                    this.maximumLengthOfStay = bind(this.maximumLengthOfStay, this),
                    this.minimumLengthOfStay = bind(this.minimumLengthOfStay, this),
                    this.datesUnavailable = bind(this.datesUnavailable, this),
                    this.totalNumberOfGuests = bind(this.totalNumberOfGuests, this),
                    this.available = bind(this.available, this),
                    this.processRoom = bind(this.processRoom, this),
                    this.processRates = bind(this.processRates, this),
                    this.updateRates = bind(this.updateRates, this),
                    this.rooms = {},
                    this.options = {
                        "options": this.options
                    },
                    this.availableRoomsCount = 0,
                    Hs.PubSub.subscribe("booking::form", this.updateRates)
            }
            return Rates.prototype.updateRates = function(startDate, endDate, roomGuests, promotionCode1, negotiatedPrice1) {
                    return this.startDate = startDate,
                        this.endDate = endDate,
                        this.roomGuests = roomGuests,
                        this.promotionCode = promotionCode1,
                        this.negotiatedPrice = negotiatedPrice1,
                        this.nights = this.getNights(),
                        this.rateDivisor = this.getRateDivisor(),
                        $.get(this.ratesUrl, this.ratesUrlParams()).done((
                            _this = this,
                            function(ratesData) {
                                return Hs.PubSub.publish("booking::rates::errors", ratesData.errors), ratesData.errors ? _this.datesUnavailable() : (_this.rooms = {}, 0 < ratesData.rooms.length && _this.processRates(ratesData.rooms, ratesData.totals, ratesData.promotion_code), _this.available() ? _this.datesAvailable() : _this.datesUnavailable(), Hs.PubSub.publish("booking::rooms", _this.rooms), Hs.PubSub.publish("booking::rates::cheapestRate", _this.calculateCheapestRoomRate(_this.rooms)))
                            }));
                    var _this
                },
                Rates.prototype.getRateDivisor = function() {
                    return 30 <= this.nights ? 30 : 7 <= this.nights ? 7 : 1
                },
                Rates.prototype.getNights = function() {
                    var endDateMs, one_day, startDateMs;
                    return one_day = 864e5,
                        startDateMs = this.startDate.getTime(),
                        endDateMs = this.endDate.getTime(),
                        Math.round((endDateMs - startDateMs) / one_day)
                },
                Rates.prototype.processRates = function(rooms, totals) {
                    var i, len, roomRates;
                    for (
                        i = this.availableRoomsCount = 0, len = rooms.length; i < len; i++)(
                            roomRates = rooms[i]
                        ).room && (
                            this.rooms[roomRates.room.id] = this.processRoom(roomRates)),
                        this.rooms[roomRates.room.id].available && (
                            this.availableRoomsCount += 1)
                    ;
                    return 0 < this.totalNumberOfGuests() ? (
                        Hs.PubSub.publish("booking::guests", this.totalNumberOfGuests()),
                        Hs.PubSub.publish("booking::totals", this.currencyCode, totals.price_amount, totals.standard_price_amount, totals.charged_before_deposit_discount_amount, totals.balance_amount, totals.host_total_amount, totals.total_amount, totals.deposit_before_deposit_discount_amount, totals.balance_before_discount_amount, totals.charged_amount, totals.total_deposit, totals.total_encashment)
                    ) : Hs.PubSub.publish("booking::noGuests")
                },
                Rates.prototype.processRoom = function(roomRates) {
                    var room;
                    return (
                            room = {}
                        ).id = roomRates.room.id,
                        room.promotional = "",
                        null != roomRates.available ? room.available = roomRates.available : room.available = !0,
                        room.guests = this.roomGuests[roomRates.room.id],
                        room.type = roomRates.room.type,
                        this.currencyCode || (this.currencyCode = roomRates.total_price.currency),
                        this.room_panes && this.room_panes["" + roomRates.room.id],
                        0 < roomRates.discounts.length && (
                            room.promotional = roomRates.discounts.reverse().join(" ")),
                        room.rate = roomRates.total_price.amount / this.nights * this.rateDivisor,
                        room.currencyCode = this.currencyCode,
                        room.capacity = roomRates.room.capacity,
                        room.seasonalPriceNights = roomRates.seasonal_price_dates,
                        room.rateDivisor = this.rateDivisor,
                        room
                },
                Rates.prototype.available = function() {
                    var id, ref;
                    if (
                        $.isEmptyObject(this.rooms)
                    ) return !1;
                    for (
                        id in ref = this.rooms)
                        if (
                            ref[id].available
                        ) return !0
                        ;
                    return !1
                },
                Rates.prototype.totalNumberOfGuests = function() {
                    var guests, id, numberOfGuests, ref;
                    for (
                        id in numberOfGuests = 0, ref = this.roomGuests
                    ) guests = ref[id],
                        numberOfGuests += parseInt(guests)
                    ;
                    return numberOfGuests
                },
                Rates.prototype.datesUnavailable = function() {
                    return Hs.PubSub.publish("booking::unavailable", this.startDate, this.endDate, Hs.guests || 1)
                },
                Rates.prototype.datesAvailable = function() {
                    return Hs.PubSub.publish("booking::available", this.availableRoomsCount, this.startDate, this.endDate, Hs.guests || 1)
                },
                Rates.prototype.minimumLengthOfStay = function() {
                    return this.datesUnavailable(),
                        Hs.PubSub.publish("booking::minimumLengthOfStay")
                },
                Rates.prototype.maximumLengthOfStay = function() {
                    return this.datesUnavailable(),
                        Hs.PubSub.publish("booking::maximumLengthOfStay")
                },
                Rates.prototype.arrivalDateExceedsBookingWindow = function(arrivalDate) {
                    return this.datesUnavailable(),
                        Hs.PubSub.publish("booking::arrivalDateExceedsBookingWindow", arrivalDate)
                },
                Rates.prototype.calculateMinRatesPrice = function(rates) {
                    var _, min, rate;
                    for (
                        _ in min = Infinity, rates)(
                        rate = rates[_]
                    ).amount < min && (
                        min = rate.amount)
                    ;
                    return min
                },
                Rates.prototype.calculateCheapestRoomRate = function(rooms) {
                    var _, cheapest_rate, min_amount, room;
                    for (
                        _ in min_amount = Infinity, cheapest_rate = {}, rooms)(
                        room = rooms[_]
                    ).rate < min_amount && (
                        min_amount = room.rate,
                        cheapest_rate.amount = min_amount,
                        cheapest_rate.currency_code = room.currencyCode,
                        cheapest_rate.rate_type = room.promotional,
                        cheapest_rate.room_capacity = room.capacity,
                        cheapest_rate.guests = room.guests,
                        cheapest_rate.room_id = room.id)
                    ;
                    return cheapest_rate.rate_divisor = this.rateDivisor,
                        cheapest_rate
                },
                Rates.prototype.ratesUrlParams = function() {
                    var negotiatedPrice, params;
                    return params = {
                            "check_in": this.dateToYMD(this.startDate),
                            "check_out": this.dateToYMD(this.endDate),
                            "room_guests": this.roomGuests,
                            "promotion_code": this.promotionCode
                        },
                        this.negotiatedPrice && (
                            negotiatedPrice = {
                                "negotiated_price": {
                                    "amount": this.negotiatedPrice.amount,
                                    "currency": this.negotiatedPrice.currency
                                }
                            },
                            params = $.extend({}, params, negotiatedPrice)),
                        params = $.extend({}, params, this.options)
                },
                Rates.prototype.dateToYMD = function(date) {
                    return date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate()
                },
                Rates
        }()
    }.call(
        this),
    function() {
        Hs.ReadMore = function() {
            function ReadMore(container) {
                var _this;
                this.container = container, this.container = $(this.container), this.moreText = I18n.t("misc.read_more"), this.container.find(".read-more-body").each((
                    _this = this,
                    function(index, elem) {
                        var $body, fullBody;
                        if ((fullBody = ($body = $(elem).find("[data-more]")).data("more")).length !== $body.text().length) return $body.append(_this.buildMoreLink($body, fullBody))
                    }))
            }
            return ReadMore.prototype.buildMoreLink = function($body, text) {
                    return $('<a href="#read-more" class="read-more">' + this.moreText + "</a>").click(function() {
                        var $elem, height;
                        return $elem = $body.closest(".read-more-body"),
                            height = $body.height(),
                            $elem.css("height", height),
                            $body.html(text),
                            height = $body.height(),
                            $elem.css("height", height), !1
                    })
                },
                ReadMore
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.Referrals = function() {
            function Referrals(parent) {
                this.parent = null != parent ? parent : $("body"),
                    this.replaceWallet = bind(this.replaceWallet, this),
                    this.initPagination = bind(this.initPagination, this),
                    this.initGuestSignupPopup = bind(this.initGuestSignupPopup, this),
                    this.scrollToWallet = bind(this.scrollToWallet, this),
                    this.initSocialShares = bind(this.initSocialShares, this),
                    this.htmlBody = $("html,body"),
                    this.walletTable = this.parent.find("#wallet-table"),
                    this.initGuestSignupPopup(),
                    this.initSocialShares(),
                    Hs.CurrencyLocaliser.get().reloadOnChange = !0,
                    this.initPagination()
            }
            return Referrals.openPopup = function(url, width, height) {
                    var options, top;
                    return null == url && (
                            url = ""),
                        null == width && (
                            width = 500),
                        null == height && (
                            height = 500),
                        top = window.top.outerHeight / 2 + window.top.screenY - width / 2,
                        options = "menubar=no,location=no,resizable=yes,height=" + height + ",width=" + width + ",left=" + (window.top.outerWidth / 2 + window.top.screenX - height / 2) + ",top=" + top,
                        window.open(url, "_blank", options)
                },
                Referrals.prototype.initSocialShares = function() {
                    return new Hs.SocialWindow('[data-social-window="true"]', "Homestay.com - Invite a friend")
                },
                Referrals.prototype.scrollToWallet = function() {
                    return this.parent.find(".wallet-block").removeClass("hide"),
                        this.htmlBody.animate({
                                "scrollTop": this.walletTable.offset().top - 20
                            },
                            500)
                },
                Referrals.prototype.initGuestSignupPopup = function() {
                    return this.parent.find("[data-guest-signup='true']").click(function(event) {
                        return event.preventDefault(),
                            Hs.GuestSignup.open($(this).data())
                    })
                },
                Referrals.prototype.initPagination = function() {
                    return this.parent.find(".wallet-block").on("ajax:success", function(e, data) {
                        return $("#user-credits").append($(data).find("#user-credits").html()),
                            $("#load-more").replaceWith($(data).find("#load-more"))
                    })
                },
                Referrals.prototype.replaceWallet = function(html, scrollToWallet) {
                    if (
                        null == scrollToWallet && (
                            scrollToWallet = !0),
                        this.walletTable.html($(html).find("#wallet-table")),
                        scrollToWallet
                    ) return this.scrollToWallet()
                },
                Referrals
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.Room = function() {
                function Room(room1) {
                    this.room = room1,
                        this.setAvailable = bind(this.setAvailable, this),
                        this.setPrice = bind(this.setPrice, this),
                        this.setSeasonalPriceIndicator = bind(this.setSeasonalPriceIndicator, this),
                        this.roomSelector = bind(this.roomSelector, this),
                        this.id = this.room.data("roomId"),
                        this.capacity = this.room.data("roomCapacity"),
                        this.singlePriceAsDefault = this.room.data("singlePriceAsDefault"),
                        Hs.Room.ALL[this.id] = this
                }
                return Room.ALL = {}, Room.BOOKING_ROOMS_SELECTOR = "#booking-data",
                    Room.bookingRoomsSelector = function() {
                        return $(Hs.Room.BOOKING_ROOMS_SELECTOR)
                    },
                    Room.prototype.roomSelector = function(all) {
                        return null == all && (
                                all = !0),
                            all ? $('[data-room-id="' + this.id + '"]'
                            ) : Hs.Room.bookingRoomsSelector().find('[data-room-id="' + this.id + '"]')
                    },
                    Room.prototype.setSeasonalPriceIndicator = function(seasonal_price_dates) {
                        var $indicator_el, $popover_el, $price_content, content, data, date, key, name, price, pricing_overview;
                        for (
                            date in pricing_overview = {}, seasonal_price_dates
                        ) price = seasonal_price_dates[date],
                            null == pricing_overview[name = price.amount] && (
                                pricing_overview[name] = {
                                    "count": 0,
                                    "price": price
                                }),
                            pricing_overview[price.amount].count += 1
                        ;
                        return $popover_el = ($indicator_el = $(this.roomSelector().find(".seasonal-price-indicator"))).find(".hs-icon"),
                            0 === Object.keys(pricing_overview).length ? $indicator_el.addClass("hidden") : (
                                content = function() {
                                    var results;
                                    for (
                                        key in results = [], pricing_overview
                                    ) data = pricing_overview[key],
                                        $price_content = Hs.Util.Currency.formatPriceTinyWithData("seasonal-rate", data.price.amount, data.price.currency, !0),
                                        results.push("<li>" + I18n.t("misc.prices.rate_for_nights", {
                                            "count": data.count,
                                            "price": $price_content[0].outerHTML
                                        }) + "</li>")
                                    ;
                                    return results
                                }(),
                                content = $("<ul>").addClass("seasonal-price-overview").append(content.join("\n")),
                                Hs.CurrencyLocaliser.get().updateCurrencies(content),
                                $popover_el.attr("data-content", content[0].outerHTML),
                                $indicator_el.removeClass("hidden"))
                    },
                    Room.prototype.setPrice = function(amount, currencyCode, rateDivisor) {
                        var displayPrice, text;
                        if (
                            displayPrice = Hs.Util.Currency.formatPriceTinyWithData("", amount, currencyCode)[0].outerHTML,
                            text = 30 <= rateDivisor ? I18n.t("homestays.homestay.price.from_with_price_per_month", {
                                "price": displayPrice
                            }) : 7 <= rateDivisor ? I18n.t("homestays.homestay.price.from_with_price_per_week", {
                                "price": displayPrice
                            }) : I18n.t("homestays.homestay.price.from_with_price_per_night", {
                                "price": displayPrice
                            }),
                            this.roomSelector().find(".room-price").html(text),
                            Hs.CurrencyLocaliser
                        ) return Hs.CurrencyLocaliser.get().updateCurrencies(this.roomSelector())
                    },
                    Room.prototype.setAvailable = function() {
                        return this.roomSelector(!1).removeClass("unavailable").addClass("available"),
                            this.roomSelector(!1).find("select[data-guest-selector='true']").removeAttr("disabled"),
                            this.roomSelector(!1).find(".room-guests").show(),
                            this.roomSelector(!1).parent().tooltip("destroy"),
                            this.roomSelector(!1).find(".availability-room-date-ranges").addClass("hidden")
                    },
                    Room.prototype.chosenNumberOfGuests = function() {
                        return parseInt(this.roomSelector(!1).find(".room-guests select").val())
                    },
                    Room.sortRooms = function() {
                        var parent, rooms;
                        return (
                                rooms = (parent = $(".room-list.sortable")).children(".room-item")
                            ).detach().sort(function(a, b) {
                                return $(b).hasClass("available") && !$(a).hasClass("available"
                                ) ? 1 : $(a).hasClass("available") && $(b).hasClass("available"
                                ) ? 0 : -1
                            }),
                            parent.append(rooms)
                    },
                    Room.showRoomSelectPopover = function() {
                        var cookieName;
                        if (!Hs.mobile_device
                        ) return cookieName = "popover_profile_room_select",
                            $(".available .add-bedroom").first().length && !Hs.Cookie.get(cookieName) ? (
                                Hs.Popover.createPopover(".available .add-bedroom", ".available", I18n.t("homestays.show.popovers.room_select"), {
                                    "placement": "bottom"
                                }),
                                Hs.Cookie.set(cookieName, 1, 365)) : void 0
                    },
                    Room.setAllRoomsUnavailable = function() {
                        return Hs.Room.bookingRoomsSelector().find(".room-item").removeClass("available").addClass("unavailable"),
                            Hs.Room.bookingRoomsSelector().find("select[data-guest-selector='true']").attr("disabled", "disabled"),
                            Hs.Room.bookingRoomsSelector().find(".room-item .room-guests").hide()
                    },
                    Room.setAllRoomsAsBlank = function() {
                        return Hs.Room.bookingRoomsSelector().find(".room-item").addClass("blank").removeClass("unavailable"),
                            Hs.Room.bookingRoomsSelector().find("select[data-guest-selector='true']").attr("disabled", "disabled"),
                            Hs.Room.bookingRoomsSelector().find(".room-item .room-guests").hide()
                    },
                    Room.unavailableRoomsWithGuests = function() {
                        return Hs.Room.bookingRoomsSelector().find(".room-item.unavailable [data-guest-selector]").filter(function() {
                            return 0 < $(this).val()
                        })
                    },
                    Room.resetUnavailableRoomGuests = function() {
                        return this.unavailableRoomsWithGuests().val(0)
                    },
                    Room.update = function(roomsData) {
                        var availableRooms, id, room, roomData;
                        if (!$.isEmptyObject(Room.ALL)) {
                            for (
                                id in Room.setAllRoomsUnavailable(), availableRooms = 0, roomsData
                            ) roomData = roomsData[id],
                                room = Hs.Room.ALL[id],
                                roomData.available && (
                                    availableRooms += 1,
                                    room.setAvailable()),
                                room.setPrice(roomData.rate, roomData.currencyCode, roomData.rateDivisor),
                                room.setSeasonalPriceIndicator(roomData.seasonalPriceNights),
                                Room.sortRooms(),
                                Room.showRoomSelectPopover();
                            if (
                                Hs.Instances.availability_date_range && Hs.Instances.availability_date_range.getForRoomList($(Hs.Room.BOOKING_ROOMS_SELECTOR)),
                                0 < availableRooms && Hs.Room.bookingRoomsSelector().find(".room-item .status").removeClass("hidden"),
                                0 < Room.unavailableRoomsWithGuests().length && (
                                    Room.resetUnavailableRoomGuests(),
                                    1 < Hs.Room.bookingRoomsSelector().find(".room-item").length && 0 < availableRooms)
                            ) return Hs.PubSub.publish("booking::noGuests")
                        }
                    },
                    Room
            }(),
            Hs.Room.setAllRoomsAsBlank(),
            Hs.PubSub.subscribe("booking::rooms", Hs.Room.update),
            Hs.PubSub.subscribe("booking::noDates", Hs.Room.setAllRoomsAsBlank),
            Hs.PubSub.subscribe("booking::unavailable", Hs.Room.setAllRoomsUnavailable)
    }.call(
        this),
    function() {
        Hs.Rooms = function() {
            function Rooms() {
                var $roomList;
                Hs.Instances.availability_date_range = new Hs.AvailabilityDateRanges(".room-list", "Host Profile Page"), (
                        $roomList = $(".room-list")
                    ).find(".room-item[data-room-id]").each(function() {
                        return new Hs.Room($(this))
                    }),
                    Hs.Instances.availability_date_range.installRoomListListeners(),
                    $roomList.on("shown.bs.collapse", ".show-more-block .panel-collapse", function() {
                        return $(this).siblings(".controls").find("a").html(I18n.t("misc.labels.hide_details"))
                    }),
                    $roomList.on("hidden.bs.collapse", ".show-more-block .panel-collapse", function() {
                        var $elm;
                        return (
                            $elm = $(this).siblings(".controls").find("a")
                        ).html($elm.data("defaultText"))
                    })
            }
            return Rooms
        }()
    }.call(
        this),
    function() {
        Hs.ScrollAction = function() {
            function ScrollAction(options) {
                var scrollTimeout,
                    _this;
                if (scrollTimeout = null, this.options = options, this._$selector = $(options.target), !this._$selector.length) return !1;
                this.timesClicked = 0, this.actionLimit = options.actionLimit || Infinity, this.offset = options.offset || parseInt(this._$selector.data("offset"), 10) || 0, this.action = options.action, this.reverseAction = options.reverseAction, this.scrollEvent(), $(window).trigger("scroll.scroll-click" + this.options.target), $(window).resize((
                    _this = this,
                    function() {
                        return clearTimeout(scrollTimeout), scrollTimeout = setTimeout(function() {
                            return _this.scrollEvent()
                        }, 500)
                    }))
            }
            return ScrollAction.prototype.scrollEvent = function() {
                    var $window, windowHeight,
                        _this;
                    return $window = $(window), windowHeight = $window.height(), this._$selector.each((
                        _this = this,
                        function(index, elem) {
                            var $elem;
                            return $elem = $(elem), $window.off("scroll.scroll-click" + _this.options.target).on("scroll.scroll-click" + _this.options.target, function() {
                                var offsetTop, scrollTop;
                                return scrollTop = $window.scrollTop() + windowHeight, offsetTop = $elem.offset().top - _this.offset, !($elem.length && !$elem.is(":hidden")) || (_this.actionLimit > _this.timesClicked && offsetTop < scrollTop && !$elem.data("scroll-click") ? ($elem.data("scroll-click", !0), _this.timesClicked++, _this.action($elem)) : _this.reverseAction && scrollTop <= offsetTop && $elem.data("scroll-click") ? ($elem.data("scroll-click", !1), _this.reverseAction($elem)) : void 0)
                            })
                        }))
                },
                ScrollAction
        }()
    }.call(
        this),
    function() {
        Hs.ScrollTo = function() {
            function ScrollTo() {
                $("body").on("click.scrollTo", '[data-scroll-to="true"]', function(evt) {
                    var $self, $targetElement, containerSelector, modalParentId, scrollOffset;
                    return evt.preventDefault(),
                        evt.stopPropagation(),
                        $self = $(this), !!(
                            $targetElement = $($self.attr("href"))
                        ).length && (
                            containerSelector = (modalParentId = $targetElement.parents(".modal-body").parent().attr("id")) ? "#" + modalParentId : "html,body",
                            scrollOffset = $self.attr("data-scroll-offset") || 0,
                            scrollOffset = parseInt(scrollOffset),
                            $(containerSelector).animate({
                                "scrollTop": $targetElement.offset().top + scrollOffset
                            }, function() {
                                return $self.trigger("scrollTo:complete")
                            }))
                })
            }
            return ScrollTo
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.Search = function() {
            function Search(form, initial_value, options) {
                var _this;
                (this.setType = bind(this.setType, this), this.submit = bind(this.submit, this), this.form = $(form), 0 !== this.form.length) && (this.elements = {
                    "latitude": this.form.find("input.latitude"),
                    "longitude": this.form.find("input.longitude"),
                    "neLat": this.form.find("input.ne-lat"),
                    "neLng": this.form.find("input.ne-lng"),
                    "swLat": this.form.find("input.sw-lat"),
                    "swLng": this.form.find("input.sw-lng"),
                    "radius": this.form.find("input.radius"),
                    "country": this.form.find("input.country"),
                    "searchType": this.form.find("input.search-type"),
                    "locationId": this.form.find("input.location-id"),
                    "googlePlaceId": this.form.find("input.google-place-id"),
                    "type": this.form.find("input.type"),
                    "location": this.form.find("input.location"),
                    "stage": this.form.find("input.stage"),
                    "checkIn": this.form.find("input.check-in"),
                    "checkOut": this.form.find("input.check-out"),
                    "submitButton": this.form.find("[type='submit']")
                }, this.autocomplete_stategy = Hs.autocomplete_strategy, this.initial_value = initial_value, this.options = options, this.initializeDatepicker(), this.initializeStageSelector(), "test" !== Hs.environment && ("homestay" === this.autocomplete_stategy ? this.initializeHomestayLocationAutocomplete() : this.initializeGoogleLocationAutocomplete(), this.initializeSubmitButton()), this.enableSearchForm(), this.addTracking(), this.min_radius = 2500, this.check_autocomplete_missmatch = !0, Hs.PubSub.subscribe("homestay_listing_page::search::completed", (
                    _this = this,
                    function() {
                        return _this.resetSearchButton()
                    })))
            }
            return Search.prototype.OPTIONS = {
                    "tooltip_timeout": 5e3
                },
                Search.prototype.setCheckAutocompleteMissmatch = function(value) {
                    return this.check_autocomplete_missmatch = value
                },
                Search.prototype.addTracking = function() {
                    var _this;
                    if (this.form.on("submit", (
                            _this = this,
                            function() {
                                var message;
                                return message = [], Hs.GTM.trackCustomEvent("Search form", "submitted"), _this.elements.checkIn.val() && message.push("check in SET"), _this.elements.checkOut.val() && message.push("check out SET"), _this.elements.checkIn.val() && _this.elements.checkOut.val() || (_this.elements.checkOut.val() ? message.push("check in NOT SET") : _this.elements.checkIn.val() ? message.push("check out NOT SET") : message.push("dates NOT SET")), Hs.GTM.trackCustomEvent("Search form", message.join(", "))
                            })),
                        $(".homestays.search, .homestays.index").length && (!this.elements.checkIn.val() || !this.elements.checkOut.val())
                    ) return this.form.on("submit", function(_this) {
                        return function() {
                            if (
                                _this.elements.checkIn.val() && _this.elements.checkOut.val()
                            ) return Hs.GTM.trackCustomEvent("Listing page", "Search form, dates SET after tooltip shown")
                        }
                    }(
                        this))
                },
                Search.prototype.enableSearchForm = function() {
                    var count_times_shown,
                        _this;
                    if (count_times_shown = 0, !this.elements.checkIn.val() && $(".homestays.search, .homestays.index").length && $("body").hasClass("touch-disabled") && (this.elements.checkIn.tooltip({
                                "placement": "bottom",
                                "trigger": "manual"
                            }), this.elements.checkIn.hover((
                                _this = this,
                                function() {
                                    if (!_this.elements.checkIn.data("datepicker").picker.is(":visible")) return _this.elements.checkIn.tooltip("show")
                                }), function(_this) {
                                return function() {
                                    return _this.elements.checkIn.tooltip("hide")
                                }
                            }(
                                this)),
                            this.form.on("submit.show-tooltip", function(_this) {
                                return function() {
                                    return count_times_shown++,
                                        _this.elements.checkIn.val() || 2 < count_times_shown ? _this.form.off("submit.show-tooltip") : _this.elements.checkIn.next().is(".tooltip:visible") ? void 0 : (
                                            _this.elements.checkIn.tooltip("show"),
                                            setTimeout(function() {
                                                    return _this.elements.checkIn.tooltip("hide")
                                                },
                                                _this.OPTIONS.tooltip_timeout))
                                }
                            }(
                                this)),
                            this.form.find("input.location, input.check-in, input.check-out").on("focus", function(_this) {
                                return function() {
                                    return _this.elements.checkIn.tooltip("hide")
                                }
                            }(
                                this))),
                        this.elements.location.on("blur", function(_this) {
                            return function() {
                                if (
                                    _this.elements.locationId.val() && "" !== _this.elements.locationId.val()) {
                                    if (!_this.elements.checkIn.val()) return _this.elements.checkIn.trigger("focus");
                                    if (!_this.elements.checkOut.val()) return _this.elements.checkOut.trigger("focus")
                                }
                            }
                        }(
                            this)),
                        this.form.find('[type="submit"]').prop("disabled", !1),
                        this.elements.location.prop("disabled")
                    ) return this.elements.location.prop("disabled", !1).attr("placeholder", this.elements.location.data("placeholder"))
                },
                Search.prototype.initializeDatepicker = function() {
                    if (
                        this.elements.checkIn.length && this.elements.checkOut.length
                    ) return null != Hs.marketplace && null != Hs.marketplace.start_date && null != Hs.marketplace.end_date ? new Hs.DateRangeSelectorRestricted(this.elements.checkIn, this.elements.checkOut, Hs.marketplace.start_date, Hs.marketplace.end_date
                    ) : new Hs.DateRangeSelector(this.elements.checkIn, this.elements.checkOut, "top left")
                },
                Search.prototype.initializeStageSelector = function() {
                    var stage, stage_name, stage_names,
                        _this;
                    if (null != Hs.marketplace && this.elements.stage) return stage_names = function() {
                        var i, len, ref, results1;
                        for (results1 = [], i = 0, len = (ref = Hs.marketplace.stages).length; i < len; i++) stage = ref[i], results1.push(stage.name);
                        return results1
                    }(), stage_name = function() {
                        var i, len, results1;
                        for (results1 = [], i = 0, len = stage_names.length; i < len; i++)(stage_name = stage_names[i]) === Hs.selected_location && results1.push(stage_name);
                        return results1
                    }(), Hs.selected_location && 0 < stage_name.length && this.elements.stage.val(Hs.selected_location), this.elements.stage.on("change", (
                        _this = this,
                        function(e) {
                            return $.grep(Hs.marketplace.stages, function(stage) {
                                var bb;
                                if (stage.name === e.target.value) return bb = stage.homestay_location.bounding_box, _this.setBoundingBox(bb[1][0], bb[1][1], bb[0][0], bb[0][1]), _this.elements.latitude.val(stage.homestay_location.latitude), _this.elements.longitude.val(stage.homestay_location.longitude), _this.elements.country.val(""), _this.elements.checkIn.val(Hs.Util.Date.formatDate(new Date(stage.arrival_date))), _this.elements.checkOut.val(Hs.Util.Date.formatDate(new Date(stage.departure_date))), _this.elements.location.val(stage.name)
                            })
                        }))
                },
                Search.prototype.initializeHomestayLocationAutocomplete = function() {
                    var $append_el, $search_field_el, append_el_class,
                        _this;
                    return Hs.search_type = "search_box", append_el_class = ($search_field_el = $(this.elements.location[0])).attr("autocomplete_append_element_class") || "search_location", $append_el = $($search_field_el.closest("." + append_el_class)), $search_field_el.autocomplete({
                        "serviceUrl": "/location_autocomplete",
                        "dataType": "json",
                        "paramName": "search",
                        "params": {
                            "locale": I18n.locale
                        },
                        "minChars": 3,
                        "triggerSelectOnValidInput": !1,
                        "showNoSuggestionNotice": !0,
                        "autoSelectFirst": !0,
                        "appendTo": $append_el,
                        "zIndex": null,
                        "maxHeight": null,
                        "onSearchStart": (
                            _this = this,
                            function() {
                                return Hs.mobile_device_small && _this.elements.location[0].scrollIntoView(), $append_el.find(".spinner-backdrop").removeClass("hidden")
                            }),
                        "onSearchComplete": function(
                            _this) {
                            return function() {
                                return _this.elements.locationId.val(null),
                                    $append_el.find(".spinner-backdrop").addClass("hidden")
                            }
                        }(
                            this),
                        "onSelect": function(
                            _this) {
                            return function(
                                suggestion) {
                                return _this.elements.locationId.val(suggestion.data),
                                    _this.elements.location.val(suggestion.value),
                                    Hs.PubSub.publish("search::place_ready")
                            }
                        }(
                            this),
                        "formatResult": function(
                            suggestion, currentValue) {
                            var formatted_result;
                            return formatted_result = $.Autocomplete.defaults.formatResult(suggestion, currentValue),
                                suggestion.host_absence ? '<span class="shy-result">' + formatted_result + "</span>" : formatted_result
                        }
                    })
                },
                Search.prototype.initializeGoogleLocationAutocomplete = function() {
                    return this.autocomplete = new google.maps.places.Autocomplete(this.elements.location[0], {
                            "types": [
                                "geocode", "establishment"
                            ],
                            "fields": [
                                "name", "geometry", "place_id", "formatted_address", "geometry", "address_component"
                            ]
                        }),
                        google.maps.event.addDomListener(this.elements.location[0], "keydown", function(e) {
                            if (
                                13 === e.keyCode
                            ) return e.currentTarget.blur(),
                                e.preventDefault()
                        }),
                        google.maps.event.addListener(this.autocomplete, "place_changed", (
                            _this = this,
                            function() {
                                var bounds, country, country_code, latitude, longitude;
                                return _this.place = _this.autocomplete.getPlace(), Hs.search_type = "search_box", null != _this.place.types && "country" === _this.place.types[0] ? (country_code = _this.place.address_components[0].short_name, Hs.search_country_code = country_code) : Hs.search_country_code = null, null != _this.place && (_this.elements.searchType.attr("value", "search_box"), _this.elements.googlePlaceId.attr("value", _this.place.place_id), _this.resetBoundingBox()), null != _this.place && null != _this.place.address_components && (country = _this.findCountry(_this.place.address_components)), null != _this.place && null != _this.place.geometry && (latitude = _this.place.geometry.location.lat(), longitude = _this.place.geometry.location.lng(), bounds = _this.getBounds(_this.place.geometry), _this.setType(), _this.type && _this.elements.type.attr("value", _this.type), null != bounds && (_this.elements.radius.attr("value", bounds.radius), _this.setBoundingBox(bounds["ne-lat"], bounds["ne-lng"], bounds["sw-lat"], bounds["sw-lng"])), _this.elements.latitude.attr("value", latitude), _this.elements.longitude.attr("value", longitude), _this.elements.country.attr("value", country)), Hs.PubSub.publish("search::place_ready")
                            }));
                    var _this
                },
                Search.prototype.initializeSubmitButton = function() {
                    return this.elements.submitButton.click((
                        _this = this,
                        function(e) {
                            return _this.submit(e)
                        }));
                    var _this
                },
                Search.prototype.submit = function(e) {
                    if (
                        0 < this.elements.stage.length && "" !== this.elements.stage.val()
                    ) return !0;
                    if (
                        "google" === this.autocomplete_stategy) {
                        if (
                            null == this.autocomplete
                        ) return e.preventDefault(), !1;
                        if (
                            this.place = this.autocomplete.getPlace(),
                            $(".pac-container").is(":visible")
                        ) return e.preventDefault(), !1;
                        if (
                            null == this.place || null == this.place.geometry) {
                            if (
                                null == this.initial_value || "" === this.initial_value
                            ) return this.elements.location.focus(),
                                e.preventDefault(), !1;
                            if (
                                this.check_autocomplete_missmatch && this.initial_value !== this.elements.location.val()
                            ) return this.elements.location.focus(),
                                e.preventDefault(), !1
                        }
                    } else {
                        if (
                            $(".autocomplete-suggestions").is(":visible")
                        ) return e.preventDefault(), !1;
                        if ((
                                null == this.elements.locationId.val() || "" === this.elements.locationId.val()) && !this.boudingBoxSet()) return $(".autocomplete-suggestions").css("display", "block"),
                            $("html, body").animate({
                                    "scrollTop": 0
                                },
                                800),
                            e.preventDefault(), !1
                    }
                    return $("body").addClass("searching"),
                        this.elements.submitButton.prop("disabled", !0),
                        setTimeout((
                            _this = this,
                            function() {
                                return _this.form.submit()
                            }), 50);
                    var _this
                },
                Search.prototype.resetSearchButton = function() {
                    return $("body").removeClass("searching"),
                        this.elements.submitButton.prop("disabled", !1)
                },
                Search.prototype.getBounds = function(geometry) {
                    var bounds, distance, radius;
                    return bounds = {},
                        null != geometry.viewport ? (
                            distance = google.maps.geometry.spherical.computeDistanceBetween(geometry.viewport.getNorthEast(), geometry.viewport.getSouthWest()),
                            bounds["ne-lat"] = geometry.viewport.getNorthEast().lat(),
                            bounds["ne-lng"] = geometry.viewport.getNorthEast().lng(),
                            bounds["sw-lat"] = geometry.viewport.getSouthWest().lat(),
                            bounds["sw-lng"] = geometry.viewport.getSouthWest().lng()
                        ) : null != geometry.bounds && (
                            distance = google.maps.geometry.spherical.computeDistanceBetween(geometry.bounds.getNorthEast(), geometry.bounds.getSouthWest()),
                            bounds["ne-lat"] = geometry.bounds.getNorthEast().lat(),
                            bounds["ne-lng"] = geometry.bounds.getNorthEast().lng(),
                            bounds["sw-lat"] = geometry.bounds.getSouthWest().lat(),
                            bounds["sw-lng"] = geometry.bounds.getSouthWest().lng()),
                        null != distance ? (
                            radius = Math.floor(distance / 2)
                        ) < this.min_radius ? (
                            bounds["ne-lat"] = bounds["ne-lng"] = bounds["sw-lat"] = bounds["sw-lng"] = null,
                            bounds.radius = this.min_radius
                        ) : bounds.radius = radius : bounds.radius = this.min_radius,
                        bounds
                },
                Search.prototype.resetBoundingBox = function() {
                    return this.elements.neLat.attr("value", null),
                        this.elements.neLng.attr("value", null),
                        this.elements.swLat.attr("value", null),
                        this.elements.swLng.attr("value", null)
                },
                Search.prototype.setBoundingBox = function(ne_lat, ne_lng, sw_lat, sw_lng) {
                    return this.elements.neLat.attr("value", ne_lat),
                        this.elements.neLng.attr("value", ne_lng),
                        this.elements.swLat.attr("value", sw_lat),
                        this.elements.swLng.attr("value", sw_lng)
                },
                Search.prototype.boudingBoxSet = function() {
                    return null != this.elements.neLat.val() && null != this.elements.neLng.val() && null != this.elements.swLat.val() && null != this.elements.swLng.val()
                },
                Search.prototype.setType = function() {
                    if (
                        this.place.types && (
                            this.type = "",
                            $.inArray("country", this.place.types) && (
                                this.type = "country"),
                            $.inArray("locality", this.place.types) && (
                                this.type = "city"),
                            $.inArray("neighborhood", this.place.types) || $.inArray("sublocality", this.place.types) || $.inArray("sublocality_level_1", this.place.types) || $.inArray("sublocality_level_2", this.place.types) || $.inArray("sublocality_level_3", this.place.types) || $.inArray("sublocality_level_4", this.place.types) || $.inArray("sublocality_level_5", this.place.types))
                    ) return this.type = "suburb"
                },
                Search.prototype.findCountry = function(results) {
                    var result;
                    return (
                        result = results.filter(function(obj) {
                            return "country" === obj.types[0] && "political" === obj.types[1]
                        })
                    ) && result[0] ? result[0].short_name : null
                },
                Search
        }()
    }.call(
        this),
    function() {
        Hs.Select2 = function() {
            function Select2() {}
            return Select2.setupPhoneCountryCode = function(selector) {
                    return $(selector).select2({
                        "formatResult": this.formatCountry,
                        "formatSelection": this.formatSelectionCountry,
                        "escapeMarkup": function(
                            m) {
                            return m
                        },
                        "width": "130px",
                        "dropdownAutoWidth": !0
                    })
                },
                Select2.setupCountryCode = function(selector) {
                    return $(selector).select2({
                        "formatResult": this.formatCountry,
                        "formatSelection": this.formatCountry,
                        "escapeMarkup": function(
                            m) {
                            return m
                        }
                    })
                },
                Select2.formatCountry = function(country) {
                    return country.id ? '<span class="flag flag-' + country.id.toLowerCase() + '"></span>&nbsp;' + country.text : country.text
                },
                Select2.formatSelectionCountry = function(country) {
                    var country_code, ref, regex;
                    return country.id ? (
                        country_code = country.id.toLowerCase(),
                        regex = /.*\((\+\d+)\)/,
                        country = (ref = country.text.match(regex))[0],
                        '<span class="flag flag-' + country_code + '"></span>&nbsp;' + ref[1]) : country.text
                },
                Select2
        }()
    }.call(
        this),
    function() {
        Hs.Showcase = function() {
            function Showcase() {
                Hs.ImageLazyload.initialize(),
                    this.elements = {
                        "$body": $("body"),
                        "select2": "#category-quick-link",
                        "container": "#js-card-container"
                    },
                    this.endpoints = {
                        "inspiration": new Hs.Util.UrlBuilder("/inspiration").get()
                    },
                    this.setUpSelect2(),
                    $(this.elements.container).find(".host-card").length && (
                        this.paginationEvents(),
                        this.setupCardsContainer(),
                        this.setupHostIntroductionModal(),
                        new Hs.ScrollAction({
                            "target": "#more-cards > a",
                            "offset": 100,
                            "actionLimit": 1,
                            "action": function(
                                $elem) {
                                return $elem.trigger("click")
                            }
                        }),
                        new Hs.HomestayFavourites)
            }
            return Showcase.prototype.setupHostIntroductionModal = function() {
                    var getParams, introduce, key
                    ;
                    return introduce = -1 !== (getParams = window.location.search.replace("?", "").split("&")).indexOf("introduce=true"), !(!Hs.host_id && !introduce) && (
                        key = "showcase-introduction-modal-for-host-" + Hs.category_id + "-" + Hs.host_id, !introduce && Hs.Cookie.get(key) || (
                            Hs.Cookie.set(key, !0),
                            $("#host-introduction-modal").modal("show"), !introduce) ? void 0 : (
                            getParams.splice(getParams.indexOf("introduce=true"), 1),
                            history.replaceState({}, "", window.location.href.replace(window.location.search, "?" + getParams.join("&")))))
                },
                Showcase.prototype.paginationEvents = function() {
                    return $("#more-cards a[data-remote=true]").on("ajax:before", function() {
                        var $self;
                        if (!(
                                $self = $(this)
                            ).attr("ajax-loading")) return $self.attr("ajax-loading", !0).text($self.data("loading-title"))
                    }).on(
                        "ajax:complete",
                        function() {
                            return $(this).removeAttr("ajax-loading")
                        })
                },
                Showcase.prototype.setupCardsContainer = function() {
                    return new Hs.CardsContainer(this.elements.container),
                        new Hs.HostCardCTA(".host-card.alt-with-cta"),
                        this.elements.$body.on("click touchstart", ".host-card a", (
                            _this = this,
                            function(evt) {
                                var $parent;
                                if ($parent = $(evt.target).closest(".host-card"), Hs.GTM.trackCustomEvent($parent.data("js-gtm-action"), $parent.data("js-gtm-label")), _this.elements.$body.hasClass("touch-enabled") && !$parent.hasClass("hovered")) return evt.preventDefault(), $(".host-card.hovered").removeClass("hovered"), $parent.addClass("hovered")
                            }));
                    var _this
                },
                Showcase.prototype.setUpSelect2 = function() {
                    var _this;
                    if ($(this.elements.select2).length) return $(this.elements.select2).select2({
                            "initSelection": function(element, callback) {
                                var data;
                                return callback({
                                    "id": (data = $(element).data()).id,
                                    "text": data.text
                                })
                            },
                            "ajax": {
                                "url": this.endpoints.inspiration,
                                "cache": !0,
                                "data": function(term, page) {
                                    return {
                                        "permalink": term,
                                        "page": page,
                                        "output_format": "select2"
                                    }
                                },
                                "results": function(data, page) {
                                    return {
                                        "results": data.data.map(function(item) {
                                            return {
                                                "id": item.permalink,
                                                "text": item.title || item.permalink
                                            }
                                        }),
                                        "more": 12 * page < data.total_count
                                    }
                                }
                            }
                        }).on("change", (
                            _this = this,
                            function(evt) {
                                var permalink;
                                return permalink = evt.val, window.location = _this.endpoints.inspiration + "/" + permalink
                            })),
                        $(this.elements.select2).data("select2").dropdown.addClass("showcase-category-search")
                },
                Showcase
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.Signup = function() {
            function Signup(form, message) {
                this.form = form,
                    this.message = null != message ? message : I18n.t("home.signup.thank_you"),
                    this.form = $(this.form),
                    this.installHandler()
            }
            return Signup.prototype.installHandler = function() {
                    return this.form.submit((
                        _this = this,
                        function(e) {
                            return e.preventDefault(), $.ajax({
                                "type": "POST",
                                "url": _this.form.attr("action"),
                                "data": _this.form.serializeArray(),
                                "success": function() {
                                    return $(".message", _this.form).text(_this.message), $("input", _this.form).hide()
                                }
                            }), !1
                        }));
                    var _this
                },
                Signup
        }(), (
            $ = jQuery
        ).fn.extend({
            "signup": function() {
                return this.each(function() {
                    return new Hs.Signup(this)
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.SimilarHomestays = function() {
            function SimilarHomestays(parent) {
                this.parent = parent,
                    this.available = bind(this.available, this),
                    this.hide = bind(this.hide, this),
                    this.search = bind(this.search, this),
                    this.parent.length
            }
            return SimilarHomestays.prototype.search = function(startDate, endDate, totalNumberOfGuests) {
                    var params,
                        _this;
                    if (Hs.homestay_similar_url) return params = {}, startDate && (params.check_in = this.dateToYMD(startDate)), endDate && (params.check_out = this.dateToYMD(endDate)), totalNumberOfGuests && (params.guests = totalNumberOfGuests), $.get(Hs.homestay_similar_url, params).done((
                        _this = this,
                        function(homestays) {
                            return "" !== homestays ? (_this.parent.find("h4").text(I18n.t("misc.available_homestays")), _this.parent.find(".homestay-card-list").html(homestays), _this.parent.removeClass("hidden"), Hs.ImageLazyload.initialize(), Hs.CurrencyLocaliser.get().updateCurrencies(), new Hs.HomestayCardCarousel(_this.parent)) : _this.parent.addClass("hidden").find(".homestay-card-list").html(""), Hs.PubSub.publish("similarHomestays::results", "" !== homestays)
                        }))
                },
                SimilarHomestays.prototype.hide = function() {
                    return this.parent.addClass("hidden")
                },
                SimilarHomestays.prototype.available = function() {
                    if (!0 !== Hs.bookingRequestClosed) return this.hide()
                },
                SimilarHomestays.prototype.dateToYMD = function(date) {
                    return date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate()
                },
                SimilarHomestays
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.SiteNotifications = function() {
            function SiteNotifications() {}
            var SiteNotifications, instance
            ;
            return instance = null, (
                    SiteNotifications = function() {
                        function SiteNotifications() {
                            this.enableAutoHide = bind(this.enableAutoHide, this),
                                this.disableAutoHide = bind(this.disableAutoHide, this),
                                this.installTimeout = bind(this.installTimeout, this),
                                this.tripSuggestion = bind(this.tripSuggestion, this),
                                this.verificationIdentity = bind(this.verificationIdentity, this),
                                this.requestBooked = bind(this.requestBooked, this),
                                this.newRequest = bind(this.newRequest, this),
                                this.requestPriceNegotiated = bind(this.requestPriceNegotiated, this),
                                this.requestDetailsChanged = bind(this.requestDetailsChanged, this),
                                this.requestDeclined = bind(this.requestDeclined, this),
                                this.requestAccepted = bind(this.requestAccepted, this),
                                this.requestMessage = bind(this.requestMessage, this),
                                this.shouldHandleMessage = bind(this.shouldHandleMessage, this),
                                this.addMuteRule = bind(this.addMuteRule, this),
                                this.installContainer = bind(this.installContainer, this),
                                this.defaultMuteRules = bind(this.defaultMuteRules, this),
                                this.installContainer(),
                                this.subscribeToEvents(),
                                this.notificationStore = [],
                                this.mute_rules = [],
                                this.defaultMuteRules(),
                                this.autoTimeoutQueue = [],
                                new Hs.VideoNotifications(this),
                                this.notification_sound = new Hs.Sound(this.NOTIFICATION_SOUND_URL)
                        }
                        return SiteNotifications.prototype.NOTIFICATION_SOUND_URL = "/assets/alerts/brief-6b4571007a6d5fcd30d0eaab8f6ec07065332ab1e78d66f3e08c850ea86c52ed.mp3", SiteNotifications.prototype.NOTIFICATION_LIMIT = Hs.mobile_device ? 3 : 15,
                            SiteNotifications.prototype.defaultMuteRules = function() {
                                if (
                                    Hs.current_user_id
                                ) return this.addMuteRule("from_id", parseInt(Hs.current_user_id, 10))
                            },
                            SiteNotifications.prototype.installContainer = function() {
                                return $("body").append(Hs.Templates["notifications/container"]()),
                                    this.container = $("#site_notifications")
                            },
                            SiteNotifications.prototype.addMuteRule = function(parameter_key, value) {
                                return this.mute_rules.push({
                                    "key": parameter_key,
                                    "value": value
                                })
                            },
                            SiteNotifications.prototype.shouldHandleMessage = function(params) {
                                var i, len, ref, rule;
                                for (
                                    i = 0, len = (ref = this.mute_rules).length; i < len; i++)
                                    if (
                                        params[(rule = ref[i]).key] && params[rule.key] === rule.value
                                    ) return !1
                                    ;
                                return !0
                            },
                            SiteNotifications.prototype.subscribeToEvents = function() {
                                return Hs.PubSub.subscribe("pubnub::bookingRequest::newMessage", this.requestMessage),
                                    Hs.PubSub.subscribe("pubnub::bookingRequest::newRequest", this.newRequest),
                                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::booked", this.requestBooked),
                                    Hs.PubSub.subscribe("pubnub::bookingRequest::state::accepted", this.requestAccepted),
                                    Hs.PubSub.subscribe("pubnub::bookingRequest::state::declined", this.requestDeclined),
                                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::details_changed", this.requestDetailsChanged),
                                    Hs.PubSub.subscribe("pubnub::bookingRequest::event::price_negotiated", this.requestPriceNegotiated),
                                    Hs.PubSub.subscribe("pubnub::presence::inactive", this.disableAutoHide),
                                    Hs.PubSub.subscribe("pubnub::presence::active", this.enableAutoHide),
                                    Hs.PubSub.subscribe("pubnub::verifications::identity", this.verificationIdentity),
                                    Hs.PubSub.subscribe("pubnub::tripSuggestion::newSuggestion", this.tripSuggestion)
                            },
                            SiteNotifications.prototype.requestMessage = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/new_message", params)
                            },
                            SiteNotifications.prototype.requestAccepted = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/request_accepted", params)
                            },
                            SiteNotifications.prototype.requestDeclined = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/request_declined", params)
                            },
                            SiteNotifications.prototype.requestDetailsChanged = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/details_changed", params)
                            },
                            SiteNotifications.prototype.requestPriceNegotiated = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/price_negotiated", params)
                            },
                            SiteNotifications.prototype.newRequest = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/new_request", params)
                            },
                            SiteNotifications.prototype.requestBooked = function(params) {
                                if (
                                    this.shouldHandleMessage(params)
                                ) return this.createNotification("notifications/booked", params)
                            },
                            SiteNotifications.prototype.verificationIdentity = function(params) {
                                var template;
                                if (
                                    this.shouldHandleMessage(params)
                                ) return template = !0 === params.verified ? "notifications/verification_identity_verified" : "notifications/verification_identity_failed",
                                    this.createNotification(template, params)
                            },
                            SiteNotifications.prototype.tripSuggestion = function(params) {
                                var base,
                                    _this;
                                if (this.shouldHandleMessage(params) && Hs.TripSuggestions.shouldDisplaySuggestions()) return params.callbacks || (params.callbacks = {}), (base = params.callbacks).on_dismiss || (base.on_dismiss = function() {
                                    return $.post("/trip_suggestions/" + params.id + "/dismiss")
                                }), setTimeout((
                                    _this = this,
                                    function() {
                                        return _this.createNotification("notifications/trip_suggestion", params, 0), Hs.GTM.trackCustomEvent("Trip suggestion", "Displayed trip suggestion with id " + params.id)
                                    }), 15e3)
                            },
                            SiteNotifications.prototype.createNotification = function(template_name, params, timeout, sound_notification) {
                                var $el;
                                return null == timeout && (
                                        timeout = 1e4),
                                    $el = null,
                                    this.notificationStore.length < this.NOTIFICATION_LIMIT && (
                                        $el = this.createNotificationPopup.apply(this, arguments)),
                                    this.notificationStore.push($.extend(arguments, {
                                        "element": $el
                                    })),
                                    $el
                            },
                            SiteNotifications.prototype.createNotificationPopup = function(template_name, params, timeout, sound_notification) {
                                var $el, event_el, on_dismiss_callback, popovers,
                                    _this;
                                return null == timeout && (timeout = 1e4), null == sound_notification && (sound_notification = !0), params.from && !params.from.avatar && (params.from.avatar = window.Hs.placeholders.user), params.callbacks && (on_dismiss_callback = params.callbacks.on_dismiss), event_el = Hs.Templates[template_name](params), popovers = ($el = $("<li>").html(event_el).hide()).find('[data-toggle="popover"]'), $.each(popovers, function(_, popover) {
                                        return $(popover).popover({
                                            "trigger": "hover",
                                            "placement": "left",
                                            "container": $(popover)
                                        })
                                    }), this.container.append($el), sound_notification && this.notification_sound.play(), $.titleAlert(I18n.t("site_notifications.common.tab_alert")), $el.slideDown("fast"), timeout && this.installTimeout($el, timeout), $el.find(".dismiss-btn").click((
                                        _this = this,
                                        function(e) {
                                            if (_this.dismissElement($el), "function" == typeof on_dismiss_callback) return on_dismiss_callback(e.target)
                                        })),
                                    $el
                            },
                            SiteNotifications.prototype.installTimeout = function(el, timeout) {
                                var callback, triggers_callback,
                                    _this
                                ;
                                return _this = this, callback = function() {
                                        return _this.dismissElement(el)
                                    },
                                    el.mouseenter(function(ev) {
                                        if (
                                            Hs.log("Notification hovered"), (
                                                el = $(ev.currentTarget)
                                            ).data("timer")
                                        ) return Hs.log("Clearing timeout"),
                                            clearTimeout(el.data("timer")),
                                            el.removeData("timer")
                                    }),
                                    triggers_callback = function() {
                                        if (
                                            el.mouseleave(function(ev) {
                                                if (
                                                    Hs.log("Mouse leaving notification"),
                                                    el = $(ev.currentTarget),
                                                    Hs.log("Setting timeout"), !el.data("timer")
                                                ) return el.data("timer", setTimeout(callback, timeout))
                                            }),
                                            !el.is(":hover")
                                        ) return Hs.log("Setting timeout"),
                                            el.data("timer", setTimeout(callback, timeout))
                                    },
                                    this.auto_hide ? (
                                        Hs.log("Apply hide callbacks"),
                                        triggers_callback()) : (
                                        Hs.log("Queuing triggers"),
                                        this.autoTimeoutQueue.push(triggers_callback))
                            },
                            SiteNotifications.prototype.dismissElement = function(el) {
                                var i, index, item, len, ref;
                                if (
                                    this.notificationStore = this.notificationStore.filter(function(item) {
                                        return !$(item.element).is(el)
                                    }),
                                    this.container.find("li:visible").length <= this.NOTIFICATION_LIMIT)
                                    for (
                                        index = i = 0, len = (ref = this.notificationStore).length; i < len; index = ++i)
                                        if (!(
                                                item = ref[index]
                                            ).element) {
                                            item.element = this.createNotificationPopup.apply(this, item);
                                            break
                                        }
                                return el.slideUp("fast", function() {
                                    return $(this).remove()
                                })
                            },
                            SiteNotifications.prototype.disableAutoHide = function() {
                                return this.auto_hide = !1
                            },
                            SiteNotifications.prototype.enableAutoHide = function() {
                                var callback, i, len, ref, results;
                                for (
                                    this.auto_hide = !0,
                                    results = [],
                                    i = 0, len = (ref = this.autoTimeoutQueue).length; i < len; i++
                                ) callback = ref[i],
                                    results.push(callback())
                                ;
                                return results
                            },
                            SiteNotifications
                    }()
                ).get = function() {
                    return null != instance ? instance : instance = new SiteNotifications
                },
                SiteNotifications
        }()
    }.call(
        this),
    function() {
        Hs.HeroSlider = function() {
            function HeroSlider() {
                var removeFakeSlide, slider;
                return removeFakeSlide = function() {
                        return setTimeout(function() {
                            var $hero_slider_fake;
                            return ($hero_slider_fake = $("#hero_slider_fake")).addClass("tohide"), setTimeout(function() {
                                return $hero_slider_fake.addClass("toremove")
                            }, 500)
                        }, 1e3)
                    },
                    slider = new Hs.Slider({
                        "sliderId": "hero_slider",
                        "effect": "fade",
                        "autoAdvance": !0,
                        "pauseOnHover": !0,
                        "pauseTime": 4e3,
                        "speed": 1500,
                        "startSlide": 0,
                        "aspectRatio": "12:5.5",
                        "circular": !0,
                        "touchCircular": !0,
                        "mobileNav": !0,
                        "before": null,
                        "after": null
                    }),
                    $(window).load(removeFakeSlide),
                    slider
            }
            return HeroSlider
        }()
    }.call(
        this),
    function() {
        Hs.HomestayProfileSlider = function() {
            function HomestayProfileSlider() {
                var evt, options, slider, slider_timeout;
                options = {
                        "sliderId": "ninja-slider",
                        "effect": "fade",
                        "pauseTime": 9999999,
                        "speed": 300,
                        "startSlide": 0,
                        "aspectRatio": "auto",
                        "circular": !0,
                        "touchCircular": !0,
                        "before": null,
                        "after": null
                    },
                    slider_timeout = null,
                    slider = new Hs.Slider(options),
                    $(window).resize(function() {
                        return clearTimeout(slider_timeout), !$(slider.getElement()).is(":visible") || (
                            slider_timeout = setTimeout(function() {
                                    var $element, current_slide;
                                    return (
                                            $element = $(slider.getElement())
                                        ).addClass("no-transition"),
                                        current_slide = slider.getPos(),
                                        slider.reload(),
                                        slider.slide(current_slide),
                                        setTimeout(function() {
                                                return $element.removeClass("no-transition")
                                            },
                                            50)
                                },
                                1e3))
                    }), (
                        evt = document.createEvent("Event")
                    ).initEvent("ninjaSliderLoad", !1, !1),
                    window.dispatchEvent(evt)
            }
            return HomestayProfileSlider
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.MosaicSlider = function() {
            function MosaicSlider() {
                return this.lastSlideGtmLabel = bind(this.lastSlideGtmLabel, this),
                    this.onClickSliderLink = bind(this.onClickSliderLink, this),
                    this.onClickPrevOrNext = bind(this.onClickPrevOrNext, this),
                    this.fadeInSlideText = bind(this.fadeInSlideText, this),
                    this.fadeSlideText = bind(this.fadeSlideText, this),
                    this.onMosaicScollIntoView = bind(this.onMosaicScollIntoView, this),
                    this.window = $(window),
                    this.win_height_padded = .5 * this.window.height(),
                    this.slider = new Hs.Slider({
                        "sliderId": "mosaic_slider",
                        "effect": "slide",
                        "autoAdvance": !1,
                        "pauseOnHover": !0,
                        "pauseTime": 5e3,
                        "speed": 500,
                        "startSlide": 0,
                        "aspectRatio": "auto",
                        "circular": !0,
                        "touchCircular": !0,
                        "mobileNav": !0,
                        "before": this.fadeSlideText,
                        "after": this.fadeInSlideText
                    }),
                    this.installCallbacks(),
                    this.prevPos = 0,
                    this.slider
            }
            return MosaicSlider.prototype.installCallbacks = function() {
                    return Hs.mobile_device || this.onMosaicScollIntoView(),
                        this.onTouchMosaicItem(),
                        this.onClickMosaicItem(),
                        this.onClickCloseSlider(),
                        this.onClickVideoSlide(),
                        this.onClickPrevOrNext(),
                        this.onClickSliderLink()
                },
                MosaicSlider.prototype.onMosaicScollIntoView = function() {
                    var _this;
                    return this.window.on("scroll.scrollView", (
                            _this = this,
                            function() {
                                var offset_top, scroll_position;
                                if (scroll_position = _this.window.scrollTop(), offset_top = $("#mosaic").offset().top, scroll_position + _this.win_height_padded > offset_top) return $(".mosaic-item:first").addClass("taphover"), _this.window.off("scroll.scrollView")
                            })),
                        $("#mosaic").on("mouseenter.scrollView mouseleave.scrollView", ".mosaic-item", function() {
                            return $(".mosaic-item:first").removeClass("taphover"),
                                $("#mosaic").off(".scrollView")
                        })
                },
                MosaicSlider.prototype.onClickVideoSlide = function() {
                    return $(".mosaic-slide").on("click", "a.video", function() {
                        return $("#mosaic_slider_wrapper .background-overlay").addClass("fade")
                    })
                },
                MosaicSlider.prototype.onTouchMosaicItem = function() {
                    return $(".mosaic-item").on("touchend", function(e) {
                        var link;
                        return !!$(e.target).hasClass("mosaic-button") || (!!(
                            link = $(this).hasClass("mosaic-item") ? $(this
                            ) : $(e.target).parents(".mosaic-item")
                        ).hasClass("hover") || (
                            $(".mosaic-item").removeClass("hover"),
                            link.addClass("hover"), !1))
                    })
                },
                MosaicSlider.prototype.onClickMosaicItem = function() {
                    return $(".mosaic-item").click((
                        _this = this,
                        function(e) {
                            var gtm_label;
                            if ($("#mosaic_slider_wrapper").is(":visible")) return _this.slider.slide($(e.target).parents(".mosaic-item").data("slide-index")), $("#mosaic_slider_wrapper").animate({
                                "opacity": 1
                            }, 1e3, function() {
                                return $("#mosaic_slider_position").addClass("position-inherit")
                            }), $("#mosaic").animate({
                                "opacity": 0
                            }, 1e3, function() {
                                return $("#mosaic").addClass("hide")
                            }), gtm_label = $(e.target).parents(".mosaic-item").data("gtm-label"), Hs.GTM.trackCustomEvent("Homepage", "Click " + gtm_label)
                        }));
                    var _this
                },
                MosaicSlider.prototype.onClickCloseSlider = function() {
                    return $("#close_mosaic_slider").click((
                        _this = this,
                        function() {
                            return $("#mosaic_slider_position").removeClass("position-inherit"), $("#mosaic").removeClass("hide"), $(".mosaic-item").removeClass("hover"), $("#mosaic_slider_wrapper").animate({
                                "opacity": 0
                            }, 1e3), $("#mosaic").animate({
                                "opacity": 1
                            }, 1e3, function() {
                                var current_slide_elm, current_slide_pos;
                                if (current_slide_pos = _this.slider.getPos(), current_slide_elm = _this.slider.getSlides()[current_slide_pos], $(current_slide_elm).find("a.video")) return _this.slider.slide(current_slide_pos + 1)
                            })
                        }));
                    var _this
                },
                MosaicSlider.prototype.fadeSlideText = function() {
                    $("#mosaic_slider_wrapper .background-overlay").removeClass("fade"),
                        $("#mosaic_slider_wrapper .slide-content-wrapper").removeClass("opaque")
                },
                MosaicSlider.prototype.fadeInSlideText = function(index) {
                    this.prevPos = index,
                        $("#mosaic_slider_wrapper .slide-content-wrapper").removeClass("active"),
                        $("#mosaic_slider_wrapper .slide-content-wrapper").eq(index).addClass("opaque active")
                },
                MosaicSlider.prototype.onClickPrevOrNext = function() {
                    var _this;
                    return $(".home.index").on("click", "#mosaic_slider-next", (
                            _this = this,
                            function() {
                                return Hs.GTM.trackCustomEvent("Homepage", "Click next arrow on " + _this.lastSlideGtmLabel())
                            })),
                        $(".home.index").on("click", "#mosaic_slider-prev", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("Homepage", "Click prev arrow on " + _this.lastSlideGtmLabel())
                            }
                        }(
                            this))
                },
                MosaicSlider.prototype.onClickSliderLink = function() {
                    return $(".home.index").on("click", "#mosaic_slider_wrapper .slide-content-wrapper a", (
                        _this = this,
                        function() {
                            return Hs.GTM.trackCustomEvent("Homepage", "Click link inside " + _this.lastSlideGtmLabel())
                        }));
                    var _this
                },
                MosaicSlider.prototype.lastSlideGtmLabel = function() {
                    return $("#mosaic_slider_wrapper .slide-content-wrapper").eq(this.prevPos).data("gtm-label")
                },
                MosaicSlider
        }()
    }.call(
        this),
    function(
        factory) {
        "use strict"
        ;
        "function" == typeof define && define.amd ? define(["jquery"], factory
        ) : "undefined" != typeof exports ? module.exports = factory(require("jquery")
        ) : factory(jQuery)
    }(function(
        $) {
        "use strict";
        var Slick = window.Slick || {};
        (
            Slick = function() {
                function Slick(element, settings) {
                    var dataSettings, _ = this
                    ;
                    _.defaults = {
                            "accessibility": !0,
                            "adaptiveHeight": !1,
                            "appendArrows": $(element),
                            "appendDots": $(element),
                            "arrows": !0,
                            "asNavFor": null,
                            "prevArrow": '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                            "nextArrow": '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                            "autoplay": !1,
                            "autoplaySpeed": 3e3,
                            "centerMode": !1,
                            "centerPadding": "50px",
                            "cssEase": "ease",
                            "customPaging": function(
                                slider, i) {
                                return $('<button type="button" data-role="none" role="button" tabindex="0" />').text(i + 1)
                            },
                            "dots": !1,
                            "dotsClass": "slick-dots",
                            "draggable": !0,
                            "easing": "linear",
                            "edgeFriction": .35,
                            "fade": !1,
                            "focusOnSelect": !1,
                            "infinite": !0,
                            "initialSlide": 0,
                            "lazyLoad": "ondemand",
                            "mobileFirst": !1,
                            "pauseOnHover": !0,
                            "pauseOnFocus": !0,
                            "pauseOnDotsHover": !1,
                            "respondTo": "window",
                            "responsive": null,
                            "rows": 1,
                            "rtl": !1,
                            "slide": "",
                            "slidesPerRow": 1,
                            "slidesToShow": 1,
                            "slidesToScroll": 1,
                            "speed": 500,
                            "swipe": !0,
                            "swipeToSlide": !1,
                            "touchMove": !0,
                            "touchThreshold": 5,
                            "useCSS": !0,
                            "useTransform": !0,
                            "variableWidth": !1,
                            "vertical": !1,
                            "verticalSwiping": !1,
                            "waitForAnimate": !0,
                            "zIndex": 1e3
                        },
                        _.initials = {
                            "animating": !1,
                            "dragging": !1,
                            "autoPlayTimer": null,
                            "currentDirection": 0,
                            "currentLeft": null,
                            "currentSlide": 0,
                            "direction": 1,
                            "$dots": null,
                            "listWidth": null,
                            "listHeight": null,
                            "loadIndex": 0,
                            "$nextArrow": null,
                            "$prevArrow": null,
                            "slideCount": null,
                            "slideWidth": null,
                            "$slideTrack": null,
                            "$slides": null,
                            "sliding": !1,
                            "slideOffset": 0,
                            "swipeLeft": null,
                            "$list": null,
                            "touchObject": {},
                            "transformsEnabled": !1,
                            "unslicked": !1
                        },
                        $.extend(_, _.initials),
                        _.activeBreakpoint = null,
                        _.animType = null,
                        _.animProp = null,
                        _.breakpoints = [],
                        _.breakpointSettings = [],
                        _.cssTransitions = !1,
                        _.focussed = !1,
                        _.interrupted = !1,
                        _.hidden = "hidden",
                        _.paused = !0,
                        _.positionProp = null,
                        _.respondTo = null,
                        _.rowCount = 1,
                        _.shouldClick = !0,
                        _.$slider = $(element),
                        _.$slidesCache = null,
                        _.transformType = null,
                        _.transitionType = null,
                        _.visibilityChange = "visibilitychange",
                        _.windowWidth = 0,
                        _.windowTimer = null,
                        dataSettings = $(element).data("slick") || {},
                        _.options = $.extend({}, _.defaults, settings, dataSettings),
                        _.currentSlide = _.options.initialSlide,
                        _.originalSettings = _.options,
                        "undefined" != typeof document.mozHidden ? (
                            _.hidden = "mozHidden",
                            _.visibilityChange = "mozvisibilitychange"
                        ) : "undefined" != typeof document.webkitHidden && (
                            _.hidden = "webkitHidden",
                            _.visibilityChange = "webkitvisibilitychange"),
                        _.autoPlay = $.proxy(_.autoPlay, _),
                        _.autoPlayClear = $.proxy(_.autoPlayClear, _),
                        _.autoPlayIterator = $.proxy(_.autoPlayIterator, _),
                        _.changeSlide = $.proxy(_.changeSlide, _),
                        _.clickHandler = $.proxy(_.clickHandler, _),
                        _.selectHandler = $.proxy(_.selectHandler, _),
                        _.setPosition = $.proxy(_.setPosition, _),
                        _.swipeHandler = $.proxy(_.swipeHandler, _),
                        _.dragHandler = $.proxy(_.dragHandler, _),
                        _.keyHandler = $.proxy(_.keyHandler, _),
                        _.instanceUid = instanceUid++,
                        _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/,
                        _.registerBreakpoints(),
                        _.init(!0)
                }
                var instanceUid = 0
                ;
                return Slick
            }()
        ).prototype.activateADA = function() {
                this.$slideTrack.find(".slick-active").attr({
                    "aria-hidden": "false"
                }).find(
                    "a, input, button, select").attr({
                    "tabindex": "0"
                })
            },
            Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {
                var _ = this;
                if (
                    "boolean" == typeof index
                ) addBefore = index,
                    index = null;
                else if (
                    index < 0 || index >= _.slideCount
                ) return !1
                ;
                _.unload(),
                    "number" == typeof index ? 0 === index && 0 === _.$slides.length ? $(markup).appendTo(_.$slideTrack
                    ) : addBefore ? $(markup).insertBefore(_.$slides.eq(index)
                    ) : $(markup).insertAfter(_.$slides.eq(index)
                    ) : !0 === addBefore ? $(markup).prependTo(_.$slideTrack
                    ) : $(markup).appendTo(_.$slideTrack),
                    _.$slides = _.$slideTrack.children(this.options.slide),
                    _.$slideTrack.children(this.options.slide).detach(),
                    _.$slideTrack.append(_.$slides),
                    _.$slides.each(function(index, element) {
                        $(element).attr("data-slick-index", index)
                    }),
                    _.$slidesCache = _.$slides,
                    _.reinit()
            },
            Slick.prototype.animateHeight = function() {
                var _ = this;
                if (
                    1 === _.options.slidesToShow && !0 === _.options.adaptiveHeight && !1 === _.options.vertical) {
                    var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(!0);
                    _.$list.animate({
                            "height": targetHeight
                        },
                        _.options.speed)
                }
            },
            Slick.prototype.animateSlide = function(targetLeft, callback) {
                var animProps = {},
                    _ = this
                ;
                _.animateHeight(),
                    !0 === _.options.rtl && !1 === _.options.vertical && (
                        targetLeft = -targetLeft),
                    !1 === _.transformsEnabled ? !1 === _.options.vertical ? _.$slideTrack.animate({
                            "left": targetLeft
                        },
                        _.options.speed, _.options.easing, callback
                    ) : _.$slideTrack.animate({
                            "top": targetLeft
                        },
                        _.options.speed, _.options.easing, callback
                    ) : !1 === _.cssTransitions ? (!0 === _.options.rtl && (
                            _.currentLeft = -_.currentLeft),
                        $({
                            "animStart": _.currentLeft
                        }).animate({
                            "animStart": targetLeft
                        }, {
                            "duration": _.options.speed,
                            "easing": _.options.easing,
                            "step": function(
                                now) {
                                now = Math.ceil(now),
                                    !1 === _.options.vertical ? animProps[_.animType] = "translate(" + now + "px, 0px)" : animProps[_.animType] = "translate(0px," + now + "px)", _.$slideTrack.css(animProps)
                            },
                            "complete": function() {
                                callback && callback.call()
                            }
                        })) : (
                        _.applyTransition(),
                        targetLeft = Math.ceil(targetLeft),
                        !1 === _.options.vertical ? animProps[_.animType] = "translate3d(" + targetLeft + "px, 0px, 0px)" : animProps[_.animType] = "translate3d(0px," + targetLeft + "px, 0px)",
                        _.$slideTrack.css(animProps),
                        callback && setTimeout(function() {
                                _.disableTransition(),
                                    callback.call()
                            },
                            _.options.speed))
            },
            Slick.prototype.getNavTarget = function() {
                var _ = this,
                    asNavFor = _.options.asNavFor
                ;
                return asNavFor && null !== asNavFor && (
                        asNavFor = $(asNavFor).not(_.$slider)),
                    asNavFor
            },
            Slick.prototype.asNavFor = function(index) {
                var asNavFor = this.getNavTarget()
                ;
                null !== asNavFor && "object" == typeof asNavFor && asNavFor.each(function() {
                    var target = $(this).slick("getSlick")
                    ;
                    target.unslicked || target.slideHandler(index, !0)
                })
            },
            Slick.prototype.applyTransition = function(slide) {
                var _ = this,
                    transition = {}
                ;
                !1 === _.options.fade ? transition[_.transitionType] = _.transformType + " " + _.options.speed + "ms " + _.options.cssEase : transition[_.transitionType] = "opacity " + _.options.speed + "ms " + _.options.cssEase,
                    !1 === _.options.fade ? _.$slideTrack.css(transition
                    ) : _.$slides.eq(slide).css(transition)
            },
            Slick.prototype.autoPlay = function() {
                var _ = this
                ;
                _.autoPlayClear(),
                    _.slideCount > _.options.slidesToShow && (
                        _.autoPlayTimer = setInterval(_.autoPlayIterator, _.options.autoplaySpeed))
            },
            Slick.prototype.autoPlayClear = function() {
                var _ = this
                ;
                _.autoPlayTimer && clearInterval(_.autoPlayTimer)
            },
            Slick.prototype.autoPlayIterator = function() {
                var _ = this,
                    slideTo = _.currentSlide + _.options.slidesToScroll
                ;
                _.paused || _.interrupted || _.focussed || (
                    !1 === _.options.infinite && (
                        1 === _.direction && _.currentSlide + 1 === _.slideCount - 1 ? _.direction = 0 : 0 === _.direction && (
                            slideTo = _.currentSlide - _.options.slidesToScroll,
                            _.currentSlide - 1 == 0 && (
                                _.direction = 1))),
                    _.slideHandler(slideTo))
            },
            Slick.prototype.buildArrows = function() {
                var _ = this
                ;
                !0 === _.options.arrows && (
                    _.$prevArrow = $(_.options.prevArrow).addClass("slick-arrow"),
                    _.$nextArrow = $(_.options.nextArrow).addClass("slick-arrow"),
                    _.slideCount > _.options.slidesToShow ? (
                        _.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
                        _.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
                        _.htmlExpr.test(_.options.prevArrow) && _.$prevArrow.prependTo(_.options.appendArrows),
                        _.htmlExpr.test(_.options.nextArrow) && _.$nextArrow.appendTo(_.options.appendArrows),
                        !0 !== _.options.infinite && _.$prevArrow.addClass(
                            "slick-disabled").attr(
                            "aria-disabled", "true")
                    ) : _.$prevArrow.add(_.$nextArrow).addClass(
                        "slick-hidden").attr({
                        "aria-disabled": "true",
                        "tabindex": "-1"
                    }))
            },
            Slick.prototype.buildDots = function() {
                var i, dot, _ = this;
                if (
                    !0 === _.options.dots && _.slideCount > _.options.slidesToShow) {
                    for (
                        _.$slider.addClass("slick-dotted"),
                        dot = $("<ul />").addClass(_.options.dotsClass),
                        i = 0; i <= _.getDotCount(); i += 1
                    ) dot.append($("<li />").append(_.options.customPaging.call(this, _, i)))
                    ;
                    _.$dots = dot.appendTo(_.options.appendDots),
                        _.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false")
                }
            },
            Slick.prototype.buildOut = function() {
                var _ = this
                ;
                _.$slides = _.$slider.children(
                        _.options.slide + ":not(.slick-cloned)").addClass(
                        "slick-slide"),
                    _.slideCount = _.$slides.length,
                    _.$slides.each(function(index, element) {
                        $(element).attr(
                            "data-slick-index", index).data(
                            "originalStyling", $(element).attr("style") || "")
                    }),
                    _.$slider.addClass("slick-slider"),
                    _.$slideTrack = 0 === _.slideCount ? $('<div class="slick-track"/>').appendTo(_.$slider) : _.$slides.wrapAll('<div class="slick-track"/>').parent(),
                    _.$list = _.$slideTrack.wrap(
                        '<div aria-live="polite" class="slick-list"/>').parent(),
                    _.$slideTrack.css("opacity", 0),
                    !0 !== _.options.centerMode && !0 !== _.options.swipeToSlide || (
                        _.options.slidesToScroll = 1),
                    $("img[data-lazy]", _.$slider).not("[src]").addClass("slick-loading"),
                    _.setupInfinite(),
                    _.buildArrows(),
                    _.buildDots(),
                    _.updateDots(),
                    _.setSlideClasses("number" == typeof _.currentSlide ? _.currentSlide : 0),
                    !0 === _.options.draggable && _.$list.addClass("draggable")
            },
            Slick.prototype.buildRows = function() {
                var a, b, c, newSlides, numOfSlides, originalSlides, slidesPerSection, _ = this;
                if (
                    newSlides = document.createDocumentFragment(),
                    originalSlides = _.$slider.children(),
                    1 < _.options.rows) {
                    for (
                        slidesPerSection = _.options.slidesPerRow * _.options.rows,
                        numOfSlides = Math.ceil(
                            originalSlides.length / slidesPerSection),
                        a = 0; a < numOfSlides; a++) {
                        var slide = document.createElement("div");
                        for (
                            b = 0; b < _.options.rows; b++) {
                            var row = document.createElement("div");
                            for (
                                c = 0; c < _.options.slidesPerRow; c++) {
                                var target = a * slidesPerSection + (b * _.options.slidesPerRow + c);
                                originalSlides.get(target) && row.appendChild(originalSlides.get(target))
                            }
                            slide.appendChild(row)
                        }
                        newSlides.appendChild(slide)
                    }
                    _.$slider.empty().append(newSlides),
                        _.$slider.children().children().children().css({
                            "width": 100 / _.options.slidesPerRow + "%",
                            "display": "inline-block"
                        })
                }
            },
            Slick.prototype.checkResponsive = function(initial, forceUpdate) {
                var breakpoint, targetBreakpoint, respondToWidth, _ = this,
                    triggerBreakpoint = !1,
                    sliderWidth = _.$slider.width(),
                    windowWidth = window.innerWidth || $(window).width();
                if (
                    "window" === _.respondTo ? respondToWidth = windowWidth : "slider" === _.respondTo ? respondToWidth = sliderWidth : "min" === _.respondTo && (
                        respondToWidth = Math.min(windowWidth, sliderWidth)),
                    _.options.responsive && _.options.responsive.length && null !== _.options.responsive) {
                    for (
                        breakpoint in targetBreakpoint = null, _.breakpoints
                    ) _.breakpoints.hasOwnProperty(breakpoint) && (
                        !1 === _.originalSettings.mobileFirst ? respondToWidth < _.breakpoints[breakpoint] && (
                            targetBreakpoint = _.breakpoints[breakpoint]
                        ) : respondToWidth > _.breakpoints[breakpoint] && (
                            targetBreakpoint = _.breakpoints[breakpoint]))
                    ;
                    null !== targetBreakpoint ? null !== _.activeBreakpoint ? (
                            targetBreakpoint !== _.activeBreakpoint || forceUpdate) && (
                            _.activeBreakpoint = targetBreakpoint,
                            "unslick" === _.breakpointSettings[targetBreakpoint] ? _.unslick(targetBreakpoint) : (
                                _.options = $.extend({}, _.originalSettings,
                                    _.breakpointSettings[targetBreakpoint]), !0 === initial && (
                                    _.currentSlide = _.options.initialSlide),
                                _.refresh(initial)),
                            triggerBreakpoint = targetBreakpoint) : (
                            _.activeBreakpoint = targetBreakpoint,
                            "unslick" === _.breakpointSettings[targetBreakpoint] ? _.unslick(targetBreakpoint) : (
                                _.options = $.extend({}, _.originalSettings,
                                    _.breakpointSettings[targetBreakpoint]), !0 === initial && (
                                    _.currentSlide = _.options.initialSlide),
                                _.refresh(initial)),
                            triggerBreakpoint = targetBreakpoint
                        ) : null !== _.activeBreakpoint && (
                            _.activeBreakpoint = null,
                            _.options = _.originalSettings, !0 === initial && (
                                _.currentSlide = _.options.initialSlide),
                            _.refresh(initial),
                            triggerBreakpoint = targetBreakpoint),
                        initial || !1 === triggerBreakpoint || _.$slider.trigger("breakpoint", [_, triggerBreakpoint])
                }
            },
            Slick.prototype.changeSlide = function(event, dontAnimate) {
                var indexOffset, slideOffset, _ = this,
                    $target = $(event.currentTarget);
                switch (
                    $target.is("a") && event.preventDefault(),
                    $target.is("li") || (
                        $target = $target.closest("li")),
                    indexOffset = _.slideCount % _.options.slidesToScroll != 0 ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll,
                    event.data.message) {
                    case "previous":
                        slideOffset = 0 === indexOffset ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset,
                            _.slideCount > _.options.slidesToShow && _.slideHandler(_.currentSlide - slideOffset, !1, dontAnimate)
                        ;
                        break
                        ;
                    case "next":
                        slideOffset = 0 === indexOffset ? _.options.slidesToScroll : indexOffset,
                            _.slideCount > _.options.slidesToShow && _.slideHandler(_.currentSlide + slideOffset, !1, dontAnimate)
                        ;
                        break
                        ;
                    case "index":
                        var index = 0 === event.data.index ? 0 : event.data.index || $target.index() * _.options.slidesToScroll
                        ;
                        _.slideHandler(_.checkNavigable(index), !1, dontAnimate),
                            $target.children().trigger("focus");
                        break;
                    default:
                        return
                }
            },
            Slick.prototype.checkNavigable = function(index) {
                var navigables, prevNavigable;
                if (
                    prevNavigable = 0,
                    index > (navigables = this.getNavigableIndexes())[navigables.length - 1]
                ) index = navigables[navigables.length - 1];
                else
                    for (
                        var n in navigables) {
                        if (
                            index < navigables[n]) {
                            index = prevNavigable;
                            break
                        }
                        prevNavigable = navigables[n]
                    }
                return index
            },
            Slick.prototype.cleanUpEvents = function() {
                var _ = this
                ;
                _.options.dots && null !== _.$dots && $("li", _.$dots).off(
                        "click.slick", _.changeSlide).off(
                        "mouseenter.slick", $.proxy(_.interrupt, _, !0)).off(
                        "mouseleave.slick", $.proxy(_.interrupt, _, !1)),
                    _.$slider.off("focus.slick blur.slick"),
                    !0 === _.options.arrows && _.slideCount > _.options.slidesToShow && (
                        _.$prevArrow && _.$prevArrow.off("click.slick", _.changeSlide),
                        _.$nextArrow && _.$nextArrow.off("click.slick", _.changeSlide)),
                    _.$list.off("touchstart.slick mousedown.slick", _.swipeHandler),
                    _.$list.off("touchmove.slick mousemove.slick", _.swipeHandler),
                    _.$list.off("touchend.slick mouseup.slick", _.swipeHandler),
                    _.$list.off("touchcancel.slick mouseleave.slick", _.swipeHandler),
                    _.$list.off("click.slick", _.clickHandler),
                    $(document).off(_.visibilityChange, _.visibility),
                    _.cleanUpSlideEvents(),
                    !0 === _.options.accessibility && _.$list.off("keydown.slick", _.keyHandler),
                    !0 === _.options.focusOnSelect && $(_.$slideTrack).children().off("click.slick", _.selectHandler),
                    $(window).off("orientationchange.slick.slick-" + _.instanceUid, _.orientationChange),
                    $(window).off("resize.slick.slick-" + _.instanceUid, _.resize),
                    $("[draggable!=true]", _.$slideTrack).off("dragstart", _.preventDefault),
                    $(window).off("load.slick.slick-" + _.instanceUid, _.setPosition),
                    $(document).off("ready.slick.slick-" + _.instanceUid, _.setPosition)
            },
            Slick.prototype.cleanUpSlideEvents = function() {
                var _ = this
                ;
                _.$list.off("mouseenter.slick", $.proxy(_.interrupt, _, !0)),
                    _.$list.off("mouseleave.slick", $.proxy(_.interrupt, _, !1))
            },
            Slick.prototype.cleanUpRows = function() {
                var originalSlides, _ = this
                ;
                1 < _.options.rows && ((
                        originalSlides = _.$slides.children().children()
                    ).removeAttr("style"),
                    _.$slider.empty().append(originalSlides))
            },
            Slick.prototype.clickHandler = function(event) {
                !1 === this.shouldClick && (
                    event.stopImmediatePropagation(),
                    event.stopPropagation(),
                    event.preventDefault())
            },
            Slick.prototype.destroy = function(refresh) {
                var _ = this
                ;
                _.autoPlayClear(),
                    _.touchObject = {},
                    _.cleanUpEvents(),
                    $(".slick-cloned", _.$slider).detach(),
                    _.$dots && _.$dots.remove(),
                    _.$prevArrow && _.$prevArrow.length && (
                        _.$prevArrow.removeClass(
                            "slick-disabled slick-arrow slick-hidden").removeAttr(
                            "aria-hidden aria-disabled tabindex").css(
                            "display", ""),
                        _.htmlExpr.test(_.options.prevArrow) && _.$prevArrow.remove()),
                    _.$nextArrow && _.$nextArrow.length && (
                        _.$nextArrow.removeClass(
                            "slick-disabled slick-arrow slick-hidden").removeAttr(
                            "aria-hidden aria-disabled tabindex").css(
                            "display", ""),
                        _.htmlExpr.test(_.options.nextArrow) && _.$nextArrow.remove()),
                    _.$slides && (
                        _.$slides.removeClass(
                            "slick-slide slick-active slick-center slick-visible slick-current").removeAttr(
                            "aria-hidden").removeAttr(
                            "data-slick-index").each(function() {
                            $(this).attr("style", $(this).data("originalStyling"))
                        }),
                        _.$slideTrack.children(this.options.slide).detach(),
                        _.$slideTrack.detach(),
                        _.$list.detach(),
                        _.$slider.append(_.$slides)),
                    _.cleanUpRows(),
                    _.$slider.removeClass("slick-slider"),
                    _.$slider.removeClass("slick-initialized"),
                    _.$slider.removeClass("slick-dotted"),
                    _.unslicked = !0,
                    refresh || _.$slider.trigger("destroy", [_])
            },
            Slick.prototype.disableTransition = function(slide) {
                var _ = this,
                    transition = {}
                ;
                transition[_.transitionType] = "",
                    !1 === _.options.fade ? _.$slideTrack.css(transition
                    ) : _.$slides.eq(slide).css(transition)
            },
            Slick.prototype.fadeSlide = function(slideIndex, callback) {
                var _ = this
                ;
                !1 === _.cssTransitions ? (
                    _.$slides.eq(slideIndex).css({
                        "zIndex": _.options.zIndex
                    }),
                    _.$slides.eq(slideIndex).animate({
                            "opacity": 1
                        },
                        _.options.speed, _.options.easing, callback)) : (
                    _.applyTransition(slideIndex),
                    _.$slides.eq(slideIndex).css({
                        "opacity": 1,
                        "zIndex": _.options.zIndex
                    }),
                    callback && setTimeout(function() {
                            _.disableTransition(slideIndex),
                                callback.call()
                        },
                        _.options.speed))
            },
            Slick.prototype.fadeSlideOut = function(slideIndex) {
                var _ = this
                ;
                !1 === _.cssTransitions ? _.$slides.eq(slideIndex).animate({
                        "opacity": 0,
                        "zIndex": _.options.zIndex - 2
                    },
                    _.options.speed, _.options.easing) : (
                    _.applyTransition(slideIndex),
                    _.$slides.eq(slideIndex).css({
                        "opacity": 0,
                        "zIndex": _.options.zIndex - 2
                    }))
            },
            Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {
                var _ = this
                ;
                null !== filter && (
                    _.$slidesCache = _.$slides,
                    _.unload(),
                    _.$slideTrack.children(this.options.slide).detach(),
                    _.$slidesCache.filter(filter).appendTo(_.$slideTrack),
                    _.reinit())
            },
            Slick.prototype.focusHandler = function() {
                var _ = this
                ;
                _.$slider.off(
                    "focus.slick blur.slick").on(
                    "focus.slick blur.slick",
                    "*:not(.slick-arrow)",
                    function(event) {
                        event.stopImmediatePropagation();
                        var $sf = $(this)
                        ;
                        setTimeout(function() {
                                _.options.pauseOnFocus && (
                                    _.focussed = $sf.is(":focus"),
                                    _.autoPlay())
                            },
                            0)
                    })
            },
            Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {
                return this.currentSlide
            },
            Slick.prototype.getDotCount = function() {
                var _ = this,
                    breakPoint = 0,
                    counter = 0,
                    pagerQty = 0;
                if (
                    !0 === _.options.infinite)
                    for (; breakPoint < _.slideCount;) ++pagerQty,
                        breakPoint = counter + _.options.slidesToScroll,
                        counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
                else if (
                    !0 === _.options.centerMode
                ) pagerQty = _.slideCount;
                else if (
                    _.options.asNavFor)
                    for (
                        ; breakPoint < _.slideCount;
                    ) ++pagerQty,
                        breakPoint = counter + _.options.slidesToScroll,
                        counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
                else pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll)
                ;
                return pagerQty - 1
            },
            Slick.prototype.getLeft = function(slideIndex) {
                var targetLeft,
                    verticalHeight,
                    targetSlide, _ = this,
                    verticalOffset = 0
                ;
                return _.slideOffset = 0,
                    verticalHeight = _.$slides.first().outerHeight(!0),
                    !0 === _.options.infinite ? (
                        _.slideCount > _.options.slidesToShow && (
                            _.slideOffset = _.slideWidth * _.options.slidesToShow * -1,
                            verticalOffset = verticalHeight * _.options.slidesToShow * -1),
                        _.slideCount % _.options.slidesToScroll != 0 && slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow && (
                            slideIndex > _.slideCount ? (
                                _.slideOffset = (_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth * -1,
                                verticalOffset = (_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight * -1) : (
                                _.slideOffset = _.slideCount % _.options.slidesToScroll * _.slideWidth * -1,
                                verticalOffset = _.slideCount % _.options.slidesToScroll * verticalHeight * -1))
                    ) : slideIndex + _.options.slidesToShow > _.slideCount && (
                        _.slideOffset = (slideIndex + _.options.slidesToShow - _.slideCount) * _.slideWidth,
                        verticalOffset = (slideIndex + _.options.slidesToShow - _.slideCount) * verticalHeight),
                    _.slideCount <= _.options.slidesToShow && (
                        verticalOffset = _.slideOffset = 0),
                    !0 === _.options.centerMode && !0 === _.options.infinite ? _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth : !0 === _.options.centerMode && (
                        _.slideOffset = 0,
                        _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2)),
                    targetLeft = !1 === _.options.vertical ? slideIndex * _.slideWidth * -1 + _.slideOffset : slideIndex * verticalHeight * -1 + verticalOffset,
                    !0 === _.options.variableWidth && (
                        targetSlide = _.slideCount <= _.options.slidesToShow || !1 === _.options.infinite ? _.$slideTrack.children(".slick-slide").eq(slideIndex
                        ) : _.$slideTrack.children(".slick-slide").eq(slideIndex + _.options.slidesToShow),
                        targetLeft = !0 === _.options.rtl ? targetSlide[0] ? -1 * (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()
                        ) : 0 : targetSlide[0] ? -1 * targetSlide[0].offsetLeft : 0,
                        !0 === _.options.centerMode && (
                            targetSlide = _.slideCount <= _.options.slidesToShow || !1 === _.options.infinite ? _.$slideTrack.children(".slick-slide").eq(slideIndex
                            ) : _.$slideTrack.children(".slick-slide").eq(slideIndex + _.options.slidesToShow + 1),
                            targetLeft = !0 === _.options.rtl ? targetSlide[0] ? -1 * (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()
                            ) : 0 : targetSlide[0] ? -1 * targetSlide[0].offsetLeft : 0,
                            targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2)),
                    targetLeft
            },
            Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {
                return this.options[option]
            },
            Slick.prototype.getNavigableIndexes = function() {
                var max, _ = this,
                    breakPoint = 0,
                    counter = 0,
                    indexes = [];
                for (
                    !1 === _.options.infinite ? max = _.slideCount : (
                        breakPoint = -1 * _.options.slidesToScroll,
                        counter = -1 * _.options.slidesToScroll,
                        max = 2 * _.slideCount
                    ); breakPoint < max;
                ) indexes.push(breakPoint),
                    breakPoint = counter + _.options.slidesToScroll,
                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow
                ;
                return indexes
            },
            Slick.prototype.getSlick = function() {
                return this
            },
            Slick.prototype.getSlideCount = function() {
                var swipedSlide, centerOffset, _ = this
                ;
                return centerOffset = !0 === _.options.centerMode ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0,
                    !0 === _.options.swipeToSlide ? (
                        _.$slideTrack.find(".slick-slide").each(function(index, slide) {
                            if (
                                slide.offsetLeft - centerOffset + $(slide).outerWidth() / 2 > -1 * _.swipeLeft
                            ) return swipedSlide = slide, !1
                        }),
                        Math.abs($(swipedSlide).attr("data-slick-index") - _.currentSlide) || 1
                    ) : _.options.slidesToScroll
            },
            Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {
                this.changeSlide({
                        "data": {
                            "message": "index",
                            "index": parseInt(slide)
                        }
                    },
                    dontAnimate)
            },
            Slick.prototype.init = function(creation) {
                var _ = this
                ;
                $(_.$slider).hasClass("slick-initialized") || (
                        $(_.$slider).addClass("slick-initialized"),
                        _.buildRows(),
                        _.buildOut(),
                        _.setProps(),
                        _.startLoad(),
                        _.loadSlider(),
                        _.initializeEvents(),
                        _.updateArrows(),
                        _.updateDots(),
                        _.checkResponsive(!0),
                        _.focusHandler()),
                    creation && _.$slider.trigger("init", [_]),
                    !0 === _.options.accessibility && _.initADA(),
                    _.options.autoplay && (
                        _.paused = !1,
                        _.autoPlay())
            },
            Slick.prototype.initADA = function() {
                var _ = this;
                _.$slides.add(_.$slideTrack.find(".slick-cloned")).attr({
                        "aria-hidden": "true",
                        "tabindex": "-1"
                    }).find(
                        "a, input, button, select").attr({
                        "tabindex": "-1"
                    }),
                    _.$slideTrack.attr("role", "listbox"),
                    _.$slides.not(_.$slideTrack.find(".slick-cloned")).each(function(i) {
                        $(this).attr({
                            "role": "option",
                            "aria-describedby": "slick-slide" + _.instanceUid + i
                        })
                    }),
                    null !== _.$dots && _.$dots.attr("role", "tablist").find("li").each(function(i) {
                        $(this).attr({
                            "role": "presentation",
                            "aria-selected": "false",
                            "aria-controls": "navigation" + _.instanceUid + i,
                            "id": "slick-slide" + _.instanceUid + i
                        })
                    }).first().attr(
                        "aria-selected", "true").end().find(
                        "button").attr("role", "button").end().closest(
                        "div").attr("role", "toolbar"),
                    _.activateADA()
            },
            Slick.prototype.initArrowEvents = function() {
                var _ = this
                ;
                !0 === _.options.arrows && _.slideCount > _.options.slidesToShow && (
                    _.$prevArrow.off(
                        "click.slick").on(
                        "click.slick", {
                            "message": "previous"
                        },
                        _.changeSlide),
                    _.$nextArrow.off(
                        "click.slick").on(
                        "click.slick", {
                            "message": "next"
                        },
                        _.changeSlide))
            },
            Slick.prototype.initDotEvents = function() {
                var _ = this
                ;
                !0 === _.options.dots && _.slideCount > _.options.slidesToShow && $("li", _.$dots).on("click.slick", {
                            "message": "index"
                        },
                        _.changeSlide),
                    !0 === _.options.dots && !0 === _.options.pauseOnDotsHover && $("li", _.$dots).on(
                        "mouseenter.slick", $.proxy(_.interrupt, _, !0)).on(
                        "mouseleave.slick", $.proxy(_.interrupt, _, !1))
            },
            Slick.prototype.initSlideEvents = function() {
                var _ = this
                ;
                _.options.pauseOnHover && (
                    _.$list.on("mouseenter.slick", $.proxy(_.interrupt, _, !0)),
                    _.$list.on("mouseleave.slick", $.proxy(_.interrupt, _, !1)))
            },
            Slick.prototype.initializeEvents = function() {
                var _ = this
                ;
                _.initArrowEvents(),
                    _.initDotEvents(),
                    _.initSlideEvents(),
                    _.$list.on("touchstart.slick mousedown.slick", {
                            "action": "start"
                        },
                        _.swipeHandler),
                    _.$list.on("touchmove.slick mousemove.slick", {
                            "action": "move"
                        },
                        _.swipeHandler),
                    _.$list.on("touchend.slick mouseup.slick", {
                            "action": "end"
                        },
                        _.swipeHandler),
                    _.$list.on("touchcancel.slick mouseleave.slick", {
                            "action": "end"
                        },
                        _.swipeHandler),
                    _.$list.on("click.slick", _.clickHandler),
                    $(document).on(_.visibilityChange, $.proxy(_.visibility, _)),
                    !0 === _.options.accessibility && _.$list.on("keydown.slick", _.keyHandler),
                    !0 === _.options.focusOnSelect && $(_.$slideTrack).children().on("click.slick", _.selectHandler),
                    $(window).on("orientationchange.slick.slick-" + _.instanceUid, $.proxy(_.orientationChange, _)),
                    $(window).on("resize.slick.slick-" + _.instanceUid, $.proxy(_.resize, _)),
                    $("[draggable!=true]", _.$slideTrack).on("dragstart", _.preventDefault),
                    $(window).on("load.slick.slick-" + _.instanceUid, _.setPosition),
                    $(document).on("ready.slick.slick-" + _.instanceUid, _.setPosition)
            },
            Slick.prototype.initUI = function() {
                var _ = this
                ;
                !0 === _.options.arrows && _.slideCount > _.options.slidesToShow && (
                        _.$prevArrow.show(),
                        _.$nextArrow.show()),
                    !0 === _.options.dots && _.slideCount > _.options.slidesToShow && _.$dots.show()
            },
            Slick.prototype.keyHandler = function(event) {
                var _ = this
                ;
                event.target.tagName.match("TEXTAREA|INPUT|SELECT") || (
                    37 === event.keyCode && !0 === _.options.accessibility ? _.changeSlide({
                            "data": {
                                "message": !0 === _.options.rtl ? "next" : "previous"
                            }
                        }
                    ) : 39 === event.keyCode && !0 === _.options.accessibility && _.changeSlide({
                        "data": {
                            "message": !0 === _.options.rtl ? "previous" : "next"
                        }
                    }))
            },
            Slick.prototype.lazyLoad = function() {
                function loadImages(imagesScope) {
                    $("img[data-lazy]", imagesScope).each(function() {
                        var image = $(this),
                            imageSource = $(this).attr("data-lazy"),
                            imageToLoad = document.createElement("img")
                        ;
                        imageToLoad.onload = function() {
                                image.animate({
                                    "opacity": 0
                                }, 100, function() {
                                    image.attr(
                                            "src", imageSource).animate({
                                            "opacity": 1
                                        }, 200, function() {
                                            image.removeAttr(
                                                "data-lazy").removeClass(
                                                "slick-loading")
                                        }),
                                        _.$slider.trigger("lazyLoaded", [_, image, imageSource])
                                })
                            },
                            imageToLoad.onerror = function() {
                                image.removeAttr(
                                        "data-lazy").removeClass(
                                        "slick-loading").addClass(
                                        "slick-lazyload-error"),
                                    _.$slider.trigger("lazyLoadError", [_, image, imageSource])
                            },
                            imageToLoad.src = imageSource
                    })
                }
                var rangeStart, rangeEnd, _ = this
                ;
                !0 === _.options.centerMode ? !0 === _.options.infinite ? rangeEnd = (rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1)) + _.options.slidesToShow + 2 : (
                        rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1)),
                        rangeEnd = _.options.slidesToShow / 2 + 1 + 2 + _.currentSlide) : (
                        rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide,
                        rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow), !0 === _.options.fade && (
                            0 < rangeStart && rangeStart--,
                            rangeEnd <= _.slideCount && rangeEnd++)),
                    loadImages(_.$slider.find(".slick-slide").slice(rangeStart, rangeEnd)),
                    _.slideCount <= _.options.slidesToShow ? loadImages(_.$slider.find(".slick-slide")
                    ) : _.currentSlide >= _.slideCount - _.options.slidesToShow ? loadImages(_.$slider.find(".slick-cloned").slice(0, _.options.slidesToShow)
                    ) : 0 === _.currentSlide && loadImages(_.$slider.find(".slick-cloned").slice(-1 * _.options.slidesToShow))
            },
            Slick.prototype.loadSlider = function() {
                var _ = this
                ;
                _.setPosition(),
                    _.$slideTrack.css({
                        "opacity": 1
                    }),
                    _.$slider.removeClass("slick-loading"),
                    _.initUI(),
                    "progressive" === _.options.lazyLoad && _.progressiveLazyLoad()
            },
            Slick.prototype.next = Slick.prototype.slickNext = function() {
                this.changeSlide({
                    "data": {
                        "message": "next"
                    }
                })
            },
            Slick.prototype.orientationChange = function() {
                var _ = this
                ;
                _.checkResponsive(),
                    _.setPosition()
            },
            Slick.prototype.pause = Slick.prototype.slickPause = function() {
                var _ = this
                ;
                _.autoPlayClear(),
                    _.paused = !0
            },
            Slick.prototype.play = Slick.prototype.slickPlay = function() {
                var _ = this
                ;
                _.autoPlay(),
                    _.options.autoplay = !0,
                    _.paused = !1,
                    _.focussed = !1,
                    _.interrupted = !1
            },
            Slick.prototype.postSlide = function(index) {
                var _ = this
                ;
                _.unslicked || (
                    _.$slider.trigger("afterChange", [_, index]),
                    _.animating = !1,
                    _.setPosition(),
                    _.swipeLeft = null,
                    _.options.autoplay && _.autoPlay(),
                    !0 === _.options.accessibility && _.initADA())
            },
            Slick.prototype.prev = Slick.prototype.slickPrev = function() {
                this.changeSlide({
                    "data": {
                        "message": "previous"
                    }
                })
            },
            Slick.prototype.preventDefault = function(event) {
                event.preventDefault()
            },
            Slick.prototype.progressiveLazyLoad = function(tryCount) {
                tryCount = tryCount || 1
                ;
                var image,
                    imageSource,
                    imageToLoad, _ = this,
                    $imgsToLoad = $("img[data-lazy]", _.$slider)
                ;
                $imgsToLoad.length ? (
                    image = $imgsToLoad.first(),
                    imageSource = image.attr("data-lazy"), (
                        imageToLoad = document.createElement("img")
                    ).onload = function() {
                        image.attr(
                                "src", imageSource).removeAttr(
                                "data-lazy").removeClass(
                                "slick-loading"),
                            !0 === _.options.adaptiveHeight && _.setPosition(),
                            _.$slider.trigger("lazyLoaded", [_, image, imageSource]),
                            _.progressiveLazyLoad()
                    },
                    imageToLoad.onerror = function() {
                        tryCount < 3 ? setTimeout(function() {
                                _.progressiveLazyLoad(tryCount + 1)
                            },
                            500) : (
                            image.removeAttr(
                                "data-lazy").removeClass(
                                "slick-loading").addClass(
                                "slick-lazyload-error"),
                            _.$slider.trigger("lazyLoadError", [_, image, imageSource]),
                            _.progressiveLazyLoad())
                    },
                    imageToLoad.src = imageSource
                ) : _.$slider.trigger("allImagesLoaded", [_])
            },
            Slick.prototype.refresh = function(initializing) {
                var currentSlide, lastVisibleIndex, _ = this
                ;
                lastVisibleIndex = _.slideCount - _.options.slidesToShow,
                    !_.options.infinite && _.currentSlide > lastVisibleIndex && (
                        _.currentSlide = lastVisibleIndex),
                    _.slideCount <= _.options.slidesToShow && (
                        _.currentSlide = 0),
                    currentSlide = _.currentSlide,
                    _.destroy(!0),
                    $.extend(_, _.initials, {
                        "currentSlide": currentSlide
                    }),
                    _.init(),
                    initializing || _.changeSlide({
                            "data": {
                                "message": "index",
                                "index": currentSlide
                            }
                        },
                        !1)
            },
            Slick.prototype.registerBreakpoints = function() {
                var breakpoint, currentBreakpoint, l, _ = this,
                    responsiveSettings = _.options.responsive || null;
                if (
                    "array" === $.type(responsiveSettings) && responsiveSettings.length) {
                    for (
                        breakpoint in _.respondTo = _.options.respondTo || "window", responsiveSettings)
                        if (
                            l = _.breakpoints.length - 1,
                            currentBreakpoint = responsiveSettings[breakpoint].breakpoint,
                            responsiveSettings.hasOwnProperty(breakpoint)) {
                            for (
                                ; 0 <= l;
                            ) _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint && _.breakpoints.splice(l, 1),
                                l--
                            ;
                            _.breakpoints.push(currentBreakpoint),
                                _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings
                        }
                    _.breakpoints.sort(function(a, b) {
                        return _.options.mobileFirst ? a - b : b - a
                    })
                }
            },
            Slick.prototype.reinit = function() {
                var _ = this
                ;
                _.$slides = _.$slideTrack.children(
                        _.options.slide).addClass(
                        "slick-slide"),
                    _.slideCount = _.$slides.length,
                    _.currentSlide >= _.slideCount && 0 !== _.currentSlide && (
                        _.currentSlide = _.currentSlide - _.options.slidesToScroll),
                    _.slideCount <= _.options.slidesToShow && (
                        _.currentSlide = 0),
                    _.registerBreakpoints(),
                    _.setProps(),
                    _.setupInfinite(),
                    _.buildArrows(),
                    _.updateArrows(),
                    _.initArrowEvents(),
                    _.buildDots(),
                    _.updateDots(),
                    _.initDotEvents(),
                    _.cleanUpSlideEvents(),
                    _.initSlideEvents(),
                    _.checkResponsive(!1, !0),
                    !0 === _.options.focusOnSelect && $(_.$slideTrack).children().on("click.slick", _.selectHandler),
                    _.setSlideClasses("number" == typeof _.currentSlide ? _.currentSlide : 0),
                    _.setPosition(),
                    _.focusHandler(),
                    _.paused = !_.options.autoplay,
                    _.autoPlay(),
                    _.$slider.trigger("reInit", [_])
            },
            Slick.prototype.resize = function() {
                var _ = this
                ;
                $(window).width() !== _.windowWidth && (
                    clearTimeout(_.windowDelay),
                    _.windowDelay = window.setTimeout(function() {
                            _.windowWidth = $(window).width(),
                                _.checkResponsive(),
                                _.unslicked || _.setPosition()
                        },
                        50))
            },
            Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {
                var _ = this;
                if (
                    index = "boolean" == typeof index ? !0 === (removeBefore = index
                    ) ? 0 : _.slideCount - 1 : !0 === removeBefore ? --index : index,
                    _.slideCount < 1 || index < 0 || index > _.slideCount - 1
                ) return !1
                ;
                _.unload(),
                    !0 === removeAll ? _.$slideTrack.children().remove(
                    ) : _.$slideTrack.children(this.options.slide).eq(index).remove(),
                    _.$slides = _.$slideTrack.children(this.options.slide),
                    _.$slideTrack.children(this.options.slide).detach(),
                    _.$slideTrack.append(_.$slides),
                    _.$slidesCache = _.$slides,
                    _.reinit()
            },
            Slick.prototype.setCSS = function(position) {
                var x, y, _ = this,
                    positionProps = {}
                ;
                !0 === _.options.rtl && (
                        position = -position),
                    x = "left" == _.positionProp ? Math.ceil(position) + "px" : "0px",
                    y = "top" == _.positionProp ? Math.ceil(position) + "px" : "0px",
                    positionProps[_.positionProp] = position,
                    !1 === _.transformsEnabled || (!(
                        positionProps = {}
                    ) === _.cssTransitions ? positionProps[_.animType] = "translate(" + x + ", " + y + ")" : positionProps[_.animType] = "translate3d(" + x + ", " + y + ", 0px)"), _.$slideTrack.css(positionProps)
            },
            Slick.prototype.setDimensions = function() {
                var _ = this
                ;
                !1 === _.options.vertical ? !0 === _.options.centerMode && _.$list.css({
                        "padding": "0px " + _.options.centerPadding
                    }) : (
                        _.$list.height(_.$slides.first().outerHeight(!0) * _.options.slidesToShow),
                        !0 === _.options.centerMode && _.$list.css({
                            "padding": _.options.centerPadding + " 0px"
                        })),
                    _.listWidth = _.$list.width(),
                    _.listHeight = _.$list.height(),
                    !1 === _.options.vertical && !1 === _.options.variableWidth ? (
                        _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow),
                        _.$slideTrack.width(Math.ceil(_.slideWidth * _.$slideTrack.children(".slick-slide").length))
                    ) : !0 === _.options.variableWidth ? _.$slideTrack.width(5e3 * _.slideCount) : (
                        _.slideWidth = Math.ceil(_.listWidth),
                        _.$slideTrack.height(Math.ceil(_.$slides.first().outerHeight(!0) * _.$slideTrack.children(".slick-slide").length)))
                ;
                var offset = _.$slides.first().outerWidth(!0) - _.$slides.first().width();
                !1 === _.options.variableWidth && _.$slideTrack.children(".slick-slide").width(_.slideWidth - offset)
            },
            Slick.prototype.setFade = function() {
                var targetLeft, _ = this
                ;
                _.$slides.each(function(index, element) {
                        targetLeft = _.slideWidth * index * -1,
                            !0 === _.options.rtl ? $(element).css({
                                    "position": "relative",
                                    "right": targetLeft,
                                    "top": 0,
                                    "zIndex": _.options.zIndex - 2,
                                    "opacity": 0
                                }
                            ) : $(element).css({
                                "position": "relative",
                                "left": targetLeft,
                                "top": 0,
                                "zIndex": _.options.zIndex - 2,
                                "opacity": 0
                            })
                    }),
                    _.$slides.eq(_.currentSlide).css({
                        "zIndex": _.options.zIndex - 1,
                        "opacity": 1
                    })
            },
            Slick.prototype.setHeight = function() {
                var _ = this;
                if (
                    1 === _.options.slidesToShow && !0 === _.options.adaptiveHeight && !1 === _.options.vertical) {
                    var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(!0);
                    _.$list.css("height", targetHeight)
                }
            },
            Slick.prototype.setOption = Slick.prototype.slickSetOption = function(argument_0, argument_1, argument_2) {
                var l, item, option, value, type, _ = this,
                    refresh = !1;
                if (
                    "object" === $.type(argument_0) ? (
                        option = arguments[0],
                        refresh = argument_1,
                        type = "multiple"
                    ) : "string" === $.type(arguments[0]) && (
                        option = arguments[0],
                        value = arguments[1],
                        refresh = argument_2,
                        "responsive" === arguments[0] && "array" === $.type(arguments[1]
                        ) ? type = "responsive" : "undefined" != typeof arguments[1] && (
                            type = "single")),
                    "single" === type
                ) _.options[option] = value;
                else if (
                    "multiple" === type
                ) $.each(option, function(opt, val) {
                    _.options[opt] = val
                });
                else if (
                    "responsive" === type)
                    for (
                        item in value)
                        if (
                            "array" !== $.type(_.options.responsive)
                        ) _.options.responsive = [value[item]];
                        else {
                            for (
                                l = _.options.responsive.length - 1; 0 <= l;
                            ) _.options.responsive[l].breakpoint === value[item].breakpoint && _.options.responsive.splice(l, 1),
                                l--
                            ;
                            _.options.responsive.push(value[item])
                        }
                refresh && (
                    _.unload(),
                    _.reinit())
            },
            Slick.prototype.setPosition = function() {
                var _ = this
                ;
                _.setDimensions(),
                    _.setHeight(),
                    !1 === _.options.fade ? _.setCSS(_.getLeft(_.currentSlide)
                    ) : _.setFade(),
                    _.$slider.trigger("setPosition", [_])
            },
            Slick.prototype.setProps = function() {
                var _ = this,
                    bodyStyle = document.body.style
                ;
                _.positionProp = !0 === _.options.vertical ? "top" : "left",
                    "top" === _.positionProp ? _.$slider.addClass("slick-vertical"
                    ) : _.$slider.removeClass("slick-vertical"),
                    bodyStyle.WebkitTransition === undefined && bodyStyle.MozTransition === undefined && bodyStyle.msTransition === undefined || !0 === _.options.useCSS && (
                        _.cssTransitions = !0),
                    _.options.fade && (
                        "number" == typeof _.options.zIndex ? _.options.zIndex < 3 && (
                            _.options.zIndex = 3
                        ) : _.options.zIndex = _.defaults.zIndex),
                    bodyStyle.OTransform !== undefined && (
                        _.animType = "OTransform",
                        _.transformType = "-o-transform",
                        _.transitionType = "OTransition",
                        bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined && (_.animType = !1)),
                    bodyStyle.MozTransform !== undefined && (
                        _.animType = "MozTransform",
                        _.transformType = "-moz-transform",
                        _.transitionType = "MozTransition",
                        bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined && (_.animType = !1)),
                    bodyStyle.webkitTransform !== undefined && (
                        _.animType = "webkitTransform",
                        _.transformType = "-webkit-transform",
                        _.transitionType = "webkitTransition",
                        bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined && (_.animType = !1)),
                    bodyStyle.msTransform !== undefined && (
                        _.animType = "msTransform",
                        _.transformType = "-ms-transform",
                        _.transitionType = "msTransition",
                        bodyStyle.msTransform === undefined && (_.animType = !1)),
                    bodyStyle.transform !== undefined && !1 !== _.animType && (
                        _.animType = "transform",
                        _.transformType = "transform",
                        _.transitionType = "transition"),
                    _.transformsEnabled = _.options.useTransform && null !== _.animType && !1 !== _.animType
            },
            Slick.prototype.setSlideClasses = function(index) {
                var centerOffset, allSlides, indexOffset, remainder, _ = this
                ;
                allSlides = _.$slider.find(
                        ".slick-slide").removeClass(
                        "slick-active slick-center slick-current").attr(
                        "aria-hidden", "true"),
                    _.$slides.eq(
                        index).addClass(
                        "slick-current"),
                    !0 === _.options.centerMode ? (
                        centerOffset = Math.floor(_.options.slidesToShow / 2),
                        !0 === _.options.infinite && (
                            centerOffset <= index && index <= _.slideCount - 1 - centerOffset ? _.$slides.slice(
                                index - centerOffset, index + centerOffset + 1).addClass(
                                "slick-active").attr(
                                "aria-hidden", "false") : (
                                indexOffset = _.options.slidesToShow + index,
                                allSlides.slice(
                                    indexOffset - centerOffset + 1, indexOffset + centerOffset + 2).addClass(
                                    "slick-active").attr(
                                    "aria-hidden", "false")),
                            0 === index ? allSlides.eq(
                                allSlides.length - 1 - _.options.slidesToShow).addClass(
                                "slick-center"
                            ) : index === _.slideCount - 1 && allSlides.eq(
                                _.options.slidesToShow).addClass(
                                "slick-center")),
                        _.$slides.eq(
                            index).addClass(
                            "slick-center")
                    ) : 0 <= index && index <= _.slideCount - _.options.slidesToShow ? _.$slides.slice(
                        index, index + _.options.slidesToShow).addClass(
                        "slick-active").attr(
                        "aria-hidden", "false"
                    ) : allSlides.length <= _.options.slidesToShow ? allSlides.addClass(
                        "slick-active").attr(
                        "aria-hidden", "false") : (
                        remainder = _.slideCount % _.options.slidesToShow,
                        indexOffset = !0 === _.options.infinite ? _.options.slidesToShow + index : index,
                        _.options.slidesToShow == _.options.slidesToScroll && _.slideCount - index < _.options.slidesToShow ? allSlides.slice(
                            indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder).addClass(
                            "slick-active").attr(
                            "aria-hidden", "false"
                        ) : allSlides.slice(
                            indexOffset, indexOffset + _.options.slidesToShow).addClass(
                            "slick-active").attr(
                            "aria-hidden", "false")),
                    "ondemand" === _.options.lazyLoad && _.lazyLoad()
            },
            Slick.prototype.setupInfinite = function() {
                var i, slideIndex, infiniteCount, _ = this;
                if (
                    !0 === _.options.fade && (
                        _.options.centerMode = !1),
                    !0 === _.options.infinite && !1 === _.options.fade && (
                        slideIndex = null,
                        _.slideCount > _.options.slidesToShow)) {
                    for (
                        infiniteCount = !0 === _.options.centerMode ? _.options.slidesToShow + 1 : _.options.slidesToShow,
                        i = _.slideCount; i > _.slideCount - infiniteCount; i -= 1
                    ) slideIndex = i - 1,
                        $(_.$slides[slideIndex]).clone(!0).attr("id", "").attr(
                            "data-slick-index", slideIndex - _.slideCount).prependTo(
                            _.$slideTrack).addClass("slick-cloned");
                    for (
                        i = 0; i < infiniteCount; i += 1
                    ) slideIndex = i,
                        $(_.$slides[slideIndex]).clone(!0).attr("id", "").attr(
                            "data-slick-index", slideIndex + _.slideCount).appendTo(
                            _.$slideTrack).addClass("slick-cloned")
                    ;
                    _.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                        $(this).attr("id", "")
                    })
                }
            },
            Slick.prototype.interrupt = function(toggle) {
                var _ = this
                ;
                toggle || _.autoPlay(),
                    _.interrupted = toggle
            },
            Slick.prototype.selectHandler = function(event) {
                var _ = this,
                    targetElement = $(event.target).is(".slick-slide") ? $(event.target) : $(event.target).parents(".slick-slide"),
                    index = parseInt(targetElement.attr("data-slick-index"));
                if (
                    index || (index = 0),
                    _.slideCount <= _.options.slidesToShow
                ) return _.setSlideClasses(index),
                    void _.asNavFor(index)
                ;
                _.slideHandler(index)
            },
            Slick.prototype.slideHandler = function(index, sync, dontAnimate) {
                var targetSlide, animSlide, oldSlide, slideLeft,
                    navTarget, targetLeft = null,
                    _ = this;
                if (
                    sync = sync || !1, (
                        !0 !== _.animating || !0 !== _.options.waitForAnimate) && !(
                        !0 === _.options.fade && _.currentSlide === index || _.slideCount <= _.options.slidesToShow))
                    if (
                        !1 === sync && _.asNavFor(index),
                        targetSlide = index,
                        targetLeft = _.getLeft(targetSlide),
                        slideLeft = _.getLeft(_.currentSlide),
                        _.currentLeft = null === _.swipeLeft ? slideLeft : _.swipeLeft,
                        !1 === _.options.infinite && !1 === _.options.centerMode && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)
                    ) !1 === _.options.fade && (
                        targetSlide = _.currentSlide,
                        !0 !== dontAnimate ? _.animateSlide(slideLeft, function() {
                                _.postSlide(targetSlide)
                            }
                        ) : _.postSlide(targetSlide));
                    else if (
                    !1 === _.options.infinite && !0 === _.options.centerMode && (index < 0 || index > _.slideCount - _.options.slidesToScroll)
                ) !1 === _.options.fade && (
                    targetSlide = _.currentSlide,
                    !0 !== dontAnimate ? _.animateSlide(slideLeft, function() {
                            _.postSlide(targetSlide)
                        }
                    ) : _.postSlide(targetSlide));
                else {
                    if (
                        _.options.autoplay && clearInterval(_.autoPlayTimer),
                        animSlide = targetSlide < 0 ? _.slideCount % _.options.slidesToScroll != 0 ? _.slideCount - _.slideCount % _.options.slidesToScroll : _.slideCount + targetSlide : targetSlide >= _.slideCount ? _.slideCount % _.options.slidesToScroll != 0 ? 0 : targetSlide - _.slideCount : targetSlide,
                        _.animating = !0,
                        _.$slider.trigger("beforeChange", [_, _.currentSlide, animSlide]),
                        oldSlide = _.currentSlide,
                        _.currentSlide = animSlide,
                        _.setSlideClasses(_.currentSlide),
                        _.options.asNavFor && (
                            navTarget = (navTarget = _.getNavTarget()).slick("getSlick")
                        ).slideCount <= navTarget.options.slidesToShow && navTarget.setSlideClasses(_.currentSlide),
                        _.updateDots(),
                        _.updateArrows(),
                        !0 === _.options.fade
                    ) return !0 !== dontAnimate ? (
                            _.fadeSlideOut(oldSlide),
                            _.fadeSlide(animSlide, function() {
                                _.postSlide(animSlide)
                            })
                        ) : _.postSlide(animSlide),
                        void _.animateHeight()
                    ;
                    !0 !== dontAnimate ? _.animateSlide(targetLeft, function() {
                            _.postSlide(animSlide)
                        }
                    ) : _.postSlide(animSlide)
                }
            },
            Slick.prototype.startLoad = function() {
                var _ = this
                ;
                !0 === _.options.arrows && _.slideCount > _.options.slidesToShow && (
                        _.$prevArrow.hide(),
                        _.$nextArrow.hide()),
                    !0 === _.options.dots && _.slideCount > _.options.slidesToShow && _.$dots.hide(),
                    _.$slider.addClass("slick-loading")
            },
            Slick.prototype.swipeDirection = function() {
                var xDist, yDist, r, swipeAngle, _ = this
                ;
                return xDist = _.touchObject.startX - _.touchObject.curX,
                    yDist = _.touchObject.startY - _.touchObject.curY,
                    r = Math.atan2(yDist, xDist), (
                        swipeAngle = Math.round(180 * r / Math.PI)
                    ) < 0 && (
                        swipeAngle = 360 - Math.abs(swipeAngle)),
                    swipeAngle <= 45 && 0 <= swipeAngle ? !1 === _.options.rtl ? "left" : "right" : swipeAngle <= 360 && 315 <= swipeAngle ? !1 === _.options.rtl ? "left" : "right" : 135 <= swipeAngle && swipeAngle <= 225 ? !1 === _.options.rtl ? "right" : "left" : !0 === _.options.verticalSwiping ? 35 <= swipeAngle && swipeAngle <= 135 ? "down" : "up" : "vertical"
            },
            Slick.prototype.swipeEnd = function() {
                var slideCount,
                    direction, _ = this;
                if (
                    _.dragging = !1,
                    _.interrupted = !1,
                    _.shouldClick = !(10 < _.touchObject.swipeLength),
                    _.touchObject.curX === undefined
                ) return !1;
                if (
                    !0 === _.touchObject.edgeHit && _.$slider.trigger("edge", [_, _.swipeDirection()]),
                    _.touchObject.swipeLength >= _.touchObject.minSwipe) {
                    switch (
                        direction = _.swipeDirection()) {
                        case "left":
                        case "down":
                            slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide + _.getSlideCount()) : _.currentSlide + _.getSlideCount(),
                                _.currentDirection = 0
                            ;
                            break
                            ;
                        case "right":
                        case "up":
                            slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide - _.getSlideCount()) : _.currentSlide - _.getSlideCount(),
                                _.currentDirection = 1
                    }
                    "vertical" != direction && (
                        _.slideHandler(slideCount),
                        _.touchObject = {},
                        _.$slider.trigger("swipe", [_, direction]))
                } else _.touchObject.startX !== _.touchObject.curX && (
                    _.slideHandler(_.currentSlide),
                    _.touchObject = {})
            },
            Slick.prototype.swipeHandler = function(event) {
                var _ = this;
                if (!(
                        !1 === _.options.swipe || "ontouchend" in document && !1 === _.options.swipe || !1 === _.options.draggable && -1 !== event.type.indexOf("mouse"))) switch (
                    _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ? event.originalEvent.touches.length : 1,
                    _.touchObject.minSwipe = _.listWidth / _.options.touchThreshold,
                    !0 === _.options.verticalSwiping && (
                        _.touchObject.minSwipe = _.listHeight / _.options.touchThreshold),
                    event.data.action) {
                    case "start":
                        _.swipeStart(event);
                        break
                        ;
                    case "move":
                        _.swipeMove(event);
                        break
                        ;
                    case "end":
                        _.swipeEnd(event)
                }
            },
            Slick.prototype.swipeMove = function(event) {
                var curLeft, swipeDirection, swipeLength, positionOffset, touches, _ = this
                ;
                return touches = event.originalEvent !== undefined ? event.originalEvent.touches : null, !(
                    !_.dragging || touches && 1 !== touches.length) && (
                    curLeft = _.getLeft(_.currentSlide),
                    _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX,
                    _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY,
                    _.touchObject.swipeLength = Math.round(Math.sqrt(
                        Math.pow(_.touchObject.curX - _.touchObject.startX, 2))),
                    !0 === _.options.verticalSwiping && (
                        _.touchObject.swipeLength = Math.round(Math.sqrt(
                            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)))),
                    "vertical" !== (swipeDirection = _.swipeDirection()) ? (
                        event.originalEvent !== undefined && 4 < _.touchObject.swipeLength && event.preventDefault(),
                        positionOffset = (!1 === _.options.rtl ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1), !0 === _.options.verticalSwiping && (
                            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1),
                        swipeLength = _.touchObject.swipeLength, (
                            _.touchObject.edgeHit = !1
                        ) === _.options.infinite && (
                            0 === _.currentSlide && "right" === swipeDirection || _.currentSlide >= _.getDotCount() && "left" === swipeDirection) && (
                            swipeLength = _.touchObject.swipeLength * _.options.edgeFriction,
                            _.touchObject.edgeHit = !0),
                        !1 === _.options.vertical ? _.swipeLeft = curLeft + swipeLength * positionOffset : _.swipeLeft = curLeft + swipeLength * (_.$list.height() / _.listWidth) * positionOffset,
                        !0 === _.options.verticalSwiping && (
                            _.swipeLeft = curLeft + swipeLength * positionOffset),
                        !0 !== _.options.fade && !1 !== _.options.touchMove && (
                            !0 === _.animating ? (
                                _.swipeLeft = null, !1
                            ) : void _.setCSS(_.swipeLeft))) : void 0)
            },
            Slick.prototype.swipeStart = function(event) {
                var touches, _ = this;
                if (
                    _.interrupted = !0,
                    1 !== _.touchObject.fingerCount || _.slideCount <= _.options.slidesToShow) return !(
                    _.touchObject = {}
                )
                ;
                event.originalEvent !== undefined && event.originalEvent.touches !== undefined && (
                        touches = event.originalEvent.touches[0]),
                    _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX,
                    _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY,
                    _.dragging = !0
            },
            Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {
                var _ = this
                ;
                null !== _.$slidesCache && (
                    _.unload(),
                    _.$slideTrack.children(this.options.slide).detach(),
                    _.$slidesCache.appendTo(_.$slideTrack),
                    _.reinit())
            },
            Slick.prototype.unload = function() {
                var _ = this
                ;
                $(".slick-cloned", _.$slider).remove(),
                    _.$dots && _.$dots.remove(),
                    _.$prevArrow && _.htmlExpr.test(_.options.prevArrow) && _.$prevArrow.remove(),
                    _.$nextArrow && _.htmlExpr.test(_.options.nextArrow) && _.$nextArrow.remove(),
                    _.$slides.removeClass(
                        "slick-slide slick-active slick-visible slick-current").attr(
                        "aria-hidden", "true").css(
                        "width", "")
            },
            Slick.prototype.unslick = function(fromBreakpoint) {
                var _ = this;
                _.$slider.trigger("unslick", [_, fromBreakpoint]),
                    _.destroy()
            },
            Slick.prototype.updateArrows = function() {
                var _ = this
                ;
                Math.floor(_.options.slidesToShow / 2),
                    !0 === _.options.arrows && _.slideCount > _.options.slidesToShow && !_.options.infinite && (
                        _.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"),
                        _.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"),
                        0 === _.currentSlide ? (
                            _.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"),
                            _.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")
                        ) : _.currentSlide >= _.slideCount - _.options.slidesToShow && !1 === _.options.centerMode ? (
                            _.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"),
                            _.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")
                        ) : _.currentSlide >= _.slideCount - 1 && !0 === _.options.centerMode && (
                            _.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"),
                            _.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
            },
            Slick.prototype.updateDots = function() {
                var _ = this
                ;
                null !== _.$dots && (
                    _.$dots.find(
                        "li").removeClass(
                        "slick-active").attr(
                        "aria-hidden", "true"),
                    _.$dots.find(
                        "li").eq(
                        Math.floor(_.currentSlide / _.options.slidesToScroll)).addClass(
                        "slick-active").attr(
                        "aria-hidden", "false"))
            },
            Slick.prototype.visibility = function() {
                var _ = this
                ;
                _.options.autoplay && (
                    document[_.hidden] ? _.interrupted = !0 : _.interrupted = !1)
            },
            $.fn.slick = function(argument_0) {
                var i,
                    ret, _ = this,
                    opt = argument_0,
                    args = Array.prototype.slice.call(arguments, 1),
                    l = _.length;
                for (
                    i = 0; i < l; i++)
                    if (
                        "object" == typeof opt || void 0 === opt ? _[i].slick = new Slick(_[i], opt
                        ) : ret = _[i].slick[opt].apply(_[i].slick, args),
                        void 0 !== ret) return ret
                    ;
                return _
            }
    }),
    function() {
        Hs.SlickSlider = function() {
            function SlickSlider(container) {
                var $sliderParent;
                this.container = container, (
                        $sliderParent = $(this.container)
                    ).find(".slides").on("init", function() {
                        return $sliderParent.addClass("slick-slider-ready"),
                            Hs.ImageLazyload.enableHiddenImages()
                    }),
                    $sliderParent.find(".slides").slick({
                        "speed": 300,
                        "slidesToShow": 4,
                        "slidesToScroll": 4,
                        "nextArrow": $sliderParent.find(".controls .slide-next"),
                        "prevArrow": $sliderParent.find(".controls .slide-prev"),
                        "dots": !1,
                        "infinite": !1,
                        "responsive": [{
                            "breakpoint": 1024,
                            "settings": {
                                "slidesToShow": 3,
                                "slidesToScroll": 3
                            }
                        }, {
                            "breakpoint": 600,
                            "settings": {
                                "slidesToShow": 2,
                                "slidesToScroll": 2
                            }
                        }, {
                            "breakpoint": 480,
                            "settings": {
                                "slidesToShow": 1,
                                "slidesToScroll": 1
                            }
                        }]
                    })
            }
            return SlickSlider
        }()
    }.call(
        this),
    function() {
        Hs.Slider = function() {
            function Slider(options) {
                return this.options = null != options ? options : {},
                    this.options.license = this.license(),
                    this.options.aspectRatio = "12:5",
                    new NinjaSlider(this.options)
            }
            return Slider.HOMESTAY_LICENSE = "b2o411", Slider.HOMESTAY_STAGING_LICENSE = "b2o431",
                Slider.prototype.license = function() {
                    return -1 !== document.domain.indexOf("homestay-staging.com"
                    ) ? this.constructor.HOMESTAY_STAGING_LICENSE : this.constructor.HOMESTAY_LICENSE
                },
                Slider
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.TileSlider = function() {
            function TileSlider(slider_id, slider_wrapper, options) {
                var sliderOptions,
                    _this;
                null == slider_id && (slider_id = "tile_slider"), null == slider_wrapper && (slider_wrapper = "#tile_slider_wrapper"), null == options && (options = {}), this.lastSlideGtmLabel = bind(this.lastSlideGtmLabel, this), this.onClickPrevOrNext = bind(this.onClickPrevOrNext, this), this.fadeInSlideText = bind(this.fadeInSlideText, this), this.triggerLoadEvent = bind(this.triggerLoadEvent, this), this.getSliderInstance = bind(this.getSliderInstance, this), this._$slider = $("#" + slider_id), this._$sliderWrapper = $(slider_wrapper), sliderOptions = {
                        "sliderId": slider_id,
                        "effect": "slide",
                        "autoAdvance": !1,
                        "pauseOnHover": !0,
                        "pauseTime": 5e3,
                        "speed": 500,
                        "startSlide": this._$slider.data("start-slide") || 0,
                        "aspectRatio": "12:5.5",
                        "circular": !0,
                        "touchCircular": !1,
                        "mobileNav": !0,
                        "before": (
                            _this = this,
                            function(index) {
                                return _this.fadeSlideText(index)
                            }),
                        "after": function(
                            _this) {
                            return function(
                                index) {
                                return _this.fadeInSlideText(index)
                            }
                        }(
                            this)
                    },
                    sliderOptions = $.extend(sliderOptions, options),
                    this.slider = new Hs.Slider(sliderOptions),
                    this.prevPos = 0,
                    this.onClickPrevOrNext(),
                    sliderOptions.autoAdvanceWithPauseOnHover && this.autoAdvanceWithPauseOnHover({
                        "pauseTime": sliderOptions.pauseTime
                    })
            }
            return TileSlider.prototype.autoAdvanceWithPauseOnHover = function(options) {
                    var sliderInterval, startInterval,
                        _this;
                    return sliderInterval = void 0,
                        _this = this, (startInterval = function() {
                            return sliderInterval = setInterval(function() {
                                return _this.slider && "function" == typeof _this.slider.next ? _this.slider.next() : (clearInterval(sliderInterval), !1)
                            }, options.pauseTime)
                        })(),
                        this._$sliderWrapper.on("mouseenter click", function() {
                            return clearInterval(sliderInterval)
                        }),
                        this._$sliderWrapper.on("mouseleave", function() {
                            return startInterval()
                        })
                },
                TileSlider.prototype.getSliderInstance = function() {
                    return this.slider
                },
                TileSlider.prototype.triggerLoadEvent = function() {
                    var evt;
                    return (
                            evt = document.createEvent("Event")
                        ).initEvent("ninjaSliderLoad", !1, !1),
                        window.dispatchEvent(evt)
                },
                TileSlider.prototype.loadReady = function() {
                    var $wrapper;
                    return $wrapper = this._$sliderWrapper,
                        document.getElementById("tile_slider-prev") && $wrapper.addClass("ninja-desktop-buttons-enabled"),
                        this.targetPage = $wrapper.attr("data-gtm-page") ? $wrapper.attr("data-gtm-page") : "Homepage",
                        this.loadReady = null
                },
                TileSlider.prototype.fadeSlideText = function() {
                    this._$sliderWrapper.find(".slide-text").removeClass("opaque")
                },
                TileSlider.prototype.fadeInSlideText = function(index) {
                    this.prevPos = index,
                        this._$sliderWrapper.find(".slide-content-wrapper").eq(index).find(".slide-text").addClass("opaque"),
                        this.loadReady && this.loadReady()
                },
                TileSlider.prototype.onClickPrevOrNext = function() {
                    var $element,
                        _this;
                    return ($element = $(this.slider.getElement())).on("click", '[id$="-next"]', (
                            _this = this,
                            function() {
                                return Hs.GTM.trackCustomEvent(_this.targetPage, "Click next arrow on " + _this.lastSlideGtmLabel())
                            })),
                        $element.on("click", '[id$="-prev"]', function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent(_this.targetPage, "Click prev arrow on " + _this.lastSlideGtmLabel())
                            }
                        }(
                            this)),
                        this._$sliderWrapper.on("click", '[id$="-pager"] a', function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent(_this.targetPage, "Click dot on " + _this.lastSlideGtmLabel())
                            }
                        }(
                            this))
                },
                TileSlider.prototype.lastSlideGtmLabel = function() {
                    return this._$sliderWrapper.find(".slide-content-wrapper").eq(this.prevPos).data("gtm-label")
                },
                TileSlider
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.UspsSlider = function() {
            function UspsSlider(slider_id, slider_wrapper) {
                var _this;
                null == slider_id && (slider_id = "usps_slider"), null == slider_wrapper && (slider_wrapper = "#usps_slider_wrapper"), this.lastSlideGtmLabel = bind(this.lastSlideGtmLabel, this), this.onClickPrevOrNext = bind(this.onClickPrevOrNext, this), this.fadeInSlideText = bind(this.fadeInSlideText, this), this.triggerLoadEvent = bind(this.triggerLoadEvent, this), this.getSliderInstance = bind(this.getSliderInstance, this), this._$slider = $("#" + slider_id), this._$sliderWrapper = $(slider_wrapper), this.slider = new Hs.Slider({
                        "sliderId": slider_id,
                        "effect": "slide",
                        "autoAdvance": !1,
                        "pauseOnHover": !0,
                        "pauseTime": 5e3,
                        "speed": 500,
                        "startSlide": this._$slider.data("start-slide") || 0,
                        "aspectRatio": "12:5.5",
                        "circular": !0,
                        "touchCircular": !1,
                        "mobileNav": !0,
                        "before": (
                            _this = this,
                            function(index) {
                                return _this.fadeSlideText(index)
                            }),
                        "after": function(
                            _this) {
                            return function(
                                index) {
                                return _this.fadeInSlideText(index)
                            }
                        }(
                            this)
                    }),
                    this.prevPos = 0,
                    this.onClickPrevOrNext()
            }
            return UspsSlider.prototype.getSliderInstance = function() {
                    return this.slider
                },
                UspsSlider.prototype.triggerLoadEvent = function() {
                    var evt;
                    return (
                            evt = document.createEvent("Event")
                        ).initEvent("ninjaSliderLoad", !1, !1),
                        window.dispatchEvent(evt)
                },
                UspsSlider.prototype.loadReady = function() {
                    var $wrapper;
                    return $wrapper = $(document.getElementById("usps_slider_wrapper")),
                        document.getElementById("usps_slider-prev") && $wrapper.addClass("ninja-desktop-buttons-enabled"),
                        this.targetPage = $wrapper.attr("data-gtm-page") ? $wrapper.attr("data-gtm-page") : "Homepage",
                        this.loadReady = null
                },
                UspsSlider.prototype.fadeSlideText = function() {
                    this._$sliderWrapper.find(".slide-text").removeClass("opaque")
                },
                UspsSlider.prototype.fadeInSlideText = function(index) {
                    this.prevPos = index,
                        this._$sliderWrapper.find(".slide-content-wrapper").eq(index).find(".slide-text").addClass("opaque"),
                        this.loadReady && this.loadReady()
                },
                UspsSlider.prototype.onClickPrevOrNext = function() {
                    var $element,
                        _this;
                    return ($element = $(this.slider.getElement())).on("click", '[id$="-next"]', (
                            _this = this,
                            function() {
                                return Hs.GTM.trackCustomEvent(_this.targetPage, "Click next arrow on " + _this.lastSlideGtmLabel())
                            })),
                        $element.on("click", '[id$="-prev"]', function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent(_this.targetPage, "Click prev arrow on " + _this.lastSlideGtmLabel())
                            }
                        }(
                            this))
                },
                UspsSlider.prototype.lastSlideGtmLabel = function() {
                    return this._$sliderWrapper.find(".slide-content-wrapper").eq(this.prevPos).data("gtm-label")
                },
                UspsSlider
        }()
    }.call(
        this),
    function() {
        Hs.SocialWindow = function() {
            function SocialWindow(selector, window_title, optional_callback) {
                $(selector).on("click", function(evt) {
                    var target;
                    if (
                        target = $(this).attr("href"),
                        window.open(target, window_title, "height=400,width=500")
                    ) return evt.preventDefault(),
                        $(window).on("focus", optional_callback)
                })
            }
            return SocialWindow
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.Sound = function() {
            function Sound(sound_path, playback_options) {
                var _this;
                this.sound_path = sound_path, this.playback_options = null != playback_options ? playback_options : {}, this.handleEvent = bind(this.handleEvent, this), this.sound = null, this.playback_options.disable_auto_mute ? this.sound_enabled = !0 : (this.sound_enabled = !1, Hs.PubSub.subscribe("pubnub::presence::inactive", (
                            _this = this,
                            function() {
                                return _this.enableSound(!0)
                            })),
                        Hs.PubSub.subscribe("pubnub::presence::active", function(_this) {
                            return function() {
                                return _this.enableSound(!1)
                            }
                        }(
                            this))),
                    delete this.playback_options.disable_auto_mute,
                    createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]),
                    createjs.Sound.addEventListener("fileload", this)
            }
            return Sound.prototype.handleEvent = function(e) {
                    if (
                        e.src === this.sound_path
                    ) return this.sound = createjs.Sound.play(this.sound_path, this.playback_options)
                },
                Sound.prototype.play = function() {
                    if (
                        this.sound_enabled
                    ) return this.sound ? this.sound.play(this.playback_options
                    ) : this.sound = createjs.Sound.registerSound(this.sound_path)
                },
                Sound.prototype.stop = function() {
                    if (
                        this.sound
                    ) return this.sound.stop()
                },
                Sound.prototype.enableSound = function(boolean) {
                    return this.sound_enabled = boolean
                },
                Sound
        }()
    }.call(
        this),
    function() {
        Hs.StaticMap = function() {
            function StaticMap(element, options) {
                var ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8,
                    _this;
                null == options && (options = {}), this.element = $(element), this.options = options, this.dynamic_map_options = null != (ref = options.dynamic_map_options) ? ref : {}, this.base_url = "https://maps.google.com/maps/api/staticmap?key=AIzaSyAZw1Ae5z_ENZajtV9Am6RdStcIsp_FTMM", this.latitude = null != (ref1 = options.latitude) ? ref1 : this.element.data("lat"), this.longitude = null != (ref2 = options.longitude) ? ref2 : this.element.data("lng"), this.url_params = ["center=" + this.latitude + "," + this.longitude, "size=" + (null != (ref3 = null != (ref4 = options.width) ? ref4 : this.element.width()) ? ref3 : "640") + "x" + (null != (ref5 = null != (ref6 = options.height) ? ref6 : this.element.height()) ? ref5 : "320"), "zoom=" + (null != (ref7 = options.zoom) ? ref7 : 14), "scale=" + (null != (ref8 = options.scale) ? ref8 : 1)], Hs.GoogleMapClient.get().registerGoogleMapsCallback((
                    _this = this,
                    function() {
                        switch (options.location_marker_type) {
                            case "circle":
                                _this.generateCircle();
                                break;
                            case "pin":
                                _this.generatePin()
                        }
                        switch (_this.installMap(), options.click_behaviour) {
                            case "upgrade_to_dynamic_map":
                                return _this.installClickToUpgradeToDynamicMap();
                            case "take_to_google_maps":
                                return _this.installClickToTakeToGoogleMaps()
                        }
                    }))
            }
            return StaticMap.prototype.installMap = function() {
                    var staticMap;
                    return staticMap = $("<img/>").attr("src", this.mapUrl()).addClass("static-map"),
                        this.element.append(staticMap)
                },
                StaticMap.prototype.installClickToTakeToGoogleMaps = function() {
                    return this.element.on("click", (
                        _this = this,
                        function() {
                            return window.open("https://www.google.com/maps/search/?api=1&query=" + _this.latitude + "," + _this.longitude, "_blank").focus()
                        }));
                    var _this
                },
                StaticMap.prototype.installClickToUpgradeToDynamicMap = function() {
                    return this.element.one("click", (
                        _this = this,
                        function(evt) {
                            var $el, map, ref, ref1, ref2, ref3, ref4;
                            return ($el = $(evt.currentTarget)).html(""), map = new(null != (ref = _this.options.dynamic_map_class) ? ref : Hs.CoarseMap)($el, {
                                "zoom": null != (ref1 = null != (ref2 = _this.dynamic_map_options.zoom) ? ref2 : _this.options.zoom) ? ref1 : 14,
                                "radius": null != (ref3 = _this.dynamic_map_options.radius) ? ref3 : 500,
                                "hide_circle_zoom_level": null != (ref4 = _this.dynamic_map_options.hide_circle_zoom_level) ? ref4 : 16
                            }), (new google.maps.TransitLayer).setMap(map.map)
                        }));
                    var _this
                },
                StaticMap.prototype.mapUrl = function() {
                    return this.base_url + "&" + this.url_params.join("&")
                },
                StaticMap.prototype.generatePin = function() {
                    return this.url_params.push("markers=color:red|" + this.latitude + "," + this.longitude)
                },
                StaticMap.prototype.generateCircle = function() {
                    var path_components, ref, ref1, ref2;
                    return path_components = ["color:" + (null != (ref = this.options.circleColor) ? ref : "0xEFAA00"), "fillcolor:" + (null != (ref1 = this.options.circleFillColor) ? ref1 : "0xEFAA00"), "weight:" + (null != (ref2 = this.options.circleWeight) ? ref2 : 1), encodeURI(this.circlePath().join("|"))],
                        this.url_params.push("path=" + path_components.join("|"))
                },
                StaticMap.prototype.circlePath = function() {
                    var brng, d, detail, i, j, lat, lng, pLat, pLng, path, pi, r, radius, ref, ref1, ref2;
                    for (
                        detail = null != (ref = this.options.circleDetailLevel) ? ref : 8,
                        radius = null != (ref1 = this.options.circleRadius) ? ref1 : 500,
                        r = 6371,
                        pi = Math.PI,
                        lat = this.latitude * pi / 180,
                        lng = this.longitude * pi / 180,
                        d = radius / 1e3 / r,
                        i = 0,
                        path = [],
                        i = j = 1, ref2 = detail; j <= 360; i = j += ref2
                    ) brng = i * pi / 180,
                        pLat = Math.asin(Math.sin(lat) * Math.cos(d) + Math.cos(lat) * Math.sin(d) * Math.cos(brng)),
                        pLng = 180 * (lng + Math.atan2(Math.sin(brng) * Math.sin(d) * Math.cos(lat), Math.cos(d) - Math.sin(lat) * Math.sin(pLat))) / pi,
                        pLat = 180 * pLat / pi,
                        path.push(pLat + "," + pLng)
                    ;
                    return path.push(path[0]),
                        path
                },
                StaticMap
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.StreetViewPanorama = function() {
            function StreetViewPanorama(element) {
                this.element = element,
                    this.latitude = this.element.data("lat"),
                    this.longitude = this.element.data("lng"),
                    this.buildView()
            }
            return StreetViewPanorama.prototype.buildView = function() {
                    var _this;
                    return this.centre = new google.maps.LatLng(this.latitude, this.longitude), this.panorama = new google.maps.StreetViewPanorama(this.element[0], {
                            "position": this.centre,
                            "visible": !1,
                            "scrollwheel": !1,
                            "enableCloseButton": !1
                        }), (new google.maps.StreetViewService).getPanoramaByLocation(this.centre, 50, (
                            _this = this,
                            function(data, status) {
                                if (status === google.maps.StreetViewStatus.OK) return _this.panorama.setPosition(data.location.latLng), _this.panorama.setVisible(!0)
                            })),
                        this.element.data("streetView", this.panorama)
                },
                StreetViewPanorama
        }(), (
            $ = jQuery
        ).fn.extend({
            "streetViewPanorama": function() {
                return this.each(function() {
                    return new Hs.StreetViewPanorama($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.SubLocationFilterExpander = function() {
            function SubLocationFilterExpander(container) {
                this.container = container,
                    this.filters = this.items = $("li", this.container).andSelf().slice(11),
                    this.items.hide(),
                    this.buildExpandLink().insertAfter(this.items.last())
            }
            var READ_MORE_KEY;
            return READ_MORE_KEY = "homestays.sidebar.other_locations.expand_filters",
                SubLocationFilterExpander.prototype.buildExpandLink = function() {
                    return $('<a href="#" class="read-more"></a>').text(I18n.t(READ_MORE_KEY, {
                        "count": this.items.length
                    })).click((
                        _this = this,
                        function(e) {
                            return e.preventDefault(), $(e.target).hide(), _this.items.show()
                        }));
                    var _this
                },
                SubLocationFilterExpander
        }(), (
            $ = jQuery
        ).fn.extend({
            "subLocationFilterExpander": function() {
                return this.each(function() {
                    return new Hs.SubLocationFilterExpander($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.TermsAndConditions = function() {
            function TermsAndConditions() {
                this.tcsUrl = new Hs.Util.UrlBuilder("/tcs").get()
            }
            return TermsAndConditions.prototype.guest = function() {
                    return $.get(this.tcsUrl + "?user=guest", function(
                            data) {
                            return $("body").append(data)
                        }),
                        $("#guest-signup-modal #tcs-link").on("click", function(e) {
                            return $("#guest-tcs-modal").size() ? $("#guest-tcs-modal").modal("show"
                                ) : $.get(this.tcsUrl + "?user=guest", function(
                                    data) {
                                    return $("body").append(data),
                                        $("#guest-tcs-modal").modal("show")
                                }),
                                e.preventDefault()
                        }),
                        this.privacyPolicy()
                },
                TermsAndConditions.prototype.host = function() {
                    var _this;
                    return $.get(this.tcsUrl + "?user=host", function(data) {
                            return $("body").append(data)
                        }), $("#tcs-host-link").on("click", (
                            _this = this,
                            function(e) {
                                return $("#host-tcs-modal").size() ? $("#host-tcs-modal").modal("show") : $.get(_this.tcsUrl + "?user=host", function(data) {
                                    return $("body").append(data), $("#host-tcs-modal").modal("show")
                                }), e.preventDefault()
                            })),
                        this.privacyPolicy()
                },
                TermsAndConditions.prototype.bookingRequest = function() {
                    return $.get(this.tcsUrl + "?user=guest", function(
                            data) {
                            return $("body").append(data)
                        }),
                        $("body").on("click", "#request-tcs-link", function(e) {
                            return e.preventDefault(),
                                $("#guest-tcs-modal").size() ? $("#guest-tcs-modal").modal("show"
                                ) : $.get(this.tcsUrl + "?user=guest", function(
                                    data) {
                                    return $("body").append(data),
                                        $("#guest-tcs-modal").modal("show")
                                })
                        }),
                        this.privacyPolicy()
                },
                TermsAndConditions.prototype.privacyPolicy = function() {
                    return $(".privacy-link").on("click", function(
                        e) {
                        return e.preventDefault(),
                            $("#privacy-modal").size(
                            ) ? $("#privacy-modal").modal("show") : $.get(new Hs.Util.UrlBuilder("/privacy/").get(), function(data) {
                                return $("body").append(data), $("#privacy-modal").modal("show")
                            })
                    })
                },
                TermsAndConditions
        }()
    }.call(
        this),
    function(
        h) {
        function l(f) {
            var k = h.Toggles = function(b, a) {
                if ("boolean" == typeof a && b.data("toggles")) b.data("toggles").toggle(a);
                else {
                    for (var c = "on drag click width height animate easing type checkbox".split(" "), e = {}, d = 0; d < c.length; d++) {
                        var g = b.data("toggle-" + c[d]);
                        void 0 !== g && (e[c[d]] = g)
                    }
                    a = this.b = f.extend({
                        "drag": !0,
                        "click": !0,
                        "text": {
                            "on": "ON",
                            "off": "OFF"
                        },
                        "on": !1,
                        "animate": 250,
                        "easing": "swing",
                        "checkbox": null,
                        "clicker": null,
                        "width": 50,
                        "height": 20,
                        "type": "compact",
                        "event": "toggle"
                    }, a || {}, e), (this.c = b).data("toggles",
                        this), this.h = "select" === a.type, this.l = f(a.checkbox), a.clicker && (this.n = f(a.clicker)), this.m(), this.k(), this.active = !a.on, this.toggle(a.on, !0, !0)
                }
            };
            k.prototype.m = function() {
                function b(a) {
                    return f('<div class="toggle-' + a + '">')
                }
                var a = this.c.height(),
                    c = this.c.width();
                a || this.c.height(a = this.b.height), c || this.c.width(c = this.b.width), this.g = a, this.i = c, this.a = {
                    "f": b("slide"),
                    "e": b("inner"),
                    "on": b("on"),
                    "off": b("off"),
                    "d": b("blob")
                };
                var e = a / 2,
                    d = c - e,
                    g = this.h;
                this.a.on.css({
                    "height": a,
                    "width": d,
                    "textIndent": g ? "" : -e,
                    "lineHeight": a + "px"
                }).html(this.b.text.on), this.a.off.css({
                    "height": a,
                    "width": d,
                    "marginLeft": g ? "" : -e,
                    "textIndent": g ? "" : e,
                    "lineHeight": a + "px"
                }).html(this.b.text.off), this.a.d.css({
                    "height": a,
                    "width": a,
                    "marginLeft": -e
                }), this.a.e.css({
                    "width": 2 * c - a,
                    "marginLeft": g || this.active ? 0 : -c + a
                }), this.h && (this.a.f.addClass("toggle-select"), this.c.css("width", 2 * d), this.a.d.hide()), this.a.e.append(this.a.on, this.a.d, this.a.off), this.a.f.html(this.a.e), this.c.html(this.a.f)
            }, k.prototype.k = function() {
                function b(b) {
                    b.target === a.a.d[0] && a.b.drag || a.toggle()
                }
                var a = this;
                !a.b.click || a.b.clicker && a.b.clicker.has(a.c).length || a.c.on("click", b), a.b.clicker && a.b.clicker.on("click", b), a.b.drag && !a.h && a.j()
            }, k.prototype.j = function() {
                function b(b) {
                    a.c.off("mousemove"), a.a.f.off("mouseleave"), a.a.d.off("mouseup"), !c && a.b.click && "mouseleave" !== b.type ? a.toggle() : (a.active ? c < -e : e < c) ? a.toggle() : a.a.e.stop().animate({
                        "marginLeft": a.active ? 0 : -a.i + a.g
                    }, a.b.animate / 2)
                }
                var c, a = this,
                    e = (a.i - a.g) / 4,
                    d = -a.i + a.g;
                a.a.d.on("mousedown", function(e) {
                    c = 0, a.a.d.off("mouseup"),
                        a.a.f.off("mouseleave");
                    var f = e.pageX;
                    a.c.on("mousemove", a.a.d, function(b) {
                        c = b.pageX - f, a.active ? (0 < (b = c) && (b = 0), c < d && (b = d)) : (b = c + d, c < 0 && (b = d), -d < c && (b = 0)), a.a.e.css("margin-left", b)
                    }), a.a.d.on("mouseup", b), a.a.f.on("mouseleave", b)
                })
            }, k.prototype.toggle = function(b, a, c) {
                this.active !== b && (b = this.active = !this.active, this.c.data("toggle-active", b), this.a.off.toggleClass("active", !b), this.a.on.toggleClass("active", b), this.l.prop("checked", b), c || this.c.trigger(this.b.event, b), this.h || (c = b ? 0 : -this.i + this.g,
                    this.a.e.stop().animate({
                        "marginLeft": c
                    }, a ? 0 : this.b.animate)))
            }, f.fn.toggles = function(b) {
                return this.each(function() {
                    new k(f(this), b)
                })
            }
        }
        "function" == typeof define && define.amd ? define(["jquery"], l) : l(h.jQuery || h.Zepto || h.ender || h.$ || $)
    }(this),
    function() {
        Hs.ToggleButton = function() {
            function ToggleButton(element, options, custom_classes) {
                var $elements;
                null == options && (
                        options = {}),
                    null == custom_classes && (
                        custom_classes = ""),
                    $elements = $(element),
                    options = $.extend(default_options, options),
                    $elements.each(function(index, elem) {
                        var $checkbox, id;
                        return $checkbox = $(elem),
                            id = generate_id(), (
                                options.checkbox = $checkbox
                            ).addClass("hs-toggle-checkbox").attr("data-toggle-id", id).after(function() {
                                var dom_wrapper;
                                return (
                                        dom_wrapper = document.createElement("div")
                                    ).className = "toggle-light hs-toggle-button " + custom_classes,
                                    dom_wrapper.id = id,
                                    dom_wrapper
                            }),
                            $checkbox.next().toggles(options)
                    })
            }
            var default_options, generate_id;
            return default_options = {
                    "drag": !0,
                    "click": !0,
                    "text": {
                        "on": "",
                        "off": ""
                    }
                },
                generate_id = function() {
                    var s4
                    ;
                    return "hs-toggle-button-" + ((s4 = function() {
                        return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
                    })() + s4()) + "-" + s4()
                },
                ToggleButton
        }()
    }.call(
        this),
    function() {
        Hs.TogglePanel = function() {
            function TogglePanel(container, panelClass, target) {
                this._$container = $(container || ".toggle-panel"),
                    this.panelClass = panelClass || ".inner-panel",
                    this._$target = $(this.panelClass).find(target || "h4"),
                    this.setupEvent()
            }
            var instance;
            return instance = null, TogglePanel.get = function() {
                    return null != instance ? instance : instance = new Hs.TogglePanel
                },
                TogglePanel.prototype.setupEvent = function() {
                    return this._$target.on("click", (
                        _this = this,
                        function(evt) {
                            var $parent;
                            return ($parent = $(evt.delegateTarget).closest(_this.panelClass)).hasClass("closed") ? $parent.removeClass("closed") : $parent.addClass("closed")
                        }));
                    var _this
                },
                TogglePanel.prototype.show = function(section) {
                    return this._$container.find("[data-panel='" + section + "']").removeClass("closed")
                },
                TogglePanel.prototype.hide = function(section) {
                    return this._$container.find("[data-panel='" + section + "']").addClass("closed")
                },
                TogglePanel
        }()
    }.call(
        this),
    function() {
        Hs.Toggler = function() {
            function Toggler(click_element, hide_element, show_element) {
                var _this;
                this.click_element = click_element, this.hide_element = hide_element, this.show_element = show_element, this.click_element.click((
                    _this = this,
                    function() {
                        return _this.hide_element.hide(), _this.show_element.show()
                    }))
            }
            return Toggler
        }()
    }.call(
        this),
    function() {
        Hs.TripSuggestions = function() {
            function TripSuggestions() {
                this.constructor.shouldDisplaySuggestions() && (
                    this.fetch(),
                    this.onCreateTrip(),
                    Hs.PubSub.subscribe("pubnub::tripSuggestion::closeSuggestion", this.closeSuggestion))
            }
            return TripSuggestions.shouldDisplaySuggestions = function() {
                    return $("body").is(".homestays.search") || $("body").is(".homestays.show")
                },
                TripSuggestions.prototype.fetch = function() {
                    return $.get("/trip_suggestions", function(
                        response, _, xhr) {
                        var suggestion;
                        if (
                            200 === xhr.status && (
                                suggestion = response[0])
                        ) return Hs.SiteNotifications.get().tripSuggestion(suggestion.attributes)
                    })
                },
                TripSuggestions.prototype.onCreateTrip = function() {
                    return $(document).on("click", ".event.trip-suggestion a.create-trip", function() {
                        var el, event;
                        if (
                            event = $(this).closest(".event"),
                            el = $(this).closest("li"),
                            Hs.SiteNotifications.get().dismissElement(el),
                            $.post("/trip_suggestions/" + event.data("id") + "/click"), !Hs.current_user_logged_in
                        ) return Hs.GuestSignup.open({
                                "hideWantToHost": !0,
                                "redirectUrl": $(this).attr("href")
                            }),
                            !1
                    })
                },
                TripSuggestions.prototype.closeSuggestion = function(params) {
                    var suggestion;
                    return suggestion = $("#site_notifications li > .event.trip-suggestion[data-id=" + params.id + "]").closest("li"),
                        Hs.SiteNotifications.get().dismissElement(suggestion)
                },
                TripSuggestions
        }()
    }.call(
        this),
    function() {
        Hs.UserCreditHighlight = function() {
                function UserCreditHighlight() {
                    Hs.mobile_device ? (
                            this.element = $("nav .navbar-toggle.collapsed"),
                            this.element.click(function() {
                                return $(this).popover("hide")
                            })
                        ) : this.element = $("nav .credit"),
                        this.popoverContent = $("nav .hidden.popover-content").html() || I18n.t("user.credits.popover.button"),
                        this.canShowPopover() && this.showPopover()
                }
                return UserCreditHighlight.COOKIE_NAME = "popover_user_credit_highlight", UserCreditHighlight.COOKIE_EXPIRES = 365,
                    UserCreditHighlight.prototype.canShowPopover = function() {
                        return this.element.is(":visible") && "promotions#show" !== Hs.controller_action && this.element.length && Hs.current_user_has_credit && !Hs.Cookie.get(this.constructor.COOKIE_NAME)
                    },
                    UserCreditHighlight.prototype.showPopover = function() {
                        return this.element.popover({
                                "html": !0,
                                "placement": "bottom",
                                "title": "",
                                "content": this.popoverContent,
                                "trigger": "manual",
                                "container": "header#main",
                                "animation": !0
                            }).popover(
                                "show"),
                            $("header#main .popover").addClass("transition-bob transition-count-once bright"),
                            Hs.Cookie.set(this.constructor.COOKIE_NAME, 1, this.constructor.COOKIE_EXPIRES),
                            Hs.GTM.trackCustomEvent("Referrals", "Navbar Credit Popover Shown - " + Hs.controller_action + " - " + (Hs.current_user_has_referred ? "has-referred" : "has-not-referred"))
                    },
                    UserCreditHighlight
            }(),
            Hs.ready(function() {
                return new Hs.UserCreditHighlight
            })
    }.call(
        this),
    function() {
        Hs.UserFavourites = function() {
                function UserFavourites() {
                    new Hs.HomestayFavourites
                }
                return UserFavourites
            }(),
            jQuery.fn.extend({
                "userFavourites": function() {
                    return this.each(function() {
                        return new Hs.UserFavourites
                    })
                }
            })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.UserFilter = function() {
            function UserFilter() {
                this.setupFilterSelect2(),
                    this.installCallbacks()
            }
            return UserFilter.prototype.setupFilterSelect2 = function() {
                    return $("#filter").select2({
                        "dropdownCssClass": "select2-bigdrop",
                        "width": "100%",
                        "minimumResultsForSearch": -1,
                        "dropdownAutoWidth": !0,
                        "escapeMarkup": function(
                            m) {
                            return m
                        }
                    })
                },
                UserFilter.prototype.installCallbacks = function() {
                    return this.onChangeFilter()
                },
                UserFilter.prototype.onChangeFilter = function() {
                    return $("#filter").change(function() {
                        return "" === this.value ? window.location = Hs.user_filter_url : window.location = Hs.user_filter_url + "?filter=" + this.value
                    })
                },
                UserFilter
        }(), (
            $ = jQuery
        ).fn.extend({
            "userFilter": function() {
                return this.each(function() {
                    return new Hs.UserFilter
                })
            }
        })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.UserInbox = function() {
            function UserInbox() {
                this.expiredRequests()
            }
            return UserInbox.prototype.expiredRequests = function() {
                    return $(".inbox_item.open:not([data-booking-status='paid'])").each(function() {
                        var check_in_date, elm;
                        if (
                            check_in_date = $(this).data("check-in"),
                            moment(check_in_date).isBefore(moment(), "day")) return (
                                elm = $(this).find(".action")
                            ).html($(".expired_placeholder").html()),
                            elm.find(".hs-tooltip").tooltip({
                                "container": "body"
                            })
                    })
                },
                UserInbox
        }(), (
            $ = jQuery
        ).fn.extend({
            "userInbox": function() {
                return this.each(function() {
                    return new Hs.UserInbox
                })
            }
        })
    }.call(
        this),
    function() {
        var $
        ;
        Hs.UserProfile = function() {
            function UserProfile() {
                new Hs.UserSelect2,
                    this.onChangeFileInput(),
                    this.telephone = $(".telephone_number").payment("restrictNumeric")
            }
            return UserProfile.prototype.onChangeFileInput = function() {
                    return $(document).on("change", "#avatar_input", function() {
                        var file_name
                        ;
                        return file_name = $("#avatar_input").val().match(/[^\/\\]+$/),
                            $("#avatar_file_name").html(file_name)
                    })
                },
                UserProfile
        }(), (
            $ = jQuery
        ).fn.extend({
            "userProfile": function() {
                return this.each(function() {
                    return new Hs.UserProfile
                })
            }
        })
    }.call(
        this),
    function() {
        Hs.UserSelect2 = function() {
            function UserSelect2() {
                this.setupSelect2(),
                    this.telephone = $(".telephone_number").payment("restrictNumeric")
            }
            return UserSelect2.prototype.setupSelect2 = function() {
                    return Hs.Select2.setupPhoneCountryCode(".telephone_country_code"),
                        Hs.Select2.setupCountryCode("#user_country_code"),
                        Hs.Select2.setupCountryCode("#user_nationality_country_code:visible")
                },
                UserSelect2
        }()
    }.call(
        this),
    function() {
        Hs.UserTimezoneCookie = function() {
            function UserTimezoneCookie() {
                var timezone_num, timezone_offset;
                timezone_offset = moment().format("Z"),
                    -12 < (timezone_num = parseInt(timezone_offset)) && timezone_num < 15 && !Hs.logged_in_as_admin ? Hs.Cookie.set("user-timezone-offset", timezone_offset, 1, "/"
                    ) : Hs.Cookie.set("user-timezone-offset", "", -1, "/")
            }
            return UserTimezoneCookie
        }()
    }.call(
        this),
    function() {
        Hs.UserVerifications = function() {
            function UserVerifications() {
                Hs.has_profile_picture || (
                        $(".modal-button").removeClass("hide"),
                        $(".verify-button").addClass("hide")),
                    this.installCallbacks()
            }
            return UserVerifications.prototype.installCallbacks = function() {
                    return $("#user-container").on("avatar.fileuploaddone", function() {
                        return $("input.fileupload").remove(),
                            $(".profile-picture.rounded-picture").removeClass("large").addClass("medium"),
                            $(".new, .modal-button").addClass("hide"),
                            $(".success, .verify-button").removeClass("hide")
                    })
                },
                UserVerifications
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.VideoCall = function() {
            function VideoCall() {}
            var VideoCall, instance
            ;
            return instance = null, (
                    VideoCall = function() {
                        function VideoCall() {
                            var _this;
                            this.internalRingtone = bind(this.internalRingtone, this), this.remindParentPopupIsOpen = bind(this.remindParentPopupIsOpen, this), this.event = "#event", this.video_call_url = null, this.installCallbacks(), this.call_window_interval = window.setInterval((
                                _this = this,
                                function() {
                                    return _this.remindParentPopupIsOpen()
                                }), 2e3)
                        }
                        return VideoCall.prototype.INTERNAL_RINGTONE_URL = "/assets/ringtones/internal-0671ce76ca4512739d43455b7e0be1a36fed90ab93e516dde39cd999394d2377.mp3",
                            VideoCall.prototype.remindParentPopupIsOpen = function() {
                                return window.opener ? window.opener.call_window = window : clearInterval(this.call_window_interval)
                            },
                            VideoCall.prototype.installCallbacks = function() {
                                return this.onClickEndCall(),
                                    this.onClickCancel(),
                                    this.onClickHostButton("#accept_request"),
                                    this.onClickHostButton("#decline_request"),
                                    this.onClickMuteAudio(),
                                    this.onClickMuteVideo(),
                                    this.onClickSidebarHandle(),
                                    this.onClickOpenInParentLinks()
                            },
                            VideoCall.prototype.onClickOpenInParentLinks = function() {
                                return $("body").on("click", ".open_in_parent a", function(
                                    e) {
                                    if (
                                        opener && (
                                            e.preventDefault(),
                                            window.open($(e.target).prop("href"), window.opener.name).focus(),
                                            0 < $(e.target).closest(".call_over").length)
                                    ) return self.close()
                                })
                            },
                            VideoCall.prototype.onClickSidebarHandle = function() {
                                return $("body").on("click", "#handle_background", function() {
                                    return $("#sidebar").toggleClass("collapsed")
                                })
                            },
                            VideoCall.prototype.onClickMuteAudio = function() {
                                var button;
                                return (
                                    button = $("#call_controls #audio_background")
                                ).click(function() {
                                    return button.hasClass("off") ? Hs.Instances.video_call_stream.enableAudio(!0
                                        ) : Hs.Instances.video_call_stream.enableAudio(!1),
                                        button.toggleClass("off")
                                })
                            },
                            VideoCall.prototype.onClickMuteVideo = function() {
                                var button;
                                return (
                                    button = $("#call_controls #video_background")
                                ).click(function() {
                                    return button.hasClass("off") ? Hs.Instances.video_call_stream.enableVideo(!0
                                        ) : Hs.Instances.video_call_stream.enableVideo(!1),
                                        button.toggleClass("off")
                                })
                            },
                            VideoCall.prototype.onClickHostButton = function(button) {
                                return $("body").on("click", button, function() {
                                    if (
                                        confirm($(button).data("confirm"))
                                    ) return $(button).text(I18n.t("misc.general.please_wait")),
                                        $(button).prop("disabled", !0),
                                        $.ajax({
                                            "type": "PUT",
                                            "url": $(button).data("url"),
                                            "dataType": "script"
                                        })
                                })
                            },
                            VideoCall.prototype.onClickEndCall = function() {
                                return $("body").on("click.call", "#end_call", (
                                    _this = this,
                                    function() {
                                        return _this.endVideoSession(), _this.actionEndedCall(), $.ajax({
                                            "type": "PUT",
                                            "url": _this.video_call_url.action("end"),
                                            "dataType": "script"
                                        })
                                    }));
                                var _this
                            },
                            VideoCall.prototype.onClickCancel = function() {
                                return $("body").on("click.call", "#cancel_call", (
                                    _this = this,
                                    function() {
                                        return _this.endVideoSession(), _this.actionEndedCall(), $.ajax({
                                            "type": "PUT",
                                            "url": _this.video_call_url.action("miss"),
                                            "dataType": "script"
                                        })
                                    }));
                                var _this
                            },
                            VideoCall.prototype.actionJoiningCall = function() {
                                var _this;
                                return Hs.PubSub.unsubscribePrefix("videoCall"), Hs.PubSub.subscribe("videoCall::accessAllowed", (
                                        _this = this,
                                        function() {
                                            return $("#publisher_stream").show(), $("#audio_video_controls").show("fade"), $.ajax({
                                                "type": "PUT",
                                                "url": _this.video_call_url.action("start"),
                                                "dataType": "script",
                                                "error": function() {
                                                    return _this.actionMissedCall()
                                                }
                                            })
                                        })),
                                    Hs.PubSub.subscribe("videoCall::accessDenied", function(_this) {
                                        return function() {
                                            return $.ajax({
                                                "type": "PUT",
                                                "url": _this.video_call_url.action("decline"),
                                                "dataType": "script",
                                                "success": function() {
                                                    return _this.actionAccessDenied()
                                                }
                                            })
                                        }
                                    }(
                                        this)),
                                    this.startVideoSession()
                            },
                            VideoCall.prototype.actionInCall = function() {
                                return this.internalRingtone().stop(),
                                    $(this.event).hide("fade"),
                                    $("#sidebar").show("fade"),
                                    $("#cancel_call").prop("id", "end_call"),
                                    Hs.PubSub.subscribe("videoCall::remoteDisconnected", (
                                        _this = this,
                                        function() {
                                            return _this.actionEndedCall(), $.ajax({
                                                "type": "PUT",
                                                "url": _this.video_call_url.action("end"),
                                                "dataType": "script"
                                            })
                                        }));
                                var _this
                            },
                            VideoCall.prototype.actionEndedCall = function() {
                                return this.internalRingtone().stop(),
                                    $("#sidebar").hide("fade"),
                                    $("#call_controls").hide("fade"),
                                    this.replaceActionOnPageWith("ended")
                            },
                            VideoCall.prototype.actionDeclinedCall = function() {
                                return this.internalRingtone().stop(),
                                    this.endVideoSession(),
                                    this.replaceActionOnPageWith("declined"),
                                    $("#call_controls").hide()
                            },
                            VideoCall.prototype.actionOutgoingCall = function() {
                                var _this;
                                return Hs.PubSub.unsubscribePrefix("videoCall"), this.replaceActionOnPageWith("outgoing"), Hs.PubSub.subscribe("videoCall::accessAllowed", (
                                        _this = this,
                                        function() {
                                            return $("#publisher_stream").show(), $("#audio_video_controls").show("fade"), _this.internalRingtone().play()
                                        })),
                                    this.startVideoSession()
                            },
                            VideoCall.prototype.actionAccessDenied = function() {
                                return this.replaceActionOnPageWith("denied"),
                                    $("#call_controls").hide()
                            },
                            VideoCall.prototype.actionTimeoutCall = function() {
                                return this.internalRingtone().stop(),
                                    this.replaceActionOnPageWith("timeout"),
                                    $("#call_controls").hide()
                            },
                            VideoCall.prototype.actionMissedCall = function() {
                                return this.internalRingtone().stop(),
                                    this.endVideoSession(),
                                    this.replaceActionOnPageWith("missed"),
                                    $("#call_controls").hide()
                            },
                            VideoCall.prototype.actionEngagedReceiver = function() {
                                return this.internalRingtone().stop(),
                                    this.replaceActionOnPageWith("engaged"),
                                    $("#call_controls").hide()
                            },
                            VideoCall.prototype.startVideoSession = function() {
                                return Hs.Instances.video_call_stream = new Hs.VideoCallStream("#video_call", {
                                        "voice_mode": Hs.voice_mode
                                    }),
                                    Hs.Instances.video_call_stream.connectToSession(),
                                    Hs.PubSub.subscribe("videoCall::started", (
                                        _this = this,
                                        function() {
                                            return _this.actionInCall()
                                        }));
                                var _this
                            },
                            VideoCall.prototype.endVideoSession = function() {
                                return Hs.Instances.video_call_stream.disconnectFromSession()
                            },
                            VideoCall.prototype.replaceActionOnPageWith = function(action) {
                                return $(this.event).html($("#" + action).html()),
                                    $(this.event).prop("class", action),
                                    $(this.event).show()
                            },
                            VideoCall.prototype.refreshData = function() {
                                return $.get($("#data").data("url")).success(function(
                                    html) {
                                    return $("#data").replaceWith(html),
                                        $("#data #sidebar").show()
                                }).error(function(
                                ) {})
                            },
                            VideoCall.prototype.internalRingtone = function() {
                                return null != this.ringtone_player ? this.ringtone_player : this.ringtone_player = new Hs.Sound(this.INTERNAL_RINGTONE_URL, {
                                    "loop": -1,
                                    "disable_auto_mute": !0
                                })
                            },
                            VideoCall
                    }()
                ).get = function() {
                    return null != instance ? instance : instance = new VideoCall
                },
                VideoCall
        }()
    }.call(
        this),
    function() {
        Hs.VideoCallLauncher = function() {
            function VideoCallLauncher() {
                Hs.Instances.video_call = Hs.VideoCall.get()
            }
            return VideoCallLauncher.prototype.outgoingCall = function() {
                    var _this;
                    return Hs.Instances.video_call.actionOutgoingCall(), Hs.PubSub.subscribe("videoCall::accessAllowed", (
                            _this = this,
                            function() {
                                return _this.createVideoCall()
                            })),
                        Hs.PubSub.subscribe("videoCall::accessDenied", function(_this) {
                            return function() {
                                return _this.accessDenied()
                            }
                        }(
                            this)),
                        Hs.PubSub.subscribe("videoCall::timeout", function(_this) {
                            return function() {
                                return _this.timedOut()
                            }
                        }(
                            this))
                },
                VideoCallLauncher.prototype.acceptedCall = function() {
                    return Hs.Instances.video_call.video_call_url = new Hs.VideoCallUrl(Hs.video_call_id),
                        Hs.Instances.video_call.actionJoiningCall()
                },
                VideoCallLauncher.prototype.createVideoCall = function() {
                    return $.ajax({
                        "type": "POST",
                        "url": Hs.video_call_path,
                        "data": this.createVideoCallParams(),
                        "dataType": "json",
                        "success": function(
                            data) {
                            return Hs.Instances.video_call.video_call_url = new Hs.VideoCallUrl(data.id)
                        },
                        "error": function() {
                            return Hs.Instances.video_call.endVideoSession(),
                                Hs.Instances.video_call.actionEngagedReceiver()
                        }
                    })
                },
                VideoCallLauncher.prototype.createVideoCallParams = function() {
                    return {
                        "video_session_id": Hs.video_session_id,
                        "sender_id": Hs.sender_id,
                        "receiver_id": Hs.receiver_id,
                        "receiver_video_session_url": Hs.receiver_video_session_url
                    }
                },
                VideoCallLauncher.prototype.timedOut = function() {
                    return Hs.Instances.video_call.actionTimeoutCall(),
                        $.ajax({
                            "type": "PUT",
                            "url": Hs.Instances.video_call.video_call_url.action("miss"),
                            "dataType": "script"
                        })
                },
                VideoCallLauncher.prototype.accessDenied = function() {
                    return Hs.Instances.video_call.actionAccessDenied()
                },
                VideoCallLauncher
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.VideoCallStream = function() {
            function VideoCallStream(video_call, options) {
                var api_key, session_id;
                this.options = null != options ? options : {},
                    this.afterTimeout = bind(this.afterTimeout, this),
                    1 === OT.checkSystemRequirements() ? (
                        this.video_call = $(video_call),
                        api_key = this.video_call.data("api-key"),
                        session_id = this.video_call.data("session-id"),
                        this.token = this.video_call.data("token"),
                        this.call_timeout = 1e3 * this.video_call.data("call-timeout"),
                        this.session = OT.initSession(api_key, session_id),
                        this.connection_count = 0,
                        this.timeout = null,
                        this.publisher_properties = {
                            "insertMode": "append",
                            "width": 140,
                            "height": 105,
                            "style": {
                                "buttonDisplayMode": "off"
                            }
                        },
                        this.subscriber_properties = {
                            "insertMode": "append",
                            "width": 620,
                            "height": 468,
                            "style": {
                                "buttonDisplayMode": "off"
                            }
                        },
                        this.installCallbacks()
                    ) : $("body").addClass("incompatible_browser")
            }
            return VideoCallStream.prototype.installCallbacks = function() {
                    return this.session.off(),
                        this.onConnectionCreated(),
                        this.onConnectionDestroyed(),
                        this.onStreamCreated(),
                        this.onStreamDestroyed()
                },
                VideoCallStream.prototype.connectToSession = function() {
                    if (!$("body").hasClass("incompatible_browser")) return this.session.connect(this.token, (
                        _this = this,
                        function() {
                            return _this.publishToSession()
                        }));
                    var _this
                },
                VideoCallStream.prototype.disconnectFromSession = function() {
                    return this.timeout && clearTimeout(this.timeout),
                        this.timeout = null,
                        $("#subscriber_stream").hide("fade"),
                        this.session.disconnect(),
                        Hs.log("Disconnected from session"),
                        this.connection_count -= 1,
                        Hs.log("Connections are now " + this.connection_count),
                        this.publisher = !1,
                        this.subscriber = !1,
                        this.stream = !1
                },
                VideoCallStream.prototype.onConnectionCreated = function() {
                    return this.session.on("connectionCreated", (
                        _this = this,
                        function() {
                            if (_this.connection_count += 1, 2 === _this.connection_count) return Hs.log("Other party connected; CANCEL THE TIMEOUT!"), clearTimeout(_this.timeout)
                        }));
                    var _this
                },
                VideoCallStream.prototype.onConnectionDestroyed = function() {
                    return this.session.on("connectionDestroyed", (
                        _this = this,
                        function() {
                            return _this.connection_count -= 1, Hs.log("connections are now " + _this.connection_count)
                        }));
                    var _this
                },
                VideoCallStream.prototype.onStreamCreated = function() {
                    return this.session.on("streamCreated", (
                        _this = this,
                        function(event) {
                            if (Hs.log("Remote stream created"), _this.stream = event.stream, _this.publisher && _this.publisher.accessAllowed) return _this.subscribeToStream()
                        }));
                    var _this
                },
                VideoCallStream.prototype.onStreamDestroyed = function() {
                    return this.session.on("streamDestroyed", (
                        _this = this,
                        function() {
                            return Hs.log("Remote stream destroyed"), Hs.PubSub.publish("videoCall::remoteDisconnected"), _this.disconnectFromSession()
                        }));
                    var _this
                },
                VideoCallStream.prototype.enableVideo = function(boolean) {
                    if (
                        this.publisher
                    ) return this.publisher.publishVideo(boolean)
                },
                VideoCallStream.prototype.enableAudio = function(boolean) {
                    if (
                        this.publisher
                    ) return this.publisher.publishAudio(boolean)
                },
                VideoCallStream.prototype.subscribeToStream = function() {
                    return this.subscriber = this.session.subscribe(this.stream, "subscriber_stream", this.subscriber_properties),
                        Hs.log("Subscribed to remote stream"),
                        $("#subscriber_stream").show(),
                        Hs.PubSub.publish("videoCall::started")
                },
                VideoCallStream.prototype.publishToSession = function() {
                    var _this;
                    return this.publisher = OT.initPublisher("publisher_stream", this.publisher_properties), this.session.publish(this.publisher, (
                            _this = this,
                            function(error) {
                                return error && 1500 === error.code ? (_this.disconnectFromSession(), Hs.PubSub.publish("videoCall::accessDenied")) : _this.publisher.accessAllowed ? _this.showPublisherStreamAndNotify : void 0
                            })),
                        this.publisher.on("accessAllowed", function(_this) {
                            return function() {
                                return _this.showPublisherStreamAndNotify()
                            }
                        }(
                            this)),
                        this.publisher.on("accessDenied", function(_this) {
                            return function() {
                                return Hs.PubSub.publish("videoCall::accessDenied"),
                                    _this.disconnectFromSession()
                            }
                        }(
                            this)),
                        this.publisher.on("streamCreated", function(_this) {
                            return function() {
                                return Hs.log("local stream created"),
                                    _this.stream ? _this.subscribeToStream(
                                    ) : _this.timeout = setTimeout(_this.afterTimeout, _this.call_timeout)
                            }
                        }(
                            this))
                },
                VideoCallStream.prototype.showPublisherStreamAndNotify = function() {
                    return "true" === this.options.voice_mode && this.enableVideo(!1),
                        this.toggleElement(!0, "#publisher_stream"),
                        Hs.PubSub.publish("videoCall::accessAllowed")
                },
                VideoCallStream.prototype.afterTimeout = function() {
                    return Hs.log("Call timed out!"),
                        Hs.PubSub.publish("videoCall::timeout"),
                        this.disconnectFromSession()
                },
                VideoCallStream.prototype.toggleElement = function(show, element_id) {
                    return show ? $("" + element_id).removeClass("hide"
                    ) : $("" + element_id).addClass("hide")
                },
                VideoCallStream
        }()
    }.call(
        this),
    function() {
        Hs.VideoCallUrl = function() {
            function VideoCallUrl(video_call_id) {
                this.video_call_id = video_call_id,
                    this.path = Hs.video_call_path
            }
            return VideoCallUrl.prototype.action = function(action) {
                    return this.path + "/" + this.video_call_id + "/" + action
                },
                VideoCallUrl
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.VideoMessage = function() {
            function VideoMessage() {
                this.videoAvailable = bind(this.videoAvailable, this),
                    this.showErrorMessage = bind(this.showErrorMessage, this),
                    this.elements = {
                        "parent": $("#video-message"),
                        "videoFrame": $("#video-frame"),
                        "uploading": $("#uploading"),
                        "denied": $("#denied"),
                        "disclaimer": $("#disclaimer"),
                        "errors": $("#video-message .errors"),
                        "controls": {
                            "parent": $("#video-controls"),
                            "recordingStatus": $("#video-controls .recording-pulse"),
                            "countdownClock": $("#video-controls .clock"),
                            "startControls": $("#video-controls .start-controls"),
                            "pauseControls": $("#video-controls .pause-controls"),
                            "endControls": $("#video-controls .end-controls")
                        }
                    },
                    this.buttonHandlers(),
                    Hs.GTM.trackCustomEvent("videoMessages", "New"),
                    this.recordingTimeLimit = 300001
            }
            return VideoMessage.prototype.initStreamAndPublisher = function() {
                    var apiKey, sessionId,
                        _this;
                    return 1 === OT.checkSystemRequirements() ? (this.elements.parent.removeClass("hidden"), apiKey = this.elements.parent.data("api-key"), sessionId = this.elements.parent.data("sessionId"), this.session = OT.initSession(apiKey, sessionId), this.token = this.elements.parent.data("token"), this.session.connect(this.token, (
                            _this = this,
                            function() {
                                return _this.readyToRecord()
                            })),
                        this.publisher = OT.initPublisher("publisher_stream", {
                            "insertMode": "append",
                            "height": "100%",
                            "width": "100%",
                            "style": {
                                "buttonDisplayMode": "off"
                            }
                        }),
                        this.publisher.on("accessAllowed", function(_this) {
                            return function() {
                                return _this.accessAllowed()
                            }
                        }(
                            this)),
                        this.publisher.on("accessDenied", function(_this) {
                            return function() {
                                return _this.accessDenied()
                            }
                        }(
                            this)),
                        this.publisher.on("streamCreated", function(_this) {
                            return function() {
                                return Hs.log("videoMessage::streamingPublisher"),
                                    _this.startRecording()
                            }
                        }(
                            this)),
                        this.publisher.on("streamDestroyed", function(
                            event) {
                            return event.preventDefault()
                        }),
                        Hs.PubSub.subscribe("pubnub::videoMessage::available", this.videoAvailable)
                    ) : $("body").addClass("incompatible_browser")
                },
                VideoMessage.prototype.readyToRecord = function() {
                    return this.elements.controls.startControls.removeClass("invisible")
                },
                VideoMessage.prototype.startStreaming = function() {
                    return this.session.publish(this.publisher, function(
                        error) {
                        if (
                            error && 1500 === error.code
                        ) return Hs.log("videoMessage::accessDenied")
                    })
                },
                VideoMessage.prototype.stopSteaming = function() {
                    return this.session.unpublish(this.publisher),
                        this.elements.controls.recordingStatus.removeClass("on"),
                        Hs.log("videoMessage::unpublished")
                },
                VideoMessage.prototype.buttonHandlers = function() {
                    var _this;
                    return this.elements.disclaimer.on("click", ".continue", (
                            _this = this,
                            function() {
                                return _this.initStreamAndPublisher(), _this.elements.disclaimer.addClass("hidden")
                            })),
                        this.elements.controls.parent.one("click", ".start", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "Start"),
                                    _this.pressStart()
                            }
                        }(
                            this)).on("click", ".pause", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "Pause"),
                                    _this.pressPause()
                            }
                        }(
                            this)).on("click", ".resume", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "Resume"),
                                    _this.pressResume()
                            }
                        }(
                            this)).on("click", ".end", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "End"),
                                    _this.pressEnd()
                            }
                        }(
                            this)).on("click", ".publish", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "Publish"),
                                    _this.pressPublish()
                            }
                        }(
                            this)).on("click", ".restart", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "Restart"),
                                    _this.pressRestart()
                            }
                        }(
                            this)).on("click", ".cancel", function(_this) {
                            return function() {
                                return Hs.GTM.trackCustomEvent("videoMessages", "Cancel"),
                                    _this.pressCancel()
                            }
                        }(
                            this))
                },
                VideoMessage.prototype.pressStart = function() {
                    return this.hideErrorMessage(),
                        this.elements.controls.startControls.find(".text").addClass("hidden"),
                        this.elements.controls.startControls.find(".sk-circle").removeClass("hidden"),
                        this.startStreaming()
                },
                VideoMessage.prototype.pressPause = function() {
                    return this.elements.controls.startControls.addClass("hidden"),
                        this.elements.controls.pauseControls.removeClass("hidden"),
                        this.stopSteaming(),
                        this.pauseCountdown()
                },
                VideoMessage.prototype.pressResume = function() {
                    return this.elements.controls.pauseControls.addClass("hidden"),
                        this.elements.controls.startControls.removeClass("hidden"),
                        this.countdownClock.hasFinished() || this.startStreaming(),
                        this.elements.controls.recordingStatus.addClass("on"),
                        this.resumeCountdown()
                },
                VideoMessage.prototype.pressEnd = function() {
                    return this.elements.controls.pauseControls.addClass("hidden"),
                        this.elements.controls.startControls.removeClass("recording"),
                        this.stopRecording(),
                        this.showUploadingMessage()
                },
                VideoMessage.prototype.pressRestart = function() {
                    return this.session.disconnect(),
                        window.location.reload()
                },
                VideoMessage.prototype.showUploadingMessage = function() {
                    return this.elements.videoFrame.addClass("hidden"),
                        this.elements.uploading.removeClass("hidden")
                },
                VideoMessage.prototype.pressPublish = function() {
                    return this.elements.controls.countdownClock.html(""),
                        $.ajax({
                            "type": "PUT",
                            "url": this.resourceUrls.publish,
                            "dataType": "json",
                            "success": function() {
                                return self.window.opener.Hs.onVideoMessagePublish(),
                                    self.close()
                            }
                        })
                },
                VideoMessage.prototype.pressCancel = function() {
                    return self.close()
                },
                VideoMessage.prototype.startRecording = function() {
                    if (!this.elements.controls.startControls.hasClass("recording")) return $.ajax({
                        "type": "POST",
                        "url": this.elements.parent.data("url"),
                        "dataType": "json",
                        "data": {
                            "video_session_id": this.session.sessionId
                        },
                        "success": (
                            _this = this,
                            function(data) {
                                return _this.resourceUrls = data.resource_urls, _this.elements.controls.startControls.addClass("recording"), _this.elements.controls.recordingStatus.removeClass("hidden").addClass("on"), _this.countdownClock = new Hs.Util.CountdownClock(_this.recordingTimeLimit), _this.updateCountdownClock(), _this.captureScreenshot()
                            }),
                        "error": function(
                            _this) {
                            return function() {
                                return _this.showErrorMessage(".comm-error"),
                                    setTimeout(function() {
                                            return _this.pressRestart()
                                        },
                                        3e3)
                            }
                        }(
                            this)
                    });
                    var _this
                },
                VideoMessage.prototype.showErrorMessage = function(className) {
                    return this.elements.errors.find(".on").removeClass("on"),
                        this.elements.errors.find(className).addClass("on"),
                        this.elements.errors.addClass("active")
                },
                VideoMessage.prototype.hideErrorMessage = function() {
                    return this.elements.errors.removeClass("active")
                },
                VideoMessage.prototype.captureScreenshot = function() {
                    return setTimeout((
                        _this = this,
                        function() {
                            return _this.screenshotEncoded = _this.publisher.getImgData()
                        }), 1e3);
                    var _this
                },
                VideoMessage.prototype.updateCountdownClock = function() {
                    return this.interval = setInterval((
                        _this = this,
                        function() {
                            if (_this.elements.controls.countdownClock.html(_this.countdownClock.clock()), _this.countdownClock.hasFinished()) return _this.pressPause(), clearInterval(_this.interval)
                        }), 1e3);
                    var _this
                },
                VideoMessage.prototype.pauseCountdown = function() {
                    return this.countdownClock.pause(),
                        this.elements.controls.countdownClock.addClass("hidden"),
                        clearInterval(this.interval)
                },
                VideoMessage.prototype.resumeCountdown = function() {
                    return this.elements.controls.countdownClock.removeClass("hidden"),
                        this.countdownClock.resume(),
                        this.updateCountdownClock()
                },
                VideoMessage.prototype.stopRecording = function() {
                    return this.elements.controls.recordingStatus.addClass("hidden"),
                        $.ajax({
                            "type": "PUT",
                            "url": this.resourceUrls.stop,
                            "dataType": "json",
                            "data": {
                                "screenshot_data": this.screenshotEncoded
                            }
                        })
                },
                VideoMessage.prototype.videoAvailable = function(params) {
                    var videoElm;
                    if (
                        params.id === this.session.id
                    ) return this.elements.controls.startControls.hasClass("recording") && this.pressEnd(),
                        this.elements.uploading.addClass("hidden"),
                        this.elements.controls.endControls.removeClass("hidden"), (
                            videoElm = $("<video>", {
                                "controls": "controls",
                                "autoplay": "autoplay"
                            })
                        ).append($("<source>", {
                            "type": "video/mp4",
                            "src": params.url
                        })),
                        $("#recorded-video").append(videoElm)
                },
                VideoMessage.prototype.accessDenied = function() {
                    return this.elements.controls.startControls.addClass("hidden"),
                        this.elements.denied.removeClass("hidden")
                },
                VideoMessage.prototype.accessAllowed = function() {
                    return this.elements.denied.addClass("hidden"),
                        this.elements.controls.startControls.removeClass("hidden")
                },
                VideoMessage
        }()
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.VideoNotifications = function() {
            function VideoNotifications(notification_handler) {
                this.ringtone = bind(this.ringtone, this),
                    this.declineCallback = bind(this.declineCallback, this),
                    this.handleStarted = bind(this.handleStarted, this),
                    this.handleMissed = bind(this.handleMissed, this),
                    this.handleAccepted = bind(this.handleAccepted, this),
                    this.handleDeclined = bind(this.handleDeclined, this),
                    this.handleIncoming = bind(this.handleIncoming, this),
                    this.notification_handler = notification_handler,
                    this.tracked_notification_elements = {},
                    Hs.current_user_id && this.subscribeToEvents()
            }
            return VideoNotifications.prototype.RINGTONE_URL = "/assets/ringtones/default-bf1f5c4eb6a09801bcd1692a52d6cc279c08298b75dd324fc26d7f224fd9a3d8.mp3",
                VideoNotifications.prototype.subscribeToEvents = function() {
                    return Hs.PubSub.subscribe("pubnub::call::incoming", this.handleIncoming),
                        Hs.PubSub.subscribe("pubnub::call::missed", this.handleMissed),
                        Hs.PubSub.subscribe("pubnub::call::started", this.handleStarted)
                },
                VideoNotifications.prototype.handleIncoming = function(params) {
                    var $element,
                        _this;
                    if (this.notification_handler.shouldHandleMessage(params)) return $element = this.tracked_notification_elements[params.video_call_id] = this.notification_handler.createNotification(this.template("notifications/call_incoming"), params, !1, !1), this.ringtone().play(), $element.find("#ignore-call").click((
                            _this = this,
                            function() {
                                return _this.handleDeclined(params)
                            })),
                        $element.find("#accept-call").click(function(_this) {
                            return function() {
                                return _this.handleAccepted(params)
                            }
                        }(
                            this))
                },
                VideoNotifications.prototype.handleDeclined = function(params) {
                    if (
                        this.declineCallback(params.video_call_id, params.video_session_id),
                        this.notification_handler.createNotification("notifications/call_declined", params, 1e4, !1),
                        this.ringtone().stop(),
                        this.tracked_notification_elements[params.video_call_id]
                    ) return this.notification_handler.dismissElement(this.tracked_notification_elements[params.video_call_id]),
                        delete this.tracked_notification_elements[params.video_call_id]
                },
                VideoNotifications.prototype.handleAccepted = function(params) {
                    var window_features;
                    if (
                        this.ringtone().stop(),
                        window_features = "menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=620,height=468",
                        window.open(this.videoSessionUrl(params.role, params.video_session_id, params.video_call_id, params.booking_request.marketplace.subdomain), "video", window_features).focus(),
                        this.tracked_notification_elements[params.video_call_id]
                    ) return this.notification_handler.dismissElement(this.tracked_notification_elements[params.video_call_id]),
                        delete this.tracked_notification_elements[params.video_call_id]
                },
                VideoNotifications.prototype.handleMissed = function(params) {
                    if (
                        this.notification_handler.shouldHandleMessage(params)
                    ) return this.notification_handler.createNotification(this.template("notifications/call_missed"), params),
                        this.ringtone().stop(),
                        this.tracked_notification_elements[params.video_call_id] ? (
                            this.notification_handler.dismissElement(this.tracked_notification_elements[params.video_call_id]),
                            delete this.tracked_notification_elements[params.video_call_id]) : void 0
                },
                VideoNotifications.prototype.handleStarted = function(params) {
                    if (
                        this.notification_handler.shouldHandleMessage(params)
                    ) return this.ringtone().stop(),
                        this.tracked_notification_elements[params.video_call_id] ? (
                            this.notification_handler.dismissElement(this.tracked_notification_elements[params.video_call_id]),
                            delete this.tracked_notification_elements[params.video_call_id]) : void 0
                },
                VideoNotifications.prototype.declineCallback = function(call_id) {
                    return $.ajax({
                        "type": "PUT",
                        "url": this.videoCallUrl(call_id, "decline"),
                        "dataType": "script"
                    })
                },
                VideoNotifications.prototype.videoCallUrl = function(call_id, action) {
                    return new Hs.Util.UrlBuilder("/user/video_calls/" + call_id + "/" + action).get()
                },
                VideoNotifications.prototype.videoSessionUrl = function(role, session_id, call_id, marketplace_subdomain) {
                    var subdomain_pattern
                    ;
                    return subdomain_pattern = /:\/\/.+?\./, ("host" === role ? Hs.video_session_paths.host : Hs.video_session_paths.guest).replace(subdomain_pattern, "://" + marketplace_subdomain + ".") + "/" + session_id + "?trigger=accepted&video_call_id=" + call_id
                },
                VideoNotifications.prototype.template = function(path) {
                    return Hs.mobile_device && (
                            path += "_mobile"),
                        path
                },
                VideoNotifications.prototype.ringtone = function() {
                    return null != this.ringtone_player ? this.ringtone_player : this.ringtone_player = new Hs.Sound(this.RINGTONE_URL, {
                        "loop": -1,
                        "disable_auto_mute": !0
                    })
                },
                VideoNotifications
        }()
    }.call(
        this),
    function() {
        var $
        ;
        Hs.VideoSession = function() {
            function VideoSession(parent) {
                this.parent = parent,
                    Hs.Instances.pubnub_call_events = new Hs.PubnubCallEvents,
                    this.launchCall()
            }
            return VideoSession.prototype.launchCall = function() {
                    switch (
                        this.parent.find("#video_call_container").data("trigger")) {
                        case "outgoing":
                            return (
                                new Hs.VideoCallLauncher).outgoingCall();
                        case "accepted":
                            return (
                                new Hs.VideoCallLauncher).acceptedCall()
                    }
                },
                VideoSession
        }(), (
            $ = jQuery
        ).fn.extend({
            "videoSession": function() {
                return this.each(function() {
                    return new Hs.VideoSession($(this))
                })
            }
        })
    }.call(
        this),
    function() {
        var bind = function(fn, me) {
            return function() {
                return fn.apply(me, arguments)
            }
        }
        ;
        Hs.Widget = function() {
            function Widget() {
                this.trackEvent = bind(this.trackEvent, this),
                    this.installClickHandler = bind(this.installClickHandler, this),
                    this.installClickHandler(),
                    this.trackEvent()
            }
            return Widget.prototype.installClickHandler = function() {
                    return $("body").on("click", ".widget .cancel", function(
                        element) {
                        return $(element.currentTarget).parents(".widget").slideUp()
                    })
                },
                Widget.prototype.trackEvent = function() {
                    if (
                        $(".widget").is(":visible")
                    ) return Hs.GTM.trackCustomEvent("Referrals", "Widget Shown - " + $(".widget").data("widget") + " - " + Hs.controller_action + " - " + (Hs.current_user_has_referred ? "has-referred" : "has-not-referred"))
                },
                Widget
        }()
    }.call(
        this),
    function() {
        Hs.YoutubeOndemand = function() {
            function YoutubeOndemand() {
                var _this;
                $(".youtube-player").each((
                    _this = this,
                    function(index, element) {
                        var $videoElm, videoId;
                        return $videoElm = $(element), videoId = $videoElm.data("id"), Hs.mobile_device ? _this.embedVideo(videoId, $videoElm) : $videoElm.on("click", ".placeholder", function() {
                            return _this.embedVideo(videoId, $videoElm)
                        })
                    }))
            }
            return YoutubeOndemand.prototype.embedVideo = function(videoId, $videoElm) {
                    return $(window).scroll(function() {
                            var $iframe, windowOffset;
                            if (
                                windowOffset = $(window).scrollTop() + $(window).height(), !$videoElm.hasClass("js-applied") && $videoElm.offset().top <= windowOffset
                            ) return $iframe = $("<iframe/>", {
                                    "src": "//www.youtube.com/embed/" + videoId + "?rel=0&autoplay=1&autohide=2&border=0&controls=2&showinfo=0&iv_load_policy=3",
                                    "frameborder": 0,
                                    "allowfullscreen": 1,
                                    "id": "youtube-iframe"
                                }),
                                $videoElm.addClass("js-applied"),
                                $videoElm.find(".placeholder").html($iframe)
                        }),
                        $(window).trigger("scroll")
                },
                YoutubeOndemand
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.BookingRequest = function() {
            function BookingRequest(force) {
                var guest_form_el, request_el;
                null == force && (
                        force = !1),
                    Hs.disable_booking_request_initializer || (
                        force ? guest_form_el = request_el = $("body") : (
                            request_el = $(".booking_requests.create, .booking_requests.show"),
                            guest_form_el = $(".booking_requests.new, .booking_requests.create, .enquiries.new")),
                        request_el.homestayBookingRequest(),
                        guest_form_el.guestFormDetails(),
                        Hs.GTM.trackFormInteraction($("#new_booking_request"), "Booking Request Form Original"),
                        this.installAllowGuestContactListener(),
                        $(".booking_requests .row.declined, .booking_requests .row.expired").homestayBookingRequestClosed(),
                        $(".booking_requests.show").homestayBookingRequestCheckInExpired(),
                        $("#new_booking_request").homestayBookingRequestPriceNegotiation(),
                        new Hs.Toggler($('.opt-in-out .opt-in input[type="submit"]'), $(".opt-in-out .opt-in"), $(".opt-in-out .opt-out")),
                        new Hs.Toggler($('.opt-in-out .opt-out input[type="submit"]'), $(".opt-in-out .opt-out"), $(".opt-in-out .opt-in")),
                        $(".opt-in-out .opt-in .icon").popover({
                            "container": $(".opt-in-out .opt-in .icon"),
                            "html": !0,
                            "placement": "bottom",
                            "trigger": "hover",
                            "content": I18n.t("leads.opt_in.tooltip")
                        }),
                        $(".opt-in-out .opt-out .icon").popover({
                            "container": $(".opt-in-out .opt-out .icon"),
                            "html": !0,
                            "placement": "bottom",
                            "trigger": "hover",
                            "content": I18n.t("leads.opt_out.tooltip")
                        }))
            }
            return BookingRequest.prototype.installAllowGuestContactListener = function() {
                    var input, inputForm;
                    return input = $('input[name="accept_offers"]'),
                        inputForm = input.parent("form"),
                        input.click(function() {
                            return inputForm.submit()
                        })
                },
                BookingRequest
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.GoogleMapsAndSearch = function() {
            function GoogleMapsAndSearch() {
                "test" === Hs.environment ? this.initializeSearch(
                ) : this.loadGoogleMaps()
            }
            return GoogleMapsAndSearch.prototype.loadGoogleMaps = function() {
                    return Hs.GoogleMapClient.get().registerGoogleMapsCallback((
                        _this = this,
                        function() {
                            return _this.initializeSearch(), _this.initializeMaps()
                        }));
                    var _this
                },
                GoogleMapsAndSearch.prototype.initializeSearch = function() {
                    return Hs.Instances.homestay_search = new Hs.Search($("#homestay-main-search"), Hs.selected_location, {
                            "debug_mode": Hs.debug_mode
                        }),
                        Hs.Instances.nav_search = new Hs.Search($("#homestay-nav-search"), Hs.selected_location, {
                            "debug_mode": Hs.debug_mode
                        }),
                        Hs.Instances.trips_search = new Hs.Search($("#trips-search"), $("#trips-search #search_location").val())
                },
                GoogleMapsAndSearch.prototype.initializeMaps = function() {
                    if (
                        $("#office-map-canvas").officeMap(),
                        Hs.Instances.homestay_edit
                    ) return Hs.Instances.homestay_edit.initEditMap()
                },
                GoogleMapsAndSearch
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.HandlerbarHelper = function() {
            function HandlerbarHelper() {
                this.translation_helper(),
                    this.localize_date_helper(),
                    this.markdown_i18n_helper(),
                    this.to_lower_case_helper()
            }
            return HandlerbarHelper.prototype.translation_helper = function() {
                    return Handlebars.registerHelper("I18n", function(str, placeholders) {
                        return I18n.t(str, placeholders.hash)
                    })
                },
                HandlerbarHelper.prototype.localize_date_helper = function() {
                    return Handlebars.registerHelper("LocalizeDate", function(date) {
                        return moment(date).format("D MMM YY")
                    })
                },
                HandlerbarHelper.prototype.markdown_i18n_helper = function() {
                    return Handlebars.registerHelper("Markdown", function(str, placeholders) {
                        return markdown.toHTML(I18n.t(str, placeholders.hash))
                    })
                },
                HandlerbarHelper.prototype.to_lower_case_helper = function() {
                    return Handlebars.registerHelper("toLowerCase", function(str) {
                        return str.toLowerCase()
                    })
                },
                HandlerbarHelper
        }()
    }.call(
        this),
    function() {
        $(function() {
            if (
                $("body").hasClass("jobs/frontend_engineer")
            ) return Hs.getScript("//cdn.rawgit.com/namuol/cheet.js/master/cheet.min.js", function() {
                return cheet("\u2191 \u2191 \u2193 \u2193 \u2190 \u2192 \u2190 \u2192 b a", function() {
                    var m;
                    return m = '<div id="egg" class="fade bs-example-modal-sm" role="dialog" aria-hidden="true" style="position: absolute; top:100px; left:25%; width:50%;"><div class="modal-dialog" style="left:auto;"><div class="modal-content"><div class="modal-body"><img src="http://i.imgur.com/kXbbpyL.jpg" width="100%"></div></div></div></div>',
                        $("body").append(m),
                        $("#egg").modal()
                })
            })
        })
    }.call(
        this),
    function() {
        Hs.Initializers.Linkable = function() {
            function Linkable() {
                $(".linkable").on("click", function(evt) {
                    var href, source;
                    return source = evt.delegateTarget,
                        href = $(source).attr("href"),
                        window.location = href
                })
            }
            return Linkable
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.Login = function() {
            function Login() {
                $(".login-container").on("click", "a[data-login=true]", function(e) {
                        return e.preventDefault(),
                            Hs.Login.open($(this).data())
                    }),
                    "#login" === window.location.hash && Hs.Login.open(),
                    !0 === Hs.login && Hs.Login.open()
            }
            return Login
        }()
    }.call(
        this),
    function() {
        Hs.MaxMin = function() {
                function MaxMin() {
                    $("body").on("change keyup keydown paste", "form [data-min-length]", this.min),
                        $("body").on("change keyup keydown paste", "form [data-max-length]", this.max),
                        $("[data-max-length], [data-min-length]").trigger("change")
                }
                return MaxMin.prototype.max = function() {
                        var characters, element, errors, help, length, maxLength, maximum, remaining, remaining_text, suggestion_el
                        ;
                        return suggestion_el = (element = $(this)).closest(".form-group").find(".max-length-suggestion"),
                            remaining = (maxLength = element.attr("data-max-length")) - (length = element.val().length),
                            errors = 0 < element.closest(".has-error").length,
                            0 < length && element.closest(".has-error").removeClass("has-error"),
                            remaining < 0 && (
                                element.val(element.val().substr(0, maxLength)),
                                remaining = 0),
                            suggestion_el.is(":visible") ? suggestion_el.find("strong").text(remaining) : errors ? void 0 : (
                                maximum = I18n.t("misc.general.maximum"),
                                characters = I18n.t("misc.general.characters"),
                                remaining_text = I18n.t("misc.general.remaining"),
                                help = $("<p />").text(maximum + " " + maxLength + " " + characters + " (").addClass("text-gray help-block max-length-suggestion").append($("<strong>", {
                                    "text": remaining
                                })).append(
                                    " " + remaining_text + ")"),
                                element.closest(".form-group").append(help))
                    },
                    MaxMin.prototype.min = function() {
                        var characters, element, help, length, minLength, minimum, remaining, remaining_chars, suggestion_el
                        ;
                        return suggestion_el = (element = $(this)).closest(".form-group").find(".min-length-suggestion"),
                            remaining_chars = (minLength = element.attr("data-min-length")) - (length = element.val().length),
                            0 < length && suggestion_el.slideDown(),
                            0 <= remaining_chars ? (
                                element.parent().find("span.help-block").remove(),
                                suggestion_el.length ? suggestion_el.find("strong").text(remaining_chars) : (
                                    minimum = I18n.t("misc.general.minimum"),
                                    characters = I18n.t("misc.general.characters"),
                                    remaining = I18n.t("misc.general.remaining"),
                                    help = $("<p />").text(minimum + " " + minLength + " " + characters + " (").addClass("text-gray help-block min-length-suggestion").append($("<strong>", {
                                        "text": remaining_chars
                                    })).append(
                                        " " + remaining + ")"),
                                    element.data("length-msg-intially-hide") && help.hide(),
                                    element.data("help-block") && help.prepend(element.data("help-block") + " "),
                                    element.closest(".form-group").append(help))) : (
                                element.closest(".has-error").removeClass("has-error"),
                                suggestion_el.find("strong").text(0))
                    },
                    MaxMin
            }(),
            Hs.ready(function() {
                return new Hs.MaxMin
            })
    }.call(
        this),
    function() {
        Hs.Initializers.MessageBox = function() {
            function MessageBox() {
                var $travelReason, $travelReasonOther, $travelReasonOtherWrapper, showReasonOther;
                $("#message_body"),
                    $travelReason = $("#booking_request_travel_reason"),
                    $travelReasonOther = $("#booking_request_travel_reason_other").parents().find(".booking_request_travel_reason_other"),
                    $travelReasonOtherWrapper = $travelReasonOther.parents().find(".travel-reason-other-wrapper"),
                    $("#message_body").on("focus", function() {
                        return $(this).autosize({
                            "append": "\n"
                        })
                    }),
                    $("#batch_message_body").on("focus", function() {
                        return $(this).autosize({
                            "append": "\n"
                        })
                    }), (
                        showReasonOther = function() {
                            return "99" === $travelReason.val() ? (
                                $travelReasonOther.removeClass("hide"),
                                $travelReasonOtherWrapper.removeClass("hide")) : (
                                $travelReasonOther.addClass("hide"),
                                $travelReasonOtherWrapper.addClass("hide"))
                        })(
                    ),
                    $travelReason.on("change", showReasonOther)
            }
            return MessageBox
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.NewReview = function() {
            function NewReview() {
                $("#review_rating").heartRating()
            }
            return NewReview
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.Popover = function() {
            function Popover() {
                null != ("undefined" != typeof Hs && null !== Hs ? Hs.Popover : void 0) && Hs.Popover.enablePopovers(),
                    $("body").on("click", ".popover a[data-close]", function(
                        evt) {
                        return $(evt.target).parents(".popover").popover("hide"), !1
                    })
            }
            return Popover
        }()
    }.call(
        this),
    function() {
        Hs.Pubnub = function() {
            function Pubnub() {}
            var Pubnub, instance
            ;
            return instance = null, (
                    Pubnub = function() {
                        function Pubnub() {
                            Hs.search_bot || (
                                this.client = this.initPubnub(),
                                Hs.user_channel && this.subscribeToChannel(Hs.user_channel))
                        }
                        return Pubnub.prototype.initPubnub = function() {
                                var client, pubnubSettings,
                                    _this;
                                return pubnubSettings = {
                                        "origin": "pubnub.ably.io",
                                        "publish_key": "PY9xAA.Kisf-A:BFny1rAlSjQGhDKi",
                                        "subscribe_key": "PY9xAA.Kisf-A:BFny1rAlSjQGhDKi",
                                        "ssl": "https" === Hs.protocol
                                    }, client = PUBNUB.init(pubnubSettings), window.onbeforeunload = (
                                        _this = this,
                                        function() {
                                            _this.client.unsubscribe({
                                                "channel": _this.client.get_subscribed_channels()
                                            })
                                        }),
                                    Hs.log("PubNub initialised"),
                                    client
                            },
                            Pubnub.prototype.subscribeToChannel = function(channel) {
                                if (
                                    channel
                                ) return this.client.subscribe({
                                    "channel": channel,
                                    "connect": function() {
                                        return Hs.log("Subscribed to " + channel)
                                    },
                                    "message": function(
                                        m) {
                                        return Hs.log(m.event),
                                            Hs.PubSub.publish(m.event, m.params)
                                    }
                                })
                            },
                            Pubnub.prototype.openTabChannel = function() {
                                return this.tabChannel = "tab-" + Math.random().toString(36).replace(/[^a-z]+/g, "").substr(0, 5),
                                    this.client.subscribe({
                                        "channel": this.tabChannel,
                                        "callback": function() {}
                                    })
                            },
                            Pubnub.prototype.openTabChannelCount = function(callback) {
                                return null == callback && (
                                        callback = function() {}),
                                    this.client.where_now({
                                        "callback": function(
                                            m) {
                                            var tabChannels;
                                            return tabChannels = m.channels.filter(function(channel) {
                                                    return -1 !== channel.indexOf("tab-")
                                                }),
                                                callback(tabChannels.length)
                                        }
                                    })
                            },
                            Pubnub.prototype.openTabChannels = function(callback) {
                                return null == callback && (
                                        callback = function() {}),
                                    this.client.where_now({
                                        "callback": function(
                                            m) {
                                            return callback(m.channels)
                                        }
                                    })
                            },
                            Pubnub
                    }()
                ).get = function() {
                    return null != instance ? instance : instance = new Pubnub
                },
                Pubnub
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.Reveal = function() {
            function Reveal() {
                Hs.ready(function() {
                    return $(".hide-until-js-rdy").removeClass("hide-until-js-rdy")
                })
            }
            return Reveal
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.SignTermsModal = function() {
            function SignTermsModal() {
                Hs.host_terms_needs_signing && $("#host_terms_needs_signing").modal({
                    "backdrop": "static",
                    "keyboard": !1
                })
            }
            return SignTermsModal
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.Signup = function() {
            function Signup() {
                $("#navbar_items, #header, #mobile_header, #guest-login-modal").on("click", 'a[data-guest-signup="true"]', function(evt) {
                        return evt.preventDefault(),
                            Hs.GuestSignup.open($(this).data())
                    }),
                    $(".host.index").on("click", 'a[data-host-signup="true"]', function(evt) {
                        return evt.preventDefault(),
                            Hs.GuestSignup.open(),
                            $("#user_want_to_host").prop("checked", !0)
                    }),
                    "#signup" === window.location.hash && Hs.GuestSignup.open(),
                    !0 === Hs.signup && Hs.GuestSignup.open(),
                    $("#guest-signup-modal, #host-signup.signup-form").find("a.facebook, button.google").on("click", function(e) {
                        var $tcsParent;
                        return (
                            $tcsParent = $(this).parents(".signup-form").find(".user_tcs")
                        ).find("input#user_tcs").prop("checked") ? (
                            $("#guest-signup-modal.in").length && Hs.Cookie.set("registration_from", "booking_requests", 365),
                            $(this).hasClass("google") ? (
                                e.preventDefault(),
                                new Hs.GoogleLogin($(this), $(this).parent("form"), {
                                    "skip_click_handling": !0
                                }).handleClick(
                                    e)) : void 0) : (e.preventDefault(), void($tcsParent.hasClass("has-error") || $tcsParent.addClass("has-error").find("div").first().append("<span class='help-block'>" + $tcsParent.data("error-message") + "</span>")))
                    })
            }
            return Signup
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.Tooltips = function() {
            function Tooltips() {
                var is_touch;
                is_touch = $("body").hasClass("touch-enabled"),
                    $(".hs-tooltip").tooltip({
                        "container": "body"
                    }).on(
                        "show.bs.tooltip",
                        function() {
                            if (
                                is_touch
                            ) return $(this).trigger("click")
                        })
            }
            return Tooltips
        }()
    }.call(
        this),
    function() {
        Hs.Initializers.UserNoticeModal = function() {
            function UserNoticeModal() {
                var cookie_name;
                cookie_name = "hide_user_notice",
                    this.userNoticeEnabled && !Hs.Cookie.get(cookie_name) && (
                        "#notice" === window.location.hash && $("#user-notice").modal("show"),
                        $("#user-notice").on("hide.bs.modal", function() {
                            return Hs.Cookie.set(cookie_name, !0, 30)
                        }))
            }
            return UserNoticeModal.prototype.userNoticeEnabled = function() {
                    return !0
                },
                UserNoticeModal
        }()
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["calendar/booking_event_item"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<li data-event-id="' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.booking_id || (null != depth0 ? depth0.booking_id : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "booking_id",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '" data-state="booked"><div class="pull-right state"><span class="checkin label label-primary-inverted">' + (
                        null != (stack1 = container.lambda(null != (stack1 = null != depth0 ? depth0.states : depth0) ? stack1.checkin : stack1, depth0)) ? stack1 : ""
                    ) + '</span><span class="booked label label-primary-inverted">' + (
                        null != (stack1 = container.lambda(null != (stack1 = null != depth0 ? depth0.states : depth0) ? stack1.booked : stack1, depth0)) ? stack1 : ""
                    ) + '</span><span class="checkout label label-primary-inverted">' + (
                        null != (stack1 = container.lambda(null != (stack1 = null != depth0 ? depth0.states : depth0) ? stack1.checkout : stack1, depth0)) ? stack1 : ""
                    ) + '</span></div><p class="strong">' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.title || (null != depth0 ? depth0.title : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "title",
                        "hash": {},
                        "data": data
                    }) : helper) + '</p><p class="small text-gray dates">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.date_start || (null != depth0 ? depth0.date_start : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "date_start",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "&nbsp;-&nbsp;" + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.date_end || (null != depth0 ? depth0.date_end : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "date_end",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '</p><p class="small"><a href="' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.link || (null != depth0 ? depth0.link : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "link",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '">' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.booking_details || (null != depth0 ? depth0.booking_details : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "booking_details",
                        "hash": {},
                        "data": data
                    }) : helper) + "</a></p></li>"
                },
                "useData": !0
            }),
            this.Hs.Templates["calendar/booking_event_item"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["calendar/price_override_event_item"] = Handlebars.template({
                "1": function(container, depth0, helpers, partials, data) {
                    var helper
                    ;
                    return "<p>" + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.single_price || (null != depth0 ? depth0.single_price : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "single_price",
                        "hash": {},
                        "data": data
                    }) : helper) + "</p>"
                },
                "compiler": [
                    7, ">= 4.0.0"
                ],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<li data-event-id="price-override-' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.date || (null != depth0 ? depth0.date : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "date",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '" data-room-id="' + (
                        null != (stack1 = container.lambda(null != (stack1 = null != (stack1 = null != (stack1 = null != depth0 ? depth0.prices : depth0) ? stack1[0] : stack1) ? stack1.room : stack1) ? stack1.id : stack1, depth0)) ? stack1 : ""
                    ) + '" date="' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.date || (null != depth0 ? depth0.date : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "date",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '"><p class="strong">' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.title || (null != depth0 ? depth0.title : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "title",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + "</p><p>" + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.standard_price || (null != depth0 ? depth0.standard_price : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "standard_price",
                        "hash": {},
                        "data": data
                    }) : helper) + "</p>" + (
                        null != (stack1 = helpers["if"].call(null != depth0 ? depth0 : container.nullContext || {}, null != depth0 ? depth0.single_price : depth0, {
                            "name": "if",
                            "hash": {},
                            "fn": container.program(1, data, 0),
                            "inverse": container.noop,
                            "data": data
                        })) ? stack1 : ""
                    ) + "</li>"
                },
                "useData": !0
            }),
            this.Hs.Templates["calendar/price_override_event_item"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["homestays/homestay_popover"] = Handlebars.template({
                "1": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return null != (stack1 = "function" == typeof(helper = null != (helper = helpers.verification || (null != depth0 ? depth0.verification : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "verification",
                        "hash": {},
                        "data": data
                    }) : helper) ? stack1 : ""
                },
                "3": function(
                    container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="reviews">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.reviews || (null != depth0 ? depth0.reviews : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "reviews",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "</div>"
                },
                "5": function(
                    container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<p class="price_from">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.price || (null != depth0 ? depth0.price : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "price",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "</p>"
                },
                "compiler": [
                    7, ">= 4.0.0"
                ],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="col-xs-12"><div class="homestay-card">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.favourite_controls || (null != depth0 ? depth0.favourite_controls : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "favourite_controls",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '<a class="profile-link" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '" target="_blank"><div class="content"><div class="favourite-button-bed"></div><div class="profile_photo"><img src="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.profile_picture_url || (null != depth0 ? depth0.profile_picture_url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "profile_picture_url",
                        "hash": {},
                        "data": data
                    }) : helper) + '"></div>' + (
                        null != (stack1 = helpers["if"].call(null != depth0 ? depth0 : container.nullContext || {}, null != depth0 ? depth0.verification : depth0, {
                            "name": "if",
                            "hash": {},
                            "fn": container.program(1, data, 0),
                            "inverse": container.noop,
                            "data": data
                        })) ? stack1 : ""
                    ) + '<h4 class="title">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.title || (null != depth0 ? depth0.title : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "title",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + '</h4><p class="homestay">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.sub_title || (null != depth0 ? depth0.sub_title : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "sub_title",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "</p>" + (
                        null != (stack1 = helpers["if"].call(null != depth0 ? depth0 : container.nullContext || {}, null != depth0 ? depth0.reviews : depth0, {
                            "name": "if",
                            "hash": {},
                            "fn": container.program(3, data, 0),
                            "inverse": container.noop,
                            "data": data
                        })) ? stack1 : "") + (
                        null != (stack1 = helpers["if"].call(null != depth0 ? depth0 : container.nullContext || {}, null != depth0 ? depth0.price : depth0, {
                            "name": "if",
                            "hash": {},
                            "fn": container.program(5, data, 0),
                            "inverse": container.noop,
                            "data": data
                        })) ? stack1 : ""
                    ) + "</div></a></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["homestays/homestay_popover"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["homestays/marker"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="bubble-capsule"><div class="bubble"><span data-amount="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.data : depth0) ? stack1.amount : stack1, depth0)
                    ) + '" data-currency-code="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.data : depth0) ? stack1.currencyCode : stack1, depth0)
                    ) + '" data-format="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.data : depth0) ? stack1.format : stack1, depth0)
                    ) + '" data-price="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.data : depth0) ? stack1.price : stack1, depth0)) + '">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.display || (null != depth0 ? depth0.display : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "display",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "</span></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["homestays/marker"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/booked"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event new_booking"><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.new_booking.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.new_booking.booked_dates", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline main" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_booking", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/booked"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/call_declined"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event call_declined"><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.call_declined.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline extreme" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.booking_request_url || (null != depth0 ? depth0.booking_request_url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "booking_request_url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/call_declined"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/call_incoming"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1
                    ;
                    return '<div class="event call_incoming"><div class="icon video-call-icon pulsate_badge on"></div><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.call_incoming.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" id="accept-call">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.join_video_call", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary" id="ignore-call">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.ignore", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/call_incoming"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/call_incoming_mobile"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event call_incoming_mobile"><div class="icon video-call-icon pulsate_badge on"></div><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.call_incoming.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + "</p><p>" + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.call_incoming_mobile.paragraph1", {
                            "name": "I18n",
                            "hash": {
                                "sender_name": null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1
                            },
                            "data": data
                        })
                    ) + "</p><p>" + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.mobile", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.booking_request_url || (null != depth0 ? depth0.booking_request_url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "booking_request_url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "misc.labels.reply", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/call_incoming_mobile"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/call_missed"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event call_missed"><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.call_missed.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline extreme" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.booking_request_url || (null != depth0 ? depth0.booking_request_url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "booking_request_url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/call_missed"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/call_missed_mobile"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event call_missed"><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.call_missed.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + "</p><p>" + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.mobile", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline extreme" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.booking_request_url || (null != depth0 ? depth0.booking_request_url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "booking_request_url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/call_missed_mobile"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/container"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function() {
                    return '<ol id="site_notifications"></ol>'
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/container"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/details_changed"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event details_changed"><div class="icon instant-message-icon pulsate_badge on"></div><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.details_changed.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/details_changed"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/link_to_booking_request"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var helper
                    ;
                    return '<div id="bottom-notification"><div class="bubble-icon"></div><div class="dismiss-icon"></div><div class="body"><h5><a href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.booking_request_url || (null != depth0 ? depth0.booking_request_url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "booking_request_url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.link_to_booking_request.header", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "</a></h5><p>" + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.check_in || (null != depth0 ? depth0.check_in : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "check_in",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + " - " + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.check_out || (null != depth0 ? depth0.check_out : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "check_out",
                        "hash": {},
                        "data": data
                    }) : helper) + "</p></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/link_to_booking_request"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/new_message"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event new_message"><div class="icon instant-message-icon pulsate_badge on"></div><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.new_message.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><blockquote class="message_body">"' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.body_excerpt || (null != depth0 ? depth0.body_excerpt : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "body_excerpt",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '"</blockquote><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/new_message"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/new_request"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event new_request"><div class="icon instant-message-icon pulsate_badge on"></div><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.new_request.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/new_request"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/price_negotiated"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event price_negotiated"><div class="icon instant-message-icon pulsate_badge on"></div><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.price_negotiated.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '</p><p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/price_negotiated"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/request_accepted"] = Handlebars.template({
                "1": function(container, depth0) {
                    var stack1
                    ;
                    return '<blockquote class="message_body">"' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.message : depth0) ? stack1.body_excerpt : stack1, depth0)) + '"</blockquote>'
                },
                "compiler": [
                    7, ">= 4.0.0"
                ],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event request_accepted"><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.request_accepted.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)) + "</p>" + (
                        null != (stack1 = helpers["if"].call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.message : depth0) ? stack1.body_excerpt : stack1, {
                            "name": "if",
                            "hash": {},
                            "fn": container.program(1, data, 0),
                            "inverse": container.noop,
                            "data": data
                        })) ? stack1 : ""
                    ) + '<p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline secondary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/request_accepted"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/request_declined"] = Handlebars.template({
                "1": function(container, depth0) {
                    var stack1
                    ;
                    return '<blockquote class="message_body">"' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.message : depth0) ? stack1.body_excerpt : stack1, depth0)) + '"</blockquote>'
                },
                "compiler": [
                    7, ">= 4.0.0"
                ],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event request_declined"><div class="avatar"><img src="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.avatar : stack1, depth0)
                    ) + '" title="' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)
                    ) + '"></div><div class="content"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.request_declined.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">' + container.escapeExpression(container.lambda(null != (stack1 = null != depth0 ? depth0.from : depth0) ? stack1.first_name : stack1, depth0)) + "</p>" + (
                        null != (stack1 = helpers["if"].call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.message : depth0) ? stack1.body_excerpt : stack1, {
                            "name": "if",
                            "hash": {},
                            "fn": container.program(1, data, 0),
                            "inverse": container.noop,
                            "data": data
                        })) ? stack1 : ""
                    ) + '<p class="request_title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.your_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + "<br>" + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.arrival_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + " \u2013 " + container.escapeExpression((helpers.LocalizeDate || depth0 && depth0.LocalizeDate || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.booking_request : depth0) ? stack1.departure_date : stack1, {
                            "name": "LocalizeDate",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><div class="actions"><a class="button small inline tertiary" href="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.url || (null != depth0 ? depth0.url : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "url",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.view_request", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/request_declined"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/trip_suggestion"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="event homestay-notification trip-suggestion" data-id="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.id || (null != depth0 ? depth0.id : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "id",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '"><span class="flag flag-' + container.escapeExpression((helpers.toLowerCase || depth0 && depth0.toLowerCase || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, null != (stack1 = null != depth0 ? depth0.homestay_location : depth0) ? stack1.country_code : stack1, {
                        "name": "toLowerCase",
                        "hash": {},
                        "data": data
                    })) + '"></span><div class="content"><p class="title">' + (
                        null != (stack1 = (helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.trip_suggestion.title", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })) ? stack1 : ""
                    ) + '</p><p class="sender">' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.destination || (null != depth0 ? depth0.destination : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "destination",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '</p></div><div class="note spacer">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.trip_suggestion.paragraph1", {
                            "name": "I18n",
                            "hash": {
                                "destination": null != depth0 ? depth0.destination : depth0
                            },
                            "data": data
                        })
                    ) + '&nbsp;<span data-content="' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.trip_suggestion.tooltip", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '" data-html="true" data-toggle="popover"><i class="hs-tooltipicon icon-hs-help-tooltip"></i></span></div><div class="actions"><a class="button small wide secondary create-trip" href="/user/trips/new?trip_suggestion_id=' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.id || (null != depth0 ? depth0.id : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "id",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '" target="_blank">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.trip_suggestion.create_trip", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><p class="small text-right spacer-half"><a class="dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.dismiss", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></p></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/trip_suggestion"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/verification_identity_failed"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    return '<div class="event homestay-notification attention"><div class="content no-margin"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.notification_form", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">Homestay.com</p><div class="message_body">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.verifications.identity.failed.message_body", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</div><div class="actions"><a class="button small inline attention" href="/user/verifications">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.verifications.identity.action_link", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/verification_identity_failed"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["notifications/verification_identity_verified"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    return '<div class="event homestay-notification approved"><div class="content no-margin"><p class="title">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.notification_form", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</p><p class="sender">Homestay.com</p><div class="message_body">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.verifications.identity.verified.message_body", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</div><div class="actions"><a class="button small inline secondary" href="/user/verifications">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.verifications.identity.action_link", {
                            "name": "I18n",
                            "hash": {},
                            "data": data
                        })
                    ) + '</a><a class="button small inline tertiary dismiss-btn">' + container.escapeExpression((helpers.I18n || depth0 && depth0.I18n || helpers.helperMissing).call(null != depth0 ? depth0 : container.nullContext || {}, "site_notifications.common.close", {
                        "name": "I18n",
                        "hash": {},
                        "data": data
                    })) + "</a></div></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["notifications/verification_identity_verified"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["schools/marker"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="bubble-capsule"><div class="bubble"><span data-long-name="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.longName || (null != depth0 ? depth0.longName : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "longName",
                            "hash": {},
                            "data": data
                        }) : helper
                    ) + '" data-short-name="' + container.escapeExpression("function" == typeof(helper = null != (helper = helpers.shortName || (null != depth0 ? depth0.shortName : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                        "name": "shortName",
                        "hash": {},
                        "data": data
                    }) : helper) + '">' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.display || (null != depth0 ? depth0.display : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "display",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "</span></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["schools/marker"]
    }.call(
        this),
    function() {
        return this.Hs.Templates || (this.Hs.Templates = {}),
            this.Hs.Templates["users/location_marker"] = Handlebars.template({
                "compiler": [7, ">= 4.0.0"],
                "main": function(container, depth0, helpers, partials, data) {
                    var stack1, helper
                    ;
                    return '<div class="bubble-capsule"><div class="location-marker-bg"></div><div class="bubble"><span>' + (
                        null != (stack1 = "function" == typeof(helper = null != (helper = helpers.label || (null != depth0 ? depth0.label : depth0)) ? helper : helpers.helperMissing) ? helper.call(null != depth0 ? depth0 : container.nullContext || {}, {
                            "name": "label",
                            "hash": {},
                            "data": data
                        }) : helper) ? stack1 : ""
                    ) + "</span></div></div>"
                },
                "useData": !0
            }),
            this.Hs.Templates["users/location_marker"]
    }.call(
        this),
    function() {
        Hs.HelloWorldServiceWorker = function() {
            function HelloWorldServiceWorker() {}
            return HelloWorldServiceWorker.register = function() {
                    if (
                        navigator.serviceWorker && "https:" === window.location.protocol
                    ) return navigator.serviceWorker.register("/service-worker-hello-world.js", {
                        "scope": "/"
                    })
                },
                HelloWorldServiceWorker
        }()
    }.call(
        this),
    function() {
        $(function() {
            var location, name, ref;
            for (
                name in window.name = "window_" + Math.random(), Hs.ImageLazyload.initialize(), (location = document.location.hostname.split(".")).shift(), document.domain = location.join("."), Hs.preview_mode && Hs.CurrencyLocaliser.get().changeCurrency(Hs.host_currency), $.ajaxSetup({
                    "xhrFields": {
                        "withCredentials": !0
                    }
                }), null == Hs.disable_site_notifications && Hs.SiteNotifications.get(), Hs.Pubnub.get(), new Hs.EnvironmentSettings(Hs.default_locale, Hs.locale, Hs.current_currency), Hs.CurrencyLocaliser.get().updateCurrencies(), ref = Hs.Initializers
            ) new ref[name];
            if (
                $("#hero-carousel").carousel({
                    "interval": 7e3
                }).carousel(
                    "cycle"),
                $('p.read-more a[href="#description-section"]').click(function(e) {
                    return e.preventDefault(),
                        $('#tab-description, a[href="#description-section-collapse"]').click()
                }),
                new Hs.ReadMore("body.pages ul.steps"),
                $(".room-row").homestayRoomDescriptionToggler(),
                Hs.current_url_localised && $("div.localise").click(function(e) {
                    return e.preventDefault(),
                        window.location.href = Hs.current_url_localised, !1
                }),
                $("#content div.support-articles").homestayFaq(),
                $("form#sign_up").hostSignupFormValidation(),
                $("#blog-subscribe").signup(),
                $("#booking_message_email, #booking_details_email, #booking_request_message_email, #enquiry_message_email").emailSuggestion(),
                $("#become-a-host-bar").stickyBar("#why-become-a-host-family"),
                $("[data-rel=popover]").on("shown.bs.tooltip", function() {
                    if (
                        null != ("undefined" != typeof Hs && null !== Hs ? Hs.CurrencyLocaliser : void 0)
                    ) return Hs.CurrencyLocaliser.get().updateCurrencies($(".popover"))
                }),
                $(".expand-nights-breakdown-table").click(function() {
                    var $this, icon, table;
                    return $this = $(this), (
                            table = $("#nights-breakdown-table")
                        ).toggleClass("hide"),
                        icon = $this.find("i"),
                        table.is(":visible") ? (
                            $this.addClass("open"),
                            icon.removeClass("icon-caret-right").addClass("icon-caret-down")) : (
                            $this.removeClass("open"),
                            icon.removeClass("icon-caret-down").addClass("icon-caret-right")),
                        !1
                }),
                $("section.verified-by-partner").partnerPopup("#partner_popup_content"),
                $("form#new_booking input, form#new_booking select").change(function() {
                    return $(".update-booking").show("blind")
                }),
                $(".update-booking .btn-contact-host").click(function() {
                    var total_number_of_guests;
                    if (
                        total_number_of_guests = 0,
                        $(".booking_rooms_guests select").each(function() {
                            return total_number_of_guests += Number($(this).val())
                        }),
                        0 === total_number_of_guests
                    ) return !1
                }),
                $(".expand-rooms-breakdown-table").click(function() {
                    var $this, icon, table;
                    return $this = $(this), (
                            table = $("#rooms-breakdown-table")
                        ).toggleClass("hide"),
                        icon = $this.find("i"),
                        table.is(":visible") ? (
                            $this.addClass("open"),
                            icon.removeClass("icon-caret-right").addClass("icon-caret-down")) : (
                            $this.removeClass("open"),
                            icon.removeClass("icon-caret-down").addClass("icon-caret-right")),
                        !1
                }),
                $(".print a").click(function() {
                    return window.print(), !1
                }),
                $('a[href="#details-expanded"]').click(function() {
                    return $("#details-expanded").toggleClass("hide"), !1
                }),
                $("#search_does_not_accept_smokers").change(function() {
                    if (
                        $("#search_does_not_accept_smokers").is(":checked")
                    ) return $("#search_accept_smokers_indoor, #search_accept_smokers_outdoor").attr("checked", !1)
                }),
                $("#search_accept_smokers_indoor, #search_accept_smokers_outdoor").change(function() {
                    if (
                        $("#search_accept_smokers_indoor, #search_accept_smokers_outdoor").is(":checked")
                    ) return $("#search_does_not_accept_smokers").attr("checked", !1)
                }),
                $("section.messages .header").on("click", "a", function() {
                    return $("section.messages").toggleClass("closed"), !1
                }),
                jQuery.timeago.settings.lang = Hs.locale.toLowerCase(),
                $("time[data-time-ago]").timeago(),
                $("form[data-hook='booking-form']").bookingDetailsForm(),
                $("#thread").homestayMessages(),
                $(".booking_requests.show .accepted .box-container-booking-summary-pay").addClass("focus"),
                $("#mobile-toolbar a").mobileToolbar(),
                $(".inbox-filter").userFilter(),
                $(".users.inbox").userInbox(),
                $(".favourites.index").userFavourites(),
                $(".users.edit, .users.update").userProfile(),
                0 < $("body.pages.show").length && $("a[href='" + window.location.hash + "']").click(),
                $(".promotion-code-box").promotionCodeBox(),
                $(".video_sessions.show").videoSession(),
                Hs.UserTimezoneCookie(),
                new Hs.Widget,
                Hs.host_hidden && new Hs.HostPaused,
                new Hs.HostDeactivated,
                Hs.anchor && (
                    window.location.hash = "" + Hs.anchor),
                new Hs.NavSearchBar,
                Hs.HelloWorldServiceWorker.register(),
                "safari" === Hs.browser && (
                    window.onbeforeunload = function() {
                        $("button:disabled, input[type='submit']:disabled").removeAttr("disabled")
                    }),
                Hs.Ready.trigger(),
                "test" === Hs.environment
            ) return $(".fade").removeClass("fade")
        })
    }.call(
        this);